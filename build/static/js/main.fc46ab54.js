/*! For license information please see main.fc46ab54.js.LICENSE.txt */
(()=>{var e={1089(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>h});var a=r(5043),n=r(9153),s=r(4574),i=r(292),o=r(9340),l=r(4830),c=r(3677),d=r(5699),u=r(579);const m=[.5,.75,1,1.25,1.5,1.75,2],h=e=>{let{videoUrl:t,title:h,autoPlay:p=!1,contentId:g,onComplete:x}=e;const f=(0,a.useRef)(!1),[y,v]=(0,a.useState)(""),[b,w]=(0,a.useState)(!1),[j,k]=(0,a.useState)(!0),[N,C]=(0,a.useState)(!1),[A,S]=(0,a.useState)(!1),[E,D]=(0,a.useState)(!1),[P,T]=(0,a.useState)(.8),[_,R]=(0,a.useState)(()=>{const e=sessionStorage.getItem("videoPlaybackRate"),t=Number(e);return!isNaN(t)&&t>0?t:1}),[O,F]=(0,a.useState)(!1),[L,M]=(0,a.useState)(null),[I,B]=(0,a.useState)(0),[q,z]=(0,a.useState)(0),[U,V]=(0,a.useState)(!1),[Y,W]=(0,a.useState)(!1),H=(0,a.useRef)(null),G=(0,a.useRef)(null);(0,a.useEffect)(()=>{if(!t)return;const e=(e=>{if(!e)return"";try{const t=localStorage.getItem("token"),r=new URL(e,window.location.origin);return t&&!r.searchParams.has("token")&&r.searchParams.set("token",t),r.toString()}catch(t){return console.warn("[EmbeddedVideoPlayer] Invalid URL",{url:e,err:t}),e}})(t);v(e),k(!0),M(null)},[t]),(0,a.useEffect)(()=>{try{sessionStorage.setItem("videoPlaybackRate",String(_))}catch(e){}},[_]),(0,a.useEffect)(()=>{const e=()=>{W(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",e),()=>document.removeEventListener("fullscreenchange",e)},[]);const K=(0,a.useCallback)(()=>{w(!0),k(!1)},[]),Q=(0,a.useCallback)(()=>{S(!0),C(!1),k(!1)},[]),$=(0,a.useCallback)(()=>{S(!1),C(!1)},[]),X=(0,a.useCallback)(()=>{C(!0)},[]),J=(0,a.useCallback)(()=>{C(!1),k(!1)},[]),Z=(0,a.useCallback)(e=>{M("Failed to load video. Please try again."),S(!1),C(!1),k(!1)},[]),ee=(0,a.useCallback)(()=>{H.current&&(H.current.paused?H.current.play().catch(e=>Z(e)):H.current.pause())},[Z]),te=(0,a.useCallback)(e=>{const t=parseFloat(e.target.value);T(t),D(0===t),H.current&&(H.current.volume=t)},[]),re=(0,a.useCallback)(()=>{G.current&&(document.fullscreenElement?document.exitFullscreen():G.current.requestFullscreen())},[]),ae=(0,a.useCallback)(()=>{M(null),k(!0),C(!1),H.current&&(H.current.load(),p&&H.current.play().catch(()=>{}))},[p]),ne=(0,a.useCallback)(()=>{H.current&&!U&&B(H.current.currentTime)},[U]),se=(0,a.useCallback)(()=>{H.current&&z(H.current.duration)},[]),ie=(0,a.useCallback)(e=>{const t=parseFloat(e.target.value);B(t),H.current&&(H.current.currentTime=t)},[]),oe=(0,a.useCallback)(()=>{V(!0)},[]),le=(0,a.useCallback)(()=>{V(!1)},[]),ce=(0,a.useCallback)(async()=>{if(g&&!f.current&&H.current){f.current=!0;try{const n=localStorage.getItem("token"),s=(await r.e(821).then(r.bind(r,8821))).default,i=H.current.currentTime||q,o=q||H.current.duration,l=await s.post("/api/content/".concat(g,"/watched"),{watchedDuration:i,totalDuration:o},{headers:{Authorization:"Bearer ".concat(n)}}),c=await s.post("/api/content/".concat(g,"/complete"),{},{headers:{Authorization:"Bearer ".concat(n)}});try{var e,t;const{fireGamificationEvents:a}=await Promise.resolve().then(r.bind(r,9176)),{showGamificationToast:n}=await Promise.resolve().then(r.bind(r,4e3)),s=null===l||void 0===l||null===(e=l.data)||void 0===e?void 0:e.gamification,i=null===c||void 0===c||null===(t=c.data)||void 0===t?void 0:t.gamification,o=e=>e&&(e.pointsAwarded&&e.pointsAwarded>0||Array.isArray(e.awardedBadges)&&e.awardedBadges.length>0||!!e.assignedTitle||!!e.courseAward);let d=null;d=o(i)?i:o(s)?s:i||s||null,d?a(d):n("videoCompleted","\ud83c\udfac Video completed! Keep learning!")}catch(a){console.error("[EmbeddedVideoPlayer] Error firing gamification events:",a)}x&&x()}catch(L){console.error("Error marking video as complete:",L),f.current=!1}}},[g,x,q]),de=(0,a.useCallback)(e=>{if(isNaN(e)||e===1/0)return"0:00";const t=Math.floor(e/60),r=Math.floor(e%60);return"".concat(t,":").concat(r.toString().padStart(2,"0"))},[]);return(0,u.jsxs)("div",{ref:G,className:"bg-black rounded-lg overflow-hidden ".concat(Y?"fixed inset-0 z-50":""),children:[(0,u.jsxs)("div",{className:"relative aspect-video bg-black",children:[(0,u.jsx)("video",{ref:H,src:y,className:"w-full h-full object-contain",controls:!1,autoPlay:p,muted:E,playsInline:!0,onLoadedData:K,onLoadedMetadata:se,onPlay:Q,onPause:$,onWaiting:X,onPlaying:J,onError:Z,onTimeUpdate:ne,onSeeking:oe,onSeeked:le,onEnded:ce,onClick:ee}),(j||N)&&!L&&(0,u.jsx)("div",{className:"absolute inset-0 flex items-center justify-center z-30 pointer-events-none",children:(0,u.jsxs)("div",{className:"text-center",children:[(0,u.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-white mx-auto mb-3"}),(0,u.jsx)("p",{className:"text-white text-xs uppercase tracking-widest",children:j?"Loading\u2026":"Buffering\u2026"})]})}),!L&&b&&!j&&!N&&!A&&(0,u.jsx)("button",{type:"button",onClick:ee,className:"absolute inset-0 z-30 flex items-center justify-center bg-black/30 text-white transition focus:outline-none hover:bg-black/40","aria-label":"Play video",children:(0,u.jsx)("div",{className:"w-20 h-20 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center hover:bg-white/30 transition",children:(0,u.jsx)(l.A,{className:"w-10 h-10 ml-1"})})}),L&&(0,u.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/80 z-30",children:(0,u.jsxs)("div",{className:"text-center px-6",children:[(0,u.jsx)("p",{className:"text-white mb-4 text-sm md:text-base",children:L}),(0,u.jsx)("button",{onClick:ae,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition",children:"Retry"})]})}),(0,u.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/90 to-transparent p-3 z-20",children:[(0,u.jsx)("div",{className:"mb-2",children:(0,u.jsx)("input",{type:"range",min:0,max:q||0,step:.1,value:I,onChange:ie,className:"w-full h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-indigo-500",style:{background:"linear-gradient(to right, #6366f1 0%, #6366f1 ".concat(I/q*100,"%, #4b5563 ").concat(I/q*100,"%, #4b5563 100%)")}})}),(0,u.jsxs)("div",{className:"flex items-center justify-between text-white text-sm",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)("button",{onClick:ee,className:"p-1.5 hover:bg-white/20 rounded transition",title:A?"Pause":"Play",children:A?(0,u.jsx)(o.A,{className:"w-5 h-5"}):(0,u.jsx)(l.A,{className:"w-5 h-5"})}),(0,u.jsx)("button",{onClick:()=>D(!E),className:"p-1.5 hover:bg-white/20 rounded transition",title:E?"Unmute":"Mute",children:E?(0,u.jsx)(d.A,{className:"w-5 h-5"}):(0,u.jsx)(c.A,{className:"w-5 h-5"})}),(0,u.jsx)("input",{type:"range",min:0,max:1,step:.1,value:E?0:P,onChange:te,className:"w-20 h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-indigo-500"}),(0,u.jsxs)("span",{className:"text-xs",children:[de(I)," / ",de(q)]})]}),(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsxs)("div",{className:"relative",children:[(0,u.jsxs)("button",{onClick:()=>F(!O),className:"p-1.5 hover:bg-white/20 rounded transition flex items-center space-x-1",title:"Playback Speed",children:[(0,u.jsx)(n.A,{className:"w-4 h-4"}),(0,u.jsxs)("span",{className:"text-xs",children:[_,"\xd7"]})]}),O&&(0,u.jsx)("div",{className:"absolute bottom-full right-0 mb-2 bg-gray-800 rounded-lg shadow-lg overflow-hidden",children:m.map(e=>(0,u.jsxs)("button",{onClick:()=>{H.current&&(H.current.playbackRate=e),R(e),F(!1)},className:"block w-full px-4 py-2 text-left text-sm transition ".concat(_===e?"bg-indigo-600 text-white":"text-gray-300 hover:bg-gray-700"),children:[e,"\xd7"]},e))})]}),(0,u.jsx)("button",{onClick:re,className:"p-1.5 hover:bg-white/20 rounded transition",title:Y?"Exit Fullscreen":"Fullscreen",children:Y?(0,u.jsx)(i.A,{className:"w-5 h-5"}):(0,u.jsx)(s.A,{className:"w-5 h-5"})})]})]})]})]}),h&&!Y&&(0,u.jsx)("div",{className:"bg-gray-900 p-4",children:(0,u.jsx)("h3",{className:"text-white font-semibold",children:h})})]})}},4192(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>p});var a=r(5043),n=r(9153),s=r(4574),i=r(292),o=r(9340),l=r(4830),c=r(8707),d=r(1199),u=r(3677),m=r(5699),h=r(579);const p=e=>{let{secureUrl:t,title:p,autoPlay:g=!1,contentId:x,onComplete:f}=e;const y=(0,a.useRef)(null),v=(0,a.useRef)(null),[b,w]=(0,a.useState)(!1),[j,k]=(0,a.useState)(!1),[N,C]=(0,a.useState)(80),[A,S]=(0,a.useState)(0),[E,D]=(0,a.useState)(0),[P,T]=(0,a.useState)(1),[_,R]=(0,a.useState)(!1),[O,F]=(0,a.useState)(!1),[L,M]=(0,a.useState)(!1),[I,B]=(0,a.useState)(!1),q=(0,a.useRef)(!1),z=(0,a.useMemo)(()=>{if(!t)return window.location.origin;try{return new URL(t,window.location.origin).origin}catch(e){return window.location.origin}},[t]),U=(0,a.useCallback)(e=>{try{v.current&&v.current.contentWindow&&v.current.contentWindow.postMessage(e,z)}catch(t){}},[z]);(0,a.useEffect)(()=>{const e=e=>{if(e.origin!==z)return;const t=e.data||{};switch(t.type){case"videoReady":B(!0),"number"===typeof t.duration&&D(t.duration),g&&U({type:"play"});break;case"timeUpdate":"number"===typeof t.currentTime&&S(t.currentTime),"number"===typeof t.duration&&D(t.duration);break;case"stateChange":"playing"===t.state?(w(!0),M(!1)):"paused"===t.state?(w(!1),M(!1)):"buffering"===t.state?M(!0):"ended"===t.state&&w(!1);break;case"videoEnded":q.current||(q.current=!0,V())}};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},[g,z]);const V=(0,a.useCallback)(async()=>{if(x)try{const n=localStorage.getItem("token"),s=(await r.e(821).then(r.bind(r,8821))).default,i=await s.post("/api/content/".concat(x,"/watched"),{watchedDuration:E,totalDuration:E},{headers:{Authorization:"Bearer ".concat(n)}}),o=await s.post("/api/content/".concat(x,"/complete"),{},{headers:{Authorization:"Bearer ".concat(n)}});try{var e,t;const{fireGamificationEvents:a}=await Promise.resolve().then(r.bind(r,9176)),{showGamificationToast:n}=await Promise.resolve().then(r.bind(r,4e3)),s=null===i||void 0===i||null===(e=i.data)||void 0===e?void 0:e.gamification,l=null===o||void 0===o||null===(t=o.data)||void 0===t?void 0:t.gamification,c=e=>e&&(e.pointsAwarded&&e.pointsAwarded>0||Array.isArray(e.awardedBadges)&&e.awardedBadges.length>0||!!e.assignedTitle||!!e.courseAward);let d=null;d=c(l)?l:c(s)?s:l||s||null,d?a(d):n("videoCompleted","\ud83c\udfac Video completed! Keep learning!")}catch(a){console.error("[SecureYouTubePlayer] Error firing gamification events:",a)}f&&f()}catch(n){console.error("[SecureYouTubePlayer] Error marking video as complete:",n),q.current=!1}else f&&f()},[x,E,f]),Y=(0,a.useCallback)(()=>{I&&U({type:b?"pause":"play"})},[I,b,U]),W=(0,a.useCallback)(()=>{I&&(j?(U({type:"unmute"}),k(!1)):(U({type:"mute"}),k(!0)))},[I,j,U]),H=(0,a.useCallback)(e=>{if(!I)return;const t=parseFloat(e.target.value);C(t),k(0===t),U({type:"setVolume",volume:t})},[I,U]),G=(0,a.useCallback)(e=>{if(!I)return;const t=parseFloat(e.target.value);S(t),U({type:"seek",time:t})},[I,U]),K=(0,a.useCallback)(()=>{if(!I)return;const e=Math.min(A+10,E);S(e),U({type:"seek",time:e})},[I,A,E,U]),Q=(0,a.useCallback)(()=>{if(!I)return;const e=Math.max(A-10,0);S(e),U({type:"seek",time:e})},[I,A,U]),$=(0,a.useCallback)(e=>{I&&(T(e),R(!1),U({type:"setPlaybackRate",rate:e}))},[I,U]),X=(0,a.useCallback)(()=>{y.current&&(document.fullscreenElement?document.exitFullscreen().catch(()=>{}):y.current.requestFullscreen().catch(()=>{}))},[]);(0,a.useEffect)(()=>{const e=()=>{F(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",e),()=>document.removeEventListener("fullscreenchange",e)},[]);const J=e=>{if(isNaN(e)||e===1/0)return"0:00";const t=Math.floor(e/60),r=Math.floor(e%60);return"".concat(t,":").concat(r.toString().padStart(2,"0"))},Z=E?A/E*100:0;return(0,h.jsxs)("div",{ref:y,className:"bg-black rounded-lg overflow-hidden ".concat(O?"fixed inset-0 z-50":""),onContextMenu:e=>e.preventDefault(),children:[(0,h.jsxs)("div",{className:"relative aspect-video bg-black",children:[(0,h.jsx)("iframe",{ref:v,src:t,className:"w-full h-full",title:p||"Secure Video",sandbox:"allow-scripts allow-same-origin allow-forms",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"}),L&&(0,h.jsx)("div",{className:"absolute inset-0 flex items-center justify-center z-30 pointer-events-none bg-black/50",children:(0,h.jsxs)("div",{className:"text-center",children:[(0,h.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-white mx-auto mb-3"}),(0,h.jsx)("p",{className:"text-white text-xs uppercase tracking-widest",children:"Buffering\u2026"})]})}),!b&&I&&!L&&(0,h.jsx)("button",{type:"button",onClick:Y,className:"absolute inset-0 z-30 flex items-center justify-center bg-black/30 text-white transition focus:outline-none hover:bg-black/40","aria-label":"Play video",children:(0,h.jsx)("div",{className:"w-20 h-20 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center hover:bg-white/30 transition",children:(0,h.jsx)(l.A,{className:"w-10 h-10 ml-1"})})}),(0,h.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/90 via-black/70 to-transparent p-3 z-40",children:[(0,h.jsx)("div",{className:"mb-2",children:(0,h.jsx)("input",{type:"range",min:0,max:E||0,step:.1,value:A,onChange:G,className:"w-full h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-purple-500",style:{background:"linear-gradient(to right, #a855f7 0%, #a855f7 ".concat(Z,"%, #4b5563 ").concat(Z,"%, #4b5563 100%)")}})}),(0,h.jsxs)("div",{className:"flex items-center justify-between text-white text-sm",children:[(0,h.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,h.jsx)("button",{onClick:Y,className:"p-1.5 hover:bg-white/20 rounded transition",title:b?"Pause":"Play",disabled:!I,children:b?(0,h.jsx)(o.A,{className:"w-5 h-5"}):(0,h.jsx)(l.A,{className:"w-5 h-5"})}),(0,h.jsx)("button",{onClick:Q,className:"p-1.5 hover:bg-white/20 rounded transition",title:"Skip back 10s",disabled:!I,children:(0,h.jsx)(c.A,{className:"w-4 h-4"})}),(0,h.jsx)("button",{onClick:K,className:"p-1.5 hover:bg-white/20 rounded transition",title:"Skip forward 10s",disabled:!I,children:(0,h.jsx)(d.A,{className:"w-4 h-4"})}),(0,h.jsx)("button",{onClick:W,className:"p-1.5 hover:bg-white/20 rounded transition",title:j?"Unmute":"Mute",disabled:!I,children:j?(0,h.jsx)(m.A,{className:"w-5 h-5"}):(0,h.jsx)(u.A,{className:"w-5 h-5"})}),(0,h.jsx)("input",{type:"range",min:0,max:100,step:1,value:j?0:N,onChange:H,className:"w-20 h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-purple-500",disabled:!I}),(0,h.jsxs)("span",{className:"text-xs",children:[J(A)," / ",J(E)]})]}),(0,h.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,h.jsxs)("div",{className:"relative",children:[(0,h.jsxs)("button",{onClick:()=>R(!_),className:"p-1.5 hover:bg-white/20 rounded transition flex items-center space-x-1",title:"Playback Speed",disabled:!I,children:[(0,h.jsx)(n.A,{className:"w-4 h-4"}),(0,h.jsxs)("span",{className:"text-xs",children:[P,"\xd7"]})]}),_&&(0,h.jsx)("div",{className:"absolute bottom-full right-0 mb-2 bg-gray-800 rounded-lg shadow-lg overflow-hidden",children:[.25,.5,.75,1,1.25,1.5,1.75,2].map(e=>(0,h.jsxs)("button",{onClick:()=>$(e),className:"block w-full px-4 py-2 text-left text-sm transition ".concat(P===e?"bg-purple-600 text-white":"text-gray-300 hover:bg-gray-700"),children:[e,"\xd7"]},e))})]}),(0,h.jsx)("button",{onClick:X,className:"p-1.5 hover:bg-white/20 rounded transition",title:O?"Exit Fullscreen":"Fullscreen",children:O?(0,h.jsx)(i.A,{className:"w-5 h-5"}):(0,h.jsx)(s.A,{className:"w-5 h-5"})})]})]})]}),(0,h.jsx)("div",{className:"absolute top-4 left-4 z-20",children:(0,h.jsx)("div",{className:"bg-black/50 backdrop-blur-sm px-3 py-1 rounded-full text-white text-xs font-medium",children:"EduFlow Secure"})})]}),p&&!O&&(0,h.jsx)("div",{className:"bg-gray-900 p-4",children:(0,h.jsx)("h3",{className:"text-white font-semibold",children:p})})]})}},4e3(e,t,r){"use strict";r.d(t,{Ay:()=>h,showGamificationToast:()=>m});var a=r(9379),n=r(5043),s=r(6938),i=r(3342),o=r(614),l=r(687),c=r(1376),d=r(579);const u=e=>{let{type:t="welcome",subtype:r="",message:a="",streak:u=0,userName:m="",courseName:h="",visible:p=!1,onClose:g=()=>{},duration:x=3e3,position:f="top-right",className:y=""}=e;const{i18n:v}=(0,l.useTranslation)(),[b,w]=(0,n.useState)(p),j="ar"===v.language||"he"===v.language||"fa"===v.language;(0,n.useEffect)(()=>{if(w(p),p&&x>0){const e=setTimeout(()=>{k()},x);return()=>clearTimeout(e)}},[p,x]);const k=()=>{w(!1),setTimeout(()=>{g()},300)},N=()=>{switch(r){case"pointsAwarded":return(0,d.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-yellow-400 to-yellow-600 rounded-full flex items-center justify-center animate-pulse",children:(0,d.jsx)("span",{className:"text-white text-lg font-bold",children:"\u26a1"})});case"badgeUnlocked":return(0,d.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-purple-700 rounded-full flex items-center justify-center animate-bounce",children:(0,d.jsx)("span",{className:"text-white text-lg",children:"\ud83c\udfc5"})});case"titleUp":return(0,d.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-indigo-500 to-indigo-700 rounded-full flex items-center justify-center animate-pulse",children:(0,d.jsx)("span",{className:"text-white text-lg",children:"\ud83d\udc51"})});case"videoCompleted":return(0,d.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center",children:(0,d.jsx)("span",{className:"text-white text-lg",children:"\ud83d\udcfa"})});case"lessonCompleted":return(0,d.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-center",children:(0,d.jsx)("span",{className:"text-white text-lg",children:"\ud83d\udcda"})});case"assignmentSubmitted":return(0,d.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-orange-500 to-orange-600 rounded-full flex items-center justify-center",children:(0,d.jsx)("span",{className:"text-white text-lg",children:"\ud83d\udcdd"})});case"projectSubmitted":return(0,d.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-cyan-500 to-cyan-600 rounded-full flex items-center justify-center",children:(0,d.jsx)("span",{className:"text-white text-lg",children:"\ud83d\ude80"})});case"testCompleted":return(0,d.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-red-500 to-red-600 rounded-full flex items-center justify-center",children:(0,d.jsx)("span",{className:"text-white text-lg",children:"\ud83e\uddea"})});default:return(0,d.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-gray-500 to-gray-600 rounded-full flex items-center justify-center",children:(0,d.jsx)("span",{className:"text-white text-lg",children:"\ud83c\udf89"})})}};return(0,d.jsx)(s.N,{children:b&&(0,d.jsx)(i.P.div,{className:"fixed z-[9999] ".concat("top-left"===f?"top-4 left-4":"top-4 right-4"," ").concat(y),variants:(()=>{const e="top-left"===f;return{initial:{opacity:0,y:-50,x:e?-50:50,scale:.8},animate:{opacity:1,y:0,x:0,scale:1,transition:{type:"spring",stiffness:300,damping:20,duration:.4}},exit:{opacity:0,y:-30,x:e?-30:30,scale:.9,transition:{duration:.3}}}})(),initial:"initial",animate:"animate",exit:"exit",children:(0,d.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-600 p-4 max-w-xs w-full backdrop-blur-sm bg-white/95 dark:bg-gray-800/95 ring-1 ring-black/5 dark:ring-white/10 ".concat(j?"text-right":"text-left"),dir:j?"rtl":"ltr",children:[(0,d.jsx)("button",{onClick:k,className:"absolute top-2 right-2 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-150","aria-label":"Close notification",children:(0,d.jsx)(o.A,{className:"w-4 h-4 text-gray-400 dark:text-gray-500"})}),(0,d.jsx)("div",{className:"pr-6",children:"streak"===t?(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)("div",{className:"flex-shrink-0",children:(0,d.jsx)(c.A,{className:"w-10 h-10",animated:!0,glowing:u>=7})}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("span",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:u}),(0,d.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:1===u?"day":"days"})]}),(0,d.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-200 font-medium truncate",children:a||"".concat(u,"-day streak!")})]})]}):"gamification"===t?(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)("div",{className:"flex-shrink-0",children:N()}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-200 font-medium",children:a}),(m||h)&&(0,d.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:m&&h?"".concat(m," \u2022 ").concat(h):m||h})]})]}):(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)("div",{className:"flex-shrink-0",children:(0,d.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:(0,d.jsx)("span",{className:"text-white text-lg",children:"\ud83d\udc4b"})})}),(0,d.jsx)("div",{className:"flex-1 min-w-0",children:(0,d.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-200 font-medium",children:a||"Let's continue learning!"})})]})}),x>0&&(0,d.jsx)(i.P.div,{className:"absolute bottom-0 left-0 h-1 bg-gradient-to-r from-blue-500 to-purple-500 rounded-b-lg",initial:{width:"100%"},animate:{width:"0%"},transition:{duration:x/1e3,ease:"linear"}})]})})})};const m=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};window.dispatchEvent(new CustomEvent("show-gamification-toast",{detail:(0,a.A)({eventType:e,message:t},r)}))},h=()=>{const[e,t]=(0,n.useState)([]);(0,n.useEffect)(()=>{const e=e=>{const{type:t,message:r,streak:n,duration:s,position:i}=e.detail;a({type:t,message:r,streak:n,duration:s,position:i})},t=e=>{const{eventType:t,message:n,userName:s,courseName:i}=e.detail;if("courseCompleted"===t)return void console.log("\ud83d\udeab TOAST: Skipping course completion - will be handled by modal");const o="recent_gamification_".concat(t),l=sessionStorage.getItem(o),c=Date.now();l&&c-parseInt(l)<5e3?console.log("\ud83d\udeab TOAST: Skipping duplicate gamification toast",t):(sessionStorage.setItem(o,c.toString()),a({type:"gamification",subtype:t,message:n,userName:s,courseName:i,duration:4e3,position:r()}),setTimeout(()=>{sessionStorage.removeItem(o)},1e4))},n=e=>{var t;const n="recent_welcome_toast",s=sessionStorage.getItem(n),i=Date.now();s&&i-parseInt(s)<1e4?console.log("\ud83d\udeab TOAST: Skipping duplicate welcome toast"):(sessionStorage.setItem(n,i.toString()),a({type:"welcome",message:(null===(t=e.detail)||void 0===t?void 0:t.message)||"Let's continue learning! \ud83c\udf93",duration:3e3,position:r()}),setTimeout(()=>{sessionStorage.removeItem(n)},15e3))},s=e=>{const{streakDays:t,streakMessage:n,isStreakUpdate:s}=e.detail,i="recent_streak_toast_".concat(t),o=sessionStorage.getItem(i),l=Date.now();o&&l-parseInt(o)<3e4?console.log("\ud83d\udeab TOAST: Skipping duplicate streak toast"):(s||1===t)&&(sessionStorage.setItem(i,l.toString()),a({type:"streak",message:n,streak:t,duration:4e3,position:r()}),setTimeout(()=>{sessionStorage.removeItem(i)},6e4))};return window.addEventListener("show-toast",e),window.addEventListener("show-welcome-toast",n),window.addEventListener("show-streak-toast",s),window.addEventListener("show-gamification-toast",t),()=>{window.removeEventListener("show-toast",e),window.removeEventListener("show-welcome-toast",n),window.removeEventListener("show-streak-toast",s),window.removeEventListener("show-gamification-toast",t)}},[]);const r=()=>"rtl"===document.documentElement.dir||"ar"===document.documentElement.lang||"he"===document.documentElement.lang||document.body.classList.contains("rtl")?"top-left":"top-right",a=(0,n.useCallback)(e=>{let{type:a,message:n,streak:s,duration:i=3e3,position:o,subtype:l,userName:c,courseName:d}=e;const u={id:Date.now()+Math.random(),type:a,subtype:l,message:n,streak:s,userName:c,courseName:d,duration:i,position:o||r(),visible:!0};t(e=>[...e.filter(e=>e.type!==a),u])},[]),s=(0,n.useCallback)(e=>{t(t=>t.filter(t=>t.id!==e))},[]);return(0,d.jsx)("div",{className:"toast-manager",children:e.map((e,t)=>(0,d.jsx)(u,{type:e.type,subtype:e.subtype,message:e.message,streak:e.streak,userName:e.userName,courseName:e.courseName,visible:e.visible,duration:e.duration,position:e.position,onClose:()=>s(e.id),className:t>0?"mt-".concat(20*t):""},e.id))})}},1376(e,t,r){"use strict";r.d(t,{A:()=>n});r(5043);var a=r(579);const n=e=>{let{className:t="w-6 h-6",animated:r=!1,glowing:n=!1}=e;return(0,a.jsxs)("div",{className:"relative ".concat(t),children:[(0,a.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full ".concat(r?"animate-pulse":""," ").concat(n?"drop-shadow-lg":""),children:[(0,a.jsxs)("defs",{children:[(0,a.jsxs)("linearGradient",{id:"flame-gradient",x1:"0%",y1:"100%",x2:"0%",y2:"0%",children:[(0,a.jsx)("stop",{offset:"0%",stopColor:"#FF6B35"}),(0,a.jsx)("stop",{offset:"30%",stopColor:"#FF8E53"}),(0,a.jsx)("stop",{offset:"60%",stopColor:"#FFB366"}),(0,a.jsx)("stop",{offset:"100%",stopColor:"#FFD93D"})]}),(0,a.jsxs)("linearGradient",{id:"inner-flame",x1:"0%",y1:"100%",x2:"0%",y2:"0%",children:[(0,a.jsx)("stop",{offset:"0%",stopColor:"#FF8E53"}),(0,a.jsx)("stop",{offset:"50%",stopColor:"#FFB366"}),(0,a.jsx)("stop",{offset:"100%",stopColor:"#FFE066"})]}),n&&(0,a.jsxs)("filter",{id:"glow",children:[(0,a.jsx)("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),(0,a.jsxs)("feMerge",{children:[(0,a.jsx)("feMergeNode",{in:"coloredBlur"}),(0,a.jsx)("feMergeNode",{in:"SourceGraphic"})]})]})]}),(0,a.jsx)("path",{d:"M12 2C10 4 8 6 8 10C8 14 10 16 12 16C12 14 13 12 15 10C17 12 18 14 18 16C18 19 15.5 22 12 22C7.5 22 4 18.5 4 14C4 8 8 4 12 2Z",fill:"url(#flame-gradient)",className:"".concat(r?"animate-bounce":""),style:{filter:n?"url(#glow)":"none",animationDuration:r?"2s":"none",animationIterationCount:r?"infinite":"none"}}),(0,a.jsx)("path",{d:"M12 6C11 7 10 8 10 11C10 13 11 14 12 14C12 13 12.5 12 14 11C15 12 15.5 13 15.5 14C15.5 16 14 18 12 18C9.5 18 7.5 16 7.5 13C7.5 9 10 7 12 6Z",fill:"url(#inner-flame)",opacity:"0.8"}),(0,a.jsx)("ellipse",{cx:"12",cy:"12",rx:"1",ry:"1.5",fill:"#FFE066",opacity:"0.9"}),(0,a.jsx)("ellipse",{cx:"11.5",cy:"9",rx:"0.5",ry:"1",fill:"#FFFF66",opacity:"0.7"})]}),r&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"absolute -top-1 -right-1 w-1 h-1 bg-yellow-400 rounded-full animate-ping",style:{animationDelay:"0.5s"}}),(0,a.jsx)("div",{className:"absolute top-1 -left-1 w-0.5 h-0.5 bg-orange-400 rounded-full animate-ping",style:{animationDelay:"1s"}}),(0,a.jsx)("div",{className:"absolute -bottom-1 right-0 w-0.5 h-0.5 bg-red-400 rounded-full animate-ping",style:{animationDelay:"1.5s"}})]})]})}},9176(e,t,r){"use strict";r.d(t,{fireGamificationEvents:()=>a});const a=e=>{var t,r;if(console.log("\ud83d\ude80 fireGamificationEvents: Called with data",e),!e)return void console.log("\ud83d\udeab fireGamificationEvents: No data provided");const a=JSON.parse(sessionStorage.getItem("recentGamificationEvents")||"{}"),n=Date.now(),s=e=>{const t="".concat(e.eventType,":").concat(e.message),r=a[t]||0;let s=!1,i=null;if("pointsAwarded"!==e.eventType&&(i="activity_shown_".concat(t),s=!!sessionStorage.getItem(i)),console.log("\ud83c\udfae fireGamificationEvents: Attempting to fire TOAST event",{eventType:e.eventType,message:e.message,key:t,timeSinceLastSame:n-r,alreadyShownInSession:s,willFire:n-r>5e3&&!s}),n-r>5e3&&!s){console.log("\u2705 fireGamificationEvents: Dispatching TOAST event",e),window.dispatchEvent(new CustomEvent("show-gamification-toast",{detail:e})),a[t]=n,i&&(sessionStorage.setItem(i,"true"),setTimeout(()=>{sessionStorage.removeItem(i),console.log("\ud83c\udfae fireGamificationEvents: Cleared session flag",i)},12e4)),Object.keys(a).forEach(e=>{n-a[e]>6e4&&delete a[e]});try{sessionStorage.setItem("recentGamificationEvents",JSON.stringify(a))}catch(o){sessionStorage.removeItem("recentGamificationEvents")}}else console.log("\ud83d\udeab fireGamificationEvents: BLOCKED duplicate TOAST event",t,{timeSinceLastSame:n-r,alreadyShownInSession:s})},i=e;if(console.log("\ud83c\udfae fireGamificationEvents: Processing gamification data structure:",{hasPointsAwarded:!!i.pointsAwarded,hasAwardedBadges:Array.isArray(i.awardedBadges),hasAssignedTitle:!(null===(t=i.assignedTitle)||void 0===t||!t.name),hasCourseAward:!!i.courseAward,hasStreakMessage:!!i.streakMessage,rawData:i}),i.pointsAwarded&&i.pointsAwarded>0&&(console.log("\ud83c\udfae fireGamificationEvents: Firing points awarded TOAST event"),s({eventType:"pointsAwarded",message:"+".concat(i.pointsAwarded," points earned!")})),Array.isArray(i.awardedBadges)&&i.awardedBadges.length>0&&(console.log("\ud83c\udfae fireGamificationEvents: Firing badge TOAST events:",i.awardedBadges.length),i.awardedBadges.forEach(e=>{s({eventType:"badgeUnlocked",message:"".concat(e.icon||"\ud83c\udfc5"," ").concat(e.title," unlocked! (+").concat(e.pointsReward||0," points)")})})),null!==(r=i.assignedTitle)&&void 0!==r&&r.name&&(console.log("\ud83c\udfae fireGamificationEvents: Firing title TOAST event:",i.assignedTitle.name),s({eventType:"titleUp",message:"".concat(i.assignedTitle.icon||"\ud83d\udc51"," New title: ").concat(i.assignedTitle.name)})),i.courseAward){var o;const e=Number(i.courseAward.pointsAwarded||0),t=Array.isArray(i.courseAward.awardedBadges)?i.courseAward.awardedBadges:[],r=(null===(o=i.courseAward.assignedTitle)||void 0===o?void 0:o.name)||null,s=[];e>0&&s.push("+".concat(e," bonus points earned!")),t.length>0&&s.push("Unlocked ".concat(t.length," badge").concat(1===t.length?"":"s","!")),r&&s.push("New title: ".concat(r));const l=s.length?" ".concat(s.join(" ")):"",c="Course completed!".concat(l);console.log("\ud83c\udfae fireGamificationEvents: Firing course completion MODAL event"),(e=>{const t="courseCompleted"===e.eventType?"courseCompleted":"".concat(e.eventType,":").concat(e.message),r=a[t]||0;if(console.log("\ud83c\udfae fireGamificationEvents: Attempting to fire MODAL event",{eventType:e.eventType,message:e.message,key:t,timeSinceLastSame:n-r,willFire:n-r>1e4}),n-r>1e4){console.log("\u2705 fireGamificationEvents: Dispatching MODAL event",e),window.dispatchEvent(new CustomEvent("gamification:notify",{detail:e})),a[t]=n,Object.keys(a).forEach(e=>{n-a[e]>6e4&&delete a[e]});try{sessionStorage.setItem("recentGamificationEvents",JSON.stringify(a))}catch(s){sessionStorage.removeItem("recentGamificationEvents")}}else console.log("\ud83d\udeab fireGamificationEvents: BLOCKED duplicate MODAL event",t)})({eventType:"courseCompleted",message:c})}i.streakMessage&&(console.log("\ud83c\udfae fireGamificationEvents: Firing streak TOAST event"),s({eventType:"streak",message:i.streakMessage})),console.log("\ud83c\udfae fireGamificationEvents: Finished processing all events")},n=()=>{console.log("\ud83e\uddf9 Clearing all gamification animation flags...");const e=[];for(let t=0;t<sessionStorage.length;t++){const r=sessionStorage.key(t);r&&(r.startsWith("login_streak_")||r.startsWith("streak_")||r.startsWith("activity_shown_")||r.startsWith("recentGamificationEvents"))&&e.push(r)}return e.forEach(e=>{sessionStorage.removeItem(e),console.log("\ud83e\uddf9 Removed:",e)}),console.log("\ud83e\uddf9 Cleared ".concat(e.length," gamification flags")),e.length};"undefined"!==typeof window&&(window.clearGamificationFlags=n)},7115(e){e.exports=function(e){function t(a){if(r[a])return r[a].exports;var n=r[a]={exports:{},id:a,loaded:!1};return e[a].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p="dist/",t(0)}([function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},s=(a(r(1)),r(6)),i=a(s),o=a(r(7)),l=a(r(8)),c=a(r(9)),d=a(r(10)),u=a(r(11)),m=a(r(14)),h=[],p=!1,g={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},x=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(p=!0),p)return h=(0,u.default)(h,g),(0,d.default)(h,g.once),h},f=function(){h=(0,m.default)(),x()},y=function(){h.forEach(function(e,t){e.node.removeAttribute("data-aos"),e.node.removeAttribute("data-aos-easing"),e.node.removeAttribute("data-aos-duration"),e.node.removeAttribute("data-aos-delay")})},v=function(e){return!0===e||"mobile"===e&&c.default.mobile()||"phone"===e&&c.default.phone()||"tablet"===e&&c.default.tablet()||"function"==typeof e&&!0===e()},b=function(e){g=n(g,e),h=(0,m.default)();var t=document.all&&!window.atob;return v(g.disable)||t?y():(g.disableMutationObserver||l.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),g.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",g.easing),document.querySelector("body").setAttribute("data-aos-duration",g.duration),document.querySelector("body").setAttribute("data-aos-delay",g.delay),"DOMContentLoaded"===g.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?x(!0):"load"===g.startEvent?window.addEventListener(g.startEvent,function(){x(!0)}):document.addEventListener(g.startEvent,function(){x(!0)}),window.addEventListener("resize",(0,o.default)(x,g.debounceDelay,!0)),window.addEventListener("orientationchange",(0,o.default)(x,g.debounceDelay,!0)),window.addEventListener("scroll",(0,i.default)(function(){(0,d.default)(h,g.once)},g.throttleDelay)),g.disableMutationObserver||l.default.ready("[data-aos]",f),h)};e.exports={init:b,refresh:x,refreshHard:f}},function(e,t){},,,,,function(e,t){(function(t){"use strict";function r(e,t,r){function a(t){var r=g,a=x;return g=x=void 0,N=t,y=e.apply(a,r)}function s(e){return N=e,v=setTimeout(d,t),C?a(e):y}function i(e){var r=t-(e-b);return A?j(r,f-(e-N)):r}function l(e){var r=e-b;return void 0===b||r>=t||r<0||A&&e-N>=f}function d(){var e=k();return l(e)?u(e):void(v=setTimeout(d,i(e)))}function u(e){return v=void 0,S&&g?a(e):(g=x=void 0,y)}function m(){void 0!==v&&clearTimeout(v),N=0,g=b=x=v=void 0}function h(){return void 0===v?y:u(k())}function p(){var e=k(),r=l(e);if(g=arguments,x=this,b=e,r){if(void 0===v)return s(b);if(A)return v=setTimeout(d,t),a(b)}return void 0===v&&(v=setTimeout(d,t)),y}var g,x,f,y,v,b,N=0,C=!1,A=!1,S=!0;if("function"!=typeof e)throw new TypeError(c);return t=o(t)||0,n(r)&&(C=!!r.leading,f=(A="maxWait"in r)?w(o(r.maxWait)||0,t):f,S="trailing"in r?!!r.trailing:S),p.cancel=m,p.flush=h,p}function a(e,t,a){var s=!0,i=!0;if("function"!=typeof e)throw new TypeError(c);return n(a)&&(s="leading"in a?!!a.leading:s,i="trailing"in a?!!a.trailing:i),r(e,t,{leading:s,maxWait:t,trailing:i})}function n(e){var t="undefined"==typeof e?"undefined":l(e);return!!e&&("object"==t||"function"==t)}function s(e){return!!e&&"object"==("undefined"==typeof e?"undefined":l(e))}function i(e){return"symbol"==("undefined"==typeof e?"undefined":l(e))||s(e)&&b.call(e)==u}function o(e){if("number"==typeof e)return e;if(i(e))return d;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(m,"");var r=p.test(e);return r||g.test(e)?x(e.slice(2),r?2:8):h.test(e)?d:+e}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c="Expected a function",d=NaN,u="[object Symbol]",m=/^\s+|\s+$/g,h=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,g=/^0o[0-7]+$/i,x=parseInt,f="object"==("undefined"==typeof t?"undefined":l(t))&&t&&t.Object===Object&&t,y="object"==("undefined"==typeof self?"undefined":l(self))&&self&&self.Object===Object&&self,v=f||y||Function("return this")(),b=Object.prototype.toString,w=Math.max,j=Math.min,k=function(){return v.Date.now()};e.exports=a}).call(t,function(){return this}())},function(e,t){(function(t){"use strict";function r(e,t,r){function n(t){var r=g,a=x;return g=x=void 0,N=t,y=e.apply(a,r)}function s(e){return N=e,v=setTimeout(d,t),C?n(e):y}function o(e){var r=t-(e-k);return A?w(r,f-(e-N)):r}function c(e){var r=e-k;return void 0===k||r>=t||r<0||A&&e-N>=f}function d(){var e=j();return c(e)?u(e):void(v=setTimeout(d,o(e)))}function u(e){return v=void 0,S&&g?n(e):(g=x=void 0,y)}function m(){void 0!==v&&clearTimeout(v),N=0,g=k=x=v=void 0}function h(){return void 0===v?y:u(j())}function p(){var e=j(),r=c(e);if(g=arguments,x=this,k=e,r){if(void 0===v)return s(k);if(A)return v=setTimeout(d,t),n(k)}return void 0===v&&(v=setTimeout(d,t)),y}var g,x,f,y,v,k,N=0,C=!1,A=!1,S=!0;if("function"!=typeof e)throw new TypeError(l);return t=i(t)||0,a(r)&&(C=!!r.leading,f=(A="maxWait"in r)?b(i(r.maxWait)||0,t):f,S="trailing"in r?!!r.trailing:S),p.cancel=m,p.flush=h,p}function a(e){var t="undefined"==typeof e?"undefined":o(e);return!!e&&("object"==t||"function"==t)}function n(e){return!!e&&"object"==("undefined"==typeof e?"undefined":o(e))}function s(e){return"symbol"==("undefined"==typeof e?"undefined":o(e))||n(e)&&v.call(e)==d}function i(e){if("number"==typeof e)return e;if(s(e))return c;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(u,"");var r=h.test(e);return r||p.test(e)?g(e.slice(2),r?2:8):m.test(e)?c:+e}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l="Expected a function",c=NaN,d="[object Symbol]",u=/^\s+|\s+$/g,m=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,p=/^0o[0-7]+$/i,g=parseInt,x="object"==("undefined"==typeof t?"undefined":o(t))&&t&&t.Object===Object&&t,f="object"==("undefined"==typeof self?"undefined":o(self))&&self&&self.Object===Object&&self,y=x||f||Function("return this")(),v=Object.prototype.toString,b=Math.max,w=Math.min,j=function(){return y.Date.now()};e.exports=r}).call(t,function(){return this}())},function(e,t){"use strict";function r(e){var t=void 0,a=void 0;for(t=0;t<e.length;t+=1){if((a=e[t]).dataset&&a.dataset.aos)return!0;if(a.children&&r(a.children))return!0}return!1}function a(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function n(){return!!a()}function s(e,t){var r=window.document,n=new(a())(i);o=t,n.observe(r.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function i(e){e&&e.forEach(function(e){var t=Array.prototype.slice.call(e.addedNodes),a=Array.prototype.slice.call(e.removedNodes);if(r(t.concat(a)))return o()})}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){};t.default={isSupported:n,ready:s}},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,i=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,o=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,l=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,c=function(){function e(){r(this,e)}return n(e,[{key:"phone",value:function(){var e=a();return!(!s.test(e)&&!i.test(e.substr(0,4)))}},{key:"mobile",value:function(){var e=a();return!(!o.test(e)&&!l.test(e.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),e}();t.default=new c},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,r){var a=e.node.getAttribute("data-aos-once");t>e.position?e.node.classList.add("aos-animate"):"undefined"!=typeof a&&("false"===a||!r&&"true"!==a)&&e.node.classList.remove("aos-animate")},a=function(e,t){var a=window.pageYOffset,n=window.innerHeight;e.forEach(function(e,s){r(e,n+a,t)})};t.default=a},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(12)),s=function(e,t){return e.forEach(function(e,r){e.node.classList.add("aos-init"),e.position=(0,n.default)(e.node,t.offset)}),e};t.default=s},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(13)),s=function(e,t){var r=0,a=0,s=window.innerHeight,i={offset:e.getAttribute("data-aos-offset"),anchor:e.getAttribute("data-aos-anchor"),anchorPlacement:e.getAttribute("data-aos-anchor-placement")};switch(i.offset&&!isNaN(i.offset)&&(a=parseInt(i.offset)),i.anchor&&document.querySelectorAll(i.anchor)&&(e=document.querySelectorAll(i.anchor)[0]),r=(0,n.default)(e).top,i.anchorPlacement){case"top-bottom":break;case"center-bottom":r+=e.offsetHeight/2;break;case"bottom-bottom":r+=e.offsetHeight;break;case"top-center":r+=s/2;break;case"bottom-center":r+=s/2+e.offsetHeight;break;case"center-center":r+=s/2+e.offsetHeight/2;break;case"top-top":r+=s;break;case"bottom-top":r+=e.offsetHeight+s;break;case"center-top":r+=e.offsetHeight/2+s}return i.anchorPlacement||i.offset||isNaN(t)||(a=t),r+a};t.default=s},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){for(var t=0,r=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t+=e.offsetLeft-("BODY"!=e.tagName?e.scrollLeft:0),r+=e.offsetTop-("BODY"!=e.tagName?e.scrollTop:0),e=e.offsetParent;return{top:r,left:t}};t.default=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e=e||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(e,function(e){return{node:e}})};t.default=r}])},7789(e){"use strict";var t=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===r}(e)}(e)};var r="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function a(e,t){return!1!==t.clone&&t.isMergeableObject(e)?l((r=e,Array.isArray(r)?[]:{}),e,t):e;var r}function n(e,t,r){return e.concat(t).map(function(e){return a(e,r)})}function s(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}(e))}function i(e,t){try{return t in e}catch(r){return!1}}function o(e,t,r){var n={};return r.isMergeableObject(e)&&s(e).forEach(function(t){n[t]=a(e[t],r)}),s(t).forEach(function(s){(function(e,t){return i(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,s)||(i(e,s)&&r.isMergeableObject(t[s])?n[s]=function(e,t){if(!t.customMerge)return l;var r=t.customMerge(e);return"function"===typeof r?r:l}(s,r)(e[s],t[s],r):n[s]=a(t[s],r))}),n}function l(e,r,s){(s=s||{}).arrayMerge=s.arrayMerge||n,s.isMergeableObject=s.isMergeableObject||t,s.cloneUnlessOtherwiseSpecified=a;var i=Array.isArray(r);return i===Array.isArray(e)?i?s.arrayMerge(e,r,s):o(e,r,s):a(r,s)}l.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(e,r){return l(e,r,t)},{})};var c=l;e.exports=c},7685(e,t,r){var a=r(7937)(r(6552),"DataView");e.exports=a},8724(e,t,r){var a=r(7615),n=r(5051),s=r(2154),i=r(8734),o=r(2662);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}l.prototype.clear=a,l.prototype.delete=n,l.prototype.get=s,l.prototype.has=i,l.prototype.set=o,e.exports=l},7160(e,t,r){var a=r(7563),n=r(9935),s=r(4190),i=r(1946),o=r(1714);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}l.prototype.clear=a,l.prototype.delete=n,l.prototype.get=s,l.prototype.has=i,l.prototype.set=o,e.exports=l},5204(e,t,r){var a=r(7937)(r(6552),"Map");e.exports=a},4816(e,t,r){var a=r(7251),n=r(7159),s=r(438),i=r(9394),o=r(6874);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}l.prototype.clear=a,l.prototype.delete=n,l.prototype.get=s,l.prototype.has=i,l.prototype.set=o,e.exports=l},5387(e,t,r){var a=r(7937)(r(6552),"Promise");e.exports=a},2070(e,t,r){var a=r(7937)(r(6552),"Set");e.exports=a},8902(e,t,r){var a=r(4816),n=r(6179),s=r(6704);function i(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new a;++t<r;)this.add(e[t])}i.prototype.add=i.prototype.push=n,i.prototype.has=s,e.exports=i},5538(e,t,r){var a=r(7160),n=r(4545),s=r(793),i=r(7760),o=r(3892),l=r(6788);function c(e){var t=this.__data__=new a(e);this.size=t.size}c.prototype.clear=n,c.prototype.delete=s,c.prototype.get=i,c.prototype.has=o,c.prototype.set=l,e.exports=c},9812(e,t,r){var a=r(6552).Symbol;e.exports=a},2929(e,t,r){var a=r(6552).Uint8Array;e.exports=a},6600(e,t,r){var a=r(7937)(r(6552),"WeakMap");e.exports=a},7529(e){e.exports=function(e,t){for(var r=-1,a=null==e?0:e.length,n=0,s=[];++r<a;){var i=e[r];t(i,r,e)&&(s[n++]=i)}return s}},3204(e,t,r){var a=r(3343),n=r(2777),s=r(4052),i=r(4543),o=r(9194),l=r(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=s(e),d=!r&&n(e),u=!r&&!d&&i(e),m=!r&&!d&&!u&&l(e),h=r||d||u||m,p=h?a(e.length,String):[],g=p.length;for(var x in e)!t&&!c.call(e,x)||h&&("length"==x||u&&("offset"==x||"parent"==x)||m&&("buffer"==x||"byteLength"==x||"byteOffset"==x)||o(x,g))||p.push(x);return p}},8895(e){e.exports=function(e,t){for(var r=-1,a=t.length,n=e.length;++r<a;)e[n+r]=t[r];return e}},2587(e){e.exports=function(e,t){for(var r=-1,a=null==e?0:e.length;++r<a;)if(t(e[r],r,e))return!0;return!1}},1340(e,t,r){var a=r(3211);e.exports=function(e,t){for(var r=e.length;r--;)if(a(e[r][0],t))return r;return-1}},4262(e,t,r){var a=r(8895),n=r(4052);e.exports=function(e,t,r){var s=t(e);return n(e)?s:a(s,r(e))}},6913(e,t,r){var a=r(9812),n=r(4552),s=r(6095),i=a?a.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?n(e):s(e)}},7574(e,t,r){var a=r(6913),n=r(2761);e.exports=function(e){return n(e)&&"[object Arguments]"==a(e)}},6989(e,t,r){var a=r(6399),n=r(2761);e.exports=function e(t,r,s,i,o){return t===r||(null==t||null==r||!n(t)&&!n(r)?t!==t&&r!==r:a(t,r,s,i,e,o))}},6399(e,t,r){var a=r(5538),n=r(3668),s=r(9987),i=r(5752),o=r(6924),l=r(4052),c=r(4543),d=r(1268),u="[object Arguments]",m="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,g,x,f){var y=l(e),v=l(t),b=y?m:o(e),w=v?m:o(t),j=(b=b==u?h:b)==h,k=(w=w==u?h:w)==h,N=b==w;if(N&&c(e)){if(!c(t))return!1;y=!0,j=!1}if(N&&!j)return f||(f=new a),y||d(e)?n(e,t,r,g,x,f):s(e,t,b,r,g,x,f);if(!(1&r)){var C=j&&p.call(e,"__wrapped__"),A=k&&p.call(t,"__wrapped__");if(C||A){var S=C?e.value():e,E=A?t.value():t;return f||(f=new a),x(S,E,r,g,f)}}return!!N&&(f||(f=new a),i(e,t,r,g,x,f))}},6954(e,t,r){var a=r(1629),n=r(7857),s=r(6686),i=r(6996),o=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,d=l.toString,u=c.hasOwnProperty,m=RegExp("^"+d.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!s(e)||n(e))&&(a(e)?m:o).test(i(e))}},5428(e,t,r){var a=r(6913),n=r(6173),s=r(2761),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return s(e)&&n(e.length)&&!!i[a(e)]}},3713(e,t,r){var a=r(6140),n=r(1143),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!a(e))return n(e);var t=[];for(var r in Object(e))s.call(e,r)&&"constructor"!=r&&t.push(r);return t}},3343(e){e.exports=function(e,t){for(var r=-1,a=Array(e);++r<e;)a[r]=t(r);return a}},2336(e){e.exports=function(e){return function(t){return e(t)}}},8114(e){e.exports=function(e,t){return e.has(t)}},3440(e,t,r){var a=r(6552)["__core-js_shared__"];e.exports=a},3668(e,t,r){var a=r(8902),n=r(2587),s=r(8114);e.exports=function(e,t,r,i,o,l){var c=1&r,d=e.length,u=t.length;if(d!=u&&!(c&&u>d))return!1;var m=l.get(e),h=l.get(t);if(m&&h)return m==t&&h==e;var p=-1,g=!0,x=2&r?new a:void 0;for(l.set(e,t),l.set(t,e);++p<d;){var f=e[p],y=t[p];if(i)var v=c?i(y,f,p,t,e,l):i(f,y,p,e,t,l);if(void 0!==v){if(v)continue;g=!1;break}if(x){if(!n(t,function(e,t){if(!s(x,t)&&(f===e||o(f,e,r,i,l)))return x.push(t)})){g=!1;break}}else if(f!==y&&!o(f,y,r,i,l)){g=!1;break}}return l.delete(e),l.delete(t),g}},9987(e,t,r){var a=r(9812),n=r(2929),s=r(3211),i=r(3668),o=r(4160),l=r(2074),c=a?a.prototype:void 0,d=c?c.valueOf:void 0;e.exports=function(e,t,r,a,c,u,m){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!u(new n(e),new n(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return s(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=o;case"[object Set]":var p=1&a;if(h||(h=l),e.size!=t.size&&!p)return!1;var g=m.get(e);if(g)return g==t;a|=2,m.set(e,t);var x=i(h(e),h(t),a,c,u,m);return m.delete(e),x;case"[object Symbol]":if(d)return d.call(e)==d.call(t)}return!1}},5752(e,t,r){var a=r(9395),n=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,s,i,o){var l=1&r,c=a(e),d=c.length;if(d!=a(t).length&&!l)return!1;for(var u=d;u--;){var m=c[u];if(!(l?m in t:n.call(t,m)))return!1}var h=o.get(e),p=o.get(t);if(h&&p)return h==t&&p==e;var g=!0;o.set(e,t),o.set(t,e);for(var x=l;++u<d;){var f=e[m=c[u]],y=t[m];if(s)var v=l?s(y,f,m,t,e,o):s(f,y,m,e,t,o);if(!(void 0===v?f===y||i(f,y,r,s,o):v)){g=!1;break}x||(x="constructor"==m)}if(g&&!x){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(g=!1)}return o.delete(e),o.delete(t),g}},7105(e,t,r){var a="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=a},9395(e,t,r){var a=r(4262),n=r(9621),s=r(8673);e.exports=function(e){return a(e,s,n)}},2622(e,t,r){var a=r(705);e.exports=function(e,t){var r=e.__data__;return a(t)?r["string"==typeof t?"string":"hash"]:r.map}},7937(e,t,r){var a=r(6954),n=r(4657);e.exports=function(e,t){var r=n(e,t);return a(r)?r:void 0}},4552(e,t,r){var a=r(9812),n=Object.prototype,s=n.hasOwnProperty,i=n.toString,o=a?a.toStringTag:void 0;e.exports=function(e){var t=s.call(e,o),r=e[o];try{e[o]=void 0;var a=!0}catch(l){}var n=i.call(e);return a&&(t?e[o]=r:delete e[o]),n}},9621(e,t,r){var a=r(7529),n=r(7828),s=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(e){return null==e?[]:(e=Object(e),a(i(e),function(t){return s.call(e,t)}))}:n;e.exports=o},6924(e,t,r){var a=r(7685),n=r(5204),s=r(5387),i=r(2070),o=r(6600),l=r(6913),c=r(6996),d="[object Map]",u="[object Promise]",m="[object Set]",h="[object WeakMap]",p="[object DataView]",g=c(a),x=c(n),f=c(s),y=c(i),v=c(o),b=l;(a&&b(new a(new ArrayBuffer(1)))!=p||n&&b(new n)!=d||s&&b(s.resolve())!=u||i&&b(new i)!=m||o&&b(new o)!=h)&&(b=function(e){var t=l(e),r="[object Object]"==t?e.constructor:void 0,a=r?c(r):"";if(a)switch(a){case g:return p;case x:return d;case f:return u;case y:return m;case v:return h}return t}),e.exports=b},4657(e){e.exports=function(e,t){return null==e?void 0:e[t]}},7615(e,t,r){var a=r(5575);e.exports=function(){this.__data__=a?a(null):{},this.size=0}},5051(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},2154(e,t,r){var a=r(5575),n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(a){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return n.call(t,e)?t[e]:void 0}},8734(e,t,r){var a=r(5575),n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return a?void 0!==t[e]:n.call(t,e)}},2662(e,t,r){var a=r(5575);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=a&&void 0===t?"__lodash_hash_undefined__":t,this}},9194(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var a=typeof e;return!!(r=null==r?9007199254740991:r)&&("number"==a||"symbol"!=a&&t.test(e))&&e>-1&&e%1==0&&e<r}},705(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},7857(e,t,r){var a=r(3440),n=function(){var e=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!n&&n in e}},6140(e){var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||t)}},7563(e){e.exports=function(){this.__data__=[],this.size=0}},9935(e,t,r){var a=r(1340),n=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=a(t,e);return!(r<0)&&(r==t.length-1?t.pop():n.call(t,r,1),--this.size,!0)}},4190(e,t,r){var a=r(1340);e.exports=function(e){var t=this.__data__,r=a(t,e);return r<0?void 0:t[r][1]}},1946(e,t,r){var a=r(1340);e.exports=function(e){return a(this.__data__,e)>-1}},1714(e,t,r){var a=r(1340);e.exports=function(e,t){var r=this.__data__,n=a(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}},7251(e,t,r){var a=r(8724),n=r(7160),s=r(5204);e.exports=function(){this.size=0,this.__data__={hash:new a,map:new(s||n),string:new a}}},7159(e,t,r){var a=r(2622);e.exports=function(e){var t=a(this,e).delete(e);return this.size-=t?1:0,t}},438(e,t,r){var a=r(2622);e.exports=function(e){return a(this,e).get(e)}},9394(e,t,r){var a=r(2622);e.exports=function(e){return a(this,e).has(e)}},6874(e,t,r){var a=r(2622);e.exports=function(e,t){var r=a(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}},4160(e){e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e,a){r[++t]=[a,e]}),r}},5575(e,t,r){var a=r(7937)(Object,"create");e.exports=a},1143(e,t,r){var a=r(3028)(Object.keys,Object);e.exports=a},6832(e,t,r){e=r.nmd(e);var a=r(7105),n=t&&!t.nodeType&&t,s=n&&e&&!e.nodeType&&e,i=s&&s.exports===n&&a.process,o=function(){try{var e=s&&s.require&&s.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(t){}}();e.exports=o},6095(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},3028(e){e.exports=function(e,t){return function(r){return e(t(r))}}},6552(e,t,r){var a=r(7105),n="object"==typeof self&&self&&self.Object===Object&&self,s=a||n||Function("return this")();e.exports=s},6179(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6704(e){e.exports=function(e){return this.__data__.has(e)}},2074(e){e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}},4545(e,t,r){var a=r(7160);e.exports=function(){this.__data__=new a,this.size=0}},793(e){e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},7760(e){e.exports=function(e){return this.__data__.get(e)}},3892(e){e.exports=function(e){return this.__data__.has(e)}},6788(e,t,r){var a=r(7160),n=r(5204),s=r(4816);e.exports=function(e,t){var r=this.__data__;if(r instanceof a){var i=r.__data__;if(!n||i.length<199)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new s(i)}return r.set(e,t),this.size=r.size,this}},6996(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(r){}try{return e+""}catch(r){}}return""}},3211(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},2777(e,t,r){var a=r(7574),n=r(2761),s=Object.prototype,i=s.hasOwnProperty,o=s.propertyIsEnumerable,l=a(function(){return arguments}())?a:function(e){return n(e)&&i.call(e,"callee")&&!o.call(e,"callee")};e.exports=l},4052(e){var t=Array.isArray;e.exports=t},6571(e,t,r){var a=r(1629),n=r(6173);e.exports=function(e){return null!=e&&n(e.length)&&!a(e)}},4543(e,t,r){e=r.nmd(e);var a=r(6552),n=r(14),s=t&&!t.nodeType&&t,i=s&&e&&!e.nodeType&&e,o=i&&i.exports===s?a.Buffer:void 0,l=(o?o.isBuffer:void 0)||n;e.exports=l},9853(e,t,r){var a=r(6989);e.exports=function(e,t){return a(e,t)}},1629(e,t,r){var a=r(6913),n=r(6686);e.exports=function(e){if(!n(e))return!1;var t=a(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},6173(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6686(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},2761(e){e.exports=function(e){return null!=e&&"object"==typeof e}},1268(e,t,r){var a=r(5428),n=r(2336),s=r(6832),i=s&&s.isTypedArray,o=i?n(i):a;e.exports=o},8673(e,t,r){var a=r(3204),n=r(3713),s=r(6571);e.exports=function(e){return s(e)?a(e):n(e)}},7828(e){e.exports=function(){return[]}},14(e){e.exports=function(){return!1}},1639(e,t,r){"use strict";r.d(t,{A:()=>l});var a=r(9379),n=r(3986),s=r(5043),i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const o=["color","size","strokeWidth","absoluteStrokeWidth","children"],l=(e,t)=>{const r=(0,s.forwardRef)((r,l)=>{let{color:c="currentColor",size:d=24,strokeWidth:u=2,absoluteStrokeWidth:m,children:h}=r,p=(0,n.A)(r,o);return(0,s.createElement)("svg",(0,a.A)((0,a.A)({ref:l},i),{},{width:d,height:d,stroke:c,strokeWidth:m?24*Number(u)/Number(d):u,className:"lucide lucide-".concat((g=e,g.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()))},p),[...t.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...(Array.isArray(h)?h:[h])||[]]);var g});return r.displayName="".concat(e),r}},9153(e,t,r){"use strict";r.d(t,{A:()=>a});const a=(0,r(1639).A)("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]])},4574(e,t,r){"use strict";r.d(t,{A:()=>a});const a=(0,r(1639).A)("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]])},292(e,t,r){"use strict";r.d(t,{A:()=>a});const a=(0,r(1639).A)("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]])},9340(e,t,r){"use strict";r.d(t,{A:()=>a});const a=(0,r(1639).A)("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]])},4830(e,t,r){"use strict";r.d(t,{A:()=>a});const a=(0,r(1639).A)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]])},8707(e,t,r){"use strict";r.d(t,{A:()=>a});const a=(0,r(1639).A)("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]])},1199(e,t,r){"use strict";r.d(t,{A:()=>a});const a=(0,r(1639).A)("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]])},3677(e,t,r){"use strict";r.d(t,{A:()=>a});const a=(0,r(1639).A)("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]])},5699(e,t,r){"use strict";r.d(t,{A:()=>a});const a=(0,r(1639).A)("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]])},614(e,t,r){"use strict";r.d(t,{A:()=>a});const a=(0,r(1639).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},1497(e,t,r){"use strict";var a=r(3218);function n(){}function s(){}s.resetWarningCache=n,e.exports=function(){function e(e,t,r,n,s,i){if(i!==a){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:n};return r.PropTypes=r,r}},5173(e,t,r){e.exports=r(1497)()},3218(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4175(e){var t;"undefined"!==typeof self&&self,t=function(){return function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=109)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(17),n=r(18),s=r(19),i=r(45),o=r(46),l=r(47),c=r(48),d=r(49),u=r(12),m=r(32),h=r(33),p=r(31),g=r(1),x={Scope:g.Scope,create:g.create,find:g.find,query:g.query,register:g.register,Container:a.default,Format:n.default,Leaf:s.default,Embed:c.default,Scroll:i.default,Block:l.default,Inline:o.default,Text:d.default,Attributor:{Attribute:u.default,Class:m.default,Style:h.default,Store:p.default}};t.default=x},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(t){var r=this;return t="[Parchment] "+t,(r=e.call(this,t)||this).message=t,r.name=r.constructor.name,r}return a(t,e),t}(Error);t.ParchmentError=n;var s,i={},o={},l={},c={};function d(e,t){var r;if(void 0===t&&(t=s.ANY),"string"===typeof e)r=c[e]||i[e];else if(e instanceof Text||e.nodeType===Node.TEXT_NODE)r=c.text;else if("number"===typeof e)e&s.LEVEL&s.BLOCK?r=c.block:e&s.LEVEL&s.INLINE&&(r=c.inline);else if(e instanceof HTMLElement){var a=(e.getAttribute("class")||"").split(/\s+/);for(var n in a)if(r=o[a[n]])break;r=r||l[e.tagName]}return null==r?null:t&s.LEVEL&r.scope&&t&s.TYPE&r.scope?r:null}t.DATA_KEY="__blot",function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(s=t.Scope||(t.Scope={})),t.create=function(e,t){var r=d(e);if(null==r)throw new n("Unable to create "+e+" blot");var a=r,s=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:a.create(t);return new a(s,t)},t.find=function e(r,a){return void 0===a&&(a=!1),null==r?null:null!=r[t.DATA_KEY]?r[t.DATA_KEY].blot:a?e(r.parentNode,a):null},t.query=d,t.register=function e(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(t.length>1)return t.map(function(t){return e(t)});var a=t[0];if("string"!==typeof a.blotName&&"string"!==typeof a.attrName)throw new n("Invalid definition");if("abstract"===a.blotName)throw new n("Cannot register abstract class");return c[a.blotName||a.attrName]=a,"string"===typeof a.keyName?i[a.keyName]=a:(null!=a.className&&(o[a.className]=a),null!=a.tagName&&(Array.isArray(a.tagName)?a.tagName=a.tagName.map(function(e){return e.toUpperCase()}):a.tagName=a.tagName.toUpperCase(),(Array.isArray(a.tagName)?a.tagName:[a.tagName]).forEach(function(e){null!=l[e]&&null!=a.className||(l[e]=a)}))),a}},function(e,t,r){var a=r(51),n=r(11),s=r(3),i=r(20),o=String.fromCharCode(0),l=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};l.prototype.insert=function(e,t){var r={};return 0===e.length?this:(r.insert=e,null!=t&&"object"===typeof t&&Object.keys(t).length>0&&(r.attributes=t),this.push(r))},l.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},l.prototype.retain=function(e,t){if(e<=0)return this;var r={retain:e};return null!=t&&"object"===typeof t&&Object.keys(t).length>0&&(r.attributes=t),this.push(r)},l.prototype.push=function(e){var t=this.ops.length,r=this.ops[t-1];if(e=s(!0,{},e),"object"===typeof r){if("number"===typeof e.delete&&"number"===typeof r.delete)return this.ops[t-1]={delete:r.delete+e.delete},this;if("number"===typeof r.delete&&null!=e.insert&&(t-=1,"object"!==typeof(r=this.ops[t-1])))return this.ops.unshift(e),this;if(n(e.attributes,r.attributes)){if("string"===typeof e.insert&&"string"===typeof r.insert)return this.ops[t-1]={insert:r.insert+e.insert},"object"===typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"===typeof e.retain&&"number"===typeof r.retain)return this.ops[t-1]={retain:r.retain+e.retain},"object"===typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},l.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},l.prototype.filter=function(e){return this.ops.filter(e)},l.prototype.forEach=function(e){this.ops.forEach(e)},l.prototype.map=function(e){return this.ops.map(e)},l.prototype.partition=function(e){var t=[],r=[];return this.forEach(function(a){(e(a)?t:r).push(a)}),[t,r]},l.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},l.prototype.changeLength=function(){return this.reduce(function(e,t){return t.insert?e+i.length(t):t.delete?e-t.delete:e},0)},l.prototype.length=function(){return this.reduce(function(e,t){return e+i.length(t)},0)},l.prototype.slice=function(e,t){e=e||0,"number"!==typeof t&&(t=1/0);for(var r=[],a=i.iterator(this.ops),n=0;n<t&&a.hasNext();){var s;n<e?s=a.next(e-n):(s=a.next(t-n),r.push(s)),n+=i.length(s)}return new l(r)},l.prototype.compose=function(e){var t=i.iterator(this.ops),r=i.iterator(e.ops),a=[],s=r.peek();if(null!=s&&"number"===typeof s.retain&&null==s.attributes){for(var o=s.retain;"insert"===t.peekType()&&t.peekLength()<=o;)o-=t.peekLength(),a.push(t.next());s.retain-o>0&&r.next(s.retain-o)}for(var c=new l(a);t.hasNext()||r.hasNext();)if("insert"===r.peekType())c.push(r.next());else if("delete"===t.peekType())c.push(t.next());else{var d=Math.min(t.peekLength(),r.peekLength()),u=t.next(d),m=r.next(d);if("number"===typeof m.retain){var h={};"number"===typeof u.retain?h.retain=d:h.insert=u.insert;var p=i.attributes.compose(u.attributes,m.attributes,"number"===typeof u.retain);if(p&&(h.attributes=p),c.push(h),!r.hasNext()&&n(c.ops[c.ops.length-1],h)){var g=new l(t.rest());return c.concat(g).chop()}}else"number"===typeof m.delete&&"number"===typeof u.retain&&c.push(m)}return c.chop()},l.prototype.concat=function(e){var t=new l(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},l.prototype.diff=function(e,t){if(this.ops===e.ops)return new l;var r=[this,e].map(function(t){return t.map(function(r){if(null!=r.insert)return"string"===typeof r.insert?r.insert:o;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")}).join("")}),s=new l,c=a(r[0],r[1],t),d=i.iterator(this.ops),u=i.iterator(e.ops);return c.forEach(function(e){for(var t=e[1].length;t>0;){var r=0;switch(e[0]){case a.INSERT:r=Math.min(u.peekLength(),t),s.push(u.next(r));break;case a.DELETE:r=Math.min(t,d.peekLength()),d.next(r),s.delete(r);break;case a.EQUAL:r=Math.min(d.peekLength(),u.peekLength(),t);var o=d.next(r),l=u.next(r);n(o.insert,l.insert)?s.retain(r,i.attributes.diff(o.attributes,l.attributes)):s.push(l).delete(r)}t-=r}}),s.chop()},l.prototype.eachLine=function(e,t){t=t||"\n";for(var r=i.iterator(this.ops),a=new l,n=0;r.hasNext();){if("insert"!==r.peekType())return;var s=r.peek(),o=i.length(s)-r.peekLength(),c="string"===typeof s.insert?s.insert.indexOf(t,o)-o:-1;if(c<0)a.push(r.next());else if(c>0)a.push(r.next(c));else{if(!1===e(a,r.next(1).attributes||{},n))return;n+=1,a=new l}}a.length()>0&&e(a,{},n)},l.prototype.transform=function(e,t){if(t=!!t,"number"===typeof e)return this.transformPosition(e,t);for(var r=i.iterator(this.ops),a=i.iterator(e.ops),n=new l;r.hasNext()||a.hasNext();)if("insert"!==r.peekType()||!t&&"insert"===a.peekType())if("insert"===a.peekType())n.push(a.next());else{var s=Math.min(r.peekLength(),a.peekLength()),o=r.next(s),c=a.next(s);if(o.delete)continue;c.delete?n.push(c):n.retain(s,i.attributes.transform(o.attributes,c.attributes,t))}else n.retain(i.length(r.next()));return n.chop()},l.prototype.transformPosition=function(e,t){t=!!t;for(var r=i.iterator(this.ops),a=0;r.hasNext()&&a<=e;){var n=r.peekLength(),s=r.peekType();r.next(),"delete"!==s?("insert"===s&&(a<e||!t)&&(e+=n),a+=n):e-=Math.min(n,e-a)}return e},e.exports=l},function(e,t){"use strict";var r=Object.prototype.hasOwnProperty,a=Object.prototype.toString,n=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=function(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===a.call(e)},o=function(e){if(!e||"[object Object]"!==a.call(e))return!1;var t,n=r.call(e,"constructor"),s=e.constructor&&e.constructor.prototype&&r.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!s)return!1;for(t in e);return"undefined"===typeof t||r.call(e,t)},l=function(e,t){n&&"__proto__"===t.name?n(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},c=function(e,t){if("__proto__"===t){if(!r.call(e,t))return;if(s)return s(e,t).value}return e[t]};e.exports=function e(){var t,r,a,n,s,d,u=arguments[0],m=1,h=arguments.length,p=!1;for("boolean"===typeof u&&(p=u,u=arguments[1]||{},m=2),(null==u||"object"!==typeof u&&"function"!==typeof u)&&(u={});m<h;++m)if(null!=(t=arguments[m]))for(r in t)a=c(u,r),u!==(n=c(t,r))&&(p&&n&&(o(n)||(s=i(n)))?(s?(s=!1,d=a&&i(a)?a:[]):d=a&&o(a)?a:{},l(u,{name:r,newValue:e(p,d,n)})):"undefined"!==typeof n&&l(u,{name:r,newValue:n}));return u}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},s=u(r(3)),i=u(r(2)),o=u(r(0)),l=u(r(16)),c=u(r(6)),d=u(r(7));function u(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return m(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),a(t,[{key:"attach",value:function(){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).call(this),this.attributes=new o.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new i.default).insert(this.value(),(0,s.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,t){var r=o.default.query(e,o.default.Scope.BLOCK_ATTRIBUTE);null!=r&&this.attributes.attribute(r,t)}},{key:"formatAt",value:function(e,t,r,a){this.format(r,a)}},{key:"insertAt",value:function(e,r,a){if("string"===typeof r&&r.endsWith("\n")){var s=o.default.create(x.blotName);this.parent.insertBefore(s,0===e?this:this.next),s.insertAt(0,r.slice(0,-1))}else n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,r,a)}}]),t}(o.default.Embed);g.scope=o.default.Scope.BLOCK_BLOT;var x=function(e){function t(e){m(this,t);var r=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.cache={},r}return p(t,e),a(t,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(o.default.Leaf).reduce(function(e,t){return 0===t.length()?e:e.insert(t.value(),f(t))},new i.default).insert("\n",f(this))),this.cache.delta}},{key:"deleteAt",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,r),this.cache={}}},{key:"formatAt",value:function(e,r,a,s){r<=0||(o.default.query(a,o.default.Scope.BLOCK)?e+r===this.length()&&this.format(a,s):n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,Math.min(r,this.length()-e-1),a,s),this.cache={})}},{key:"insertAt",value:function(e,r,a){if(null!=a)return n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,r,a);if(0!==r.length){var s=r.split("\n"),i=s.shift();i.length>0&&(e<this.length()-1||null==this.children.tail?n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),i):this.children.tail.insertAt(this.children.tail.length(),i),this.cache={});var o=this;s.reduce(function(e,t){return(o=o.split(e,!0)).insertAt(0,t),t.length},e+i.length)}}},{key:"insertBefore",value:function(e,r){var a=this.children.head;n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,r),a instanceof l.default&&a.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,r){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"moveChildren",this).call(this,e,r),this.cache={}}},{key:"optimize",value:function(e){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(r&&(0===e||e>=this.length()-1)){var a=this.clone();return 0===e?(this.parent.insertBefore(a,this),this):(this.parent.insertBefore(a,this.next),a)}var s=n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"split",this).call(this,e,r);return this.cache={},s}}]),t}(o.default.Block);function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?t:("function"===typeof e.formats&&(t=(0,s.default)(t,e.formats())),null==e.parent||"scroll"==e.parent.blotName||e.parent.statics.scope!==e.statics.scope?t:f(e.parent,t))}x.blotName="block",x.tagName="P",x.defaultChild="break",x.allowedChildren=[c.default,o.default.Embed,d.default],t.bubbleFormats=f,t.BlockEmbed=g,t.default=x},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,s=void 0;try{for(var i,o=e[Symbol.iterator]();!(a=(i=o.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(l){n=!0,s=l}finally{try{!a&&o.return&&o.return()}finally{if(n)throw s}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();r(50);var i=x(r(2)),o=x(r(14)),l=x(r(8)),c=x(r(9)),d=x(r(0)),u=r(15),m=x(u),h=x(r(3)),p=x(r(10)),g=x(r(34));function x(e){return e&&e.__esModule?e:{default:e}}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=(0,p.default)("quill"),v=function(){function e(t){var r=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=b(t,a),this.container=this.options.container,null==this.container)return y.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var n=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new l.default,this.scroll=d.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new o.default(this.scroll),this.selection=new m.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(l.default.events.EDITOR_CHANGE,function(e){e===l.default.events.TEXT_CHANGE&&r.root.classList.toggle("ql-blank",r.editor.isBlank())}),this.emitter.on(l.default.events.SCROLL_UPDATE,function(e,t){var a=r.selection.lastRange,n=a&&0===a.length?a.index:void 0;w.call(r,function(){return r.editor.update(null,t,n)},e)});var s=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+n+"<p><br></p></div>");this.setContents(s),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return s(e,null,[{key:"debug",value:function(e){!0===e&&(e="log"),p.default.level(e)}},{key:"find",value:function(e){return e.__quill||d.default.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&y.error("Cannot import "+e+". Are you sure it was registered?"),this.imports[e]}},{key:"register",value:function(e,t){var r=this,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!==typeof e){var n=e.attrName||e.blotName;"string"===typeof n?this.register("formats/"+n,e,t):Object.keys(e).forEach(function(a){r.register(a,e[a],t)})}else null==this.imports[e]||a||y.warn("Overwriting "+e+" with",t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName?d.default.register(t):e.startsWith("modules")&&"function"===typeof t.register&&t.register()}}]),s(e,[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"===typeof e){var r=e;(e=document.createElement("div")).classList.add(r)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,r){var a=this,s=j(e,t,r),i=n(s,4);return e=i[0],t=i[1],r=i[3],w.call(this,function(){return a.editor.deleteText(e,t)},r,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;return w.call(this,function(){var a=r.getSelection(!0),n=new i.default;if(null==a)return n;if(d.default.query(e,d.default.Scope.BLOCK))n=r.editor.formatLine(a.index,a.length,f({},e,t));else{if(0===a.length)return r.selection.format(e,t),n;n=r.editor.formatText(a.index,a.length,f({},e,t))}return r.setSelection(a,l.default.sources.SILENT),n},a)}},{key:"formatLine",value:function(e,t,r,a,s){var i,o=this,l=j(e,t,r,a,s),c=n(l,4);return e=c[0],t=c[1],i=c[2],s=c[3],w.call(this,function(){return o.editor.formatLine(e,t,i)},s,e,0)}},{key:"formatText",value:function(e,t,r,a,s){var i,o=this,l=j(e,t,r,a,s),c=n(l,4);return e=c[0],t=c[1],i=c[2],s=c[3],w.call(this,function(){return o.editor.formatText(e,t,i)},s,e,0)}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=void 0;r="number"===typeof e?this.selection.getBounds(e,t):this.selection.getBounds(e.index,e.length);var a=this.container.getBoundingClientRect();return{bottom:r.bottom-a.top,height:r.height,left:r.left-a.left,right:r.right-a.left,top:r.top-a.top,width:r.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,r=j(e,t),a=n(r,2);return e=a[0],t=a[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"===typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!==typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,r=j(e,t),a=n(r,2);return e=a[0],t=a[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,r,a){var n=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return w.call(this,function(){return n.editor.insertEmbed(t,r,a)},s,t)}},{key:"insertText",value:function(e,t,r,a,s){var i,o=this,l=j(e,0,r,a,s),c=n(l,4);return e=c[0],i=c[2],s=c[3],w.call(this,function(){return o.editor.insertText(e,t,i)},s,e,t.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(e,t,r){this.clipboard.dangerouslyPasteHTML(e,t,r)}},{key:"removeFormat",value:function(e,t,r){var a=this,s=j(e,t,r),i=n(s,4);return e=i[0],t=i[1],r=i[3],w.call(this,function(){return a.editor.removeFormat(e,t)},r,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return w.call(this,function(){e=new i.default(e);var r=t.getLength(),a=t.editor.deleteText(0,r),n=t.editor.applyDelta(e),s=n.ops[n.ops.length-1];return null!=s&&"string"===typeof s.insert&&"\n"===s.insert[s.insert.length-1]&&(t.editor.deleteText(t.getLength()-1,1),n.delete(1)),a.compose(n)},r)}},{key:"setSelection",value:function(t,r,a){if(null==t)this.selection.setRange(null,r||e.sources.API);else{var s=j(t,r,a),i=n(s,4);t=i[0],r=i[1],a=i[3],this.selection.setRange(new u.Range(t,r),a),a!==l.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API,r=(new i.default).insert(e);return this.setContents(r,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return w.call(this,function(){return e=new i.default(e),t.editor.applyDelta(e,r)},r,!0)}}]),e}();function b(e,t){if((t=(0,h.default)(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t)).theme&&t.theme!==v.DEFAULTS.theme){if(t.theme=v.import("themes/"+t.theme),null==t.theme)throw new Error("Invalid theme "+t.theme+". Did you register it?")}else t.theme=g.default;var r=(0,h.default)(!0,{},t.theme.DEFAULTS);[r,t].forEach(function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach(function(t){!0===e.modules[t]&&(e.modules[t]={})})});var a=Object.keys(r.modules).concat(Object.keys(t.modules)).reduce(function(e,t){var r=v.import("modules/"+t);return null==r?y.error("Cannot load "+t+" module. Are you sure you registered it?"):e[t]=r.DEFAULTS||{},e},{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=(0,h.default)(!0,{},v.DEFAULTS,{modules:a},r,t),["bounds","container","scrollingContainer"].forEach(function(e){"string"===typeof t[e]&&(t[e]=document.querySelector(t[e]))}),t.modules=Object.keys(t.modules).reduce(function(e,r){return t.modules[r]&&(e[r]=t.modules[r]),e},{}),t}function w(e,t,r,a){if(this.options.strict&&!this.isEnabled()&&t===l.default.sources.USER)return new i.default;var n=null==r?null:this.getSelection(),s=this.editor.delta,o=e();if(null!=n&&(!0===r&&(r=n.index),null==a?n=k(n,o,t):0!==a&&(n=k(n,r,a,t)),this.setSelection(n,l.default.sources.SILENT)),o.length()>0){var c,d,u=[l.default.events.TEXT_CHANGE,o,s,t];(c=this.emitter).emit.apply(c,[l.default.events.EDITOR_CHANGE].concat(u)),t!==l.default.sources.SILENT&&(d=this.emitter).emit.apply(d,u)}return o}function j(e,t,r,n,s){var i={};return"number"===typeof e.index&&"number"===typeof e.length?"number"!==typeof t?(s=n,n=r,r=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!==typeof t&&(s=n,n=r,r=t,t=0),"object"===("undefined"===typeof r?"undefined":a(r))?(i=r,s=n):"string"===typeof r&&(null!=n?i[r]=n:s=r),[e,t,i,s=s||l.default.sources.API]}function k(e,t,r,a){if(null==e)return null;var s=void 0,o=void 0;if(t instanceof i.default){var c=[e.index,e.index+e.length].map(function(e){return t.transformPosition(e,a!==l.default.sources.USER)}),d=n(c,2);s=d[0],o=d[1]}else{var m=[e.index,e.index+e.length].map(function(e){return e<t||e===t&&a===l.default.sources.USER?e:r>=0?e+r:Math.max(t,e+r)}),h=n(m,2);s=h[0],o=h[1]}return new u.Range(s,o-s)}v.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},v.events=l.default.events,v.sources=l.default.sources,v.version="1.3.7",v.imports={delta:i.default,parchment:d.default,"core/module":c.default,"core/theme":g.default},t.expandConfig=b,t.overload=j,t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},s=o(r(7)),i=o(r(0));function o(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"formatAt",value:function(e,r,a,s){if(t.compare(this.statics.blotName,a)<0&&i.default.query(a,i.default.Scope.BLOT)){var o=this.isolate(e,r);s&&o.wrap(a,s)}else n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,r,a,s)}},{key:"optimize",value:function(e){if(n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var r=this.parent.isolate(this.offset(),this.length());this.moveChildren(r),r.wrap(this)}}}],[{key:"compare",value:function(e,r){var a=t.order.indexOf(e),n=t.order.indexOf(r);return a>=0||n>=0?a-n:e===r?0:e<r?-1:1}}]),t}(i.default.Inline);l.allowedChildren=[l,i.default.Embed,s.default],l.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(0),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((a=n)&&a.__esModule?a:{default:a}).default.Text);t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},s=i(r(54));function i(e){return e&&e.__esModule?e:{default:e}}var o=(0,i(r(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(e){document.addEventListener(e,function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(e){var r;e.__quill&&e.__quill.emitter&&(r=e.__quill.emitter).handleDOM.apply(r,t)})})});var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.listeners={},e.on("error",o.error),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"emit",value:function(){o.log.apply(o,arguments),n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];(this.listeners[e.type]||[]).forEach(function(t){var a=t.node,n=t.handler;(e.target===a||a.contains(e.target))&&n.apply(void 0,[e].concat(r))})}},{key:"listenDOM",value:function(e,t,r){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:r})}}]),t}(s.default);l.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},l.sources={API:"api",SILENT:"silent",USER:"user"},t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=r};a.DEFAULTS={},t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=["error","warn","log","info"],n="warn";function s(e){if(a.indexOf(e)<=a.indexOf(n)){for(var t,r=arguments.length,s=Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];(t=console)[e].apply(t,s)}}function i(e){return a.reduce(function(t,r){return t[r]=s.bind(console,r,e),t},{})}s.level=i.level=function(e){n=e},t.default=i},function(e,t,r){var a=Array.prototype.slice,n=r(52),s=r(53),i=e.exports=function(e,t,r){return r||(r={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?r.strict?e===t:e==t:function(e,t,r){var c,d;if(o(e)||o(t))return!1;if(e.prototype!==t.prototype)return!1;if(s(e))return!!s(t)&&(e=a.call(e),t=a.call(t),i(e,t,r));if(l(e)){if(!l(t))return!1;if(e.length!==t.length)return!1;for(c=0;c<e.length;c++)if(e[c]!==t[c])return!1;return!0}try{var u=n(e),m=n(t)}catch(h){return!1}if(u.length!=m.length)return!1;for(u.sort(),m.sort(),c=u.length-1;c>=0;c--)if(u[c]!=m[c])return!1;for(c=u.length-1;c>=0;c--)if(d=u[c],!i(e[d],t[d],r))return!1;return typeof e===typeof t}(e,t,r))};function o(e){return null===e||void 0===e}function l(e){return!(!e||"object"!==typeof e||"number"!==typeof e.length)&&"function"===typeof e.copy&&"function"===typeof e.slice&&!(e.length>0&&"number"!==typeof e[0])}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),n=function(){function e(e,t,r){void 0===r&&(r={}),this.attrName=e,this.keyName=t;var n=a.Scope.TYPE&a.Scope.ATTRIBUTE;null!=r.scope?this.scope=r.scope&a.Scope.LEVEL|n:this.scope=a.Scope.ATTRIBUTE,null!=r.whitelist&&(this.whitelist=r.whitelist)}return e.keys=function(e){return[].map.call(e.attributes,function(e){return e.name})},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null!=a.query(e,a.Scope.BLOT&(this.scope|a.Scope.TYPE))&&(null==this.whitelist||("string"===typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1))},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""},e}();t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,s=void 0;try{for(var i,o=e[Symbol.iterator]();!(a=(i=o.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(l){n=!0,s=l}finally{try{!a&&o.return&&o.return()}finally{if(n)throw s}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},i=u(r(2)),o=u(r(0)),l=u(r(4)),c=u(r(6)),d=u(r(7));function u(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return m(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),t}(c.default);g.blotName="code",g.tagName="CODE";var x=function(e){function t(){return m(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),n(t,[{key:"delta",value:function(){var e=this,t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce(function(t,r){return t.insert(r).insert("\n",e.formats())},new i.default)}},{key:"format",value:function(e,r){if(e!==this.statics.blotName||!r){var n=this.descendant(d.default,this.length()-1),i=a(n,1)[0];null!=i&&i.deleteAt(i.length()-1,1),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r)}}},{key:"formatAt",value:function(e,r,a,n){if(0!==r&&null!=o.default.query(a,o.default.Scope.BLOCK)&&(a!==this.statics.blotName||n!==this.statics.formats(this.domNode))){var s=this.newlineIndex(e);if(!(s<0||s>=e+r)){var i=this.newlineIndex(e,!0)+1,l=s-i+1,c=this.isolate(i,l),d=c.next;c.format(a,n),d instanceof t&&d.formatAt(0,e-i+r-l,a,n)}}}},{key:"insertAt",value:function(e,t,r){if(null==r){var n=this.descendant(d.default,e),s=a(n,2),i=s[0],o=s[1];i.insertAt(o,t)}}},{key:"length",value:function(){var e=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?e:e+1}},{key:"newlineIndex",value:function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,e).lastIndexOf("\n");var t=this.domNode.textContent.slice(e).indexOf("\n");return t>-1?e+t:-1}},{key:"optimize",value:function(e){this.domNode.textContent.endsWith("\n")||this.appendChild(o.default.create("text","\n")),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var r=this.next;null!=r&&r.prev===this&&r.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===r.statics.formats(r.domNode)&&(r.optimize(e),r.moveChildren(this),r.remove())}},{key:"replace",value:function(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(e){var t=o.default.find(e);null==t?e.parentNode.removeChild(e):t instanceof o.default.Embed?t.remove():t.unwrap()})}}],[{key:"create",value:function(e){var r=s(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return r.setAttribute("spellcheck",!1),r}},{key:"formats",value:function(){return!0}}]),t}(l.default);x.blotName="code-block",x.tagName="PRE",x.TAB="  ",t.Code=g,t.default=x},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,s=void 0;try{for(var i,o=e[Symbol.iterator]();!(a=(i=o.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(l){n=!0,s=l}finally{try{!a&&o.return&&o.return()}finally{if(n)throw s}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),i=f(r(2)),o=f(r(20)),l=f(r(0)),c=f(r(13)),d=f(r(24)),u=r(4),m=f(u),h=f(r(16)),p=f(r(21)),g=f(r(11)),x=f(r(3));function f(e){return e&&e.__esModule?e:{default:e}}var y=/^[ -~]*$/,v=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scroll=t,this.delta=this.getDelta()}return s(e,[{key:"applyDelta",value:function(e){var t=this,r=!1;this.scroll.update();var s=this.scroll.length();return this.scroll.batchStart(),(e=function(e){return e.reduce(function(e,t){if(1===t.insert){var r=(0,p.default)(t.attributes);return delete r.image,e.insert({image:t.attributes.image},r)}if(null==t.attributes||!0!==t.attributes.list&&!0!==t.attributes.bullet||((t=(0,p.default)(t)).attributes.list?t.attributes.list="ordered":(t.attributes.list="bullet",delete t.attributes.bullet)),"string"===typeof t.insert){var a=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(a,t.attributes)}return e.push(t)},new i.default)}(e)).reduce(function(e,i){var c=i.retain||i.delete||i.insert.length||1,d=i.attributes||{};if(null!=i.insert){if("string"===typeof i.insert){var h=i.insert;h.endsWith("\n")&&r&&(r=!1,h=h.slice(0,-1)),e>=s&&!h.endsWith("\n")&&(r=!0),t.scroll.insertAt(e,h);var p=t.scroll.line(e),g=n(p,2),f=g[0],y=g[1],v=(0,x.default)({},(0,u.bubbleFormats)(f));if(f instanceof m.default){var b=f.descendant(l.default.Leaf,y),w=n(b,1)[0];v=(0,x.default)(v,(0,u.bubbleFormats)(w))}d=o.default.attributes.diff(v,d)||{}}else if("object"===a(i.insert)){var j=Object.keys(i.insert)[0];if(null==j)return e;t.scroll.insertAt(e,j,i.insert[j])}s+=c}return Object.keys(d).forEach(function(r){t.scroll.formatAt(e,c,r,d[r])}),e+c},0),e.reduce(function(e,r){return"number"===typeof r.delete?(t.scroll.deleteAt(e,r.delete),e):e+(r.retain||r.insert.length||1)},0),this.scroll.batchEnd(),this.update(e)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new i.default).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(a).forEach(function(n){if(null==r.scroll.whitelist||r.scroll.whitelist[n]){var s=r.scroll.lines(e,Math.max(t,1)),i=t;s.forEach(function(t){var s=t.length();if(t instanceof c.default){var o=e-t.offset(r.scroll),l=t.newlineIndex(o+i)-o+1;t.formatAt(o,l,n,a[n])}else t.format(n,a[n]);i-=s})}}),this.scroll.optimize(),this.update((new i.default).retain(e).retain(t,(0,p.default)(a)))}},{key:"formatText",value:function(e,t){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(a).forEach(function(n){r.scroll.formatAt(e,t,n,a[n])}),this.update((new i.default).retain(e).retain(t,(0,p.default)(a)))}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(e,t){return e.concat(t.delta())},new i.default)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[],a=[];0===t?this.scroll.path(e).forEach(function(e){var t=n(e,1)[0];t instanceof m.default?r.push(t):t instanceof l.default.Leaf&&a.push(t)}):(r=this.scroll.lines(e,t),a=this.scroll.descendants(l.default.Leaf,e,t));var s=[r,a].map(function(e){if(0===e.length)return{};for(var t=(0,u.bubbleFormats)(e.shift());Object.keys(t).length>0;){var r=e.shift();if(null==r)return t;t=b((0,u.bubbleFormats)(r),t)}return t});return x.default.apply(x.default,s)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter(function(e){return"string"===typeof e.insert}).map(function(e){return e.insert}).join("")}},{key:"insertEmbed",value:function(e,t,r){return this.scroll.insertAt(e,t,r),this.update((new i.default).retain(e).insert(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},t,r)))}},{key:"insertText",value:function(e,t){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(a).forEach(function(n){r.scroll.formatAt(e,t.length,n,a[n])}),this.update((new i.default).retain(e).insert(t,(0,p.default)(a)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===m.default.blotName&&!(e.children.length>1)&&e.children.head instanceof h.default}},{key:"removeFormat",value:function(e,t){var r=this.getText(e,t),a=this.scroll.line(e+t),s=n(a,2),o=s[0],l=s[1],d=0,u=new i.default;null!=o&&(d=o instanceof c.default?o.newlineIndex(l)-l+1:o.length()-l,u=o.delta().slice(l,l+d-1).insert("\n"));var m=this.getContents(e,t+d).diff((new i.default).insert(r).concat(u)),h=(new i.default).retain(e).concat(m);return this.applyDelta(h)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(y)&&l.default.find(t[0].target)){var n=l.default.find(t[0].target),s=(0,u.bubbleFormats)(n),o=n.offset(this.scroll),c=t[0].oldValue.replace(d.default.CONTENTS,""),m=(new i.default).insert(c),h=(new i.default).insert(n.value());e=(new i.default).retain(o).concat(m.diff(h,r)).reduce(function(e,t){return t.insert?e.insert(t.insert,s):e.push(t)},new i.default),this.delta=a.compose(e)}else this.delta=this.getDelta(),e&&(0,g.default)(a.compose(e),this.delta)||(e=a.diff(this.delta,r));return e}}]),e}();function b(e,t){return Object.keys(t).reduce(function(r,a){return null==e[a]||(t[a]===e[a]?r[a]=t[a]:Array.isArray(t[a])?t[a].indexOf(e[a])<0&&(r[a]=t[a].concat([e[a]])):r[a]=[t[a],e[a]]),r},{})}t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,s=void 0;try{for(var i,o=e[Symbol.iterator]();!(a=(i=o.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(l){n=!0,s=l}finally{try{!a&&o.return&&o.return()}finally{if(n)throw s}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=c(r(0)),i=c(r(21)),o=c(r(11)),l=c(r(8));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var m=(0,c(r(10)).default)("quill:selection"),h=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;u(this,e),this.index=t,this.length=r},p=function(){function e(t,r){var a=this;u(this,e),this.emitter=r,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=s.default.create("cursor",this),this.lastRange=this.savedRange=new h(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){a.mouseDown||setTimeout(a.update.bind(a,l.default.sources.USER),1)}),this.emitter.on(l.default.events.EDITOR_CHANGE,function(e,t){e===l.default.events.TEXT_CHANGE&&t.length()>0&&a.update(l.default.sources.SILENT)}),this.emitter.on(l.default.events.SCROLL_BEFORE_UPDATE,function(){if(a.hasFocus()){var e=a.getNativeRange();null!=e&&e.start.node!==a.cursor.textNode&&a.emitter.once(l.default.events.SCROLL_UPDATE,function(){try{a.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset)}catch(t){}})}}),this.emitter.on(l.default.events.SCROLL_OPTIMIZE,function(e,t){if(t.range){var r=t.range,n=r.startNode,s=r.startOffset,i=r.endNode,o=r.endOffset;a.setNativeRange(n,s,i,o)}}),this.update(l.default.sources.SILENT)}return n(e,[{key:"handleComposition",value:function(){var e=this;this.root.addEventListener("compositionstart",function(){e.composing=!0}),this.root.addEventListener("compositionend",function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout(function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,function(){e.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){e.mouseDown=!1,e.update(l.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var r=this.getNativeRange();if(null!=r&&r.native.collapsed&&!s.default.query(e,s.default.Scope.BLOCK)){if(r.start.node!==this.cursor.textNode){var a=s.default.find(r.start.node,!1);if(null==a)return;if(a instanceof s.default.Leaf){var n=a.split(r.start.offset);a.parent.insertBefore(this.cursor,n)}else a.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.scroll.length();e=Math.min(e,r-1),t=Math.min(e+t,r-1)-e;var n=void 0,s=this.scroll.leaf(e),i=a(s,2),o=i[0],l=i[1];if(null==o)return null;var c=o.position(l,!0),d=a(c,2);n=d[0],l=d[1];var u=document.createRange();if(t>0){u.setStart(n,l);var m=this.scroll.leaf(e+t),h=a(m,2);if(o=h[0],l=h[1],null==o)return null;var p=o.position(l,!0),g=a(p,2);return n=g[0],l=g[1],u.setEnd(n,l),u.getBoundingClientRect()}var x="left",f=void 0;return n instanceof Text?(l<n.data.length?(u.setStart(n,l),u.setEnd(n,l+1)):(u.setStart(n,l-1),u.setEnd(n,l),x="right"),f=u.getBoundingClientRect()):(f=o.domNode.getBoundingClientRect(),l>0&&(x="right")),{bottom:f.top+f.height,height:f.height,left:f[x],right:f[x],top:f.top,width:0}}},{key:"getNativeRange",value:function(){var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);if(null==t)return null;var r=this.normalizeNative(t);return m.info("getNativeRange",r),r}},{key:"getRange",value:function(){var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(e){var t=this,r=[[e.start.node,e.start.offset]];e.native.collapsed||r.push([e.end.node,e.end.offset]);var n=r.map(function(e){var r=a(e,2),n=r[0],i=r[1],o=s.default.find(n,!0),l=o.offset(t.scroll);return 0===i?l:o instanceof s.default.Container?l+o.length():l+o.index(n,i)}),i=Math.min(Math.max.apply(Math,d(n)),this.scroll.length()-1),o=Math.min.apply(Math,[i].concat(d(n)));return new h(o,i-o)}},{key:"normalizeNative",value:function(e){if(!g(this.root,e.startContainer)||!e.collapsed&&!g(this.root,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach(function(e){for(var t=e.node,r=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>r)t=t.childNodes[r],r=0;else{if(t.childNodes.length!==r)break;r=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length+1}e.node=t,e.offset=r}),t}},{key:"rangeToNative",value:function(e){var t=this,r=e.collapsed?[e.index]:[e.index,e.index+e.length],n=[],s=this.scroll.length();return r.forEach(function(e,r){e=Math.min(s-1,e);var i,o=t.scroll.leaf(e),l=a(o,2),c=l[0],d=l[1],u=c.position(d,0!==r),m=a(u,2);i=m[0],d=m[1],n.push(i,d)}),n.length<2&&(n=n.concat(n)),n}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var r=this.getBounds(t.index,t.length);if(null!=r){var n=this.scroll.length()-1,s=this.scroll.line(Math.min(t.index,n)),i=a(s,1)[0],o=i;if(t.length>0){var l=this.scroll.line(Math.min(t.index+t.length,n));o=a(l,1)[0]}if(null!=i&&null!=o){var c=e.getBoundingClientRect();r.top<c.top?e.scrollTop-=c.top-r.top:r.bottom>c.bottom&&(e.scrollTop+=r.bottom-c.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(m.info("setNativeRange",e,t,r,a),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=r.parentNode){var s=document.getSelection();if(null!=s)if(null!=e){this.hasFocus()||this.root.focus();var i=(this.getNativeRange()||{}).native;if(null==i||n||e!==i.startContainer||t!==i.startOffset||r!==i.endContainer||a!==i.endOffset){"BR"==e.tagName&&(t=[].indexOf.call(e.parentNode.childNodes,e),e=e.parentNode),"BR"==r.tagName&&(a=[].indexOf.call(r.parentNode.childNodes,r),r=r.parentNode);var o=document.createRange();o.setStart(e,t),o.setEnd(r,a),s.removeAllRanges(),s.addRange(o)}}else s.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;if("string"===typeof t&&(r=t,t=!1),m.info("setRange",e),null!=e){var a=this.rangeToNative(e);this.setNativeRange.apply(this,d(a).concat([t]))}else this.setNativeRange(null);this.update(r)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,t=this.lastRange,r=this.getRange(),n=a(r,2),s=n[0],c=n[1];if(this.lastRange=s,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,o.default)(t,this.lastRange)){var d;!this.composing&&null!=c&&c.native.collapsed&&c.start.node!==this.cursor.textNode&&this.cursor.restore();var u,m=[l.default.events.SELECTION_CHANGE,(0,i.default)(this.lastRange),(0,i.default)(t),e];(d=this.emitter).emit.apply(d,[l.default.events.EDITOR_CHANGE].concat(m)),e!==l.default.sources.SILENT&&(u=this.emitter).emit.apply(u,m)}}}]),e}();function g(e,t){try{t.parentNode}catch(r){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}t.Range=h,t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},i=r(0),o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"insertInto",value:function(e,r){0===e.children.length?s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertInto",this).call(this,e,r):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),t}(((a=i)&&a.__esModule?a:{default:a}).default.Embed);o.blotName="break",o.tagName="BR",t.default=o},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=r(44),s=r(30),i=r(1),o=function(e){function t(t){var r=e.call(this,t)||this;return r.build(),r}return a(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach(function(e){e.attach()})},t.prototype.build=function(){var e=this;this.children=new n.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(t){try{var r=l(t);e.insertBefore(r,e.children.head||void 0)}catch(a){if(a instanceof i.ParchmentError)return;throw a}})},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,function(e,t,r){e.deleteAt(t,r)})},t.prototype.descendant=function(e,r){var a=this.children.find(r),n=a[0],s=a[1];return null==e.blotName&&e(n)||null!=e.blotName&&n instanceof e?[n,s]:n instanceof t?n.descendant(e,s):[null,-1]},t.prototype.descendants=function(e,r,a){void 0===r&&(r=0),void 0===a&&(a=Number.MAX_VALUE);var n=[],s=a;return this.children.forEachAt(r,a,function(r,a,i){(null==e.blotName&&e(r)||null!=e.blotName&&r instanceof e)&&n.push(r),r instanceof t&&(n=n.concat(r.descendants(e,a,s))),s-=i}),n},t.prototype.detach=function(){this.children.forEach(function(e){e.detach()}),e.prototype.detach.call(this)},t.prototype.formatAt=function(e,t,r,a){this.children.forEachAt(e,t,function(e,t,n){e.formatAt(t,n,r,a)})},t.prototype.insertAt=function(e,t,r){var a=this.children.find(e),n=a[0],s=a[1];if(n)n.insertAt(s,t,r);else{var o=null==r?i.create("text",t):i.create(t,r);this.appendChild(o)}},t.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some(function(t){return e instanceof t}))throw new i.ParchmentError("Cannot insert "+e.statics.blotName+" into "+this.statics.blotName);e.insertInto(this,t)},t.prototype.length=function(){return this.children.reduce(function(e,t){return e+t.length()},0)},t.prototype.moveChildren=function(e,t){this.children.forEach(function(r){e.insertBefore(r,t)})},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),0===this.children.length)if(null!=this.statics.defaultChild){var r=i.create(this.statics.defaultChild);this.appendChild(r),r.optimize(t)}else this.remove()},t.prototype.path=function(e,r){void 0===r&&(r=!1);var a=this.children.find(e,r),n=a[0],s=a[1],i=[[this,e]];return n instanceof t?i.concat(n.path(s,r)):(null!=n&&i.push([n,s]),i)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replace=function(r){r instanceof t&&r.moveChildren(this),e.prototype.replace.call(this,r)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var r=this.clone();return this.parent.insertBefore(r,this.next),this.children.forEachAt(e,this.length(),function(e,a,n){e=e.split(a,t),r.appendChild(e)}),r},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(e,t){var r=this,a=[],n=[];e.forEach(function(e){e.target===r.domNode&&"childList"===e.type&&(a.push.apply(a,e.addedNodes),n.push.apply(n,e.removedNodes))}),n.forEach(function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=i.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==r.domNode||t.detach())}}),a.filter(function(e){return e.parentNode==r.domNode}).sort(function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(e){var t=null;null!=e.nextSibling&&(t=i.find(e.nextSibling));var a=l(e);a.next==t&&null!=a.next||(null!=a.parent&&a.parent.removeChild(r),r.insertBefore(a,t||void 0))})},t}(s.default);function l(e){var t=i.find(e);if(null==t)try{t=i.create(e)}catch(r){t=i.create(i.Scope.INLINE),[].slice.call(e.childNodes).forEach(function(e){t.domNode.appendChild(e)}),e.parentNode&&e.parentNode.replaceChild(t.domNode,e),t.attach()}return t}t.default=o},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=r(12),s=r(31),i=r(17),o=r(1),l=function(e){function t(t){var r=e.call(this,t)||this;return r.attributes=new s.default(r.domNode),r}return a(t,e),t.formats=function(e){return"string"===typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,t){var r=o.query(e);r instanceof n.default?this.attributes.attribute(r,t):t&&(null==r||e===this.statics.blotName&&this.formats()[e]===t||this.replaceWith(e,t))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.replaceWith=function(t,r){var a=e.prototype.replaceWith.call(this,t,r);return this.attributes.copy(a),a},t.prototype.update=function(t,r){var a=this;e.prototype.update.call(this,t,r),t.some(function(e){return e.target===a.domNode&&"attributes"===e.type})&&this.attributes.build()},t.prototype.wrap=function(r,a){var n=e.prototype.wrap.call(this,r,a);return n instanceof t&&n.statics.scope===this.statics.scope&&this.attributes.move(n),n},t}(i.default);t.default=l},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=r(30),s=r(1),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.position=function(e,t){var r=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(r+=1),[this.parent.domNode,r]},t.prototype.value=function(){var e;return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e},t.scope=s.Scope.INLINE_BLOT,t}(n.default);t.default=i},function(e,t,r){var a=r(11),n=r(3),s={attributes:{compose:function(e,t,r){"object"!==typeof e&&(e={}),"object"!==typeof t&&(t={});var a=n(!0,{},t);for(var s in r||(a=Object.keys(a).reduce(function(e,t){return null!=a[t]&&(e[t]=a[t]),e},{})),e)void 0!==e[s]&&void 0===t[s]&&(a[s]=e[s]);return Object.keys(a).length>0?a:void 0},diff:function(e,t){"object"!==typeof e&&(e={}),"object"!==typeof t&&(t={});var r=Object.keys(e).concat(Object.keys(t)).reduce(function(r,n){return a(e[n],t[n])||(r[n]=void 0===t[n]?null:t[n]),r},{});return Object.keys(r).length>0?r:void 0},transform:function(e,t,r){if("object"!==typeof e)return t;if("object"===typeof t){if(!r)return t;var a=Object.keys(t).reduce(function(r,a){return void 0===e[a]&&(r[a]=t[a]),r},{});return Object.keys(a).length>0?a:void 0}}},iterator:function(e){return new i(e)},length:function(e){return"number"===typeof e.delete?e.delete:"number"===typeof e.retain?e.retain:"string"===typeof e.insert?e.insert.length:1}};function i(e){this.ops=e,this.index=0,this.offset=0}i.prototype.hasNext=function(){return this.peekLength()<1/0},i.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var r=this.offset,a=s.length(t);if(e>=a-r?(e=a-r,this.index+=1,this.offset=0):this.offset+=e,"number"===typeof t.delete)return{delete:e};var n={};return t.attributes&&(n.attributes=t.attributes),"number"===typeof t.retain?n.retain=e:"string"===typeof t.insert?n.insert=t.insert.substr(r,e):n.insert=t.insert,n}return{retain:1/0}},i.prototype.peek=function(){return this.ops[this.index]},i.prototype.peekLength=function(){return this.ops[this.index]?s.length(this.ops[this.index])-this.offset:1/0},i.prototype.peekType=function(){return this.ops[this.index]?"number"===typeof this.ops[this.index].delete?"delete":"number"===typeof this.ops[this.index].retain?"retain":"insert":"retain"},i.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,r=this.next(),a=this.ops.slice(this.index);return this.offset=e,this.index=t,[r].concat(a)}return[]},e.exports=s},function(e,t){var r=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var t,r,a;try{t=Map}catch(o){t=function(){}}try{r=Set}catch(o){r=function(){}}try{a=Promise}catch(o){a=function(){}}function n(s,o,l,c,d){"object"===typeof o&&(l=o.depth,c=o.prototype,d=o.includeNonEnumerable,o=o.circular);var u=[],m=[],h="undefined"!=typeof Buffer;return"undefined"==typeof o&&(o=!0),"undefined"==typeof l&&(l=1/0),function s(l,p){if(null===l)return null;if(0===p)return l;var g,x;if("object"!=typeof l)return l;if(e(l,t))g=new t;else if(e(l,r))g=new r;else if(e(l,a))g=new a(function(e,t){l.then(function(t){e(s(t,p-1))},function(e){t(s(e,p-1))})});else if(n.__isArray(l))g=[];else if(n.__isRegExp(l))g=new RegExp(l.source,i(l)),l.lastIndex&&(g.lastIndex=l.lastIndex);else if(n.__isDate(l))g=new Date(l.getTime());else{if(h&&Buffer.isBuffer(l))return g=Buffer.allocUnsafe?Buffer.allocUnsafe(l.length):new Buffer(l.length),l.copy(g),g;e(l,Error)?g=Object.create(l):"undefined"==typeof c?(x=Object.getPrototypeOf(l),g=Object.create(x)):(g=Object.create(c),x=c)}if(o){var f=u.indexOf(l);if(-1!=f)return m[f];u.push(l),m.push(g)}for(var y in e(l,t)&&l.forEach(function(e,t){var r=s(t,p-1),a=s(e,p-1);g.set(r,a)}),e(l,r)&&l.forEach(function(e){var t=s(e,p-1);g.add(t)}),l){var v;x&&(v=Object.getOwnPropertyDescriptor(x,y)),v&&null==v.set||(g[y]=s(l[y],p-1))}if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(l);for(y=0;y<b.length;y++){var w=b[y];(!(k=Object.getOwnPropertyDescriptor(l,w))||k.enumerable||d)&&(g[w]=s(l[w],p-1),k.enumerable||Object.defineProperty(g,w,{enumerable:!1}))}}if(d){var j=Object.getOwnPropertyNames(l);for(y=0;y<j.length;y++){var k,N=j[y];(k=Object.getOwnPropertyDescriptor(l,N))&&k.enumerable||(g[N]=s(l[N],p-1),Object.defineProperty(g,N,{enumerable:!1}))}}return g}(s,l)}function s(e){return Object.prototype.toString.call(e)}function i(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return n.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},n.__objToStr=s,n.__isDate=function(e){return"object"===typeof e&&"[object Date]"===s(e)},n.__isArray=function(e){return"object"===typeof e&&"[object Array]"===s(e)},n.__isRegExp=function(e){return"object"===typeof e&&"[object RegExp]"===s(e)},n.__getRegExpFlags=i,n}();"object"===typeof e&&e.exports&&(e.exports=r)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,s=void 0;try{for(var i,o=e[Symbol.iterator]();!(a=(i=o.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(l){n=!0,s=l}finally{try{!a&&o.return&&o.return()}finally{if(n)throw s}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},i=h(r(0)),o=h(r(8)),l=r(4),c=h(l),d=h(r(16)),u=h(r(13)),m=h(r(25));function h(e){return e&&e.__esModule?e:{default:e}}function p(e){return e instanceof c.default||e instanceof l.BlockEmbed}var g=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.emitter=r.emitter,Array.isArray(r.whitelist)&&(a.whitelist=r.whitelist.reduce(function(e,t){return e[t]=!0,e},{})),a.domNode.addEventListener("DOMNodeInserted",function(){}),a.optimize(),a.enable(),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(e,r){var n=this.line(e),i=a(n,2),o=i[0],c=i[1],m=this.line(e+r),h=a(m,1)[0];if(s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,r),null!=h&&o!==h&&c>0){if(o instanceof l.BlockEmbed||h instanceof l.BlockEmbed)return void this.optimize();if(o instanceof u.default){var p=o.newlineIndex(o.length(),!0);if(p>-1&&(o=o.split(p+1))===h)return void this.optimize()}else if(h instanceof u.default){var g=h.newlineIndex(0);g>-1&&h.split(g+1)}var x=h.children.head instanceof d.default?null:h.children.head;o.moveChildren(h,x),o.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,r,a,n){(null==this.whitelist||this.whitelist[a])&&(s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,r,a,n),this.optimize())}},{key:"insertAt",value:function(e,r,a){if(null==a||null==this.whitelist||this.whitelist[r]){if(e>=this.length())if(null==a||null==i.default.query(r,i.default.Scope.BLOCK)){var n=i.default.create(this.statics.defaultChild);this.appendChild(n),null==a&&r.endsWith("\n")&&(r=r.slice(0,-1)),n.insertAt(0,r,a)}else{var o=i.default.create(r,a);this.appendChild(o)}else s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,r,a);this.optimize()}}},{key:"insertBefore",value:function(e,r){if(e.statics.scope===i.default.Scope.INLINE_BLOT){var a=i.default.create(this.statics.defaultChild);a.appendChild(e),e=a}s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,r)}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(p,e)}},{key:"lines",value:function(){return function e(t,r,a){var n=[],s=a;return t.children.forEachAt(r,a,function(t,r,a){p(t)?n.push(t):t instanceof i.default.Container&&(n=n.concat(e(t,r,s))),s-=a}),n}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e,r),e.length>0&&this.emitter.emit(o.default.events.SCROLL_OPTIMIZE,e,r))}},{key:"path",value:function(e){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e).slice(1)}},{key:"update",value:function(e){if(!0!==this.batch){var r=o.default.sources.USER;"string"===typeof e&&(r=e),Array.isArray(e)||(e=this.observer.takeRecords()),e.length>0&&this.emitter.emit(o.default.events.SCROLL_BEFORE_UPDATE,r,e),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(o.default.events.SCROLL_UPDATE,r,e)}}}]),t}(i.default.Scroll);g.blotName="scroll",g.className="ql-editor",g.tagName="DIV",g.defaultChild="block",g.allowedChildren=[c.default,l.BlockEmbed,m.default],t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,s=void 0;try{for(var i,o=e[Symbol.iterator]();!(a=(i=o.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(l){n=!0,s=l}finally{try{!a&&o.return&&o.return()}finally{if(n)throw s}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),i=g(r(21)),o=g(r(11)),l=g(r(3)),c=g(r(2)),d=g(r(20)),u=g(r(0)),m=g(r(5)),h=g(r(10)),p=g(r(9));function g(e){return e&&e.__esModule?e:{default:e}}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=(0,h.default)("quill:keyboard"),y=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",v=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return a.bindings={},Object.keys(a.options.bindings).forEach(function(t){("list autofill"!==t||null==e.scroll.whitelist||e.scroll.whitelist.list)&&a.options.bindings[t]&&a.addBinding(a.options.bindings[t])}),a.addBinding({key:t.keys.ENTER,shiftKey:null},N),a.addBinding({key:t.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(a.addBinding({key:t.keys.BACKSPACE},{collapsed:!0},w),a.addBinding({key:t.keys.DELETE},{collapsed:!0},j)):(a.addBinding({key:t.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},w),a.addBinding({key:t.keys.DELETE},{collapsed:!0,suffix:/^.?$/},j)),a.addBinding({key:t.keys.BACKSPACE},{collapsed:!1},k),a.addBinding({key:t.keys.DELETE},{collapsed:!1},k),a.addBinding({key:t.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},w),a.listen(),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,null,[{key:"match",value:function(e,t){return t=S(t),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(r){return!!t[r]!==e[r]&&null!==t[r]})&&t.key===(e.which||e.keyCode)}}]),s(t,[{key:"addBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=S(e);if(null==a||null==a.key)return f.warn("Attempted to add invalid keyboard binding",a);"function"===typeof t&&(t={handler:t}),"function"===typeof r&&(r={handler:r}),a=(0,l.default)(a,t,r),this.bindings[a.key]=this.bindings[a.key]||[],this.bindings[a.key].push(a)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",function(r){if(!r.defaultPrevented){var s=r.which||r.keyCode,i=(e.bindings[s]||[]).filter(function(e){return t.match(r,e)});if(0!==i.length){var l=e.quill.getSelection();if(null!=l&&e.quill.hasFocus()){var c=e.quill.getLine(l.index),d=n(c,2),m=d[0],h=d[1],p=e.quill.getLeaf(l.index),g=n(p,2),x=g[0],f=g[1],y=0===l.length?[x,f]:e.quill.getLeaf(l.index+l.length),v=n(y,2),b=v[0],w=v[1],j=x instanceof u.default.Text?x.value().slice(0,f):"",k=b instanceof u.default.Text?b.value().slice(w):"",N={collapsed:0===l.length,empty:0===l.length&&m.length()<=1,format:e.quill.getFormat(l),offset:h,prefix:j,suffix:k};i.some(function(t){if(null!=t.collapsed&&t.collapsed!==N.collapsed)return!1;if(null!=t.empty&&t.empty!==N.empty)return!1;if(null!=t.offset&&t.offset!==N.offset)return!1;if(Array.isArray(t.format)){if(t.format.every(function(e){return null==N.format[e]}))return!1}else if("object"===a(t.format)&&!Object.keys(t.format).every(function(e){return!0===t.format[e]?null!=N.format[e]:!1===t.format[e]?null==N.format[e]:(0,o.default)(t.format[e],N.format[e])}))return!1;return!(null!=t.prefix&&!t.prefix.test(N.prefix))&&!(null!=t.suffix&&!t.suffix.test(N.suffix))&&!0!==t.handler.call(e,l,N)})&&r.preventDefault()}}}})}}]),t}(p.default);function b(e,t){var r,a=e===v.keys.LEFT?"prefix":"suffix";return x(r={key:e,shiftKey:t,altKey:null},a,/^$/),x(r,"handler",function(r){var a=r.index;e===v.keys.RIGHT&&(a+=r.length+1);var s=this.quill.getLeaf(a);return!(n(s,1)[0]instanceof u.default.Embed)||(e===v.keys.LEFT?t?this.quill.setSelection(r.index-1,r.length+1,m.default.sources.USER):this.quill.setSelection(r.index-1,m.default.sources.USER):t?this.quill.setSelection(r.index,r.length+1,m.default.sources.USER):this.quill.setSelection(r.index+r.length+1,m.default.sources.USER),!1)}),r}function w(e,t){if(!(0===e.index||this.quill.getLength()<=1)){var r=this.quill.getLine(e.index),a=n(r,1)[0],s={};if(0===t.offset){var i=this.quill.getLine(e.index-1),o=n(i,1)[0];if(null!=o&&o.length()>1){var l=a.formats(),c=this.quill.getFormat(e.index-1,1);s=d.default.attributes.diff(l,c)||{}}}var u=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-u,u,m.default.sources.USER),Object.keys(s).length>0&&this.quill.formatLine(e.index-u,u,s,m.default.sources.USER),this.quill.focus()}}function j(e,t){var r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-r)){var a={},s=0,i=this.quill.getLine(e.index),o=n(i,1)[0];if(t.offset>=o.length()-1){var l=this.quill.getLine(e.index+1),c=n(l,1)[0];if(c){var u=o.formats(),h=this.quill.getFormat(e.index,1);a=d.default.attributes.diff(u,h)||{},s=c.length()}}this.quill.deleteText(e.index,r,m.default.sources.USER),Object.keys(a).length>0&&this.quill.formatLine(e.index+s-1,r,a,m.default.sources.USER)}}function k(e){var t=this.quill.getLines(e),r={};if(t.length>1){var a=t[0].formats(),n=t[t.length-1].formats();r=d.default.attributes.diff(n,a)||{}}this.quill.deleteText(e,m.default.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(e.index,1,r,m.default.sources.USER),this.quill.setSelection(e.index,m.default.sources.SILENT),this.quill.focus()}function N(e,t){var r=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var a=Object.keys(t.format).reduce(function(e,r){return u.default.query(r,u.default.Scope.BLOCK)&&!Array.isArray(t.format[r])&&(e[r]=t.format[r]),e},{});this.quill.insertText(e.index,"\n",a,m.default.sources.USER),this.quill.setSelection(e.index+1,m.default.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach(function(e){null==a[e]&&(Array.isArray(t.format[e])||"link"!==e&&r.quill.format(e,t.format[e],m.default.sources.USER))})}function C(e){return{key:v.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){var r=u.default.query("code-block"),a=t.index,s=t.length,i=this.quill.scroll.descendant(r,a),o=n(i,2),l=o[0],c=o[1];if(null!=l){var d=this.quill.getIndex(l),h=l.newlineIndex(c,!0)+1,p=l.newlineIndex(d+c+s),g=l.domNode.textContent.slice(h,p).split("\n");c=0,g.forEach(function(t,n){e?(l.insertAt(h+c,r.TAB),c+=r.TAB.length,0===n?a+=r.TAB.length:s+=r.TAB.length):t.startsWith(r.TAB)&&(l.deleteAt(h+c,r.TAB.length),c-=r.TAB.length,0===n?a-=r.TAB.length:s-=r.TAB.length),c+=t.length+1}),this.quill.update(m.default.sources.USER),this.quill.setSelection(a,s,m.default.sources.SILENT)}}}}function A(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,r){this.quill.format(e,!r.format[e],m.default.sources.USER)}}}function S(e){if("string"===typeof e||"number"===typeof e)return S({key:e});if("object"===("undefined"===typeof e?"undefined":a(e))&&(e=(0,i.default)(e,!1)),"string"===typeof e.key)if(null!=v.keys[e.key.toUpperCase()])e.key=v.keys[e.key.toUpperCase()];else{if(1!==e.key.length)return null;e.key=e.key.toUpperCase().charCodeAt(0)}return e.shortKey&&(e[y]=e.shortKey,delete e.shortKey),e}v.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},v.DEFAULTS={bindings:{bold:A("bold"),italic:A("italic"),underline:A("underline"),indent:{key:v.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","+1",m.default.sources.USER)}},outdent:{key:v.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","-1",m.default.sources.USER)}},"outdent backspace":{key:v.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",m.default.sources.USER):null!=t.format.list&&this.quill.format("list",!1,m.default.sources.USER)}},"indent code-block":C(!0),"outdent code-block":C(!1),"remove tab":{key:v.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,m.default.sources.USER)}},tab:{key:v.keys.TAB,handler:function(e){this.quill.history.cutoff();var t=(new c.default).retain(e.index).delete(e.length).insert("\t");this.quill.updateContents(t,m.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,m.default.sources.SILENT)}},"list empty enter":{key:v.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,m.default.sources.USER),t.format.indent&&this.quill.format("indent",!1,m.default.sources.USER)}},"checklist enter":{key:v.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){var t=this.quill.getLine(e.index),r=n(t,2),a=r[0],s=r[1],i=(0,l.default)({},a.formats(),{list:"checked"}),o=(new c.default).retain(e.index).insert("\n",i).retain(a.length()-s-1).retain(1,{list:"unchecked"});this.quill.updateContents(o,m.default.sources.USER),this.quill.setSelection(e.index+1,m.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:v.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var r=this.quill.getLine(e.index),a=n(r,2),s=a[0],i=a[1],o=(new c.default).retain(e.index).insert("\n",t.format).retain(s.length()-i-1).retain(1,{header:null});this.quill.updateContents(o,m.default.sources.USER),this.quill.setSelection(e.index+1,m.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){var r=t.prefix.length,a=this.quill.getLine(e.index),s=n(a,2),i=s[0],o=s[1];if(o>r)return!0;var l=void 0;switch(t.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(e.index," ",m.default.sources.USER),this.quill.history.cutoff();var d=(new c.default).retain(e.index-o).delete(r+1).retain(i.length()-2-o).retain(1,{list:l});this.quill.updateContents(d,m.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-r,m.default.sources.SILENT)}},"code exit":{key:v.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){var t=this.quill.getLine(e.index),r=n(t,2),a=r[0],s=r[1],i=(new c.default).retain(e.index+a.length()-s-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(i,m.default.sources.USER)}},"embed left":b(v.keys.LEFT,!1),"embed left shift":b(v.keys.LEFT,!0),"embed right":b(v.keys.RIGHT,!1),"embed right shift":b(v.keys.RIGHT,!0)}},t.default=v,t.SHORTKEY=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,s=void 0;try{for(var i,o=e[Symbol.iterator]();!(a=(i=o.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(l){n=!0,s=l}finally{try{!a&&o.return&&o.return()}finally{if(n)throw s}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),i=l(r(0)),o=l(r(7));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.selection=r,a.textNode=document.createTextNode(t.CONTENTS),a.domNode.appendChild(a.textNode),a._length=0,a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,null,[{key:"value",value:function(){}}]),s(t,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,r){if(0!==this._length)return n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r);for(var a=this,s=0;null!=a&&a.statics.scope!==i.default.Scope.BLOCK_BLOT;)s+=a.offset(a.parent),a=a.parent;null!=a&&(this._length=t.CONTENTS.length,a.optimize(),a.formatAt(s,t.CONTENTS.length,e,r),this._length=0)}},{key:"index",value:function(e,r){return e===this.textNode?0:n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,r)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var e=this.textNode,r=this.selection.getNativeRange(),n=void 0,s=void 0,l=void 0;if(null!=r&&r.start.node===e&&r.end.node===e){var c=[e,r.start.offset,r.end.offset];n=c[0],s=c[1],l=c[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==t.CONTENTS){var d=this.textNode.data.split(t.CONTENTS).join("");this.next instanceof o.default?(n=this.next.domNode,this.next.insertAt(0,d),this.textNode.data=t.CONTENTS):(this.textNode.data=d,this.parent.insertBefore(i.default.create(this.textNode),this),this.textNode=document.createTextNode(t.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=s){var u=[s,l].map(function(e){return Math.max(0,Math.min(n.data.length,e-1))}),m=a(u,2);return s=m[0],l=m[1],{startNode:n,startOffset:s,endNode:n,endOffset:l}}}}},{key:"update",value:function(e,t){var r=this;if(e.some(function(e){return"characterData"===e.type&&e.target===r.textNode})){var a=this.restore();a&&(t.range=a)}}},{key:"value",value:function(){return""}}]),t}(i.default.Embed);c.blotName="cursor",c.className="ql-cursor",c.tagName="span",c.CONTENTS="\ufeff",t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(r(0)),n=r(4),s=i(n);function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(a.default.Container);o.allowedChildren=[s.default,n.BlockEmbed,o],t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var a,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},i=r(0),o=(a=i)&&a.__esModule?a:{default:a},l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"value",value:function(e){var r=s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e);return r.startsWith("rgb(")?(r=r.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+r.split(",").map(function(e){return("00"+parseInt(e).toString(16)).slice(-2)}).join("")):r}}]),t}(o.default.Attributor.Style),c=new o.default.Attributor.Class("color","ql-color",{scope:o.default.Scope.INLINE}),d=new l("color","color",{scope:o.default.Scope.INLINE});t.ColorAttributor=l,t.ColorClass=c,t.ColorStyle=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var a,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},i=r(6),o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"format",value:function(e,r){if(e!==this.statics.blotName||!r)return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r);r=this.constructor.sanitize(r),this.domNode.setAttribute("href",r)}}],[{key:"create",value:function(e){var r=s(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return e=this.sanitize(e),r.setAttribute("href",e),r.setAttribute("rel","noopener noreferrer"),r.setAttribute("target","_blank"),r}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return l(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}]),t}(((a=i)&&a.__esModule?a:{default:a}).default);function l(e,t){var r=document.createElement("a");r.href=e;var a=r.href.slice(0,r.href.indexOf(":"));return t.indexOf(a)>-1}o.blotName="link",o.tagName="A",o.SANITIZED_URL="about:blank",o.PROTOCOL_WHITELIST=["http","https","mailto","tel"],t.default=o,t.sanitize=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=o(r(23)),i=o(r(107));function o(e){return e&&e.__esModule?e:{default:e}}var l=0;function c(e,t){e.setAttribute(t,!("true"===e.getAttribute(t)))}var d=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){r.togglePicker()}),this.label.addEventListener("keydown",function(e){switch(e.keyCode){case s.default.keys.ENTER:r.togglePicker();break;case s.default.keys.ESCAPE:r.escape(),e.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return n(e,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),c(this.label,"aria-expanded"),c(this.options,"aria-hidden")}},{key:"buildItem",value:function(e){var t=this,r=document.createElement("span");return r.tabIndex="0",r.setAttribute("role","button"),r.classList.add("ql-picker-item"),e.hasAttribute("value")&&r.setAttribute("data-value",e.getAttribute("value")),e.textContent&&r.setAttribute("data-label",e.textContent),r.addEventListener("click",function(){t.selectItem(r,!0)}),r.addEventListener("keydown",function(e){switch(e.keyCode){case s.default.keys.ENTER:t.selectItem(r,!0),e.preventDefault();break;case s.default.keys.ESCAPE:t.escape(),e.preventDefault()}}),r}},{key:"buildLabel",value:function(){var e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=i.default,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}},{key:"buildOptions",value:function(){var e=this,t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id="ql-picker-options-"+l,l+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,[].slice.call(this.select.options).forEach(function(r){var a=e.buildItem(r);t.appendChild(a),!0===r.selected&&e.selectItem(a)}),this.container.appendChild(t)}},{key:"buildPicker",value:function(){var e=this;[].slice.call(this.select.attributes).forEach(function(t){e.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var e=this;this.close(),setTimeout(function(){return e.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.container.querySelector(".ql-selected");if(e!==r&&(null!=r&&r.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(e.parentNode.children,e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t))){if("function"===typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"===typeof Event?"undefined":a(Event))){var n=document.createEvent("Event");n.initEvent("change",!0,!0),this.select.dispatchEvent(n)}this.close()}}},{key:"update",value:function(){var e=void 0;if(this.select.selectedIndex>-1){var t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);var r=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",r)}}]),e}();t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=f(r(0)),n=f(r(5)),s=r(4),i=f(s),o=f(r(16)),l=f(r(25)),c=f(r(24)),d=f(r(35)),u=f(r(6)),m=f(r(22)),h=f(r(7)),p=f(r(55)),g=f(r(42)),x=f(r(23));function f(e){return e&&e.__esModule?e:{default:e}}n.default.register({"blots/block":i.default,"blots/block/embed":s.BlockEmbed,"blots/break":o.default,"blots/container":l.default,"blots/cursor":c.default,"blots/embed":d.default,"blots/inline":u.default,"blots/scroll":m.default,"blots/text":h.default,"modules/clipboard":p.default,"modules/history":g.default,"modules/keyboard":x.default}),a.default.register(i.default,o.default,c.default,u.default,m.default,h.default),t.default=n.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),n=function(){function e(e){this.domNode=e,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),e.create=function(e){if(null==this.tagName)throw new a.ParchmentError("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"===typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),t="number"===typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},e.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},e.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return a.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,r,n){var s=this.isolate(e,t);if(null!=a.query(r,a.Scope.BLOT)&&n)s.wrap(r,n);else if(null!=a.query(r,a.Scope.ATTRIBUTE)){var i=a.create(this.statics.scope);s.wrap(i),i.format(r,n)}},e.prototype.insertAt=function(e,t,r){var n=null==r?a.create("text",t):a.create(t,r),s=this.split(e);this.parent.insertBefore(n,s)},e.prototype.insertInto=function(e,t){void 0===t&&(t=null),null!=this.parent&&this.parent.children.remove(this);var r=null;e.children.insertBefore(this,t),null!=t&&(r=t.domNode),this.domNode.parentNode==e.domNode&&this.domNode.nextSibling==r||e.domNode.insertBefore(this.domNode,r),this.parent=e,this.attach()},e.prototype.isolate=function(e,t){var r=this.split(e);return r.split(t),r},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(e){null!=this.domNode[a.DATA_KEY]&&delete this.domNode[a.DATA_KEY].mutations},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},e.prototype.replaceWith=function(e,t){var r="string"===typeof e?a.create(e,t):e;return r.replace(this),r},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e,t){},e.prototype.wrap=function(e,t){var r="string"===typeof e?a.create(e,t):e;return null!=this.parent&&this.parent.insertBefore(r,this.next),r.appendChild(this),r},e.blotName="abstract",e}();t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(12),n=r(32),s=r(33),i=r(1),o=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=a.default.keys(this.domNode),r=n.default.keys(this.domNode),o=s.default.keys(this.domNode);t.concat(r).concat(o).forEach(function(t){var r=i.query(t,i.Scope.ATTRIBUTE);r instanceof a.default&&(e.attributes[r.attrName]=r)})},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach(function(r){var a=t.attributes[r].value(t.domNode);e.format(r,a)})},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach(function(e){t.attributes[e].remove(t.domNode)}),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce(function(t,r){return t[r]=e.attributes[r].value(e.domNode),t},{})},e}();t.default=o},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();function n(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter(function(e){return 0===e.indexOf(t+"-")})}Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map(function(e){return e.split("-").slice(0,-1).join("-")})},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},t.prototype.remove=function(e){n(e,this.keyName).forEach(function(t){e.classList.remove(t)}),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=(n(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""},t}(r(12).default);t.default=s},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();function n(e){var t=e.split("-"),r=t.slice(1).map(function(e){return e[0].toUpperCase()+e.slice(1)}).join("");return t[0]+r}Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map(function(e){return e.split(":")[0].trim()})},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[n(this.keyName)]=t,!0)},t.prototype.remove=function(e){e.style[n(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style[n(this.keyName)];return this.canAdd(e,t)?t:""},t}(r(12).default);t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=r,this.modules={}}return a(e,[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach(function(t){null==e.modules[t]&&e.addModule(t)})}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/"+e);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}]),e}();n.DEFAULTS={modules:{}},n.themes={default:n},t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},s=o(r(0)),i=o(r(7));function o(e){return e&&e.__esModule?e:{default:e}}var l="\ufeff",c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.contentNode=document.createElement("span"),r.contentNode.setAttribute("contenteditable",!1),[].slice.call(r.domNode.childNodes).forEach(function(e){r.contentNode.appendChild(e)}),r.leftGuard=document.createTextNode(l),r.rightGuard=document.createTextNode(l),r.domNode.appendChild(r.leftGuard),r.domNode.appendChild(r.contentNode),r.domNode.appendChild(r.rightGuard),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"index",value:function(e,r){return e===this.leftGuard?0:e===this.rightGuard?1:n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,r)}},{key:"restore",value:function(e){var t=void 0,r=void 0,a=e.data.split(l).join("");if(e===this.leftGuard)if(this.prev instanceof i.default){var n=this.prev.length();this.prev.insertAt(n,a),t={startNode:this.prev.domNode,startOffset:n+a.length}}else r=document.createTextNode(a),this.parent.insertBefore(s.default.create(r),this),t={startNode:r,startOffset:a.length};else e===this.rightGuard&&(this.next instanceof i.default?(this.next.insertAt(0,a),t={startNode:this.next.domNode,startOffset:a.length}):(r=document.createTextNode(a),this.parent.insertBefore(s.default.create(r),this.next),t={startNode:r,startOffset:a.length}));return e.data=l,t}},{key:"update",value:function(e,t){var r=this;e.forEach(function(e){if("characterData"===e.type&&(e.target===r.leftGuard||e.target===r.rightGuard)){var a=r.restore(e.target);a&&(t.range=a)}})}}]),t}(s.default.Embed);t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var a,n=r(0),s=(a=n)&&a.__esModule?a:{default:a},i={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},o=new s.default.Attributor.Attribute("align","align",i),l=new s.default.Attributor.Class("align","ql-align",i),c=new s.default.Attributor.Style("align","text-align",i);t.AlignAttribute=o,t.AlignClass=l,t.AlignStyle=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var a,n=r(0),s=(a=n)&&a.__esModule?a:{default:a},i=r(26),o=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),l=new i.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});t.BackgroundClass=o,t.BackgroundStyle=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var a,n=r(0),s=(a=n)&&a.__esModule?a:{default:a},i={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},o=new s.default.Attributor.Attribute("direction","dir",i),l=new s.default.Attributor.Class("direction","ql-direction",i),c=new s.default.Attributor.Style("direction","direction",i);t.DirectionAttribute=o,t.DirectionClass=l,t.DirectionStyle=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var a,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},i=r(0),o=(a=i)&&a.__esModule?a:{default:a},l={scope:o.default.Scope.INLINE,whitelist:["serif","monospace"]},c=new o.default.Attributor.Class("font","ql-font",l),d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"value",value:function(e){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e).replace(/["']/g,"")}}]),t}(o.default.Attributor.Style),u=new d("font","font-family",l);t.FontStyle=u,t.FontClass=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var a,n=r(0),s=(a=n)&&a.__esModule?a:{default:a},i=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),o=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=i,t.SizeStyle=o},function(e,t,r){"use strict";e.exports={align:{"":r(76),center:r(77),right:r(78),justify:r(79)},background:r(80),blockquote:r(81),bold:r(82),clean:r(83),code:r(58),"code-block":r(58),color:r(84),direction:{"":r(85),rtl:r(86)},float:{center:r(87),full:r(88),left:r(89),right:r(90)},formula:r(91),header:{1:r(92),2:r(93)},italic:r(94),image:r(95),indent:{"+1":r(96),"-1":r(97)},link:r(98),list:{ordered:r(99),bullet:r(100),check:r(101)},script:{sub:r(102),super:r(103)},strike:r(104),underline:r(105),video:r(106)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=i(r(0)),s=i(r(5));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return a.lastRecorded=0,a.ignoreChange=!1,a.clear(),a.quill.on(s.default.events.EDITOR_CHANGE,function(e,t,r,n){e!==s.default.events.TEXT_CHANGE||a.ignoreChange||(a.options.userOnly&&n!==s.default.sources.USER?a.transform(t):a.record(t,r))}),a.quill.keyboard.addBinding({key:"Z",shortKey:!0},a.undo.bind(a)),a.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},a.redo.bind(a)),/Win/i.test(navigator.platform)&&a.quill.keyboard.addBinding({key:"Y",shortKey:!0},a.redo.bind(a)),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var r=this.stack[e].pop();this.stack[t].push(r),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(r[e],s.default.sources.USER),this.ignoreChange=!1;var a=l(r[e]);this.quill.setSelection(a)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var r=this.quill.getContents().diff(t),a=Date.now();if(this.lastRecorded+this.options.delay>a&&this.stack.undo.length>0){var n=this.stack.undo.pop();r=r.compose(n.undo),e=n.redo.compose(e)}else this.lastRecorded=a;this.stack.undo.push({redo:e,undo:r}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){this.stack.undo.forEach(function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}),this.stack.redo.forEach(function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),t}(i(r(9)).default);function l(e){var t=e.reduce(function(e,t){return e+=t.delete||0},0),r=e.length()-t;return function(e){var t=e.ops[e.ops.length-1];return null!=t&&(null!=t.insert?"string"===typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some(function(e){return null!=n.default.query(e,n.default.Scope.BLOCK)}))}(e)&&(r-=1),r}o.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},t.default=o,t.getLastChangeIndex=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},s=p(r(3)),i=p(r(2)),o=p(r(8)),l=p(r(23)),c=p(r(34)),d=p(r(59)),u=p(r(60)),m=p(r(28)),h=p(r(61));function p(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=[!1,"center","right","justify"],v=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],b=[!1,"serif","monospace"],w=["1","2","3",!1],j=["small",!1,"large","huge"],k=function(e){function t(e,r){g(this,t);var a=x(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return e.emitter.listenDOM("click",document.body,function t(r){if(!document.body.contains(e.root))return document.body.removeEventListener("click",t);null==a.tooltip||a.tooltip.root.contains(r.target)||document.activeElement===a.tooltip.textbox||a.quill.hasFocus()||a.tooltip.hide(),null!=a.pickers&&a.pickers.forEach(function(e){e.container.contains(r.target)||e.close()})}),a}return f(t,e),a(t,[{key:"addModule",value:function(e){var r=n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addModule",this).call(this,e);return"toolbar"===e&&this.extendToolbar(r),r}},{key:"buildButtons",value:function(e,t){e.forEach(function(e){(e.getAttribute("class")||"").split(/\s+/).forEach(function(r){if(r.startsWith("ql-")&&(r=r.slice(3),null!=t[r]))if("direction"===r)e.innerHTML=t[r][""]+t[r].rtl;else if("string"===typeof t[r])e.innerHTML=t[r];else{var a=e.value||"";null!=a&&t[r][a]&&(e.innerHTML=t[r][a])}})})}},{key:"buildPickers",value:function(e,t){var r=this;this.pickers=e.map(function(e){if(e.classList.contains("ql-align"))return null==e.querySelector("option")&&C(e,y),new u.default(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){var r=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&C(e,v,"background"===r?"#ffffff":"#000000"),new d.default(e,t[r])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?C(e,b):e.classList.contains("ql-header")?C(e,w):e.classList.contains("ql-size")&&C(e,j)),new m.default(e)}),this.quill.on(o.default.events.EDITOR_CHANGE,function(){r.pickers.forEach(function(e){e.update()})})}}]),t}(c.default);k.DEFAULTS=(0,s.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var e=this,t=this.container.querySelector("input.ql-image[type=file]");null==t&&((t=document.createElement("input")).setAttribute("type","file"),t.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),t.classList.add("ql-image"),t.addEventListener("change",function(){if(null!=t.files&&null!=t.files[0]){var r=new FileReader;r.onload=function(r){var a=e.quill.getSelection(!0);e.quill.updateContents((new i.default).retain(a.index).delete(a.length).insert({image:r.target.result}),o.default.sources.USER),e.quill.setSelection(a.index+1,o.default.sources.SILENT),t.value=""},r.readAsDataURL(t.files[0])}}),this.container.appendChild(t)),t.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var N=function(e){function t(e,r){g(this,t);var a=x(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return a.textbox=a.root.querySelector('input[type="text"]'),a.listen(),a}return f(t,e),a(t,[{key:"listen",value:function(){var e=this;this.textbox.addEventListener("keydown",function(t){l.default.match(t,"enter")?(e.save(),t.preventDefault()):l.default.match(t,"escape")&&(e.cancel(),t.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+e)||""),this.root.setAttribute("data-mode",e)}},{key:"restoreFocus",value:function(){var e=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=e}},{key:"save",value:function(){var e=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var t=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,o.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,o.default.sources.USER)),this.quill.root.scrollTop=t;break;case"video":e=function(e){var t=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?(t[1]||"https")+"://www.youtube.com/embed/"+t[2]+"?showinfo=0":(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(t[1]||"https")+"://player.vimeo.com/video/"+t[2]+"/":e}(e);case"formula":if(!e)break;var r=this.quill.getSelection(!0);if(null!=r){var a=r.index+r.length;this.quill.insertEmbed(a,this.root.getAttribute("data-mode"),e,o.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(a+1," ",o.default.sources.USER),this.quill.setSelection(a+2,o.default.sources.USER)}}this.textbox.value="",this.hide()}}]),t}(h.default);function C(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach(function(t){var a=document.createElement("option");t===r?a.setAttribute("selected","selected"):a.setAttribute("value",t),e.appendChild(a)})}t.BaseTooltip=N,t.default=k},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){this.head=this.tail=null,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.insertBefore(e[0],null),e.length>1&&this.append.apply(this,e.slice(1))},e.prototype.contains=function(e){for(var t,r=this.iterator();t=r();)if(t===e)return!0;return!1},e.prototype.insertBefore=function(e,t){e&&(e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)},e.prototype.offset=function(e){for(var t=0,r=this.head;null!=r;){if(r===e)return t;t+=r.length(),r=r.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var r,a=this.iterator();r=a();){var n=r.length();if(e<n||t&&e===n&&(null==r.next||0!==r.next.length()))return[r,e];e-=n}return[null,0]},e.prototype.forEach=function(e){for(var t,r=this.iterator();t=r();)e(t)},e.prototype.forEachAt=function(e,t,r){if(!(t<=0))for(var a,n=this.find(e),s=n[0],i=e-n[1],o=this.iterator(s);(a=o())&&i<e+t;){var l=a.length();e>i?r(a,e-i,Math.min(t,i+l-e)):r(a,0,Math.min(l,e+t-i)),i+=l}},e.prototype.map=function(e){return this.reduce(function(t,r){return t.push(e(r)),t},[])},e.prototype.reduce=function(e,t){for(var r,a=this.iterator();r=a();)t=e(t,r);return t},e}();t.default=a},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=r(17),s=r(1),i={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},o=function(e){function t(t){var r=e.call(this,t)||this;return r.scroll=r,r.observer=new MutationObserver(function(e){r.update(e)}),r.observer.observe(r.domNode,i),r.attach(),r}return a(t,e),t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,r){this.update(),0===t&&r===this.length()?this.children.forEach(function(e){e.remove()}):e.prototype.deleteAt.call(this,t,r)},t.prototype.formatAt=function(t,r,a,n){this.update(),e.prototype.formatAt.call(this,t,r,a,n)},t.prototype.insertAt=function(t,r,a){this.update(),e.prototype.insertAt.call(this,t,r,a)},t.prototype.optimize=function(t,r){var a=this;void 0===t&&(t=[]),void 0===r&&(r={}),e.prototype.optimize.call(this,r);for(var i=[].slice.call(this.observer.takeRecords());i.length>0;)t.push(i.pop());for(var o=function(e,t){void 0===t&&(t=!0),null!=e&&e!==a&&null!=e.domNode.parentNode&&(null==e.domNode[s.DATA_KEY].mutations&&(e.domNode[s.DATA_KEY].mutations=[]),t&&o(e.parent))},l=function(e){null!=e.domNode[s.DATA_KEY]&&null!=e.domNode[s.DATA_KEY].mutations&&(e instanceof n.default&&e.children.forEach(l),e.optimize(r))},c=t,d=0;c.length>0;d+=1){if(d>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach(function(e){var t=s.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(o(s.find(e.previousSibling,!1)),[].forEach.call(e.addedNodes,function(e){var t=s.find(e,!1);o(t,!1),t instanceof n.default&&t.children.forEach(function(e){o(e,!1)})})):"attributes"===e.type&&o(t.prev)),o(t))}),this.children.forEach(l),i=(c=[].slice.call(this.observer.takeRecords())).slice();i.length>0;)t.push(i.pop())}},t.prototype.update=function(t,r){var a=this;void 0===r&&(r={}),(t=t||this.observer.takeRecords()).map(function(e){var t=s.find(e.target,!0);return null==t?null:null==t.domNode[s.DATA_KEY].mutations?(t.domNode[s.DATA_KEY].mutations=[e],t):(t.domNode[s.DATA_KEY].mutations.push(e),null)}).forEach(function(e){null!=e&&e!==a&&null!=e.domNode[s.DATA_KEY]&&e.update(e.domNode[s.DATA_KEY].mutations||[],r)}),null!=this.domNode[s.DATA_KEY].mutations&&e.prototype.update.call(this,this.domNode[s.DATA_KEY].mutations,r),this.optimize(t,r)},t.blotName="scroll",t.defaultChild="block",t.scope=s.Scope.BLOCK_BLOT,t.tagName="DIV",t}(n.default);t.default=o},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=r(18),s=r(1),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.formats=function(r){if(r.tagName!==t.tagName)return e.formats.call(this,r)},t.prototype.format=function(r,a){var s=this;r!==this.statics.blotName||a?e.prototype.format.call(this,r,a):(this.children.forEach(function(e){e instanceof n.default||(e=e.wrap(t.blotName,!0)),s.attributes.copy(e)}),this.unwrap())},t.prototype.formatAt=function(t,r,a,n){null!=this.formats()[a]||s.query(a,s.Scope.ATTRIBUTE)?this.isolate(t,r).format(a,n):e.prototype.formatAt.call(this,t,r,a,n)},t.prototype.optimize=function(r){e.prototype.optimize.call(this,r);var a=this.formats();if(0===Object.keys(a).length)return this.unwrap();var n=this.next;n instanceof t&&n.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(e[r]!==t[r])return!1;return!0}(a,n.formats())&&(n.moveChildren(this),n.remove())},t.blotName="inline",t.scope=s.Scope.INLINE_BLOT,t.tagName="SPAN",t}(n.default);t.default=i},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=r(18),s=r(1),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.formats=function(r){var a=s.query(t.blotName).tagName;if(r.tagName!==a)return e.formats.call(this,r)},t.prototype.format=function(r,a){null!=s.query(r,s.Scope.BLOCK)&&(r!==this.statics.blotName||a?e.prototype.format.call(this,r,a):this.replaceWith(t.blotName))},t.prototype.formatAt=function(t,r,a,n){null!=s.query(a,s.Scope.BLOCK)?this.format(a,n):e.prototype.formatAt.call(this,t,r,a,n)},t.prototype.insertAt=function(t,r,a){if(null==a||null!=s.query(r,s.Scope.INLINE))e.prototype.insertAt.call(this,t,r,a);else{var n=this.split(t),i=s.create(r,a);n.parent.insertBefore(i,n)}},t.prototype.update=function(t,r){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,t,r)},t.blotName="block",t.scope=s.Scope.BLOCK_BLOT,t.tagName="P",t}(n.default);t.default=i},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.formats=function(e){},t.prototype.format=function(t,r){e.prototype.formatAt.call(this,0,this.length(),t,r)},t.prototype.formatAt=function(t,r,a,n){0===t&&r===this.length()?this.format(a,n):e.prototype.formatAt.call(this,t,r,a,n)},t.prototype.formats=function(){return this.statics.formats(this.domNode)},t}(r(19).default);t.default=n},function(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=r(19),s=r(1),i=function(e){function t(t){var r=e.call(this,t)||this;return r.text=r.statics.value(r.domNode),r}return a(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){var t=e.data;return t.normalize&&(t=t.normalize()),t},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,r,a){null==a?(this.text=this.text.slice(0,t)+r+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,r,a)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(r){e.prototype.optimize.call(this,r),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return void 0===t&&(t=!1),[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var r=s.create(this.domNode.splitText(e));return this.parent.insertBefore(r,this.next),this.text=this.statics.value(this.domNode),r},t.prototype.update=function(e,t){var r=this;e.some(function(e){return"characterData"===e.type&&e.target===r.domNode})&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t.blotName="text",t.scope=s.Scope.INLINE_BLOT,t}(n.default);t.default=i},function(e,t,r){"use strict";var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return arguments.length>1&&!this.contains(e)===!t?t:n.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var r=this.toString();("number"!==typeof t||!isFinite(t)||Math.floor(t)!==t||t>r.length)&&(t=r.length),t-=e.length;var a=r.indexOf(e,t);return-1!==a&&a===t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!==typeof e)throw new TypeError("predicate must be a function");for(var t,r=Object(this),a=r.length>>>0,n=arguments[1],s=0;s<a;s++)if(t=r[s],e.call(n,t,s,r))return t}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(e,t){var r=-1;function a(e,t,l){if(e==t)return e?[[0,e]]:[];(l<0||e.length<l)&&(l=null);var d=s(e,t),u=e.substring(0,d);d=i(e=e.substring(d),t=t.substring(d));var m=e.substring(e.length-d),h=function(e,t){var o;if(!e)return[[1,t]];if(!t)return[[r,e]];var l=e.length>t.length?e:t,c=e.length>t.length?t:e,d=l.indexOf(c);if(-1!=d)return o=[[1,l.substring(0,d)],[0,c],[1,l.substring(d+c.length)]],e.length>t.length&&(o[0][0]=o[2][0]=r),o;if(1==c.length)return[[r,e],[1,t]];var u=function(e,t){var r=e.length>t.length?e:t,a=e.length>t.length?t:e;if(r.length<4||2*a.length<r.length)return null;function n(e,t,r){for(var a,n,o,l,c=e.substring(r,r+Math.floor(e.length/4)),d=-1,u="";-1!=(d=t.indexOf(c,d+1));){var m=s(e.substring(r),t.substring(d)),h=i(e.substring(0,r),t.substring(0,d));u.length<h+m&&(u=t.substring(d-h,d)+t.substring(d,d+m),a=e.substring(0,r-h),n=e.substring(r+m),o=t.substring(0,d-h),l=t.substring(d+m))}return 2*u.length>=e.length?[a,n,o,l,u]:null}var o,l,c,d,u,m=n(r,a,Math.ceil(r.length/4)),h=n(r,a,Math.ceil(r.length/2));if(!m&&!h)return null;o=h?m&&m[4].length>h[4].length?m:h:m,e.length>t.length?(l=o[0],c=o[1],d=o[2],u=o[3]):(d=o[0],u=o[1],l=o[2],c=o[3]);var p=o[4];return[l,c,d,u,p]}(e,t);if(u){var m=u[0],h=u[1],p=u[2],g=u[3],x=u[4],f=a(m,p),y=a(h,g);return f.concat([[0,x]],y)}return function(e,t){for(var a=e.length,s=t.length,i=Math.ceil((a+s)/2),o=i,l=2*i,c=new Array(l),d=new Array(l),u=0;u<l;u++)c[u]=-1,d[u]=-1;c[o+1]=0,d[o+1]=0;for(var m=a-s,h=m%2!=0,p=0,g=0,x=0,f=0,y=0;y<i;y++){for(var v=-y+p;v<=y-g;v+=2){for(var b=o+v,w=(A=v==-y||v!=y&&c[b-1]<c[b+1]?c[b+1]:c[b-1]+1)-v;A<a&&w<s&&e.charAt(A)==t.charAt(w);)A++,w++;if(c[b]=A,A>a)g+=2;else if(w>s)p+=2;else if(h&&(N=o+m-v)>=0&&N<l&&-1!=d[N]&&A>=(k=a-d[N]))return n(e,t,A,w)}for(var j=-y+x;j<=y-f;j+=2){for(var k,N=o+j,C=(k=j==-y||j!=y&&d[N-1]<d[N+1]?d[N+1]:d[N-1]+1)-j;k<a&&C<s&&e.charAt(a-k-1)==t.charAt(s-C-1);)k++,C++;if(d[N]=k,k>a)f+=2;else if(C>s)x+=2;else if(!h){var A;if((b=o+m-j)>=0&&b<l&&-1!=c[b])if(w=o+(A=c[b])-b,A>=(k=a-k))return n(e,t,A,w)}}}return[[r,e],[1,t]]}(e,t)}(e=e.substring(0,e.length-d),t=t.substring(0,t.length-d));return u&&h.unshift([0,u]),m&&h.push([0,m]),o(h),null!=l&&(h=function(e,t){var a=function(e,t){if(0===t)return[0,e];for(var a=0,n=0;n<e.length;n++){var s=e[n];if(s[0]===r||0===s[0]){var i=a+s[1].length;if(t===i)return[n+1,e];if(t<i){e=e.slice();var o=t-a,l=[s[0],s[1].slice(0,o)],c=[s[0],s[1].slice(o)];return e.splice(n,1,l,c),[n+1,e]}a=i}}throw new Error("cursor_pos is out of bounds!")}(e,t),n=a[1],s=a[0],i=n[s],o=n[s+1];if(null==i)return e;if(0!==i[0])return e;if(null!=o&&i[1]+o[1]===o[1]+i[1])return n.splice(s,2,o,i),c(n,s,2);if(null!=o&&0===o[1].indexOf(i[1])){n.splice(s,2,[o[0],i[1]],[0,i[1]]);var l=o[1].slice(i[1].length);return l.length>0&&n.splice(s+2,0,[o[0],l]),c(n,s,3)}return e}(h,l)),h=function(e){for(var t=!1,a=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},n=function(e){return e.charCodeAt(e.length-1)>=55296&&e.charCodeAt(e.length-1)<=56319},s=2;s<e.length;s+=1)0===e[s-2][0]&&n(e[s-2][1])&&e[s-1][0]===r&&a(e[s-1][1])&&1===e[s][0]&&a(e[s][1])&&(t=!0,e[s-1][1]=e[s-2][1].slice(-1)+e[s-1][1],e[s][1]=e[s-2][1].slice(-1)+e[s][1],e[s-2][1]=e[s-2][1].slice(0,-1));if(!t)return e;var i=[];for(s=0;s<e.length;s+=1)e[s][1].length>0&&i.push(e[s]);return i}(h)}function n(e,t,r,n){var s=e.substring(0,r),i=t.substring(0,n),o=e.substring(r),l=t.substring(n),c=a(s,i),d=a(o,l);return c.concat(d)}function s(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var r=0,a=Math.min(e.length,t.length),n=a,s=0;r<n;)e.substring(s,n)==t.substring(s,n)?s=r=n:a=n,n=Math.floor((a-r)/2+r);return n}function i(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var r=0,a=Math.min(e.length,t.length),n=a,s=0;r<n;)e.substring(e.length-n,e.length-s)==t.substring(t.length-n,t.length-s)?s=r=n:a=n,n=Math.floor((a-r)/2+r);return n}function o(e){e.push([0,""]);for(var t,a=0,n=0,l=0,c="",d="";a<e.length;)switch(e[a][0]){case 1:l++,d+=e[a][1],a++;break;case r:n++,c+=e[a][1],a++;break;case 0:n+l>1?(0!==n&&0!==l&&(0!==(t=s(d,c))&&(a-n-l>0&&0==e[a-n-l-1][0]?e[a-n-l-1][1]+=d.substring(0,t):(e.splice(0,0,[0,d.substring(0,t)]),a++),d=d.substring(t),c=c.substring(t)),0!==(t=i(d,c))&&(e[a][1]=d.substring(d.length-t)+e[a][1],d=d.substring(0,d.length-t),c=c.substring(0,c.length-t))),0===n?e.splice(a-l,n+l,[1,d]):0===l?e.splice(a-n,n+l,[r,c]):e.splice(a-n-l,n+l,[r,c],[1,d]),a=a-n-l+(n?1:0)+(l?1:0)+1):0!==a&&0==e[a-1][0]?(e[a-1][1]+=e[a][1],e.splice(a,1)):a++,l=0,n=0,c="",d=""}""===e[e.length-1][1]&&e.pop();var u=!1;for(a=1;a<e.length-1;)0==e[a-1][0]&&0==e[a+1][0]&&(e[a][1].substring(e[a][1].length-e[a-1][1].length)==e[a-1][1]?(e[a][1]=e[a-1][1]+e[a][1].substring(0,e[a][1].length-e[a-1][1].length),e[a+1][1]=e[a-1][1]+e[a+1][1],e.splice(a-1,1),u=!0):e[a][1].substring(0,e[a+1][1].length)==e[a+1][1]&&(e[a-1][1]+=e[a+1][1],e[a][1]=e[a][1].substring(e[a+1][1].length)+e[a+1][1],e.splice(a+1,1),u=!0)),a++;u&&o(e)}var l=a;function c(e,t,r){for(var a=t+r-1;a>=0&&a>=t-1;a--)if(a+1<e.length){var n=e[a],s=e[a+1];n[0]===s[1]&&e.splice(a,2,[n[0],n[1]+s[1]])}return e}l.INSERT=1,l.DELETE=r,l.EQUAL=0,e.exports=l},function(e,t){function r(e){var t=[];for(var r in e)t.push(r);return t}(e.exports="function"===typeof Object.keys?Object.keys:r).shim=r},function(e,t){var r="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function a(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function n(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=r?a:n).supported=a,t.unsupported=n},function(e,t){"use strict";var r=Object.prototype.hasOwnProperty,a="~";function n(){}function s(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function i(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(a=!1)),i.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(a?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},i.prototype.listeners=function(e,t){var r=a?a+e:e,n=this._events[r];if(t)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var s=0,i=n.length,o=new Array(i);s<i;s++)o[s]=n[s].fn;return o},i.prototype.emit=function(e,t,r,n,s,i){var o=a?a+e:e;if(!this._events[o])return!1;var l,c,d=this._events[o],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,r),!0;case 4:return d.fn.call(d.context,t,r,n),!0;case 5:return d.fn.call(d.context,t,r,n,s),!0;case 6:return d.fn.call(d.context,t,r,n,s,i),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];d.fn.apply(d.context,l)}else{var m,h=d.length;for(c=0;c<h;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,r);break;case 4:d[c].fn.call(d[c].context,t,r,n);break;default:if(!l)for(m=1,l=new Array(u-1);m<u;m++)l[m-1]=arguments[m];d[c].fn.apply(d[c].context,l)}}return!0},i.prototype.on=function(e,t,r){var n=new s(t,r||this),i=a?a+e:e;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],n]:this._events[i].push(n):(this._events[i]=n,this._eventsCount++),this},i.prototype.once=function(e,t,r){var n=new s(t,r||this,!0),i=a?a+e:e;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],n]:this._events[i].push(n):(this._events[i]=n,this._eventsCount++),this},i.prototype.removeListener=function(e,t,r,s){var i=a?a+e:e;if(!this._events[i])return this;if(!t)return 0===--this._eventsCount?this._events=new n:delete this._events[i],this;var o=this._events[i];if(o.fn)o.fn!==t||s&&!o.once||r&&o.context!==r||(0===--this._eventsCount?this._events=new n:delete this._events[i]);else{for(var l=0,c=[],d=o.length;l<d;l++)(o[l].fn!==t||s&&!o[l].once||r&&o[l].context!==r)&&c.push(o[l]);c.length?this._events[i]=1===c.length?c[0]:c:0===--this._eventsCount?this._events=new n:delete this._events[i]}return this},i.prototype.removeAllListeners=function(e){var t;return e?(t=a?a+e:e,this._events[t]&&(0===--this._eventsCount?this._events=new n:delete this._events[t])):(this._events=new n,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prototype.setMaxListeners=function(){return this},i.prefixed=a,i.EventEmitter=i,"undefined"!==typeof e&&(e.exports=i)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,s=void 0;try{for(var i,o=e[Symbol.iterator]();!(a=(i=o.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(l){n=!0,s=l}finally{try{!a&&o.return&&o.return()}finally{if(n)throw s}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),i=v(r(3)),o=v(r(2)),l=v(r(0)),c=v(r(5)),d=v(r(10)),u=v(r(9)),m=r(36),h=r(37),p=v(r(13)),g=r(26),x=r(38),f=r(39),y=r(40);function v(e){return e&&e.__esModule?e:{default:e}}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w=(0,d.default)("quill:clipboard"),j="__ql-matcher",k=[[Node.TEXT_NODE,M],[Node.TEXT_NODE,F],["br",function(e,t){return D(t,"\n")||t.insert("\n"),t}],[Node.ELEMENT_NODE,F],[Node.ELEMENT_NODE,O],[Node.ELEMENT_NODE,L],[Node.ELEMENT_NODE,R],[Node.ELEMENT_NODE,function(e,t){var r={},a=e.style||{};return a.fontStyle&&"italic"===E(e).fontStyle&&(r.italic=!0),a.fontWeight&&(E(e).fontWeight.startsWith("bold")||parseInt(E(e).fontWeight)>=700)&&(r.bold=!0),Object.keys(r).length>0&&(t=S(t,r)),parseFloat(a.textIndent||0)>0&&(t=(new o.default).insert("\t").concat(t)),t}],["li",function(e,t){var r=l.default.query(e);if(null==r||"list-item"!==r.blotName||!D(t,"\n"))return t;for(var a=-1,n=e.parentNode;!n.classList.contains("ql-clipboard");)"list"===(l.default.query(n)||{}).blotName&&(a+=1),n=n.parentNode;return a<=0?t:t.compose((new o.default).retain(t.length()-1).retain(1,{indent:a}))}],["b",_.bind(_,"bold")],["i",_.bind(_,"italic")],["style",function(){return new o.default}]],N=[m.AlignAttribute,x.DirectionAttribute].reduce(function(e,t){return e[t.keyName]=t,e},{}),C=[m.AlignStyle,h.BackgroundStyle,g.ColorStyle,x.DirectionStyle,f.FontStyle,y.SizeStyle].reduce(function(e,t){return e[t.keyName]=t,e},{}),A=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return a.quill.root.addEventListener("paste",a.onPaste.bind(a)),a.container=a.quill.addContainer("ql-clipboard"),a.container.setAttribute("contenteditable",!0),a.container.setAttribute("tabindex",-1),a.matchers=[],k.concat(a.options.matchers).forEach(function(e){var t=n(e,2),s=t[0],i=t[1];(r.matchVisual||i!==L)&&a.addMatcher(s,i)}),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){if("string"===typeof e)return this.container.innerHTML=e.replace(/\>\r?\n +\</g,"><"),this.convert();var t=this.quill.getFormat(this.quill.selection.savedRange.index);if(t[p.default.blotName]){var r=this.container.innerText;return this.container.innerHTML="",(new o.default).insert(r,b({},p.default.blotName,t[p.default.blotName]))}var a=this.prepareMatching(),s=n(a,2),i=s[0],l=s[1],c=T(this.container,i,l);return D(c,"\n")&&null==c.ops[c.ops.length-1].attributes&&(c=c.compose((new o.default).retain(c.length()-1).delete(1))),w.log("convert",this.container.innerHTML,c),this.container.innerHTML="",c}},{key:"dangerouslyPasteHTML",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.default.sources.API;if("string"===typeof e)this.quill.setContents(this.convert(e),t),this.quill.setSelection(0,c.default.sources.SILENT);else{var a=this.convert(t);this.quill.updateContents((new o.default).retain(e).concat(a),r),this.quill.setSelection(e+a.length(),c.default.sources.SILENT)}}},{key:"onPaste",value:function(e){var t=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var r=this.quill.getSelection(),a=(new o.default).retain(r.index),n=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(c.default.sources.SILENT),setTimeout(function(){a=a.concat(t.convert()).delete(r.length),t.quill.updateContents(a,c.default.sources.USER),t.quill.setSelection(a.length()-r.length,c.default.sources.SILENT),t.quill.scrollingContainer.scrollTop=n,t.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var e=this,t=[],r=[];return this.matchers.forEach(function(a){var s=n(a,2),i=s[0],o=s[1];switch(i){case Node.TEXT_NODE:r.push(o);break;case Node.ELEMENT_NODE:t.push(o);break;default:[].forEach.call(e.container.querySelectorAll(i),function(e){e[j]=e[j]||[],e[j].push(o)})}}),[t,r]}}]),t}(u.default);function S(e,t,r){return"object"===("undefined"===typeof t?"undefined":a(t))?Object.keys(t).reduce(function(e,r){return S(e,r,t[r])},e):e.reduce(function(e,a){return a.attributes&&a.attributes[t]?e.push(a):e.insert(a.insert,(0,i.default)({},b({},t,r),a.attributes))},new o.default)}function E(e){if(e.nodeType!==Node.ELEMENT_NODE)return{};var t="__ql-computed-style";return e[t]||(e[t]=window.getComputedStyle(e))}function D(e,t){for(var r="",a=e.ops.length-1;a>=0&&r.length<t.length;--a){var n=e.ops[a];if("string"!==typeof n.insert)break;r=n.insert+r}return r.slice(-1*t.length)===t}function P(e){if(0===e.childNodes.length)return!1;var t=E(e);return["block","list-item"].indexOf(t.display)>-1}function T(e,t,r){return e.nodeType===e.TEXT_NODE?r.reduce(function(t,r){return r(e,t)},new o.default):e.nodeType===e.ELEMENT_NODE?[].reduce.call(e.childNodes||[],function(a,n){var s=T(n,t,r);return n.nodeType===e.ELEMENT_NODE&&(s=t.reduce(function(e,t){return t(n,e)},s),s=(n[j]||[]).reduce(function(e,t){return t(n,e)},s)),a.concat(s)},new o.default):new o.default}function _(e,t,r){return S(r,e,!0)}function R(e,t){var r=l.default.Attributor.Attribute.keys(e),a=l.default.Attributor.Class.keys(e),n=l.default.Attributor.Style.keys(e),s={};return r.concat(a).concat(n).forEach(function(t){var r=l.default.query(t,l.default.Scope.ATTRIBUTE);null!=r&&(s[r.attrName]=r.value(e),s[r.attrName])||(null==(r=N[t])||r.attrName!==t&&r.keyName!==t||(s[r.attrName]=r.value(e)||void 0),null==(r=C[t])||r.attrName!==t&&r.keyName!==t||(r=C[t],s[r.attrName]=r.value(e)||void 0))}),Object.keys(s).length>0&&(t=S(t,s)),t}function O(e,t){var r=l.default.query(e);if(null==r)return t;if(r.prototype instanceof l.default.Embed){var a={},n=r.value(e);null!=n&&(a[r.blotName]=n,t=(new o.default).insert(a,r.formats(e)))}else"function"===typeof r.formats&&(t=S(t,r.blotName,r.formats(e)));return t}function F(e,t){return D(t,"\n")||(P(e)||t.length()>0&&e.nextSibling&&P(e.nextSibling))&&t.insert("\n"),t}function L(e,t){if(P(e)&&null!=e.nextElementSibling&&!D(t,"\n\n")){var r=e.offsetHeight+parseFloat(E(e).marginTop)+parseFloat(E(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+1.5*r&&t.insert("\n")}return t}function M(e,t){var r=e.data;if("O:P"===e.parentNode.tagName)return t.insert(r.trim());if(0===r.trim().length&&e.parentNode.classList.contains("ql-clipboard"))return t;if(!E(e.parentNode).whiteSpace.startsWith("pre")){var a=function(e,t){return(t=t.replace(/[^\u00a0]/g,"")).length<1&&e?" ":t};r=(r=r.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,a.bind(a,!0)),(null==e.previousSibling&&P(e.parentNode)||null!=e.previousSibling&&P(e.previousSibling))&&(r=r.replace(/^\s+/,a.bind(a,!1))),(null==e.nextSibling&&P(e.parentNode)||null!=e.nextSibling&&P(e.nextSibling))&&(r=r.replace(/\s+$/,a.bind(a,!1)))}return t.insert(r)}A.DEFAULTS={matchers:[],matchVisual:!0},t.default=A,t.matchAttributor=R,t.matchBlot=O,t.matchNewline=F,t.matchSpacing=L,t.matchText=M},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},i=r(6),o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"optimize",value:function(e){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),t}(((a=i)&&a.__esModule?a:{default:a}).default);o.blotName="bold",o.tagName=["STRONG","B"],t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,s=void 0;try{for(var i,o=e[Symbol.iterator]();!(a=(i=o.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(l){n=!0,s=l}finally{try{!a&&o.return&&o.return()}finally{if(n)throw s}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=d(r(2)),i=d(r(0)),o=d(r(5)),l=d(r(10)),c=d(r(9));function d(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var m=(0,l.default)("quill:toolbar"),h=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n,s=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));if(Array.isArray(s.options.container)){var i=document.createElement("div");g(i,s.options.container),e.container.parentNode.insertBefore(i,e.container),s.container=i}else"string"===typeof s.options.container?s.container=document.querySelector(s.options.container):s.container=s.options.container;return s.container instanceof HTMLElement?(s.container.classList.add("ql-toolbar"),s.controls=[],s.handlers={},Object.keys(s.options.handlers).forEach(function(e){s.addHandler(e,s.options.handlers[e])}),[].forEach.call(s.container.querySelectorAll("button, select"),function(e){s.attach(e)}),s.quill.on(o.default.events.EDITOR_CHANGE,function(e,t){e===o.default.events.SELECTION_CHANGE&&s.update(t)}),s.quill.on(o.default.events.SCROLL_OPTIMIZE,function(){var e=s.quill.selection.getRange(),t=a(e,1)[0];s.update(t)}),s):(n=m.error("Container required for toolbar",s.options),u(s,n))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"addHandler",value:function(e,t){this.handlers[e]=t}},{key:"attach",value:function(e){var t=this,r=[].find.call(e.classList,function(e){return 0===e.indexOf("ql-")});if(r){if(r=r.slice(3),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null==this.handlers[r]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[r])return void m.warn("ignoring attaching to disabled format",r,e);if(null==i.default.query(r))return void m.warn("ignoring attaching to nonexistent format",r,e)}var n="SELECT"===e.tagName?"change":"click";e.addEventListener(n,function(n){var l=void 0;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;var c=e.options[e.selectedIndex];l=!c.hasAttribute("selected")&&(c.value||!1)}else l=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),n.preventDefault();t.quill.focus();var d=t.quill.selection.getRange(),u=a(d,1)[0];if(null!=t.handlers[r])t.handlers[r].call(t,l);else if(i.default.query(r).prototype instanceof i.default.Embed){if(!(l=prompt("Enter "+r)))return;t.quill.updateContents((new s.default).retain(u.index).delete(u.length).insert(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},r,l)),o.default.sources.USER)}else t.quill.format(r,l,o.default.sources.USER);t.update(u)}),this.controls.push([r,e])}}},{key:"update",value:function(e){var t=null==e?{}:this.quill.getFormat(e);this.controls.forEach(function(r){var n=a(r,2),s=n[0],i=n[1];if("SELECT"===i.tagName){var o=void 0;if(null==e)o=null;else if(null==t[s])o=i.querySelector("option[selected]");else if(!Array.isArray(t[s])){var l=t[s];"string"===typeof l&&(l=l.replace(/\"/g,'\\"')),o=i.querySelector('option[value="'+l+'"]')}null==o?(i.value="",i.selectedIndex=-1):o.selected=!0}else if(null==e)i.classList.remove("ql-active");else if(i.hasAttribute("value")){var c=t[s]===i.getAttribute("value")||null!=t[s]&&t[s].toString()===i.getAttribute("value")||null==t[s]&&!i.getAttribute("value");i.classList.toggle("ql-active",c)}else i.classList.toggle("ql-active",null!=t[s])})}}]),t}(c.default);function p(e,t,r){var a=document.createElement("button");a.setAttribute("type","button"),a.classList.add("ql-"+t),null!=r&&(a.value=r),e.appendChild(a)}function g(e,t){Array.isArray(t[0])||(t=[t]),t.forEach(function(t){var r=document.createElement("span");r.classList.add("ql-formats"),t.forEach(function(e){if("string"===typeof e)p(r,e);else{var t=Object.keys(e)[0],a=e[t];Array.isArray(a)?function(e,t,r){var a=document.createElement("select");a.classList.add("ql-"+t),r.forEach(function(e){var t=document.createElement("option");!1!==e?t.setAttribute("value",e):t.setAttribute("selected","selected"),a.appendChild(t)}),e.appendChild(a)}(r,t,a):p(r,t,a)}}),e.appendChild(r)})}h.DEFAULTS={},h.DEFAULTS={container:null,handlers:{clean:function(){var e=this,t=this.quill.getSelection();if(null!=t)if(0==t.length){var r=this.quill.getFormat();Object.keys(r).forEach(function(t){null!=i.default.query(t,i.default.Scope.INLINE)&&e.quill.format(t,!1)})}else this.quill.removeFormat(t,o.default.sources.USER)},direction:function(e){var t=this.quill.getFormat().align;"rtl"===e&&null==t?this.quill.format("align","right",o.default.sources.USER):e||"right"!==t||this.quill.format("align",!1,o.default.sources.USER),this.quill.format("direction",e,o.default.sources.USER)},indent:function(e){var t=this.quill.getSelection(),r=this.quill.getFormat(t),a=parseInt(r.indent||0);if("+1"===e||"-1"===e){var n="+1"===e?1:-1;"rtl"===r.direction&&(n*=-1),this.quill.format("indent",a+n,o.default.sources.USER)}},link:function(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,o.default.sources.USER)},list:function(e){var t=this.quill.getSelection(),r=this.quill.getFormat(t);"check"===e?"checked"===r.list||"unchecked"===r.list?this.quill.format("list",!1,o.default.sources.USER):this.quill.format("list","unchecked",o.default.sources.USER):this.quill.format("list",e,o.default.sources.USER)}}},t.default=h,t.addControls=g},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},i=r(28),o=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.label.innerHTML=r,a.container.classList.add("ql-color-picker"),[].slice.call(a.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(e){e.classList.add("ql-primary")}),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"buildItem",value:function(e){var r=s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildItem",this).call(this,e);return r.style.backgroundColor=e.getAttribute("value")||"",r}},{key:"selectItem",value:function(e,r){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,r);var a=this.label.querySelector(".ql-color-label"),n=e&&e.getAttribute("data-value")||"";a&&("line"===a.tagName?a.style.stroke=n:a.style.fill=n)}}]),t}(((a=i)&&a.__esModule?a:{default:a}).default);t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},i=r(28),o=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.container.classList.add("ql-icon-picker"),[].forEach.call(a.container.querySelectorAll(".ql-picker-item"),function(e){e.innerHTML=r[e.getAttribute("data-value")||""]}),a.defaultItem=a.container.querySelector(".ql-selected"),a.selectItem(a.defaultItem),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"selectItem",value:function(e,r){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,r),e=e||this.defaultItem,this.label.innerHTML=e.innerHTML}}]),t}(((a=i)&&a.__esModule?a:{default:a}).default);t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function(){function e(t,r){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.boundsContainer=r||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){a.root.style.marginTop=-1*a.quill.root.scrollTop+"px"}),this.hide()}return a(e,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(e){var t=e.left+e.width/2-this.root.offsetWidth/2,r=e.bottom+this.quill.root.scrollTop;this.root.style.left=t+"px",this.root.style.top=r+"px",this.root.classList.remove("ql-flip");var a=this.boundsContainer.getBoundingClientRect(),n=this.root.getBoundingClientRect(),s=0;if(n.right>a.right&&(s=a.right-n.right,this.root.style.left=t+s+"px"),n.left<a.left&&(s=a.left-n.left,this.root.style.left=t+s+"px"),n.bottom>a.bottom){var i=n.bottom-n.top,o=e.bottom-e.top+i;this.root.style.top=r-o+"px",this.root.classList.add("ql-flip")}return s}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),e}();t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,s=void 0;try{for(var i,o=e[Symbol.iterator]();!(a=(i=o.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(l){n=!0,s=l}finally{try{!a&&o.return&&o.return()}finally{if(n)throw s}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),i=h(r(3)),o=h(r(8)),l=r(43),c=h(l),d=h(r(27)),u=r(15),m=h(r(41));function h(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function x(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],y=function(e){function t(e,r){p(this,t),null!=r.modules.toolbar&&null==r.modules.toolbar.container&&(r.modules.toolbar.container=f);var a=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return a.quill.container.classList.add("ql-snow"),a}return x(t,e),s(t,[{key:"extendToolbar",value:function(e){e.container.classList.add("ql-snow"),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),m.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),m.default),this.tooltip=new v(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(t,r){e.handlers.link.call(e,!r.format.link)})}}]),t}(c.default);y.DEFAULTS=(0,i.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){if(e){var t=this.quill.getSelection();if(null==t||0==t.length)return;var r=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(r)&&0!==r.indexOf("mailto:")&&(r="mailto:"+r),this.quill.theme.tooltip.edit("link",r)}else this.quill.format("link",!1)}}}}});var v=function(e){function t(e,r){p(this,t);var a=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return a.preview=a.root.querySelector("a.ql-preview"),a}return x(t,e),s(t,[{key:"listen",value:function(){var e=this;n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(t){e.root.classList.contains("ql-editing")?e.save():e.edit("link",e.preview.textContent),t.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(t){if(null!=e.linkRange){var r=e.linkRange;e.restoreFocus(),e.quill.formatText(r,"link",!1,o.default.sources.USER),delete e.linkRange}t.preventDefault(),e.hide()}),this.quill.on(o.default.events.SELECTION_CHANGE,function(t,r,n){if(null!=t){if(0===t.length&&n===o.default.sources.USER){var s=e.quill.scroll.descendant(d.default,t.index),i=a(s,2),l=i[0],c=i[1];if(null!=l){e.linkRange=new u.Range(t.index-c,l.length());var m=d.default.formats(l.domNode);return e.preview.textContent=m,e.preview.setAttribute("href",m),e.show(),void e.position(e.quill.getBounds(e.linkRange))}}else delete e.linkRange;e.hide()}})}},{key:"show",value:function(){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),t}(l.BaseTooltip);v.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=F(r(29)),n=r(36),s=r(38),i=r(64),o=F(r(65)),l=F(r(66)),c=r(67),d=F(c),u=r(37),m=r(26),h=r(39),p=r(40),g=F(r(56)),x=F(r(68)),f=F(r(27)),y=F(r(69)),v=F(r(70)),b=F(r(71)),w=F(r(72)),j=F(r(73)),k=r(13),N=F(k),C=F(r(74)),A=F(r(75)),S=F(r(57)),E=F(r(41)),D=F(r(28)),P=F(r(59)),T=F(r(60)),_=F(r(61)),R=F(r(108)),O=F(r(62));function F(e){return e&&e.__esModule?e:{default:e}}a.default.register({"attributors/attribute/direction":s.DirectionAttribute,"attributors/class/align":n.AlignClass,"attributors/class/background":u.BackgroundClass,"attributors/class/color":m.ColorClass,"attributors/class/direction":s.DirectionClass,"attributors/class/font":h.FontClass,"attributors/class/size":p.SizeClass,"attributors/style/align":n.AlignStyle,"attributors/style/background":u.BackgroundStyle,"attributors/style/color":m.ColorStyle,"attributors/style/direction":s.DirectionStyle,"attributors/style/font":h.FontStyle,"attributors/style/size":p.SizeStyle},!0),a.default.register({"formats/align":n.AlignClass,"formats/direction":s.DirectionClass,"formats/indent":i.IndentClass,"formats/background":u.BackgroundStyle,"formats/color":m.ColorStyle,"formats/font":h.FontClass,"formats/size":p.SizeClass,"formats/blockquote":o.default,"formats/code-block":N.default,"formats/header":l.default,"formats/list":d.default,"formats/bold":g.default,"formats/code":k.Code,"formats/italic":x.default,"formats/link":f.default,"formats/script":y.default,"formats/strike":v.default,"formats/underline":b.default,"formats/image":w.default,"formats/video":j.default,"formats/list/item":c.ListItem,"modules/formula":C.default,"modules/syntax":A.default,"modules/toolbar":S.default,"themes/bubble":R.default,"themes/snow":O.default,"ui/icons":E.default,"ui/picker":D.default,"ui/icon-picker":T.default,"ui/color-picker":P.default,"ui/tooltip":_.default},!0),t.default=a.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var a,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},i=r(0),o=(a=i)&&a.__esModule?a:{default:a},l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"add",value:function(e,r){if("+1"===r||"-1"===r){var a=this.value(e)||0;r="+1"===r?a+1:a-1}return 0===r?(this.remove(e),!0):s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,r)}},{key:"canAdd",value:function(e,r){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,r)||s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,parseInt(r))}},{key:"value",value:function(e){return parseInt(s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e))||void 0}}]),t}(o.default.Attributor.Class),c=new l("indent","ql-indent",{scope:o.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(4),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((a=n)&&a.__esModule?a:{default:a}).default);s.blotName="blockquote",s.tagName="blockquote",t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=r(4),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}]),t}(((a=s)&&a.__esModule?a:{default:a}).default);i.blotName="header",i.tagName=["H1","H2","H3","H4","H5","H6"],t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},s=l(r(0)),i=l(r(4)),o=l(r(25));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){return c(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),a(t,[{key:"format",value:function(e,r){e!==h.blotName||r?n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r):this.replaceWith(s.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(e,r){return this.parent.isolate(this.offset(this.parent),this.length()),e===this.parent.statics.blotName?(this.parent.replaceWith(e,r),this):(this.parent.unwrap(),n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e,r))}}],[{key:"formats",value:function(e){return e.tagName===this.tagName?void 0:n(t.__proto__||Object.getPrototypeOf(t),"formats",this).call(this,e)}}]),t}(i.default);m.blotName="list-item",m.tagName="LI";var h=function(e){function t(e){c(this,t);var r=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),a=function(t){if(t.target.parentNode===e){var a=r.statics.formats(e),n=s.default.find(t.target);"checked"===a?n.format("list","unchecked"):"unchecked"===a&&n.format("list","checked")}};return e.addEventListener("touchstart",a),e.addEventListener("mousedown",a),r}return u(t,e),a(t,null,[{key:"create",value:function(e){var r="ordered"===e?"OL":"UL",a=n(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,r);return"checked"!==e&&"unchecked"!==e||a.setAttribute("data-checked","checked"===e),a}},{key:"formats",value:function(e){return"OL"===e.tagName?"ordered":"UL"===e.tagName?e.hasAttribute("data-checked")?"true"===e.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),a(t,[{key:"format",value:function(e,t){this.children.length>0&&this.children.tail.format(e,t)}},{key:"formats",value:function(){return e={},t=this.statics.blotName,r=this.statics.formats(this.domNode),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e;var e,t,r}},{key:"insertBefore",value:function(e,r){if(e instanceof m)n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,r);else{var a=null==r?this.length():r.offset(this),s=this.split(a);s.parent.insertBefore(e,s)}}},{key:"optimize",value:function(e){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var r=this.next;null!=r&&r.prev===this&&r.statics.blotName===this.statics.blotName&&r.domNode.tagName===this.domNode.tagName&&r.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(r.moveChildren(this),r.remove())}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var r=s.default.create(this.statics.defaultChild);e.moveChildren(r),this.appendChild(r)}n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e)}}]),t}(o.default);h.blotName="list",h.scope=s.default.Scope.BLOCK_BLOT,h.tagName=["OL","UL"],h.defaultChild="list-item",h.allowedChildren=[m],t.ListItem=m,t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(56),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((a=n)&&a.__esModule?a:{default:a}).default);s.blotName="italic",s.tagName=["EM","I"],t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},i=r(6),o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,null,[{key:"create",value:function(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):s(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e)}},{key:"formats",value:function(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}}]),t}(((a=i)&&a.__esModule?a:{default:a}).default);o.blotName="script",o.tagName=["SUB","SUP"],t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(6),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((a=n)&&a.__esModule?a:{default:a}).default);s.blotName="strike",s.tagName="S",t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(6),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((a=n)&&a.__esModule?a:{default:a}).default);s.blotName="underline",s.tagName="U",t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},i=r(0),o=(a=i)&&a.__esModule?a:{default:a},l=r(27),c=["alt","height","width"],d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"format",value:function(e,r){c.indexOf(e)>-1?r?this.domNode.setAttribute(e,r):this.domNode.removeAttribute(e):s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r)}}],[{key:"create",value:function(e){var r=s(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"===typeof e&&r.setAttribute("src",this.sanitize(e)),r}},{key:"formats",value:function(e){return c.reduce(function(t,r){return e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t},{})}},{key:"match",value:function(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}},{key:"sanitize",value:function(e){return(0,l.sanitize)(e,["http","https","data"])?e:"//:0"}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(o.default.Embed);d.blotName="image",d.tagName="IMG",t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},i=r(4),o=r(27),l=(a=o)&&a.__esModule?a:{default:a},c=["height","width"],d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"format",value:function(e,r){c.indexOf(e)>-1?r?this.domNode.setAttribute(e,r):this.domNode.removeAttribute(e):s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r)}}],[{key:"create",value:function(e){var r=s(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return r.setAttribute("frameborder","0"),r.setAttribute("allowfullscreen",!0),r.setAttribute("src",this.sanitize(e)),r}},{key:"formats",value:function(e){return c.reduce(function(t,r){return e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t},{})}},{key:"sanitize",value:function(e){return l.default.sanitize(e)}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(i.BlockEmbed);d.blotName="video",d.className="ql-video",d.tagName="IFRAME",t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},s=l(r(35)),i=l(r(5)),o=l(r(9));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){return c(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),a(t,null,[{key:"create",value:function(e){var r=n(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"===typeof e&&(window.katex.render(e,r,{throwOnError:!1,errorColor:"#f00"}),r.setAttribute("data-value",e)),r}},{key:"value",value:function(e){return e.getAttribute("data-value")}}]),t}(s.default);m.blotName="formula",m.className="ql-formula",m.tagName="SPAN";var h=function(e){function t(){c(this,t);var e=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return e}return u(t,e),a(t,null,[{key:"register",value:function(){i.default.register(m,!0)}}]),t}(o.default);t.FormulaBlot=m,t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),n=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},s=l(r(0)),i=l(r(5)),o=l(r(9));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){return c(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),a(t,[{key:"replaceWith",value:function(e){this.domNode.textContent=this.domNode.textContent,this.attach(),n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e)}},{key:"highlight",value:function(e){var t=this.domNode.textContent;this.cachedText!==t&&((t.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=e(t),this.domNode.normalize(),this.attach()),this.cachedText=t)}}]),t}(l(r(13)).default);m.className="ql-syntax";var h=new s.default.Attributor.Class("token","hljs",{scope:s.default.Scope.INLINE}),p=function(e){function t(e,r){c(this,t);var a=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));if("function"!==typeof a.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var n=null;return a.quill.on(i.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(n),n=setTimeout(function(){a.highlight(),n=null},a.options.interval)}),a.highlight(),a}return u(t,e),a(t,null,[{key:"register",value:function(){i.default.register(h,!0),i.default.register(m,!0)}}]),a(t,[{key:"highlight",value:function(){var e=this;if(!this.quill.selection.composing){this.quill.update(i.default.sources.USER);var t=this.quill.getSelection();this.quill.scroll.descendants(m).forEach(function(t){t.highlight(e.options.highlight)}),this.quill.update(i.default.sources.SILENT),null!=t&&this.quill.setSelection(t,i.default.sources.SILENT)}}}]),t}(o.default);p.DEFAULTS={highlight:null==window.hljs?null:function(e){return window.hljs.highlightAuto(e).value},interval:1e3},t.CodeBlock=m,t.CodeToken=h,t.default=p},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var a=function e(t,r,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,a)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(a):void 0},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=u(r(3)),i=u(r(8)),o=r(43),l=u(o),c=r(15),d=u(r(41));function u(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],x=function(e){function t(e,r){m(this,t),null!=r.modules.toolbar&&null==r.modules.toolbar.container&&(r.modules.toolbar.container=g);var a=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return a.quill.container.classList.add("ql-bubble"),a}return p(t,e),n(t,[{key:"extendToolbar",value:function(e){this.tooltip=new f(this.quill,this.options.bounds),this.tooltip.root.appendChild(e.container),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),d.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),d.default)}}]),t}(l.default);x.DEFAULTS=(0,s.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var f=function(e){function t(e,r){m(this,t);var a=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return a.quill.on(i.default.events.EDITOR_CHANGE,function(e,t,r,n){if(e===i.default.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&n===i.default.sources.USER){a.show(),a.root.style.left="0px",a.root.style.width="",a.root.style.width=a.root.offsetWidth+"px";var s=a.quill.getLines(t.index,t.length);if(1===s.length)a.position(a.quill.getBounds(t));else{var o=s[s.length-1],l=a.quill.getIndex(o),d=Math.min(o.length()-1,t.index+t.length-l),u=a.quill.getBounds(new c.Range(l,d));a.position(u)}}else document.activeElement!==a.textbox&&a.quill.hasFocus()&&a.hide()}),a}return p(t,e),n(t,[{key:"listen",value:function(){var e=this;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){e.root.classList.remove("ql-editing")}),this.quill.on(i.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!e.root.classList.contains("ql-hidden")){var t=e.quill.getSelection();null!=t&&e.position(e.quill.getBounds(t))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(e){var r=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"position",this).call(this,e),n=this.root.querySelector(".ql-tooltip-arrow");if(n.style.marginLeft="",0===r)return r;n.style.marginLeft=-1*r-n.offsetWidth/2+"px"}}]),t}(o.BaseTooltip);f.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=f,t.default=x},function(e,t,r){e.exports=r(63)}]).default},e.exports=t()},2730(e,t,r){"use strict";var a=r(5043),n=r(8853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)i.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function g(e,t,r,a,n,s,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=a,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){x[e]=new g(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];x[t]=new g(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){x[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){x[e]=new g(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){x[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){x[e]=new g(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){x[e]=new g(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){x[e]=new g(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){x[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)});var f=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function v(e,t,r,a){var n=x.hasOwnProperty(t)?x[t]:null;(null!==n?0!==n.type:a||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,a){if(null===t||"undefined"===typeof t||function(e,t,r,a){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!a&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,a))return!0;if(a)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,n,a)&&(r=null),a||null===n?function(e){return!!u.call(p,e)||!u.call(h,e)&&(m.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):n.mustUseProperty?e[n.propertyName]=null===r?3!==n.type&&"":r:(t=n.attributeName,a=n.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(n=n.type)||4===n&&!0===r?"":""+r,a?e.setAttributeNS(a,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(f,y);x[t]=new g(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(f,y);x[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(f,y);x[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){x[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)}),x.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){x[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),j=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),S=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),_=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function F(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,M=Object.assign;function I(e){if(void 0===L)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var B=!1;function q(e,t){if(!e||B)return"";B=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var a=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){a=c}e.call(t.prototype)}else{try{throw Error()}catch(c){a=c}e()}}catch(c){if(c&&a&&"string"===typeof c.stack){for(var n=c.stack.split("\n"),s=a.stack.split("\n"),i=n.length-1,o=s.length-1;1<=i&&0<=o&&n[i]!==s[o];)o--;for(;1<=i&&0<=o;i--,o--)if(n[i]!==s[o]){if(1!==i||1!==o)do{if(i--,0>--o||n[i]!==s[o]){var l="\n"+n[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{B=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?I(e):""}function z(e){switch(e.tag){case 5:return I(e.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return e=q(e.type,!1);case 11:return e=q(e.type.render,!1);case 1:return e=q(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case j:return"Portal";case C:return"Profiler";case N:return"StrictMode";case D:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case _:t=e._payload,e=e._init;try{return U(e(t))}catch(r){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function Y(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var n=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(e){a=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),a="";return e&&(a=W(e)?e.checked?"true":"false":e.value),(e=a)!==r&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var r=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function $(e,t){var r=null==t.defaultValue?"":t.defaultValue,a=null!=t.checked?t.checked:t.defaultChecked;r=Y(null!=t.value?t.value:r),e._wrapperState={initialChecked:a,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function J(e,t){X(e,t);var r=Y(t.value),a=t.type;if(null!=r)"number"===a?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===a||"reset"===a)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,Y(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!("submit"!==a&&"reset"!==a||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&K(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,a){if(e=e.options,t){t={};for(var n=0;n<r.length;n++)t["$"+r[n]]=!0;for(r=0;r<e.length;r++)n=t.hasOwnProperty("$"+e[r].value),e[r].selected!==n&&(e[r].selected=n),n&&a&&(e[r].defaultSelected=!0)}else{for(r=""+Y(r),t=null,n=0;n<e.length;n++){if(e[n].value===r)return e[n].selected=!0,void(a&&(e[n].defaultSelected=!0));null!==t||e[n].disabled||(t=e[n])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ne(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(s(92));if(te(r)){if(1<r.length)throw Error(s(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:Y(r)}}function se(e,t){var r=Y(t.value),a=Y(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=a&&(e.defaultValue=""+a)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,a){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function me(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function xe(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var a=0===r.indexOf("--"),n=ge(r,t[r],a);"float"===r&&(r="cssFloat"),a?e.setProperty(r,n):e[r]=n}}Object.keys(he).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var fe=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(fe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,ke=null,Ne=null;function Ce(e){if(e=vn(e)){if("function"!==typeof je)throw Error(s(280));var t=e.stateNode;t&&(t=wn(t),je(e.stateNode,e.type,t))}}function Ae(e){ke?Ne?Ne.push(e):Ne=[e]:ke=e}function Se(){if(ke){var e=ke,t=Ne;if(Ne=ke=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ee(e,t){return e(t)}function De(){}var Pe=!1;function Te(e,t,r){if(Pe)return e(t,r);Pe=!0;try{return Ee(e,t,r)}finally{Pe=!1,(null!==ke||null!==Ne)&&(De(),Se())}}function _e(e,t){var r=e.stateNode;if(null===r)return null;var a=wn(r);if(null===a)return null;r=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(s(231,t,typeof r));return r}var Re=!1;if(d)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(de){Re=!1}function Fe(e,t,r,a,n,s,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Le=!1,Me=null,Ie=!1,Be=null,qe={onError:function(e){Le=!0,Me=e}};function ze(e,t,r,a,n,s,i,o,l){Le=!1,Me=null,Fe.apply(qe,arguments)}function Ue(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ye(e){if(Ue(e)!==e)throw Error(s(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(s(188));return t!==e?null:e}for(var r=e,a=t;;){var n=r.return;if(null===n)break;var i=n.alternate;if(null===i){if(null!==(a=n.return)){r=a;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===r)return Ye(n),e;if(i===a)return Ye(n),t;i=i.sibling}throw Error(s(188))}if(r.return!==a.return)r=n,a=i;else{for(var o=!1,l=n.child;l;){if(l===r){o=!0,r=n,a=i;break}if(l===a){o=!0,a=n,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,a=n;break}if(l===a){o=!0,a=i,r=n;break}l=l.sibling}if(!o)throw Error(s(189))}}if(r.alternate!==a)throw Error(s(190))}if(3!==r.tag)throw Error(s(188));return r.stateNode.current===r?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ge=n.unstable_scheduleCallback,Ke=n.unstable_cancelCallback,Qe=n.unstable_shouldYield,$e=n.unstable_requestPaint,Xe=n.unstable_now,Je=n.unstable_getCurrentPriorityLevel,Ze=n.unstable_ImmediatePriority,et=n.unstable_UserBlockingPriority,tt=n.unstable_NormalPriority,rt=n.unstable_LowPriority,at=n.unstable_IdlePriority,nt=null,st=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mt(e,t){var r=e.pendingLanes;if(0===r)return 0;var a=0,n=e.suspendedLanes,s=e.pingedLanes,i=268435455&r;if(0!==i){var o=i&~n;0!==o?a=ut(o):0!==(s&=i)&&(a=ut(s))}else 0!==(i=r&~n)?a=ut(i):0!==s&&(a=ut(s));if(0===a)return 0;if(0!==t&&t!==a&&0===(t&n)&&((n=a&-a)>=(s=t&-t)||16===n&&0!==(4194240&s)))return t;if(0!==(4&a)&&(a|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=a;0<t;)n=1<<(r=31-it(t)),a|=e[r],t&=~n;return a}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function xt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ft(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=r}function yt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var a=31-it(r),n=1<<a;n&t|e[a]&t&&(e[a]|=t),r&=~n}}var vt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,jt,kt,Nt,Ct,At=!1,St=[],Et=null,Dt=null,Pt=null,Tt=new Map,_t=new Map,Rt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ft(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Dt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_t.delete(t.pointerId)}}function Lt(e,t,r,a,n,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:a,nativeEvent:s,targetContainers:[n]},null!==t&&(null!==(t=vn(t))&&jt(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==n&&-1===t.indexOf(n)&&t.push(n),e)}function Mt(e){var t=yn(e.target);if(null!==t){var r=Ue(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=Ve(r)))return e.blockedOn=t,void Ct(e.priority,function(){kt(r)})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function It(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=vn(r))&&jt(t),e.blockedOn=r,!1;var a=new(r=e.nativeEvent).constructor(r.type,r);be=a,r.target.dispatchEvent(a),be=null,t.shift()}return!0}function Bt(e,t,r){It(e)&&r.delete(t)}function qt(){At=!1,null!==Et&&It(Et)&&(Et=null),null!==Dt&&It(Dt)&&(Dt=null),null!==Pt&&It(Pt)&&(Pt=null),Tt.forEach(Bt),_t.forEach(Bt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,At||(At=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,qt)))}function Ut(e){function t(t){return zt(t,e)}if(0<St.length){zt(St[0],e);for(var r=1;r<St.length;r++){var a=St[r];a.blockedOn===e&&(a.blockedOn=null)}}for(null!==Et&&zt(Et,e),null!==Dt&&zt(Dt,e),null!==Pt&&zt(Pt,e),Tt.forEach(t),_t.forEach(t),r=0;r<Rt.length;r++)(a=Rt[r]).blockedOn===e&&(a.blockedOn=null);for(;0<Rt.length&&null===(r=Rt[0]).blockedOn;)Mt(r),null===r.blockedOn&&Rt.shift()}var Vt=b.ReactCurrentBatchConfig,Yt=!0;function Wt(e,t,r,a){var n=vt,s=Vt.transition;Vt.transition=null;try{vt=1,Gt(e,t,r,a)}finally{vt=n,Vt.transition=s}}function Ht(e,t,r,a){var n=vt,s=Vt.transition;Vt.transition=null;try{vt=4,Gt(e,t,r,a)}finally{vt=n,Vt.transition=s}}function Gt(e,t,r,a){if(Yt){var n=Qt(e,t,r,a);if(null===n)Va(e,t,a,Kt,r),Ft(e,a);else if(function(e,t,r,a,n){switch(t){case"focusin":return Et=Lt(Et,e,t,r,a,n),!0;case"dragenter":return Dt=Lt(Dt,e,t,r,a,n),!0;case"mouseover":return Pt=Lt(Pt,e,t,r,a,n),!0;case"pointerover":var s=n.pointerId;return Tt.set(s,Lt(Tt.get(s)||null,e,t,r,a,n)),!0;case"gotpointercapture":return s=n.pointerId,_t.set(s,Lt(_t.get(s)||null,e,t,r,a,n)),!0}return!1}(n,e,t,r,a))a.stopPropagation();else if(Ft(e,a),4&t&&-1<Ot.indexOf(e)){for(;null!==n;){var s=vn(n);if(null!==s&&wt(s),null===(s=Qt(e,t,r,a))&&Va(e,t,a,Kt,r),s===n)break;n=s}null!==n&&a.stopPropagation()}else Va(e,t,a,null,r)}}var Kt=null;function Qt(e,t,r,a){if(Kt=null,null!==(e=yn(e=we(a))))if(null===(t=Ue(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case rt:return 16;case at:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function er(){if(Zt)return Zt;var e,t,r=Jt,a=r.length,n="value"in Xt?Xt.value:Xt.textContent,s=n.length;for(e=0;e<a&&r[e]===n[e];e++);var i=a-e;for(t=1;t<=i&&r[a-t]===n[s-t];t++);return Zt=n.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function ar(){return!1}function nr(e){function t(t,r,a,n,s){for(var i in this._reactName=t,this._targetInst=a,this.type=r,this.nativeEvent=n,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(n):n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?rr:ar,this.isPropagationStopped=ar,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var sr,ir,or,lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=nr(lr),dr=M({},lr,{view:0,detail:0}),ur=nr(dr),mr=M({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==or&&(or&&"mousemove"===e.type?(sr=e.screenX-or.screenX,ir=e.screenY-or.screenY):ir=sr=0,or=e),sr)},movementY:function(e){return"movementY"in e?e.movementY:ir}}),hr=nr(mr),pr=nr(M({},mr,{dataTransfer:0})),gr=nr(M({},dr,{relatedTarget:0})),xr=nr(M({},lr,{animationName:0,elapsedTime:0,pseudoElement:0})),fr=M({},lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yr=nr(fr),vr=nr(M({},lr,{data:0})),br={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=jr[e])&&!!t[e]}function Nr(){return kr}var Cr=M({},dr,{key:function(e){if(e.key){var t=br[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nr,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ar=nr(Cr),Sr=nr(M({},mr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Er=nr(M({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nr})),Dr=nr(M({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pr=M({},mr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tr=nr(Pr),_r=[9,13,27,32],Rr=d&&"CompositionEvent"in window,Or=null;d&&"documentMode"in document&&(Or=document.documentMode);var Fr=d&&"TextEvent"in window&&!Or,Lr=d&&(!Rr||Or&&8<Or&&11>=Or),Mr=String.fromCharCode(32),Ir=!1;function Br(e,t){switch(e){case"keyup":return-1!==_r.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zr=!1;var Ur={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ur[e.type]:"textarea"===t}function Yr(e,t,r,a){Ae(a),0<(t=Wa(t,"onChange")).length&&(r=new cr("onChange","change",null,r,a),e.push({event:r,listeners:t}))}var Wr=null,Hr=null;function Gr(e){Ma(e,0)}function Kr(e){if(G(bn(e)))return e}function Qr(e,t){if("change"===e)return t}var $r=!1;if(d){var Xr;if(d){var Jr="oninput"in document;if(!Jr){var Zr=document.createElement("div");Zr.setAttribute("oninput","return;"),Jr="function"===typeof Zr.oninput}Xr=Jr}else Xr=!1;$r=Xr&&(!document.documentMode||9<document.documentMode)}function ea(){Wr&&(Wr.detachEvent("onpropertychange",ta),Hr=Wr=null)}function ta(e){if("value"===e.propertyName&&Kr(Hr)){var t=[];Yr(t,Hr,e,we(e)),Te(Gr,t)}}function ra(e,t,r){"focusin"===e?(ea(),Hr=r,(Wr=t).attachEvent("onpropertychange",ta)):"focusout"===e&&ea()}function aa(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kr(Hr)}function na(e,t){if("click"===e)return Kr(t)}function sa(e,t){if("input"===e||"change"===e)return Kr(t)}var ia="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function oa(e,t){if(ia(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var n=r[a];if(!u.call(t,n)||!ia(e[n],t[n]))return!1}return!0}function la(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ca(e,t){var r,a=la(e);for(e=0;a;){if(3===a.nodeType){if(r=e+a.textContent.length,e<=t&&r>=t)return{node:a,offset:t-e};e=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=la(a)}}function da(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?da(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ua(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(a){r=!1}if(!r)break;t=K((e=t.contentWindow).document)}return t}function ma(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ha(e){var t=ua(),r=e.focusedElem,a=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&da(r.ownerDocument.documentElement,r)){if(null!==a&&ma(r))if(t=a.start,void 0===(e=a.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var n=r.textContent.length,s=Math.min(a.start,n);a=void 0===a.end?s:Math.min(a.end,n),!e.extend&&s>a&&(n=a,a=s,s=n),n=ca(r,s);var i=ca(r,a);n&&i&&(1!==e.rangeCount||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(n.node,n.offset),e.removeAllRanges(),s>a?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pa=d&&"documentMode"in document&&11>=document.documentMode,ga=null,xa=null,fa=null,ya=!1;function va(e,t,r){var a=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;ya||null==ga||ga!==K(a)||("selectionStart"in(a=ga)&&ma(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},fa&&oa(fa,a)||(fa=a,0<(a=Wa(xa,"onSelect")).length&&(t=new cr("onSelect","select",null,t,r),e.push({event:t,listeners:a}),t.target=ga)))}function ba(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var wa={animationend:ba("Animation","AnimationEnd"),animationiteration:ba("Animation","AnimationIteration"),animationstart:ba("Animation","AnimationStart"),transitionend:ba("Transition","TransitionEnd")},ja={},ka={};function Na(e){if(ja[e])return ja[e];if(!wa[e])return e;var t,r=wa[e];for(t in r)if(r.hasOwnProperty(t)&&t in ka)return ja[e]=r[t];return e}d&&(ka=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);var Ca=Na("animationend"),Aa=Na("animationiteration"),Sa=Na("animationstart"),Ea=Na("transitionend"),Da=new Map,Pa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ta(e,t){Da.set(e,t),l(t,[e])}for(var _a=0;_a<Pa.length;_a++){var Ra=Pa[_a];Ta(Ra.toLowerCase(),"on"+(Ra[0].toUpperCase()+Ra.slice(1)))}Ta(Ca,"onAnimationEnd"),Ta(Aa,"onAnimationIteration"),Ta(Sa,"onAnimationStart"),Ta("dblclick","onDoubleClick"),Ta("focusin","onFocus"),Ta("focusout","onBlur"),Ta(Ea,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fa=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oa));function La(e,t,r){var a=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,a,n,i,o,l,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(s(198));var d=Me;Le=!1,Me=null,Ie||(Ie=!0,Be=d)}}(a,t,void 0,e),e.currentTarget=null}function Ma(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var a=e[r],n=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var i=a.length-1;0<=i;i--){var o=a[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&n.isPropagationStopped())break e;La(n,o,c),s=l}else for(i=0;i<a.length;i++){if(l=(o=a[i]).instance,c=o.currentTarget,o=o.listener,l!==s&&n.isPropagationStopped())break e;La(n,o,c),s=l}}}if(Ie)throw e=Be,Ie=!1,Be=null,e}function Ia(e,t){var r=t[gn];void 0===r&&(r=t[gn]=new Set);var a=e+"__bubble";r.has(a)||(Ua(t,e,2,!1),r.add(a))}function Ba(e,t,r){var a=0;t&&(a|=4),Ua(r,e,a,t)}var qa="_reactListening"+Math.random().toString(36).slice(2);function za(e){if(!e[qa]){e[qa]=!0,i.forEach(function(t){"selectionchange"!==t&&(Fa.has(t)||Ba(t,!1,e),Ba(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[qa]||(t[qa]=!0,Ba("selectionchange",!1,t))}}function Ua(e,t,r,a){switch($t(t)){case 1:var n=Wt;break;case 4:n=Ht;break;default:n=Gt}r=n.bind(null,t,r,e),n=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(n=!0),a?void 0!==n?e.addEventListener(t,r,{capture:!0,passive:n}):e.addEventListener(t,r,!0):void 0!==n?e.addEventListener(t,r,{passive:n}):e.addEventListener(t,r,!1)}function Va(e,t,r,a,n){var s=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var i=a.tag;if(3===i||4===i){var o=a.stateNode.containerInfo;if(o===n||8===o.nodeType&&o.parentNode===n)break;if(4===i)for(i=a.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===n||8===l.nodeType&&l.parentNode===n))return;i=i.return}for(;null!==o;){if(null===(i=yn(o)))return;if(5===(l=i.tag)||6===l){a=s=i;continue e}o=o.parentNode}}a=a.return}Te(function(){var a=s,n=we(r),i=[];e:{var o=Da.get(e);if(void 0!==o){var l=cr,c=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":l=Ar;break;case"focusin":c="focus",l=gr;break;case"focusout":c="blur",l=gr;break;case"beforeblur":case"afterblur":l=gr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Er;break;case Ca:case Aa:case Sa:l=xr;break;case Ea:l=Dr;break;case"scroll":l=ur;break;case"wheel":l=Tr;break;case"copy":case"cut":case"paste":l=yr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Sr}var d=0!==(4&t),u=!d&&"scroll"===e,m=d?null!==o?o+"Capture":null:o;d=[];for(var h,p=a;null!==p;){var g=(h=p).stateNode;if(5===h.tag&&null!==g&&(h=g,null!==m&&(null!=(g=_e(p,m))&&d.push(Ya(p,g,h)))),u)break;p=p.return}0<d.length&&(o=new l(o,c,null,r,n),i.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||r===be||!(c=r.relatedTarget||r.fromElement)||!yn(c)&&!c[pn])&&(l||o)&&(o=n.window===n?n:(o=n.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=a,null!==(c=(c=r.relatedTarget||r.toElement)?yn(c):null)&&(c!==(u=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=a),l!==c)){if(d=hr,g="onMouseLeave",m="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=Sr,g="onPointerLeave",m="onPointerEnter",p="pointer"),u=null==l?o:bn(l),h=null==c?o:bn(c),(o=new d(g,p+"leave",l,r,n)).target=u,o.relatedTarget=h,g=null,yn(n)===a&&((d=new d(m,p+"enter",c,r,n)).target=h,d.relatedTarget=u,g=d),u=g,l&&c)e:{for(m=c,p=0,h=d=l;h;h=Ha(h))p++;for(h=0,g=m;g;g=Ha(g))h++;for(;0<p-h;)d=Ha(d),p--;for(;0<h-p;)m=Ha(m),h--;for(;p--;){if(d===m||null!==m&&d===m.alternate)break e;d=Ha(d),m=Ha(m)}d=null}else d=null;null!==l&&Ga(i,o,l,d,!1),null!==c&&null!==u&&Ga(i,u,c,d,!0)}if("select"===(l=(o=a?bn(a):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var x=Qr;else if(Vr(o))if($r)x=sa;else{x=aa;var f=ra}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(x=na);switch(x&&(x=x(e,a))?Yr(i,x,r,n):(f&&f(e,o,a),"focusout"===e&&(f=o._wrapperState)&&f.controlled&&"number"===o.type&&ee(o,"number",o.value)),f=a?bn(a):window,e){case"focusin":(Vr(f)||"true"===f.contentEditable)&&(ga=f,xa=a,fa=null);break;case"focusout":fa=xa=ga=null;break;case"mousedown":ya=!0;break;case"contextmenu":case"mouseup":case"dragend":ya=!1,va(i,r,n);break;case"selectionchange":if(pa)break;case"keydown":case"keyup":va(i,r,n)}var y;if(Rr)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else zr?Br(e,r)&&(v="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(v="onCompositionStart");v&&(Lr&&"ko"!==r.locale&&(zr||"onCompositionStart"!==v?"onCompositionEnd"===v&&zr&&(y=er()):(Jt="value"in(Xt=n)?Xt.value:Xt.textContent,zr=!0)),0<(f=Wa(a,v)).length&&(v=new vr(v,e,null,r,n),i.push({event:v,listeners:f}),y?v.data=y:null!==(y=qr(r))&&(v.data=y))),(y=Fr?function(e,t){switch(e){case"compositionend":return qr(t);case"keypress":return 32!==t.which?null:(Ir=!0,Mr);case"textInput":return(e=t.data)===Mr&&Ir?null:e;default:return null}}(e,r):function(e,t){if(zr)return"compositionend"===e||!Rr&&Br(e,t)?(e=er(),Zt=Jt=Xt=null,zr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Lr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(a=Wa(a,"onBeforeInput")).length&&(n=new vr("onBeforeInput","beforeinput",null,r,n),i.push({event:n,listeners:a}),n.data=y))}Ma(i,t)})}function Ya(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Wa(e,t){for(var r=t+"Capture",a=[];null!==e;){var n=e,s=n.stateNode;5===n.tag&&null!==s&&(n=s,null!=(s=_e(e,r))&&a.unshift(Ya(e,s,n)),null!=(s=_e(e,t))&&a.push(Ya(e,s,n))),e=e.return}return a}function Ha(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ga(e,t,r,a,n){for(var s=t._reactName,i=[];null!==r&&r!==a;){var o=r,l=o.alternate,c=o.stateNode;if(null!==l&&l===a)break;5===o.tag&&null!==c&&(o=c,n?null!=(l=_e(r,s))&&i.unshift(Ya(r,l,o)):n||null!=(l=_e(r,s))&&i.push(Ya(r,l,o))),r=r.return}0!==i.length&&e.push({event:t,listeners:i})}var Ka=/\r\n?/g,Qa=/\u0000|\uFFFD/g;function $a(e){return("string"===typeof e?e:""+e).replace(Ka,"\n").replace(Qa,"")}function Xa(e,t,r){if(t=$a(t),$a(e)!==t&&r)throw Error(s(425))}function Ja(){}var Za=null,en=null;function tn(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rn="function"===typeof setTimeout?setTimeout:void 0,an="function"===typeof clearTimeout?clearTimeout:void 0,nn="function"===typeof Promise?Promise:void 0,sn="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof nn?function(e){return nn.resolve(null).then(e).catch(on)}:rn;function on(e){setTimeout(function(){throw e})}function ln(e,t){var r=t,a=0;do{var n=r.nextSibling;if(e.removeChild(r),n&&8===n.nodeType)if("/$"===(r=n.data)){if(0===a)return e.removeChild(n),void Ut(t);a--}else"$"!==r&&"$?"!==r&&"$!"!==r||a++;r=n}while(r);Ut(t)}function cn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function dn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var un=Math.random().toString(36).slice(2),mn="__reactFiber$"+un,hn="__reactProps$"+un,pn="__reactContainer$"+un,gn="__reactEvents$"+un,xn="__reactListeners$"+un,fn="__reactHandles$"+un;function yn(e){var t=e[mn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[pn]||r[mn]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=dn(e);null!==e;){if(r=e[mn])return r;e=dn(e)}return t}r=(e=r).parentNode}return null}function vn(e){return!(e=e[mn]||e[pn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function wn(e){return e[hn]||null}var jn=[],kn=-1;function Nn(e){return{current:e}}function Cn(e){0>kn||(e.current=jn[kn],jn[kn]=null,kn--)}function An(e,t){kn++,jn[kn]=e.current,e.current=t}var Sn={},En=Nn(Sn),Dn=Nn(!1),Pn=Sn;function Tn(e,t){var r=e.type.contextTypes;if(!r)return Sn;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var n,s={};for(n in r)s[n]=t[n];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function _n(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Rn(){Cn(Dn),Cn(En)}function On(e,t,r){if(En.current!==Sn)throw Error(s(168));An(En,t),An(Dn,r)}function Fn(e,t,r){var a=e.stateNode;if(t=t.childContextTypes,"function"!==typeof a.getChildContext)return r;for(var n in a=a.getChildContext())if(!(n in t))throw Error(s(108,V(e)||"Unknown",n));return M({},r,a)}function Ln(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sn,Pn=En.current,An(En,e),An(Dn,Dn.current),!0}function Mn(e,t,r){var a=e.stateNode;if(!a)throw Error(s(169));r?(e=Fn(e,t,Pn),a.__reactInternalMemoizedMergedChildContext=e,Cn(Dn),Cn(En),An(En,e)):Cn(Dn),An(Dn,r)}var In=null,Bn=!1,qn=!1;function zn(e){null===In?In=[e]:In.push(e)}function Un(){if(!qn&&null!==In){qn=!0;var e=0,t=vt;try{var r=In;for(vt=1;e<r.length;e++){var a=r[e];do{a=a(!0)}while(null!==a)}In=null,Bn=!1}catch(n){throw null!==In&&(In=In.slice(e+1)),Ge(Ze,Un),n}finally{vt=t,qn=!1}}return null}var Vn=[],Yn=0,Wn=null,Hn=0,Gn=[],Kn=0,Qn=null,$n=1,Xn="";function Jn(e,t){Vn[Yn++]=Hn,Vn[Yn++]=Wn,Wn=e,Hn=t}function Zn(e,t,r){Gn[Kn++]=$n,Gn[Kn++]=Xn,Gn[Kn++]=Qn,Qn=e;var a=$n;e=Xn;var n=32-it(a)-1;a&=~(1<<n),r+=1;var s=32-it(t)+n;if(30<s){var i=n-n%5;s=(a&(1<<i)-1).toString(32),a>>=i,n-=i,$n=1<<32-it(t)+n|r<<n|a,Xn=s+e}else $n=1<<s|r<<n|a,Xn=e}function es(e){null!==e.return&&(Jn(e,1),Zn(e,1,0))}function ts(e){for(;e===Wn;)Wn=Vn[--Yn],Vn[Yn]=null,Hn=Vn[--Yn],Vn[Yn]=null;for(;e===Qn;)Qn=Gn[--Kn],Gn[Kn]=null,Xn=Gn[--Kn],Gn[Kn]=null,$n=Gn[--Kn],Gn[Kn]=null}var rs=null,as=null,ns=!1,ss=null;function is(e,t){var r=Pc(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function os(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,rs=e,as=cn(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,rs=e,as=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Qn?{id:$n,overflow:Xn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Pc(18,null,null,0)).stateNode=t,r.return=e,e.child=r,rs=e,as=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(ns){var t=as;if(t){var r=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=cn(r.nextSibling);var a=rs;t&&os(e,t)?is(a,r):(e.flags=-4097&e.flags|2,ns=!1,rs=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,ns=!1,rs=e}}}function ds(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;rs=e}function us(e){if(e!==rs)return!1;if(!ns)return ds(e),ns=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!tn(e.type,e.memoizedProps)),t&&(t=as)){if(ls(e))throw ms(),Error(s(418));for(;t;)is(e,t),t=cn(t.nextSibling)}if(ds(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){as=cn(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}as=null}}else as=rs?cn(e.stateNode.nextSibling):null;return!0}function ms(){for(var e=as;e;)e=cn(e.nextSibling)}function hs(){as=rs=null,ns=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var gs=b.ReactCurrentBatchConfig;function xs(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(s(309));var a=r.stateNode}if(!a)throw Error(s(147,e));var n=a,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=n.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!r._owner)throw Error(s(290,e))}return e}function fs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function vs(e){function t(t,r){if(e){var a=t.deletions;null===a?(t.deletions=[r],t.flags|=16):a.push(r)}}function r(r,a){if(!e)return null;for(;null!==a;)t(r,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function n(e,t){return(e=_c(e,t)).index=0,e.sibling=null,e}function i(t,r,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<r?(t.flags|=2,r):a:(t.flags|=2,r):(t.flags|=1048576,r)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,r,a){return null===t||6!==t.tag?((t=Lc(r,e.mode,a)).return=e,t):((t=n(t,r)).return=e,t)}function c(e,t,r,a){var s=r.type;return s===k?u(e,t,r.props.children,a,r.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===_&&ys(s)===t.type)?((a=n(t,r.props)).ref=xs(e,t,r),a.return=e,a):((a=Rc(r.type,r.key,r.props,null,e.mode,a)).ref=xs(e,t,r),a.return=e,a)}function d(e,t,r,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Mc(r,e.mode,a)).return=e,t):((t=n(t,r.children||[])).return=e,t)}function u(e,t,r,a,s){return null===t||7!==t.tag?((t=Oc(r,e.mode,a,s)).return=e,t):((t=n(t,r)).return=e,t)}function m(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(r=Rc(t.type,t.key,t.props,null,e.mode,r)).ref=xs(e,null,t),r.return=e,r;case j:return(t=Mc(t,e.mode,r)).return=e,t;case _:return m(e,(0,t._init)(t._payload),r)}if(te(t)||F(t))return(t=Oc(t,e.mode,r,null)).return=e,t;fs(e,t)}return null}function h(e,t,r,a){var n=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==n?null:l(e,t,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return r.key===n?c(e,t,r,a):null;case j:return r.key===n?d(e,t,r,a):null;case _:return h(e,t,(n=r._init)(r._payload),a)}if(te(r)||F(r))return null!==n?null:u(e,t,r,a,null);fs(e,r)}return null}function p(e,t,r,a,n){if("string"===typeof a&&""!==a||"number"===typeof a)return l(t,e=e.get(r)||null,""+a,n);if("object"===typeof a&&null!==a){switch(a.$$typeof){case w:return c(t,e=e.get(null===a.key?r:a.key)||null,a,n);case j:return d(t,e=e.get(null===a.key?r:a.key)||null,a,n);case _:return p(e,t,r,(0,a._init)(a._payload),n)}if(te(a)||F(a))return u(t,e=e.get(r)||null,a,n,null);fs(t,a)}return null}function g(n,s,o,l){for(var c=null,d=null,u=s,g=s=0,x=null;null!==u&&g<o.length;g++){u.index>g?(x=u,u=null):x=u.sibling;var f=h(n,u,o[g],l);if(null===f){null===u&&(u=x);break}e&&u&&null===f.alternate&&t(n,u),s=i(f,s,g),null===d?c=f:d.sibling=f,d=f,u=x}if(g===o.length)return r(n,u),ns&&Jn(n,g),c;if(null===u){for(;g<o.length;g++)null!==(u=m(n,o[g],l))&&(s=i(u,s,g),null===d?c=u:d.sibling=u,d=u);return ns&&Jn(n,g),c}for(u=a(n,u);g<o.length;g++)null!==(x=p(u,n,g,o[g],l))&&(e&&null!==x.alternate&&u.delete(null===x.key?g:x.key),s=i(x,s,g),null===d?c=x:d.sibling=x,d=x);return e&&u.forEach(function(e){return t(n,e)}),ns&&Jn(n,g),c}function x(n,o,l,c){var d=F(l);if("function"!==typeof d)throw Error(s(150));if(null==(l=d.call(l)))throw Error(s(151));for(var u=d=null,g=o,x=o=0,f=null,y=l.next();null!==g&&!y.done;x++,y=l.next()){g.index>x?(f=g,g=null):f=g.sibling;var v=h(n,g,y.value,c);if(null===v){null===g&&(g=f);break}e&&g&&null===v.alternate&&t(n,g),o=i(v,o,x),null===u?d=v:u.sibling=v,u=v,g=f}if(y.done)return r(n,g),ns&&Jn(n,x),d;if(null===g){for(;!y.done;x++,y=l.next())null!==(y=m(n,y.value,c))&&(o=i(y,o,x),null===u?d=y:u.sibling=y,u=y);return ns&&Jn(n,x),d}for(g=a(n,g);!y.done;x++,y=l.next())null!==(y=p(g,n,x,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?x:y.key),o=i(y,o,x),null===u?d=y:u.sibling=y,u=y);return e&&g.forEach(function(e){return t(n,e)}),ns&&Jn(n,x),d}return function e(a,s,i,l){if("object"===typeof i&&null!==i&&i.type===k&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case w:e:{for(var c=i.key,d=s;null!==d;){if(d.key===c){if((c=i.type)===k){if(7===d.tag){r(a,d.sibling),(s=n(d,i.props.children)).return=a,a=s;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===_&&ys(c)===d.type){r(a,d.sibling),(s=n(d,i.props)).ref=xs(a,d,i),s.return=a,a=s;break e}r(a,d);break}t(a,d),d=d.sibling}i.type===k?((s=Oc(i.props.children,a.mode,l,i.key)).return=a,a=s):((l=Rc(i.type,i.key,i.props,null,a.mode,l)).ref=xs(a,s,i),l.return=a,a=l)}return o(a);case j:e:{for(d=i.key;null!==s;){if(s.key===d){if(4===s.tag&&s.stateNode.containerInfo===i.containerInfo&&s.stateNode.implementation===i.implementation){r(a,s.sibling),(s=n(s,i.children||[])).return=a,a=s;break e}r(a,s);break}t(a,s),s=s.sibling}(s=Mc(i,a.mode,l)).return=a,a=s}return o(a);case _:return e(a,s,(d=i._init)(i._payload),l)}if(te(i))return g(a,s,i,l);if(F(i))return x(a,s,i,l);fs(a,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==s&&6===s.tag?(r(a,s.sibling),(s=n(s,i)).return=a,a=s):(r(a,s),(s=Lc(i,a.mode,l)).return=a,a=s),o(a)):r(a,s)}}var bs=vs(!0),ws=vs(!1),js=Nn(null),ks=null,Ns=null,Cs=null;function As(){Cs=Ns=ks=null}function Ss(e){var t=js.current;Cn(js),e._currentValue=t}function Es(e,t,r){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===r)break;e=e.return}}function Ds(e,t){ks=e,Cs=Ns=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(vo=!0),e.firstContext=null)}function Ps(e){var t=e._currentValue;if(Cs!==e)if(e={context:e,memoizedValue:t,next:null},null===Ns){if(null===ks)throw Error(s(308));Ns=e,ks.dependencies={lanes:0,firstContext:e}}else Ns=Ns.next=e;return t}var Ts=null;function _s(e){null===Ts?Ts=[e]:Ts.push(e)}function Rs(e,t,r,a){var n=t.interleaved;return null===n?(r.next=r,_s(t)):(r.next=n.next,n.next=r),t.interleaved=r,Os(e,a)}function Os(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Fs=!1;function Ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ms(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Is(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bs(e,t,r){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&Sl)){var n=a.pending;return null===n?t.next=t:(t.next=n.next,n.next=t),a.pending=t,Os(e,r)}return null===(n=a.interleaved)?(t.next=t,_s(a)):(t.next=n.next,n.next=t),a.interleaved=t,Os(e,r)}function qs(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var a=t.lanes;r|=a&=e.pendingLanes,t.lanes=r,yt(e,r)}}function zs(e,t){var r=e.updateQueue,a=e.alternate;if(null!==a&&r===(a=a.updateQueue)){var n=null,s=null;if(null!==(r=r.firstBaseUpdate)){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===s?n=s=i:s=s.next=i,r=r.next}while(null!==r);null===s?n=s=t:s=s.next=t}else n=s=t;return r={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:s,shared:a.shared,effects:a.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Us(e,t,r,a){var n=e.updateQueue;Fs=!1;var s=n.firstBaseUpdate,i=n.lastBaseUpdate,o=n.shared.pending;if(null!==o){n.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?s=c:i.next=c,i=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==s){var u=n.baseState;for(i=0,d=c=l=null,o=s;;){var m=o.lane,h=o.eventTime;if((a&m)===m){null!==d&&(d=d.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,g=o;switch(m=t,h=r,g.tag){case 1:if("function"===typeof(p=g.payload)){u=p.call(h,u,m);break e}u=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(m="function"===typeof(p=g.payload)?p.call(h,u,m):p)||void 0===m)break e;u=M({},u,m);break e;case 2:Fs=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(m=n.effects)?n.effects=[o]:m.push(o))}else h={eventTime:h,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=h,l=u):d=d.next=h,i|=m;if(null===(o=o.next)){if(null===(o=n.shared.pending))break;o=(m=o).next,m.next=null,n.lastBaseUpdate=m,n.shared.pending=null}}if(null===d&&(l=u),n.baseState=l,n.firstBaseUpdate=c,n.lastBaseUpdate=d,null!==(t=n.shared.interleaved)){n=t;do{i|=n.lane,n=n.next}while(n!==t)}else null===s&&(n.shared.lanes=0);Fl|=i,e.lanes=i,e.memoizedState=u}}function Vs(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var a=e[t],n=a.callback;if(null!==n){if(a.callback=null,a=r,"function"!==typeof n)throw Error(s(191,n));n.call(a)}}}var Ys={},Ws=Nn(Ys),Hs=Nn(Ys),Gs=Nn(Ys);function Ks(e){if(e===Ys)throw Error(s(174));return e}function Qs(e,t){switch(An(Gs,t),An(Hs,e),An(Ws,Ys),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Cn(Ws),An(Ws,t)}function $s(){Cn(Ws),Cn(Hs),Cn(Gs)}function Xs(e){Ks(Gs.current);var t=Ks(Ws.current),r=le(t,e.type);t!==r&&(An(Hs,e),An(Ws,r))}function Js(e){Hs.current===e&&(Cn(Ws),Cn(Hs))}var Zs=Nn(0);function ei(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function ri(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var ai=b.ReactCurrentDispatcher,ni=b.ReactCurrentBatchConfig,si=0,ii=null,oi=null,li=null,ci=!1,di=!1,ui=0,mi=0;function hi(){throw Error(s(321))}function pi(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ia(e[r],t[r]))return!1;return!0}function gi(e,t,r,a,n,i){if(si=i,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ai.current=null===e||null===e.memoizedState?Ji:Zi,e=r(a,n),di){i=0;do{if(di=!1,ui=0,25<=i)throw Error(s(301));i+=1,li=oi=null,t.updateQueue=null,ai.current=eo,e=r(a,n)}while(di)}if(ai.current=Xi,t=null!==oi&&null!==oi.next,si=0,li=oi=ii=null,ci=!1,t)throw Error(s(300));return e}function xi(){var e=0!==ui;return ui=0,e}function fi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===li?ii.memoizedState=li=e:li=li.next=e,li}function yi(){if(null===oi){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=oi.next;var t=null===li?ii.memoizedState:li.next;if(null!==t)li=t,oi=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oi=e).memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},null===li?ii.memoizedState=li=e:li=li.next=e}return li}function vi(e,t){return"function"===typeof t?t(e):t}function bi(e){var t=yi(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var a=oi,n=a.baseQueue,i=r.pending;if(null!==i){if(null!==n){var o=n.next;n.next=i.next,i.next=o}a.baseQueue=n=i,r.pending=null}if(null!==n){i=n.next,a=a.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((si&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=m,o=a):c=c.next=m,ii.lanes|=u,Fl|=u}d=d.next}while(null!==d&&d!==i);null===c?o=a:c.next=l,ia(a,t.memoizedState)||(vo=!0),t.memoizedState=a,t.baseState=o,t.baseQueue=c,r.lastRenderedState=a}if(null!==(e=r.interleaved)){n=e;do{i=n.lane,ii.lanes|=i,Fl|=i,n=n.next}while(n!==e)}else null===n&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function wi(e){var t=yi(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var a=r.dispatch,n=r.pending,i=t.memoizedState;if(null!==n){r.pending=null;var o=n=n.next;do{i=e(i,o.action),o=o.next}while(o!==n);ia(i,t.memoizedState)||(vo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),r.lastRenderedState=i}return[i,a]}function ji(){}function ki(e,t){var r=ii,a=yi(),n=t(),i=!ia(a.memoizedState,n);if(i&&(a.memoizedState=n,vo=!0),a=a.queue,Fi(Ai.bind(null,r,a,e),[e]),a.getSnapshot!==t||i||null!==li&&1&li.memoizedState.tag){if(r.flags|=2048,Pi(9,Ci.bind(null,r,a,n,t),void 0,null),null===El)throw Error(s(349));0!==(30&si)||Ni(r,t,n)}return n}function Ni(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Ci(e,t,r,a){t.value=r,t.getSnapshot=a,Si(t)&&Ei(e)}function Ai(e,t,r){return r(function(){Si(t)&&Ei(e)})}function Si(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ia(e,r)}catch(a){return!0}}function Ei(e){var t=Os(e,1);null!==t&&tc(t,e,1,-1)}function Di(e){var t=fi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:e},t.queue=e,e=e.dispatch=Gi.bind(null,ii,e),[t.memoizedState,e]}function Pi(e,t,r,a){return e={tag:e,create:t,destroy:r,deps:a,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,t.lastEffect=e),e}function Ti(){return yi().memoizedState}function _i(e,t,r,a){var n=fi();ii.flags|=e,n.memoizedState=Pi(1|t,r,void 0,void 0===a?null:a)}function Ri(e,t,r,a){var n=yi();a=void 0===a?null:a;var s=void 0;if(null!==oi){var i=oi.memoizedState;if(s=i.destroy,null!==a&&pi(a,i.deps))return void(n.memoizedState=Pi(t,r,s,a))}ii.flags|=e,n.memoizedState=Pi(1|t,r,s,a)}function Oi(e,t){return _i(8390656,8,e,t)}function Fi(e,t){return Ri(2048,8,e,t)}function Li(e,t){return Ri(4,2,e,t)}function Mi(e,t){return Ri(4,4,e,t)}function Ii(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bi(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Ri(4,4,Ii.bind(null,t,e),r)}function qi(){}function zi(e,t){var r=yi();t=void 0===t?null:t;var a=r.memoizedState;return null!==a&&null!==t&&pi(t,a[1])?a[0]:(r.memoizedState=[e,t],e)}function Ui(e,t){var r=yi();t=void 0===t?null:t;var a=r.memoizedState;return null!==a&&null!==t&&pi(t,a[1])?a[0]:(e=e(),r.memoizedState=[e,t],e)}function Vi(e,t,r){return 0===(21&si)?(e.baseState&&(e.baseState=!1,vo=!0),e.memoizedState=r):(ia(r,t)||(r=gt(),ii.lanes|=r,Fl|=r,e.baseState=!0),t)}function Yi(e,t){var r=vt;vt=0!==r&&4>r?r:4,e(!0);var a=ni.transition;ni.transition={};try{e(!1),t()}finally{vt=r,ni.transition=a}}function Wi(){return yi().memoizedState}function Hi(e,t,r){var a=ec(e);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},Ki(e))Qi(t,r);else if(null!==(r=Rs(e,t,r,a))){tc(r,e,a,Zl()),$i(r,t,a)}}function Gi(e,t,r){var a=ec(e),n={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ki(e))Qi(t,n);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=s(i,r);if(n.hasEagerState=!0,n.eagerState=o,ia(o,i)){var l=t.interleaved;return null===l?(n.next=n,_s(t)):(n.next=l.next,l.next=n),void(t.interleaved=n)}}catch(c){}null!==(r=Rs(e,t,n,a))&&(tc(r,e,a,n=Zl()),$i(r,t,a))}}function Ki(e){var t=e.alternate;return e===ii||null!==t&&t===ii}function Qi(e,t){di=ci=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function $i(e,t,r){if(0!==(4194240&r)){var a=t.lanes;r|=a&=e.pendingLanes,t.lanes=r,yt(e,r)}}var Xi={readContext:Ps,useCallback:hi,useContext:hi,useEffect:hi,useImperativeHandle:hi,useInsertionEffect:hi,useLayoutEffect:hi,useMemo:hi,useReducer:hi,useRef:hi,useState:hi,useDebugValue:hi,useDeferredValue:hi,useTransition:hi,useMutableSource:hi,useSyncExternalStore:hi,useId:hi,unstable_isNewReconciler:!1},Ji={readContext:Ps,useCallback:function(e,t){return fi().memoizedState=[e,void 0===t?null:t],e},useContext:Ps,useEffect:Oi,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,_i(4194308,4,Ii.bind(null,t,e),r)},useLayoutEffect:function(e,t){return _i(4194308,4,e,t)},useInsertionEffect:function(e,t){return _i(4,2,e,t)},useMemo:function(e,t){var r=fi();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var a=fi();return t=void 0!==r?r(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Hi.bind(null,ii,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},fi().memoizedState=e},useState:Di,useDebugValue:qi,useDeferredValue:function(e){return fi().memoizedState=e},useTransition:function(){var e=Di(!1),t=e[0];return e=Yi.bind(null,e[1]),fi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var a=ii,n=fi();if(ns){if(void 0===r)throw Error(s(407));r=r()}else{if(r=t(),null===El)throw Error(s(349));0!==(30&si)||Ni(a,t,r)}n.memoizedState=r;var i={value:r,getSnapshot:t};return n.queue=i,Oi(Ai.bind(null,a,i,e),[e]),a.flags|=2048,Pi(9,Ci.bind(null,a,i,r,t),void 0,null),r},useId:function(){var e=fi(),t=El.identifierPrefix;if(ns){var r=Xn;t=":"+t+"R"+(r=($n&~(1<<32-it($n)-1)).toString(32)+r),0<(r=ui++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=mi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zi={readContext:Ps,useCallback:zi,useContext:Ps,useEffect:Fi,useImperativeHandle:Bi,useInsertionEffect:Li,useLayoutEffect:Mi,useMemo:Ui,useReducer:bi,useRef:Ti,useState:function(){return bi(vi)},useDebugValue:qi,useDeferredValue:function(e){return Vi(yi(),oi.memoizedState,e)},useTransition:function(){return[bi(vi)[0],yi().memoizedState]},useMutableSource:ji,useSyncExternalStore:ki,useId:Wi,unstable_isNewReconciler:!1},eo={readContext:Ps,useCallback:zi,useContext:Ps,useEffect:Fi,useImperativeHandle:Bi,useInsertionEffect:Li,useLayoutEffect:Mi,useMemo:Ui,useReducer:wi,useRef:Ti,useState:function(){return wi(vi)},useDebugValue:qi,useDeferredValue:function(e){var t=yi();return null===oi?t.memoizedState=e:Vi(t,oi.memoizedState,e)},useTransition:function(){return[wi(vi)[0],yi().memoizedState]},useMutableSource:ji,useSyncExternalStore:ki,useId:Wi,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var r in t=M({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function ro(e,t,r,a){r=null===(r=r(a,t=e.memoizedState))||void 0===r?t:M({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var ao={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var a=Zl(),n=ec(e),s=Is(a,n);s.payload=t,void 0!==r&&null!==r&&(s.callback=r),null!==(t=Bs(e,s,n))&&(tc(t,e,n,a),qs(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var a=Zl(),n=ec(e),s=Is(a,n);s.tag=1,s.payload=t,void 0!==r&&null!==r&&(s.callback=r),null!==(t=Bs(e,s,n))&&(tc(t,e,n,a),qs(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Zl(),a=ec(e),n=Is(r,a);n.tag=2,void 0!==t&&null!==t&&(n.callback=t),null!==(t=Bs(e,n,a))&&(tc(t,e,a,r),qs(t,e,a))}};function no(e,t,r,a,n,s,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!oa(r,a)||!oa(n,s))}function so(e,t,r){var a=!1,n=Sn,s=t.contextType;return"object"===typeof s&&null!==s?s=Ps(s):(n=_n(t)?Pn:En.current,s=(a=null!==(a=t.contextTypes)&&void 0!==a)?Tn(e,n):Sn),t=new t(r,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ao,e.stateNode=t,t._reactInternals=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=s),t}function io(e,t,r,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,a),t.state!==e&&ao.enqueueReplaceState(t,t.state,null)}function oo(e,t,r,a){var n=e.stateNode;n.props=r,n.state=e.memoizedState,n.refs={},Ls(e);var s=t.contextType;"object"===typeof s&&null!==s?n.context=Ps(s):(s=_n(t)?Pn:En.current,n.context=Tn(e,s)),n.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ro(e,t,s,r),n.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof n.getSnapshotBeforeUpdate||"function"!==typeof n.UNSAFE_componentWillMount&&"function"!==typeof n.componentWillMount||(t=n.state,"function"===typeof n.componentWillMount&&n.componentWillMount(),"function"===typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount(),t!==n.state&&ao.enqueueReplaceState(n,n.state,null),Us(e,r,n,a),n.state=e.memoizedState),"function"===typeof n.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var r="",a=t;do{r+=z(a),a=a.return}while(a);var n=r}catch(s){n="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:n,digest:null}}function co(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var mo="function"===typeof WeakMap?WeakMap:Map;function ho(e,t,r){(r=Is(-1,r)).tag=3,r.payload={element:null};var a=t.value;return r.callback=function(){Vl||(Vl=!0,Yl=a),uo(0,t)},r}function po(e,t,r){(r=Is(-1,r)).tag=3;var a=e.type.getDerivedStateFromError;if("function"===typeof a){var n=t.value;r.payload=function(){return a(n)},r.callback=function(){uo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(r.callback=function(){uo(0,t),"function"!==typeof a&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function go(e,t,r){var a=e.pingCache;if(null===a){a=e.pingCache=new mo;var n=new Set;a.set(t,n)}else void 0===(n=a.get(t))&&(n=new Set,a.set(t,n));n.has(r)||(n.add(r),e=Nc.bind(null,e,t,r),t.then(e,e))}function xo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function fo(e,t,r,a,n){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Is(-1,1)).tag=2,Bs(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=n,e)}var yo=b.ReactCurrentOwner,vo=!1;function bo(e,t,r,a){t.child=null===e?ws(t,null,r,a):bs(t,e.child,r,a)}function wo(e,t,r,a,n){r=r.render;var s=t.ref;return Ds(t,n),a=gi(e,t,r,a,s,n),r=xi(),null===e||vo?(ns&&r&&es(t),t.flags|=1,bo(e,t,a,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Vo(e,t,n))}function jo(e,t,r,a,n){if(null===e){var s=r.type;return"function"!==typeof s||Tc(s)||void 0!==s.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Rc(r.type,null,a,t,t.mode,n)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,ko(e,t,s,a,n))}if(s=e.child,0===(e.lanes&n)){var i=s.memoizedProps;if((r=null!==(r=r.compare)?r:oa)(i,a)&&e.ref===t.ref)return Vo(e,t,n)}return t.flags|=1,(e=_c(s,a)).ref=t.ref,e.return=t,t.child=e}function ko(e,t,r,a,n){if(null!==e){var s=e.memoizedProps;if(oa(s,a)&&e.ref===t.ref){if(vo=!1,t.pendingProps=a=s,0===(e.lanes&n))return t.lanes=e.lanes,Vo(e,t,n);0!==(131072&e.flags)&&(vo=!0)}}return Ao(e,t,r,a,n)}function No(e,t,r){var a=t.pendingProps,n=a.children,s=null!==e?e.memoizedState:null;if("hidden"===a.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},An(_l,Tl),Tl|=r;else{if(0===(1073741824&r))return e=null!==s?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,An(_l,Tl),Tl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=null!==s?s.baseLanes:r,An(_l,Tl),Tl|=a}else null!==s?(a=s.baseLanes|r,t.memoizedState=null):a=r,An(_l,Tl),Tl|=a;return bo(e,t,n,r),t.child}function Co(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ao(e,t,r,a,n){var s=_n(r)?Pn:En.current;return s=Tn(t,s),Ds(t,n),r=gi(e,t,r,a,s,n),a=xi(),null===e||vo?(ns&&a&&es(t),t.flags|=1,bo(e,t,r,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Vo(e,t,n))}function So(e,t,r,a,n){if(_n(r)){var s=!0;Ln(t)}else s=!1;if(Ds(t,n),null===t.stateNode)Uo(e,t),so(t,r,a),oo(t,r,a,n),a=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=r.contextType;"object"===typeof c&&null!==c?c=Ps(c):c=Tn(t,c=_n(r)?Pn:En.current);var d=r.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate;u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==a||l!==c)&&io(t,i,a,c),Fs=!1;var m=t.memoizedState;i.state=m,Us(t,a,i,n),l=t.memoizedState,o!==a||m!==l||Dn.current||Fs?("function"===typeof d&&(ro(t,r,d,a),l=t.memoizedState),(o=Fs||no(t,r,o,a,m,l,c))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=l),i.props=a,i.state=l,i.context=c,a=o):("function"===typeof i.componentDidMount&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,Ms(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),i.props=c,u=t.pendingProps,m=i.context,"object"===typeof(l=r.contextType)&&null!==l?l=Ps(l):l=Tn(t,l=_n(r)?Pn:En.current);var h=r.getDerivedStateFromProps;(d="function"===typeof h||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==u||m!==l)&&io(t,i,a,l),Fs=!1,m=t.memoizedState,i.state=m,Us(t,a,i,n);var p=t.memoizedState;o!==u||m!==p||Dn.current||Fs?("function"===typeof h&&(ro(t,r,h,a),p=t.memoizedState),(c=Fs||no(t,r,c,a,m,p,l)||!1)?(d||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(a,p,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(a,p,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=p),i.props=a,i.state=p,i.context=l,a=c):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),a=!1)}return Eo(e,t,r,a,s,n)}function Eo(e,t,r,a,n,s){Co(e,t);var i=0!==(128&t.flags);if(!a&&!i)return n&&Mn(t,r,!1),Vo(e,t,s);a=t.stateNode,yo.current=t;var o=i&&"function"!==typeof r.getDerivedStateFromError?null:a.render();return t.flags|=1,null!==e&&i?(t.child=bs(t,e.child,null,s),t.child=bs(t,null,o,s)):bo(e,t,o,s),t.memoizedState=a.state,n&&Mn(t,r,!0),t.child}function Do(e){var t=e.stateNode;t.pendingContext?On(0,t.pendingContext,t.pendingContext!==t.context):t.context&&On(0,t.context,!1),Qs(e,t.containerInfo)}function Po(e,t,r,a,n){return hs(),ps(n),t.flags|=256,bo(e,t,r,a),t.child}var To,_o,Ro,Oo={dehydrated:null,treeContext:null,retryLane:0};function Fo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lo(e,t,r){var a,n=t.pendingProps,i=Zs.current,o=!1,l=0!==(128&t.flags);if((a=l)||(a=(null===e||null!==e.memoizedState)&&0!==(2&i)),a?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),An(Zs,1&i),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=n.children,e=n.fallback,o?(n=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&n)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Fc(l,n,0,null),e=Oc(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Fo(r),t.memoizedState=Oo,e):Mo(t,l));if(null!==(i=e.memoizedState)&&null!==(a=i.dehydrated))return function(e,t,r,a,n,i,o){if(r)return 256&t.flags?(t.flags&=-257,Io(e,t,o,a=co(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=a.fallback,n=t.mode,a=Fc({mode:"visible",children:a.children},n,0,null),(i=Oc(i,n,o,null)).flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,0!==(1&t.mode)&&bs(t,e.child,null,o),t.child.memoizedState=Fo(o),t.memoizedState=Oo,i);if(0===(1&t.mode))return Io(e,t,o,null);if("$!"===n.data){if(a=n.nextSibling&&n.nextSibling.dataset)var l=a.dgst;return a=l,Io(e,t,o,a=co(i=Error(s(419)),a,void 0))}if(l=0!==(o&e.childLanes),vo||l){if(null!==(a=El)){switch(o&-o){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}0!==(n=0!==(n&(a.suspendedLanes|o))?0:n)&&n!==i.retryLane&&(i.retryLane=n,Os(e,n),tc(a,e,n,-1))}return pc(),Io(e,t,o,a=co(Error(s(421))))}return"$?"===n.data?(t.flags|=128,t.child=e.child,t=Ac.bind(null,e),n._reactRetry=t,null):(e=i.treeContext,as=cn(n.nextSibling),rs=t,ns=!0,ss=null,null!==e&&(Gn[Kn++]=$n,Gn[Kn++]=Xn,Gn[Kn++]=Qn,$n=e.id,Xn=e.overflow,Qn=t),t=Mo(t,a.children),t.flags|=4096,t)}(e,t,l,n,a,i,r);if(o){o=n.fallback,l=t.mode,a=(i=e.child).sibling;var c={mode:"hidden",children:n.children};return 0===(1&l)&&t.child!==i?((n=t.child).childLanes=0,n.pendingProps=c,t.deletions=null):(n=_c(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==a?o=_c(a,o):(o=Oc(o,l,r,null)).flags|=2,o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,l=null===(l=e.child.memoizedState)?Fo(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~r,t.memoizedState=Oo,n}return e=(o=e.child).sibling,n=_c(o,{mode:"visible",children:n.children}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Mo(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Io(e,t,r,a){return null!==a&&ps(a),bs(t,e.child,null,r),(e=Mo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bo(e,t,r){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),Es(e.return,t,r)}function qo(e,t,r,a,n){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:n}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=r,s.tailMode=n)}function zo(e,t,r){var a=t.pendingProps,n=a.revealOrder,s=a.tail;if(bo(e,t,a.children,r),0!==(2&(a=Zs.current)))a=1&a|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bo(e,r,t);else if(19===e.tag)Bo(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(An(Zs,a),0===(1&t.mode))t.memoizedState=null;else switch(n){case"forwards":for(r=t.child,n=null;null!==r;)null!==(e=r.alternate)&&null===ei(e)&&(n=r),r=r.sibling;null===(r=n)?(n=t.child,t.child=null):(n=r.sibling,r.sibling=null),qo(t,!1,n,r,s);break;case"backwards":for(r=null,n=t.child,t.child=null;null!==n;){if(null!==(e=n.alternate)&&null===ei(e)){t.child=n;break}e=n.sibling,n.sibling=r,r=n,n=e}qo(t,!0,r,null,s);break;case"together":qo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Uo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vo(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(r=_c(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=_c(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Yo(e,t){if(!ns)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;null!==r;)null!==r.alternate&&(a=r),r=r.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Wo(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,a=0;if(t)for(var n=e.child;null!==n;)r|=n.lanes|n.childLanes,a|=14680064&n.subtreeFlags,a|=14680064&n.flags,n.return=e,n=n.sibling;else for(n=e.child;null!==n;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=r,t}function Ho(e,t,r){var a=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wo(t),null;case 1:case 17:return _n(t.type)&&Rn(),Wo(t),null;case 3:return a=t.stateNode,$s(),Cn(Dn),Cn(En),ri(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(us(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(sc(ss),ss=null))),Wo(t),null;case 5:Js(t);var n=Ks(Gs.current);if(r=t.type,null!==e&&null!=t.stateNode)_o(e,t,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(null===t.stateNode)throw Error(s(166));return Wo(t),null}if(e=Ks(Ws.current),us(t)){a=t.stateNode,r=t.type;var i=t.memoizedProps;switch(a[mn]=t,a[hn]=i,e=0!==(1&t.mode),r){case"dialog":Ia("cancel",a),Ia("close",a);break;case"iframe":case"object":case"embed":Ia("load",a);break;case"video":case"audio":for(n=0;n<Oa.length;n++)Ia(Oa[n],a);break;case"source":Ia("error",a);break;case"img":case"image":case"link":Ia("error",a),Ia("load",a);break;case"details":Ia("toggle",a);break;case"input":$(a,i),Ia("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},Ia("invalid",a);break;case"textarea":ne(a,i),Ia("invalid",a)}for(var l in ye(r,i),n=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?a.textContent!==c&&(!0!==i.suppressHydrationWarning&&Xa(a.textContent,c,e),n=["children",c]):"number"===typeof c&&a.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Xa(a.textContent,c,e),n=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ia("scroll",a)}switch(r){case"input":H(a),Z(a,i,!0);break;case"textarea":H(a),ie(a);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(a.onclick=Ja)}a=n,t.updateQueue=a,null!==a&&(t.flags|=4)}else{l=9===n.nodeType?n:n.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof a.is?e=l.createElement(r,{is:a.is}):(e=l.createElement(r),"select"===r&&(l=e,a.multiple?l.multiple=!0:a.size&&(l.size=a.size))):e=l.createElementNS(e,r),e[mn]=t,e[hn]=a,To(e,t),t.stateNode=e;e:{switch(l=ve(r,a),r){case"dialog":Ia("cancel",e),Ia("close",e),n=a;break;case"iframe":case"object":case"embed":Ia("load",e),n=a;break;case"video":case"audio":for(n=0;n<Oa.length;n++)Ia(Oa[n],e);n=a;break;case"source":Ia("error",e),n=a;break;case"img":case"image":case"link":Ia("error",e),Ia("load",e),n=a;break;case"details":Ia("toggle",e),n=a;break;case"input":$(e,a),n=Q(e,a),Ia("invalid",e);break;case"option":default:n=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},n=M({},a,{value:void 0}),Ia("invalid",e);break;case"textarea":ne(e,a),n=ae(e,a),Ia("invalid",e)}for(i in ye(r,n),c=n)if(c.hasOwnProperty(i)){var d=c[i];"style"===i?xe(e,d):"dangerouslySetInnerHTML"===i?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===i?"string"===typeof d?("textarea"!==r||""!==d)&&me(e,d):"number"===typeof d&&me(e,""+d):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(o.hasOwnProperty(i)?null!=d&&"onScroll"===i&&Ia("scroll",e):null!=d&&v(e,i,d,l))}switch(r){case"input":H(e),Z(e,a,!1);break;case"textarea":H(e),ie(e);break;case"option":null!=a.value&&e.setAttribute("value",""+Y(a.value));break;case"select":e.multiple=!!a.multiple,null!=(i=a.value)?re(e,!!a.multiple,i,!1):null!=a.defaultValue&&re(e,!!a.multiple,a.defaultValue,!0);break;default:"function"===typeof n.onClick&&(e.onclick=Ja)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wo(t),null;case 6:if(e&&null!=t.stateNode)Ro(0,t,e.memoizedProps,a);else{if("string"!==typeof a&&null===t.stateNode)throw Error(s(166));if(r=Ks(Gs.current),Ks(Ws.current),us(t)){if(a=t.stateNode,r=t.memoizedProps,a[mn]=t,(i=a.nodeValue!==r)&&null!==(e=rs))switch(e.tag){case 3:Xa(a.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xa(a.nodeValue,r,0!==(1&e.mode))}i&&(t.flags|=4)}else(a=(9===r.nodeType?r:r.ownerDocument).createTextNode(a))[mn]=t,t.stateNode=a}return Wo(t),null;case 13:if(Cn(Zs),a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ns&&null!==as&&0!==(1&t.mode)&&0===(128&t.flags))ms(),hs(),t.flags|=98560,i=!1;else if(i=us(t),null!==a&&null!==a.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[mn]=t}else hs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wo(t),i=!1}else null!==ss&&(sc(ss),ss=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((a=null!==a)!==(null!==e&&null!==e.memoizedState)&&a&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Rl&&(Rl=3):pc())),null!==t.updateQueue&&(t.flags|=4),Wo(t),null);case 4:return $s(),null===e&&za(t.stateNode.containerInfo),Wo(t),null;case 10:return Ss(t.type._context),Wo(t),null;case 19:if(Cn(Zs),null===(i=t.memoizedState))return Wo(t),null;if(a=0!==(128&t.flags),null===(l=i.rendering))if(a)Yo(i,!1);else{if(0!==Rl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ei(e))){for(t.flags|=128,Yo(i,!1),null!==(a=l.updateQueue)&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=r,r=t.child;null!==r;)e=a,(i=r).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return An(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==i.tail&&Xe()>zl&&(t.flags|=128,a=!0,Yo(i,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=ei(l))){if(t.flags|=128,a=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Yo(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!ns)return Wo(t),null}else 2*Xe()-i.renderingStartTime>zl&&1073741824!==r&&(t.flags|=128,a=!0,Yo(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=i.last)?r.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Xe(),t.sibling=null,r=Zs.current,An(Zs,a?1&r|2:1&r),t):(Wo(t),null);case 22:case 23:return dc(),a=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==a&&(t.flags|=8192),a&&0!==(1&t.mode)?0!==(1073741824&Tl)&&(Wo(t),6&t.subtreeFlags&&(t.flags|=8192)):Wo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Go(e,t){switch(ts(t),t.tag){case 1:return _n(t.type)&&Rn(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $s(),Cn(Dn),Cn(En),ri(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Js(t),null;case 13:if(Cn(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));hs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Cn(Zs),null;case 4:return $s(),null;case 10:return Ss(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}To=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},_o=function(e,t,r,a){var n=e.memoizedProps;if(n!==a){e=t.stateNode,Ks(Ws.current);var s,i=null;switch(r){case"input":n=Q(e,n),a=Q(e,a),i=[];break;case"select":n=M({},n,{value:void 0}),a=M({},a,{value:void 0}),i=[];break;case"textarea":n=ae(e,n),a=ae(e,a),i=[];break;default:"function"!==typeof n.onClick&&"function"===typeof a.onClick&&(e.onclick=Ja)}for(d in ye(r,a),r=null,n)if(!a.hasOwnProperty(d)&&n.hasOwnProperty(d)&&null!=n[d])if("style"===d){var l=n[d];for(s in l)l.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in a){var c=a[d];if(l=null!=n?n[d]:void 0,a.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(i||(i=[]),i.push(d,r)),r=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Ia("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}},Ro=function(e,t,r,a){r!==a&&(t.flags|=4)};var Ko=!1,Qo=!1,$o="function"===typeof WeakSet?WeakSet:Set,Xo=null;function Jo(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(a){kc(e,t,a)}else r.current=null}function Zo(e,t,r){try{r()}catch(a){kc(e,t,a)}}var el=!1;function tl(e,t,r){var a=t.updateQueue;if(null!==(a=null!==a?a.lastEffect:null)){var n=a=a.next;do{if((n.tag&e)===e){var s=n.destroy;n.destroy=void 0,void 0!==s&&Zo(t,r,s)}n=n.next}while(n!==a)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var a=r.create;r.destroy=a()}r=r.next}while(r!==t)}}function al(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function nl(e){var t=e.alternate;null!==t&&(e.alternate=null,nl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[mn],delete t[hn],delete t[gn],delete t[xn],delete t[fn])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function il(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ol(e,t,r){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Ja));else if(4!==a&&null!==(e=e.child))for(ol(e,t,r),e=e.sibling;null!==e;)ol(e,t,r),e=e.sibling}function ll(e,t,r){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==a&&null!==(e=e.child))for(ll(e,t,r),e=e.sibling;null!==e;)ll(e,t,r),e=e.sibling}var cl=null,dl=!1;function ul(e,t,r){for(r=r.child;null!==r;)ml(e,t,r),r=r.sibling}function ml(e,t,r){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(nt,r)}catch(o){}switch(r.tag){case 5:Qo||Jo(r,t);case 6:var a=cl,n=dl;cl=null,ul(e,t,r),dl=n,null!==(cl=a)&&(dl?(e=cl,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):cl.removeChild(r.stateNode));break;case 18:null!==cl&&(dl?(e=cl,r=r.stateNode,8===e.nodeType?ln(e.parentNode,r):1===e.nodeType&&ln(e,r),Ut(e)):ln(cl,r.stateNode));break;case 4:a=cl,n=dl,cl=r.stateNode.containerInfo,dl=!0,ul(e,t,r),cl=a,dl=n;break;case 0:case 11:case 14:case 15:if(!Qo&&(null!==(a=r.updateQueue)&&null!==(a=a.lastEffect))){n=a=a.next;do{var s=n,i=s.destroy;s=s.tag,void 0!==i&&(0!==(2&s)||0!==(4&s))&&Zo(r,t,i),n=n.next}while(n!==a)}ul(e,t,r);break;case 1:if(!Qo&&(Jo(r,t),"function"===typeof(a=r.stateNode).componentWillUnmount))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(o){kc(r,t,o)}ul(e,t,r);break;case 21:ul(e,t,r);break;case 22:1&r.mode?(Qo=(a=Qo)||null!==r.memoizedState,ul(e,t,r),Qo=a):ul(e,t,r);break;default:ul(e,t,r)}}function hl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new $o),t.forEach(function(t){var a=Sc.bind(null,e,t);r.has(t)||(r.add(t),t.then(a,a))})}}function pl(e,t){var r=t.deletions;if(null!==r)for(var a=0;a<r.length;a++){var n=r[a];try{var i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===cl)throw Error(s(160));ml(i,o,n),cl=null,dl=!1;var c=n.alternate;null!==c&&(c.return=null),n.return=null}catch(d){kc(n,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pl(t,e),xl(e),4&a){try{tl(3,e,e.return),rl(3,e)}catch(x){kc(e,e.return,x)}try{tl(5,e,e.return)}catch(x){kc(e,e.return,x)}}break;case 1:pl(t,e),xl(e),512&a&&null!==r&&Jo(r,r.return);break;case 5:if(pl(t,e),xl(e),512&a&&null!==r&&Jo(r,r.return),32&e.flags){var n=e.stateNode;try{me(n,"")}catch(x){kc(e,e.return,x)}}if(4&a&&null!=(n=e.stateNode)){var i=e.memoizedProps,o=null!==r?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&X(n,i),ve(l,o);var d=ve(l,i);for(o=0;o<c.length;o+=2){var u=c[o],m=c[o+1];"style"===u?xe(n,m):"dangerouslySetInnerHTML"===u?ue(n,m):"children"===u?me(n,m):v(n,u,m,d)}switch(l){case"input":J(n,i);break;case"textarea":se(n,i);break;case"select":var h=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!i.multiple;var p=i.value;null!=p?re(n,!!i.multiple,p,!1):h!==!!i.multiple&&(null!=i.defaultValue?re(n,!!i.multiple,i.defaultValue,!0):re(n,!!i.multiple,i.multiple?[]:"",!1))}n[hn]=i}catch(x){kc(e,e.return,x)}}break;case 6:if(pl(t,e),xl(e),4&a){if(null===e.stateNode)throw Error(s(162));n=e.stateNode,i=e.memoizedProps;try{n.nodeValue=i}catch(x){kc(e,e.return,x)}}break;case 3:if(pl(t,e),xl(e),4&a&&null!==r&&r.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(x){kc(e,e.return,x)}break;case 4:default:pl(t,e),xl(e);break;case 13:pl(t,e),xl(e),8192&(n=e.child).flags&&(i=null!==n.memoizedState,n.stateNode.isHidden=i,!i||null!==n.alternate&&null!==n.alternate.memoizedState||(ql=Xe())),4&a&&hl(e);break;case 22:if(u=null!==r&&null!==r.memoizedState,1&e.mode?(Qo=(d=Qo)||u,pl(t,e),Qo=d):pl(t,e),xl(e),8192&a){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Xo=e,u=e.child;null!==u;){for(m=Xo=u;null!==Xo;){switch(p=(h=Xo).child,h.tag){case 0:case 11:case 14:case 15:tl(4,h,h.return);break;case 1:Jo(h,h.return);var g=h.stateNode;if("function"===typeof g.componentWillUnmount){a=h,r=h.return;try{t=a,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(x){kc(a,r,x)}}break;case 5:Jo(h,h.return);break;case 22:if(null!==h.memoizedState){bl(m);continue}}null!==p?(p.return=h,Xo=p):bl(m)}u=u.sibling}e:for(u=null,m=e;;){if(5===m.tag){if(null===u){u=m;try{n=m.stateNode,d?"function"===typeof(i=n.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=m.stateNode,o=void 0!==(c=m.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",o))}catch(x){kc(e,e.return,x)}}}else if(6===m.tag){if(null===u)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(x){kc(e,e.return,x)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===e)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;null===m.sibling;){if(null===m.return||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:pl(t,e),xl(e),4&a&&hl(e);case 21:}}function xl(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(sl(r)){var a=r;break e}r=r.return}throw Error(s(160))}switch(a.tag){case 5:var n=a.stateNode;32&a.flags&&(me(n,""),a.flags&=-33),ll(e,il(e),n);break;case 3:case 4:var i=a.stateNode.containerInfo;ol(e,il(e),i);break;default:throw Error(s(161))}}catch(o){kc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function fl(e,t,r){Xo=e,yl(e,t,r)}function yl(e,t,r){for(var a=0!==(1&e.mode);null!==Xo;){var n=Xo,s=n.child;if(22===n.tag&&a){var i=null!==n.memoizedState||Ko;if(!i){var o=n.alternate,l=null!==o&&null!==o.memoizedState||Qo;o=Ko;var c=Qo;if(Ko=i,(Qo=l)&&!c)for(Xo=n;null!==Xo;)l=(i=Xo).child,22===i.tag&&null!==i.memoizedState?wl(n):null!==l?(l.return=i,Xo=l):wl(n);for(;null!==s;)Xo=s,yl(s,t,r),s=s.sibling;Xo=n,Ko=o,Qo=c}vl(e)}else 0!==(8772&n.subtreeFlags)&&null!==s?(s.return=n,Xo=s):vl(e)}}function vl(e){for(;null!==Xo;){var t=Xo;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qo||rl(5,t);break;case 1:var a=t.stateNode;if(4&t.flags&&!Qo)if(null===r)a.componentDidMount();else{var n=t.elementType===t.type?r.memoizedProps:to(t.type,r.memoizedProps);a.componentDidUpdate(n,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Vs(t,i,a);break;case 3:var o=t.updateQueue;if(null!==o){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Vs(t,o,r)}break;case 5:var l=t.stateNode;if(null===r&&4&t.flags){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var m=u.dehydrated;null!==m&&Ut(m)}}}break;default:throw Error(s(163))}Qo||512&t.flags&&al(t)}catch(h){kc(t,t.return,h)}}if(t===e){Xo=null;break}if(null!==(r=t.sibling)){r.return=t.return,Xo=r;break}Xo=t.return}}function bl(e){for(;null!==Xo;){var t=Xo;if(t===e){Xo=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Xo=r;break}Xo=t.return}}function wl(e){for(;null!==Xo;){var t=Xo;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{rl(4,t)}catch(l){kc(t,r,l)}break;case 1:var a=t.stateNode;if("function"===typeof a.componentDidMount){var n=t.return;try{a.componentDidMount()}catch(l){kc(t,n,l)}}var s=t.return;try{al(t)}catch(l){kc(t,s,l)}break;case 5:var i=t.return;try{al(t)}catch(l){kc(t,i,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Xo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Xo=o;break}Xo=t.return}}var jl,kl=Math.ceil,Nl=b.ReactCurrentDispatcher,Cl=b.ReactCurrentOwner,Al=b.ReactCurrentBatchConfig,Sl=0,El=null,Dl=null,Pl=0,Tl=0,_l=Nn(0),Rl=0,Ol=null,Fl=0,Ll=0,Ml=0,Il=null,Bl=null,ql=0,zl=1/0,Ul=null,Vl=!1,Yl=null,Wl=null,Hl=!1,Gl=null,Kl=0,Ql=0,$l=null,Xl=-1,Jl=0;function Zl(){return 0!==(6&Sl)?Xe():-1!==Xl?Xl:Xl=Xe()}function ec(e){return 0===(1&e.mode)?1:0!==(2&Sl)&&0!==Pl?Pl&-Pl:null!==gs.transition?(0===Jl&&(Jl=gt()),Jl):0!==(e=vt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function tc(e,t,r,a){if(50<Ql)throw Ql=0,$l=null,Error(s(185));ft(e,r,a),0!==(2&Sl)&&e===El||(e===El&&(0===(2&Sl)&&(Ll|=r),4===Rl&&ic(e,Pl)),rc(e,a),1===r&&0===Sl&&0===(1&t.mode)&&(zl=Xe()+500,Bn&&Un()))}function rc(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-it(s),o=1<<i,l=n[i];-1===l?0!==(o&r)&&0===(o&a)||(n[i]=ht(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var a=mt(e,e===El?Pl:0);if(0===a)null!==r&&Ke(r),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(null!=r&&Ke(r),1===t)0===e.tag?function(e){Bn=!0,zn(e)}(oc.bind(null,e)):zn(oc.bind(null,e)),sn(function(){0===(6&Sl)&&Un()}),r=null;else{switch(bt(a)){case 1:r=Ze;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=at}r=Ec(r,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ac(e,t){if(Xl=-1,Jl=0,0!==(6&Sl))throw Error(s(327));var r=e.callbackNode;if(wc()&&e.callbackNode!==r)return null;var a=mt(e,e===El?Pl:0);if(0===a)return null;if(0!==(30&a)||0!==(a&e.expiredLanes)||t)t=gc(e,a);else{t=a;var n=Sl;Sl|=2;var i=hc();for(El===e&&Pl===t||(Ul=null,zl=Xe()+500,uc(e,t));;)try{fc();break}catch(l){mc(e,l)}As(),Nl.current=i,Sl=n,null!==Dl?t=0:(El=null,Pl=0,t=Rl)}if(0!==t){if(2===t&&(0!==(n=pt(e))&&(a=n,t=nc(e,n))),1===t)throw r=Ol,uc(e,0),ic(e,a),rc(e,Xe()),r;if(6===t)ic(e,a);else{if(n=e.current.alternate,0===(30&a)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var a=0;a<r.length;a++){var n=r[a],s=n.getSnapshot;n=n.value;try{if(!ia(s(),n))return!1}catch(o){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(n)&&(2===(t=gc(e,a))&&(0!==(i=pt(e))&&(a=i,t=nc(e,i))),1===t))throw r=Ol,uc(e,0),ic(e,a),rc(e,Xe()),r;switch(e.finishedWork=n,e.finishedLanes=a,t){case 0:case 1:throw Error(s(345));case 2:case 5:bc(e,Bl,Ul);break;case 3:if(ic(e,a),(130023424&a)===a&&10<(t=ql+500-Xe())){if(0!==mt(e,0))break;if(((n=e.suspendedLanes)&a)!==a){Zl(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=rn(bc.bind(null,e,Bl,Ul),t);break}bc(e,Bl,Ul);break;case 4:if(ic(e,a),(4194240&a)===a)break;for(t=e.eventTimes,n=-1;0<a;){var o=31-it(a);i=1<<o,(o=t[o])>n&&(n=o),a&=~i}if(a=n,10<(a=(120>(a=Xe()-a)?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*kl(a/1960))-a)){e.timeoutHandle=rn(bc.bind(null,e,Bl,Ul),a);break}bc(e,Bl,Ul);break;default:throw Error(s(329))}}}return rc(e,Xe()),e.callbackNode===r?ac.bind(null,e):null}function nc(e,t){var r=Il;return e.current.memoizedState.isDehydrated&&(uc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Bl,Bl=r,null!==t&&sc(t)),e}function sc(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function ic(e,t){for(t&=~Ml,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-it(t),a=1<<r;e[r]=-1,t&=~a}}function oc(e){if(0!==(6&Sl))throw Error(s(327));wc();var t=mt(e,0);if(0===(1&t))return rc(e,Xe()),null;var r=gc(e,t);if(0!==e.tag&&2===r){var a=pt(e);0!==a&&(t=a,r=nc(e,a))}if(1===r)throw r=Ol,uc(e,0),ic(e,t),rc(e,Xe()),r;if(6===r)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bc(e,Bl,Ul),rc(e,Xe()),null}function lc(e,t){var r=Sl;Sl|=1;try{return e(t)}finally{0===(Sl=r)&&(zl=Xe()+500,Bn&&Un())}}function cc(e){null!==Gl&&0===Gl.tag&&0===(6&Sl)&&wc();var t=Sl;Sl|=1;var r=Al.transition,a=vt;try{if(Al.transition=null,vt=1,e)return e()}finally{vt=a,Al.transition=r,0===(6&(Sl=t))&&Un()}}function dc(){Tl=_l.current,Cn(_l)}function uc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,an(r)),null!==Dl)for(r=Dl.return;null!==r;){var a=r;switch(ts(a),a.tag){case 1:null!==(a=a.type.childContextTypes)&&void 0!==a&&Rn();break;case 3:$s(),Cn(Dn),Cn(En),ri();break;case 5:Js(a);break;case 4:$s();break;case 13:case 19:Cn(Zs);break;case 10:Ss(a.type._context);break;case 22:case 23:dc()}r=r.return}if(El=e,Dl=e=_c(e.current,null),Pl=Tl=t,Rl=0,Ol=null,Ml=Ll=Fl=0,Bl=Il=null,null!==Ts){for(t=0;t<Ts.length;t++)if(null!==(a=(r=Ts[t]).interleaved)){r.interleaved=null;var n=a.next,s=r.pending;if(null!==s){var i=s.next;s.next=n,a.next=i}r.pending=a}Ts=null}return e}function mc(e,t){for(;;){var r=Dl;try{if(As(),ai.current=Xi,ci){for(var a=ii.memoizedState;null!==a;){var n=a.queue;null!==n&&(n.pending=null),a=a.next}ci=!1}if(si=0,li=oi=ii=null,di=!1,ui=0,Cl.current=null,null===r||null===r.return){Rl=1,Ol=t,Dl=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,m=u.tag;if(0===(1&u.mode)&&(0===m||11===m||15===m)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=xo(o);if(null!==p){p.flags&=-257,fo(p,o,l,0,t),1&p.mode&&go(i,d,t),c=d;var g=(t=p).updateQueue;if(null===g){var x=new Set;x.add(c),t.updateQueue=x}else g.add(c);break e}if(0===(1&t)){go(i,d,t),pc();break e}c=Error(s(426))}else if(ns&&1&l.mode){var f=xo(o);if(null!==f){0===(65536&f.flags)&&(f.flags|=256),fo(f,o,l,0,t),ps(lo(c,l));break e}}i=c=lo(c,l),4!==Rl&&(Rl=2),null===Il?Il=[i]:Il.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,zs(i,ho(0,c,t));break e;case 1:l=c;var y=i.type,v=i.stateNode;if(0===(128&i.flags)&&("function"===typeof y.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Wl||!Wl.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t,zs(i,po(i,l,t));break e}}i=i.return}while(null!==i)}vc(r)}catch(b){t=b,Dl===r&&null!==r&&(Dl=r=r.return);continue}break}}function hc(){var e=Nl.current;return Nl.current=Xi,null===e?Xi:e}function pc(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===El||0===(268435455&Fl)&&0===(268435455&Ll)||ic(El,Pl)}function gc(e,t){var r=Sl;Sl|=2;var a=hc();for(El===e&&Pl===t||(Ul=null,uc(e,t));;)try{xc();break}catch(n){mc(e,n)}if(As(),Sl=r,Nl.current=a,null!==Dl)throw Error(s(261));return El=null,Pl=0,Rl}function xc(){for(;null!==Dl;)yc(Dl)}function fc(){for(;null!==Dl&&!Qe();)yc(Dl)}function yc(e){var t=jl(e.alternate,e,Tl);e.memoizedProps=e.pendingProps,null===t?vc(e):Dl=t,Cl.current=null}function vc(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=Ho(r,t,Tl)))return void(Dl=r)}else{if(null!==(r=Go(r,t)))return r.flags&=32767,void(Dl=r);if(null===e)return Rl=6,void(Dl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Dl=t);Dl=t=e}while(null!==t);0===Rl&&(Rl=5)}function bc(e,t,r){var a=vt,n=Al.transition;try{Al.transition=null,vt=1,function(e,t,r,a){do{wc()}while(null!==Gl);if(0!==(6&Sl))throw Error(s(327));r=e.finishedWork;var n=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<r;){var n=31-it(r),s=1<<n;t[n]=0,a[n]=-1,e[n]=-1,r&=~s}}(e,i),e===El&&(Dl=El=null,Pl=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Hl||(Hl=!0,Ec(tt,function(){return wc(),null})),i=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||i){i=Al.transition,Al.transition=null;var o=vt;vt=1;var l=Sl;Sl|=4,Cl.current=null,function(e,t){if(Za=Yt,ma(e=ua())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(a&&0!==a.rangeCount){r=a.anchorNode;var n=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{r.nodeType,i.nodeType}catch(w){r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,m=e,h=null;t:for(;;){for(var p;m!==r||0!==n&&3!==m.nodeType||(l=o+n),m!==i||0!==a&&3!==m.nodeType||(c=o+a),3===m.nodeType&&(o+=m.nodeValue.length),null!==(p=m.firstChild);)h=m,m=p;for(;;){if(m===e)break t;if(h===r&&++d===n&&(l=o),h===i&&++u===a&&(c=o),null!==(p=m.nextSibling))break;h=(m=h).parentNode}m=p}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(en={focusedElem:e,selectionRange:r},Yt=!1,Xo=t;null!==Xo;)if(e=(t=Xo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xo=e;else for(;null!==Xo;){t=Xo;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var x=g.memoizedProps,f=g.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?x:to(t.type,x),f);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(w){kc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xo=e;break}Xo=t.return}g=el,el=!1}(e,r),gl(r,e),ha(en),Yt=!!Za,en=Za=null,e.current=r,fl(r,e,n),$e(),Sl=l,vt=o,Al.transition=i}else e.current=r;if(Hl&&(Hl=!1,Gl=e,Kl=n),i=e.pendingLanes,0===i&&(Wl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(nt,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),rc(e,Xe()),null!==t)for(a=e.onRecoverableError,r=0;r<t.length;r++)n=t[r],a(n.value,{componentStack:n.stack,digest:n.digest});if(Vl)throw Vl=!1,e=Yl,Yl=null,e;0!==(1&Kl)&&0!==e.tag&&wc(),i=e.pendingLanes,0!==(1&i)?e===$l?Ql++:(Ql=0,$l=e):Ql=0,Un()}(e,t,r,a)}finally{Al.transition=n,vt=a}return null}function wc(){if(null!==Gl){var e=bt(Kl),t=Al.transition,r=vt;try{if(Al.transition=null,vt=16>e?16:e,null===Gl)var a=!1;else{if(e=Gl,Gl=null,Kl=0,0!==(6&Sl))throw Error(s(331));var n=Sl;for(Sl|=4,Xo=e.current;null!==Xo;){var i=Xo,o=i.child;if(0!==(16&Xo.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Xo=d;null!==Xo;){var u=Xo;switch(u.tag){case 0:case 11:case 15:tl(8,u,i)}var m=u.child;if(null!==m)m.return=u,Xo=m;else for(;null!==Xo;){var h=(u=Xo).sibling,p=u.return;if(nl(u),u===d){Xo=null;break}if(null!==h){h.return=p,Xo=h;break}Xo=p}}}var g=i.alternate;if(null!==g){var x=g.child;if(null!==x){g.child=null;do{var f=x.sibling;x.sibling=null,x=f}while(null!==x)}}Xo=i}}if(0!==(2064&i.subtreeFlags)&&null!==o)o.return=i,Xo=o;else e:for(;null!==Xo;){if(0!==(2048&(i=Xo).flags))switch(i.tag){case 0:case 11:case 15:tl(9,i,i.return)}var y=i.sibling;if(null!==y){y.return=i.return,Xo=y;break e}Xo=i.return}}var v=e.current;for(Xo=v;null!==Xo;){var b=(o=Xo).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,Xo=b;else e:for(o=v;null!==Xo;){if(0!==(2048&(l=Xo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(j){kc(l,l.return,j)}if(l===o){Xo=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Xo=w;break e}Xo=l.return}}if(Sl=n,Un(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(nt,e)}catch(j){}a=!0}return a}finally{vt=r,Al.transition=t}}return!1}function jc(e,t,r){e=Bs(e,t=ho(0,t=lo(r,t),1),1),t=Zl(),null!==e&&(ft(e,1,t),rc(e,t))}function kc(e,t,r){if(3===e.tag)jc(e,e,r);else for(;null!==t;){if(3===t.tag){jc(t,e,r);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===Wl||!Wl.has(a))){t=Bs(t,e=po(t,e=lo(r,e),1),1),e=Zl(),null!==t&&(ft(t,1,e),rc(t,e));break}}t=t.return}}function Nc(e,t,r){var a=e.pingCache;null!==a&&a.delete(t),t=Zl(),e.pingedLanes|=e.suspendedLanes&r,El===e&&(Pl&r)===r&&(4===Rl||3===Rl&&(130023424&Pl)===Pl&&500>Xe()-ql?uc(e,0):Ml|=r),rc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var r=Zl();null!==(e=Os(e,t))&&(ft(e,t,r),rc(e,r))}function Ac(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Cc(e,r)}function Sc(e,t){var r=0;switch(e.tag){case 13:var a=e.stateNode,n=e.memoizedState;null!==n&&(r=n.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(s(314))}null!==a&&a.delete(t),Cc(e,r)}function Ec(e,t){return Ge(e,t)}function Dc(e,t,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,r,a){return new Dc(e,t,r,a)}function Tc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function _c(e,t){var r=e.alternate;return null===r?((r=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Rc(e,t,r,a,n,i){var o=2;if(a=e,"function"===typeof e)Tc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case k:return Oc(r.children,n,i,t);case N:o=8,n|=8;break;case C:return(e=Pc(12,r,t,2|n)).elementType=C,e.lanes=i,e;case D:return(e=Pc(13,r,t,n)).elementType=D,e.lanes=i,e;case P:return(e=Pc(19,r,t,n)).elementType=P,e.lanes=i,e;case R:return Fc(r,n,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:o=10;break e;case S:o=9;break e;case E:o=11;break e;case T:o=14;break e;case _:o=16,a=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Pc(o,r,t,n)).elementType=e,t.type=a,t.lanes=i,t}function Oc(e,t,r,a){return(e=Pc(7,e,a,t)).lanes=r,e}function Fc(e,t,r,a){return(e=Pc(22,e,a,t)).elementType=R,e.lanes=r,e.stateNode={isHidden:!1},e}function Lc(e,t,r){return(e=Pc(6,e,null,t)).lanes=r,e}function Mc(e,t,r){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ic(e,t,r,a,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xt(0),this.expirationTimes=xt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xt(0),this.identifierPrefix=a,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function Bc(e,t,r,a,n,s,i,o,l){return e=new Ic(e,t,r,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Pc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(s),e}function qc(e){if(!e)return Sn;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_n(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var r=e.type;if(_n(r))return Fn(e,r,t)}return t}function zc(e,t,r,a,n,s,i,o,l){return(e=Bc(r,a,!0,e,0,s,0,o,l)).context=qc(null),r=e.current,(s=Is(a=Zl(),n=ec(r))).callback=void 0!==t&&null!==t?t:null,Bs(r,s,n),e.current.lanes=n,ft(e,n,a),rc(e,a),e}function Uc(e,t,r,a){var n=t.current,s=Zl(),i=ec(n);return r=qc(r),null===t.context?t.context=r:t.pendingContext=r,(t=Is(s,i)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),null!==(e=Bs(n,t,i))&&(tc(e,n,i,s),qs(e,n,i)),i}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Yc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Wc(e,t){Yc(e,t),(e=e.alternate)&&Yc(e,t)}jl=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Dn.current)vo=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return vo=!1,function(e,t,r){switch(t.tag){case 3:Do(t),hs();break;case 5:Xs(t);break;case 1:_n(t.type)&&Ln(t);break;case 4:Qs(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,n=t.memoizedProps.value;An(js,a._currentValue),a._currentValue=n;break;case 13:if(null!==(a=t.memoizedState))return null!==a.dehydrated?(An(Zs,1&Zs.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Lo(e,t,r):(An(Zs,1&Zs.current),null!==(e=Vo(e,t,r))?e.sibling:null);An(Zs,1&Zs.current);break;case 19:if(a=0!==(r&t.childLanes),0!==(128&e.flags)){if(a)return zo(e,t,r);t.flags|=128}if(null!==(n=t.memoizedState)&&(n.rendering=null,n.tail=null,n.lastEffect=null),An(Zs,Zs.current),a)break;return null;case 22:case 23:return t.lanes=0,No(e,t,r)}return Vo(e,t,r)}(e,t,r);vo=0!==(131072&e.flags)}else vo=!1,ns&&0!==(1048576&t.flags)&&Zn(t,Hn,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Uo(e,t),e=t.pendingProps;var n=Tn(t,En.current);Ds(t,r),n=gi(null,t,a,e,n,r);var i=xi();return t.flags|=1,"object"===typeof n&&null!==n&&"function"===typeof n.render&&void 0===n.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_n(a)?(i=!0,Ln(t)):i=!1,t.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,Ls(t),n.updater=ao,t.stateNode=n,n._reactInternals=t,oo(t,a,e,r),t=Eo(null,t,a,!0,i,r)):(t.tag=0,ns&&i&&es(t),bo(null,t,n,r),t=t.child),t;case 16:a=t.elementType;e:{switch(Uo(e,t),e=t.pendingProps,a=(n=a._init)(a._payload),t.type=a,n=t.tag=function(e){if("function"===typeof e)return Tc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===T)return 14}return 2}(a),e=to(a,e),n){case 0:t=Ao(null,t,a,e,r);break e;case 1:t=So(null,t,a,e,r);break e;case 11:t=wo(null,t,a,e,r);break e;case 14:t=jo(null,t,a,to(a.type,e),r);break e}throw Error(s(306,a,""))}return t;case 0:return a=t.type,n=t.pendingProps,Ao(e,t,a,n=t.elementType===a?n:to(a,n),r);case 1:return a=t.type,n=t.pendingProps,So(e,t,a,n=t.elementType===a?n:to(a,n),r);case 3:e:{if(Do(t),null===e)throw Error(s(387));a=t.pendingProps,n=(i=t.memoizedState).element,Ms(e,t),Us(t,a,null,r);var o=t.memoizedState;if(a=o.element,i.isDehydrated){if(i={element:a,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Po(e,t,a,r,n=lo(Error(s(423)),t));break e}if(a!==n){t=Po(e,t,a,r,n=lo(Error(s(424)),t));break e}for(as=cn(t.stateNode.containerInfo.firstChild),rs=t,ns=!0,ss=null,r=ws(t,null,a,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(hs(),a===n){t=Vo(e,t,r);break e}bo(e,t,a,r)}t=t.child}return t;case 5:return Xs(t),null===e&&cs(t),a=t.type,n=t.pendingProps,i=null!==e?e.memoizedProps:null,o=n.children,tn(a,n)?o=null:null!==i&&tn(a,i)&&(t.flags|=32),Co(e,t),bo(e,t,o,r),t.child;case 6:return null===e&&cs(t),null;case 13:return Lo(e,t,r);case 4:return Qs(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=bs(t,null,a,r):bo(e,t,a,r),t.child;case 11:return a=t.type,n=t.pendingProps,wo(e,t,a,n=t.elementType===a?n:to(a,n),r);case 7:return bo(e,t,t.pendingProps,r),t.child;case 8:case 12:return bo(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(a=t.type._context,n=t.pendingProps,i=t.memoizedProps,o=n.value,An(js,a._currentValue),a._currentValue=o,null!==i)if(ia(i.value,o)){if(i.children===n.children&&!Dn.current){t=Vo(e,t,r);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){o=i.child;for(var c=l.firstContext;null!==c;){if(c.context===a){if(1===i.tag){(c=Is(-1,r&-r)).tag=2;var d=i.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,null!==(c=i.alternate)&&(c.lanes|=r),Es(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(10===i.tag)o=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(s(341));o.lanes|=r,null!==(l=o.alternate)&&(l.lanes|=r),Es(o,r,t),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}bo(e,t,n.children,r),t=t.child}return t;case 9:return n=t.type,a=t.pendingProps.children,Ds(t,r),a=a(n=Ps(n)),t.flags|=1,bo(e,t,a,r),t.child;case 14:return n=to(a=t.type,t.pendingProps),jo(e,t,a,n=to(a.type,n),r);case 15:return ko(e,t,t.type,t.pendingProps,r);case 17:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:to(a,n),Uo(e,t),t.tag=1,_n(a)?(e=!0,Ln(t)):e=!1,Ds(t,r),so(t,a,n),oo(t,a,n,r),Eo(null,t,a,!0,e,r);case 19:return zo(e,t,r);case 22:return No(e,t,r)}throw Error(s(156,t.tag))};var Hc="function"===typeof reportError?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}function Kc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Jc(e,t,r,a,n){var s=r._reactRootContainer;if(s){var i=s;if("function"===typeof n){var o=n;n=function(){var e=Vc(i);o.call(e)}}Uc(t,i,e,n)}else i=function(e,t,r,a,n){if(n){if("function"===typeof a){var s=a;a=function(){var e=Vc(i);s.call(e)}}var i=zc(t,a,e,0,null,!1,0,"",Xc);return e._reactRootContainer=i,e[pn]=i.current,za(8===e.nodeType?e.parentNode:e),cc(),i}for(;n=e.lastChild;)e.removeChild(n);if("function"===typeof a){var o=a;a=function(){var e=Vc(l);o.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[pn]=l.current,za(8===e.nodeType?e.parentNode:e),cc(function(){Uc(t,l,r,a)}),l}(r,t,e,n,a);return Vc(i)}Kc.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Uc(e,t,null,null)},Kc.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc(function(){Uc(null,e,null,null)}),t[pn]=null}},Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nt();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Rt.length&&0!==t&&t<Rt[r].priority;r++);Rt.splice(r,0,e),0===r&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ut(t.pendingLanes);0!==r&&(yt(t,1|r),rc(t,Xe()),0===(6&Sl)&&(zl=Xe()+500,Un()))}break;case 13:cc(function(){var t=Os(e,1);if(null!==t){var r=Zl();tc(t,e,1,r)}}),Wc(e,1)}},jt=function(e){if(13===e.tag){var t=Os(e,134217728);if(null!==t)tc(t,e,134217728,Zl());Wc(e,134217728)}},kt=function(e){if(13===e.tag){var t=ec(e),r=Os(e,t);if(null!==r)tc(r,e,t,Zl());Wc(e,t)}},Nt=function(){return vt},Ct=function(e,t){var r=vt;try{return vt=e,t()}finally{vt=r}},je=function(e,t,r){switch(t){case"input":if(J(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var a=r[t];if(a!==e&&a.form===e.form){var n=wn(a);if(!n)throw Error(s(90));G(a),J(a,n)}}}break;case"textarea":se(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Ee=lc,De=cc;var Zc={usingClientEntryPoint:!1,Events:[vn,bn,wn,Ae,Se,lc]},ed={findFiberByHostInstance:yn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},td={bundleType:ed.bundleType,version:ed.version,rendererPackageName:ed.rendererPackageName,rendererConfig:ed.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:ed.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{nt=rd.inject(td),st=rd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zc,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(s(200));return function(e,t,r){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==a?null:""+a,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!Qc(e))throw Error(s(299));var r=!1,a="",n=Hc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onRecoverableError&&(n=t.onRecoverableError)),t=Bc(e,1,!1,null,0,r,0,a,n),e[pn]=t.current,za(8===e.nodeType?e.parentNode:e),new Gc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,r){if(!$c(t))throw Error(s(200));return Jc(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!Qc(e))throw Error(s(405));var a=null!=r&&r.hydratedSources||null,n=!1,i="",o=Hc;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(n=!0),void 0!==r.identifierPrefix&&(i=r.identifierPrefix),void 0!==r.onRecoverableError&&(o=r.onRecoverableError)),t=zc(t,null,e,1,null!=r?r:null,n,0,i,o),e[pn]=t.current,za(e),a)for(e=0;e<a.length;e++)n=(n=(r=a[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,n]:t.mutableSourceEagerHydrationData.push(r,n);return new Kc(t)},t.render=function(e,t,r){if(!$c(t))throw Error(s(200));return Jc(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(s(40));return!!e._reactRootContainer&&(cc(function(){Jc(null,null,e,!1,function(){e._reactRootContainer=null,e[pn]=null})}),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,r,a){if(!$c(r))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Jc(e,t,r,!1,a)},t.version="18.3.1-next-f1338f8080-20240426"},4391(e,t,r){"use strict";var a=r(7950);t.createRoot=a.createRoot,t.hydrateRoot=a.hydrateRoot},7950(e,t,r){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(2730)},2861(e){"use strict";var t=function(e,t){return e+r(t)},r=function(e){return null===e||"boolean"===typeof e||"undefined"===typeof e?"":"number"===typeof e?e.toString():"string"===typeof e?e:Array.isArray(e)?e.reduce(t,""):function(e){return Object.prototype.hasOwnProperty.call(e,"props")}(e)&&Object.prototype.hasOwnProperty.call(e.props,"children")?r(e.props.children):""};r.default=r,e.exports=r},2823(e,t,r){"use strict";var a=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function a(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}}(),n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},n.apply(this,arguments)},s=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<r;t++)for(var s=arguments[t],i=0,o=s.length;i<o;i++,n++)a[n]=s[i];return a},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=i(r(5043)),l=i(r(7950)),c=i(r(9853)),d=i(r(4175)),u=function(e){function t(t){var r=e.call(this,t)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(e,t,a,n){var s,i,o,l;"text-change"===e?null===(i=(s=r).onEditorChangeText)||void 0===i||i.call(s,r.editor.root.innerHTML,t,n,r.unprivilegedEditor):"selection-change"===e&&(null===(l=(o=r).onEditorChangeSelection)||void 0===l||l.call(o,t,n,r.unprivilegedEditor))};var a=r.isControlled()?t.value:t.defaultValue;return r.value=null!==a&&void 0!==a?a:"",r}return a(t,e),t.prototype.validateProps=function(e){var t;if(o.default.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(o.default.Children.count(e.children)&&"textarea"===(null===(t=o.default.Children.only(e.children))||void 0===t?void 0:t.type))throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.");if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(e,t){var r,a=this;if(this.validateProps(e),!this.editor||this.state.generation!==t.generation)return!0;if("value"in e){var n=this.getEditorContents(),i=null!==(r=e.value)&&void 0!==r?r:"";this.isEqualValue(i,n)||this.setEditorContents(this.editor,i)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),s(this.cleanProps,this.dirtyProps).some(function(t){return!c.default(e[t],a.props[t])})},t.prototype.shouldComponentRegenerate=function(e){var t=this;return this.dirtyProps.some(function(r){return!c.default(e[r],t.props[r])})},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(e,t){var r=this;if(this.editor&&this.shouldComponentRegenerate(e)){var a=this.editor.getContents(),n=this.editor.getSelection();this.regenerationSnapshot={delta:a,selection:n},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){var s=this.regenerationSnapshot,i=(a=s.delta,s.selection);delete this.regenerationSnapshot,this.instantiateEditor();var o=this.editor;o.setContents(a),m(function(){return r.setEditorSelection(o,i)})}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(e,t){var r=new d.default(e,t);return null!=t.tabIndex&&this.setEditorTabIndex(r,t.tabIndex),this.hookEditor(r),r},t.prototype.hookEditor=function(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(e){e.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(e){return e&&e.ops},t.prototype.isEqualValue=function(e,t){return this.isDelta(e)&&this.isDelta(t)?c.default(e.ops,t.ops):c.default(e,t)},t.prototype.setEditorContents=function(e,t){var r=this;this.value=t;var a=this.getEditorSelection();"string"===typeof t?e.setContents(e.clipboard.convert(t)):e.setContents(t),m(function(){return r.setEditorSelection(e,a)})},t.prototype.setEditorSelection=function(e,t){if(this.selection=t,t){var r=e.getLength();t.index=Math.max(0,Math.min(t.index,r-1)),t.length=Math.max(0,Math.min(t.length,r-1-t.index)),e.setSelection(t)}},t.prototype.setEditorTabIndex=function(e,t){var r,a;(null===(a=null===(r=e)||void 0===r?void 0:r.scroll)||void 0===a?void 0:a.domNode)&&(e.scroll.domNode.tabIndex=t)},t.prototype.setEditorReadOnly=function(e,t){t?e.disable():e.enable()},t.prototype.makeUnprivilegedEditor=function(e){var t=e;return{getHTML:function(){return t.root.innerHTML},getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var e=l.default.findDOMNode(this.editingArea);if(!e)throw new Error("Cannot find element for editing area");if(3===e.nodeType)throw new Error("Editing area cannot be a text node");return e},t.prototype.renderEditingArea=function(){var e=this,t=this.props,r=t.children,a=t.preserveWhitespace,s={key:this.state.generation,ref:function(t){e.editingArea=t}};return o.default.Children.count(r)?o.default.cloneElement(o.default.Children.only(r),s):a?o.default.createElement("pre",n({},s)):o.default.createElement("div",n({},s))},t.prototype.render=function(){var e;return o.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(e=this.props.className,null!==e&&void 0!==e?e:""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(e,t,r,a){var n,s;if(this.editor){var i=this.isDelta(this.value)?a.getContents():a.getHTML();i!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=i,null===(s=(n=this.props).onChange)||void 0===s||s.call(n,e,t,r,a))}},t.prototype.onEditorChangeSelection=function(e,t,r){var a,n,s,i,o,l;if(this.editor){var d=this.getEditorSelection(),u=!d&&e,m=d&&!e;c.default(e,d)||(this.selection=e,null===(n=(a=this.props).onChangeSelection)||void 0===n||n.call(a,e,t,r),u?null===(i=(s=this.props).onFocus)||void 0===i||i.call(s,e,t,r):m&&(null===(l=(o=this.props).onBlur)||void 0===l||l.call(o,d,t,r)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=d.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(o.default.Component);function m(e){Promise.resolve().then(e)}e.exports=u},1153(e,t,r){"use strict";var a=r(5043),n=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var a,s={},c=null,d=null;for(a in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,a)&&!l.hasOwnProperty(a)&&(s[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===s[a]&&(s[a]=t[a]);return{$$typeof:n,type:e,key:c,ref:d,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},4202(e,t){"use strict";var r=Symbol.for("react.element"),a=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,x={};function f(e,t,r){this.props=e,this.context=t,this.refs=x,this.updater=r||p}function y(){}function v(e,t,r){this.props=e,this.context=t,this.refs=x,this.updater=r||p}f.prototype.isReactComponent={},f.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},f.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=f.prototype;var b=v.prototype=new y;b.constructor=v,g(b,f.prototype),b.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,k={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,a){var n,s={},i=null,o=null;if(null!=t)for(n in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)j.call(t,n)&&!N.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(1===l)s.children=a;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps)void 0===s[n]&&(s[n]=l[n]);return{$$typeof:r,type:e,key:i,ref:o,props:s,_owner:k.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var S=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function D(e,t,n,s,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case a:l=!0}}if(l)return i=i(l=e),e=""===s?"."+E(l,0):s,w(i)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),D(i,t,n,"",function(e){return e})):null!=i&&(A(i)&&(i=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(S,"$&/")+"/")+e)),t.push(i)),1;if(l=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var d=s+E(o=e[c],c);l+=D(o,t,n,d,i)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=D(o=o.value,t,n,d=s+E(o,c++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,r){if(null==e)return e;var a=[],n=0;return D(e,a,"","",function(e){return t.call(r,e,n++)}),a}function T(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var _={current:null},R={transition:null},O={ReactCurrentDispatcher:_,ReactCurrentBatchConfig:R,ReactCurrentOwner:k};function F(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,r){P(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=f,t.Fragment=n,t.Profiler=i,t.PureComponent=v,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=F,t.cloneElement=function(e,t,a){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=g({},e.props),s=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=k.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)j.call(t,c)&&!N.hasOwnProperty(c)&&(n[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)n.children=a;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:r,type:e.type,key:s,ref:i,props:n,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=F,t.useCallback=function(e,t){return _.current.useCallback(e,t)},t.useContext=function(e){return _.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return _.current.useDeferredValue(e)},t.useEffect=function(e,t){return _.current.useEffect(e,t)},t.useId=function(){return _.current.useId()},t.useImperativeHandle=function(e,t,r){return _.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return _.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return _.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return _.current.useMemo(e,t)},t.useReducer=function(e,t,r){return _.current.useReducer(e,t,r)},t.useRef=function(e){return _.current.useRef(e)},t.useState=function(e){return _.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return _.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return _.current.useTransition()},t.version="18.3.1"},5043(e,t,r){"use strict";e.exports=r(4202)},579(e,t,r){"use strict";e.exports=r(1153)},7234(e,t){"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var a=r-1>>>1,n=e[a];if(!(0<s(n,t)))break e;e[a]=t,e[r]=n,r=a}}function a(e){return 0===e.length?null:e[0]}function n(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var a=0,n=e.length,i=n>>>1;a<i;){var o=2*(a+1)-1,l=e[o],c=o+1,d=e[c];if(0>s(l,r))c<n&&0>s(d,l)?(e[a]=d,e[c]=r,a=c):(e[a]=l,e[o]=r,a=o);else{if(!(c<n&&0>s(d,r)))break e;e[a]=d,e[c]=r,a=c}}}return t}function s(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,m=null,h=3,p=!1,g=!1,x=!1,f="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=a(d);null!==t;){if(null===t.callback)n(d);else{if(!(t.startTime<=e))break;n(d),t.sortIndex=t.expirationTime,r(c,t)}t=a(d)}}function w(e){if(x=!1,b(e),!g)if(null!==a(c))g=!0,R(j);else{var t=a(d);null!==t&&O(w,t.startTime-e)}}function j(e,r){g=!1,x&&(x=!1,y(A),A=-1),p=!0;var s=h;try{for(b(r),m=a(c);null!==m&&(!(m.expirationTime>r)||e&&!D());){var i=m.callback;if("function"===typeof i){m.callback=null,h=m.priorityLevel;var o=i(m.expirationTime<=r);r=t.unstable_now(),"function"===typeof o?m.callback=o:m===a(c)&&n(c),b(r)}else n(c);m=a(c)}if(null!==m)var l=!0;else{var u=a(d);null!==u&&O(w,u.startTime-r),l=!1}return l}finally{m=null,h=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,N=!1,C=null,A=-1,S=5,E=-1;function D(){return!(t.unstable_now()-E<S)}function P(){if(null!==C){var e=t.unstable_now();E=e;var r=!0;try{r=C(!0,e)}finally{r?k():(N=!1,C=null)}}else N=!1}if("function"===typeof v)k=function(){v(P)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,_=T.port2;T.port1.onmessage=P,k=function(){_.postMessage(null)}}else k=function(){f(P,0)};function R(e){C=e,N||(N=!0,k())}function O(e,r){A=f(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,R(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return a(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var r=h;h=t;try{return e()}finally{h=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=h;h=e;try{return t()}finally{h=r}},t.unstable_scheduleCallback=function(e,n,s){var i=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?i+s:i:s=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:n,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(e.sortIndex=s,r(d,e),null===a(c)&&e===a(d)&&(x?(y(A),A=-1):x=!0,O(w,s-i))):(e.sortIndex=o,r(c,e),g||p||(g=!0,R(j))),e},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(e){var t=h;return function(){var r=h;h=t;try{return e.apply(this,arguments)}finally{h=r}}}},8853(e,t,r){"use strict";e.exports=r(7234)},3865(e){var t=new Error("Element already at target scroll position"),r=new Error("Scroll cancelled"),a=Math.min,n=Date.now;function s(e){return function(s,l,c,d){"function"==typeof(c=c||{})&&(d=c,c={}),"function"!=typeof d&&(d=o);var u=n(),m=s[e],h=c.ease||i,p=isNaN(c.duration)?350:+c.duration,g=!1;return m===l?d(t,s[e]):requestAnimationFrame(function t(i){if(g)return d(r,s[e]);var o=n(),c=a(1,(o-u)/p),x=h(c);s[e]=x*(l-m)+m,c<1?requestAnimationFrame(t):requestAnimationFrame(function(){d(null,s[e])})}),function(){g=!0}}}function i(e){return.5*(1-Math.cos(Math.PI*e))}function o(){}e.exports={left:s("scrollLeft"),top:s("scrollTop")}},9496(e,t){var r,a,n;a=[],void 0===(n="function"===typeof(r=function(){function e(e){var t=getComputedStyle(e,null).getPropertyValue("overflow");return t.indexOf("scroll")>-1||t.indexOf("auto")>-1}function t(t){if(t instanceof HTMLElement||t instanceof SVGElement){for(var r=t.parentNode;r.parentNode;){if(e(r))return r;r=r.parentNode}return document.scrollingElement||document.documentElement}}return t})?r.apply(t,a):r)||(e.exports=n)},1844(e){e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},4705(e,t,r){"use strict";function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function n(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function s(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{A:()=>s})},9379(e,t,r){"use strict";r.d(t,{A:()=>s});var a=r(4705);function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){(0,a.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}},3986(e,t,r){"use strict";function a(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}r.d(t,{A:()=>a})},7528(e,t,r){"use strict";function a(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}r.d(t,{A:()=>a})},9722(e,t,r){"use strict";r.d(t,{A:()=>Nt});var a={};function n(e,t){return function(){return e.apply(t,arguments)}}r.r(a),r.d(a,{hasBrowserEnv:()=>le,hasStandardBrowserEnv:()=>de,hasStandardBrowserWebWorkerEnv:()=>ue,navigator:()=>ce,origin:()=>me});const{toString:s}=Object.prototype,{getPrototypeOf:i}=Object,{iterator:o,toStringTag:l}=Symbol,c=(d=Object.create(null),e=>{const t=s.call(e);return d[t]||(d[t]=t.slice(8,-1).toLowerCase())});var d;const u=e=>(e=e.toLowerCase(),t=>c(t)===e),m=e=>t=>typeof t===e,{isArray:h}=Array,p=m("undefined");function g(e){return null!==e&&!p(e)&&null!==e.constructor&&!p(e.constructor)&&y(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const x=u("ArrayBuffer");const f=m("string"),y=m("function"),v=m("number"),b=e=>null!==e&&"object"===typeof e,w=e=>{if("object"!==c(e))return!1;const t=i(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(l in e)&&!(o in e)},j=u("Date"),k=u("File"),N=u("Blob"),C=u("FileList"),A=u("URLSearchParams"),[S,E,D,P]=["ReadableStream","Request","Response","Headers"].map(u);function T(e,t){let r,a,{allOwnKeys:n=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),h(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{if(g(e))return;const a=n?Object.getOwnPropertyNames(e):Object.keys(e),s=a.length;let i;for(r=0;r<s;r++)i=a[r],t.call(null,e[i],i,e)}}function _(e,t){if(g(e))return null;t=t.toLowerCase();const r=Object.keys(e);let a,n=r.length;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const R="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:r.g,O=e=>!p(e)&&e!==R;const F=(L="undefined"!==typeof Uint8Array&&i(Uint8Array),e=>L&&e instanceof L);var L;const M=u("HTMLFormElement"),I=(e=>{let{hasOwnProperty:t}=e;return(e,r)=>t.call(e,r)})(Object.prototype),B=u("RegExp"),q=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),a={};T(r,(r,n)=>{let s;!1!==(s=t(r,n,e))&&(a[n]=s||r)}),Object.defineProperties(e,a)};const z=u("AsyncFunction"),U=((e,t)=>{return e?setImmediate:t?(r="axios@".concat(Math.random()),a=[],R.addEventListener("message",e=>{let{source:t,data:n}=e;t===R&&n===r&&a.length&&a.shift()()},!1),e=>{a.push(e),R.postMessage(r,"*")}):e=>setTimeout(e);var r,a})("function"===typeof setImmediate,y(R.postMessage)),V="undefined"!==typeof queueMicrotask?queueMicrotask.bind(R):"undefined"!==typeof process&&process.nextTick||U,Y={isArray:h,isArrayBuffer:x,isBuffer:g,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||y(e.append)&&("formdata"===(t=c(e))||"object"===t&&y(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&x(e.buffer),t},isString:f,isNumber:v,isBoolean:e=>!0===e||!1===e,isObject:b,isPlainObject:w,isEmptyObject:e=>{if(!b(e)||g(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(t){return!1}},isReadableStream:S,isRequest:E,isResponse:D,isHeaders:P,isUndefined:p,isDate:j,isFile:k,isBlob:N,isRegExp:B,isFunction:y,isStream:e=>b(e)&&y(e.pipe),isURLSearchParams:A,isTypedArray:F,isFileList:C,forEach:T,merge:function e(){const{caseless:t,skipUndefined:r}=O(this)&&this||{},a={},n=(n,s)=>{if("__proto__"===s||"constructor"===s||"prototype"===s)return;const i=t&&_(a,s)||s;w(a[i])&&w(n)?a[i]=e(a[i],n):w(n)?a[i]=e({},n):h(n)?a[i]=n.slice():r&&p(n)||(a[i]=n)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&T(arguments[s],n);return a},extend:function(e,t,r){let{allOwnKeys:a}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return T(t,(t,a)=>{r&&y(t)?Object.defineProperty(e,a,{value:n(t,r),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,a,{value:t,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:a}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,a)=>{e.prototype=Object.create(t.prototype,a),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,a)=>{let n,s,o;const l={};if(t=t||{},null==e)return t;do{for(n=Object.getOwnPropertyNames(e),s=n.length;s-- >0;)o=n[s],a&&!a(o,e,t)||l[o]||(t[o]=e[o],l[o]=!0);e=!1!==r&&i(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:c,kindOfTest:u,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const a=e.indexOf(t,r);return-1!==a&&a===r},toArray:e=>{if(!e)return null;if(h(e))return e;let t=e.length;if(!v(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[o]).call(e);let a;for(;(a=r.next())&&!a.done;){const r=a.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const a=[];for(;null!==(r=e.exec(t));)a.push(r);return a},isHTMLForm:M,hasOwnProperty:I,hasOwnProp:I,reduceDescriptors:q,freezeMethods:e=>{q(e,(t,r)=>{if(y(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const a=e[r];y(a)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))})},toObjectSet:(e,t)=>{const r={},a=e=>{e.forEach(e=>{r[e]=!0})};return h(e)?a(e):a(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,r){return t.toUpperCase()+r}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:_,global:R,isContextDefined:O,isSpecCompliantForm:function(e){return!!(e&&y(e.append)&&"FormData"===e[l]&&e[o])},toJSONObject:e=>{const t=new Array(10),r=(e,a)=>{if(b(e)){if(t.indexOf(e)>=0)return;if(g(e))return e;if(!("toJSON"in e)){t[a]=e;const n=h(e)?[]:{};return T(e,(e,t)=>{const s=r(e,a+1);!p(s)&&(n[t]=s)}),t[a]=void 0,n}}return e};return r(e,0)},isAsyncFn:z,isThenable:e=>e&&(b(e)||y(e))&&y(e.then)&&y(e.catch),setImmediate:U,asap:V,isIterable:e=>null!=e&&y(e[o])};class W extends Error{static from(e,t,r,a,n,s){const i=new W(e.message,t||e.code,r,a,n);return i.cause=e,i.name=e.name,s&&Object.assign(i,s),i}constructor(e,t,r,a,n){super(e),this.name="AxiosError",this.isAxiosError=!0,t&&(this.code=t),r&&(this.config=r),a&&(this.request=a),n&&(this.response=n,this.status=n.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.status}}}W.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE",W.ERR_BAD_OPTION="ERR_BAD_OPTION",W.ECONNABORTED="ECONNABORTED",W.ETIMEDOUT="ETIMEDOUT",W.ERR_NETWORK="ERR_NETWORK",W.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS",W.ERR_DEPRECATED="ERR_DEPRECATED",W.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE",W.ERR_BAD_REQUEST="ERR_BAD_REQUEST",W.ERR_CANCELED="ERR_CANCELED",W.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT",W.ERR_INVALID_URL="ERR_INVALID_URL";const H=W;function G(e){return Y.isPlainObject(e)||Y.isArray(e)}function K(e){return Y.endsWith(e,"[]")?e.slice(0,-2):e}function Q(e,t,r){return e?e.concat(t).map(function(e,t){return e=K(e),!r&&t?"["+e+"]":e}).join(r?".":""):t}const $=Y.toFlatObject(Y,{},null,function(e){return/^is[A-Z]/.test(e)});const X=function(e,t,r){if(!Y.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const a=(r=Y.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!Y.isUndefined(t[e])})).metaTokens,n=r.visitor||c,s=r.dots,i=r.indexes,o=(r.Blob||"undefined"!==typeof Blob&&Blob)&&Y.isSpecCompliantForm(t);if(!Y.isFunction(n))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Y.isDate(e))return e.toISOString();if(Y.isBoolean(e))return e.toString();if(!o&&Y.isBlob(e))throw new H("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(e)||Y.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,r,n){let o=e;if(e&&!n&&"object"===typeof e)if(Y.endsWith(r,"{}"))r=a?r:r.slice(0,-2),e=JSON.stringify(e);else if(Y.isArray(e)&&function(e){return Y.isArray(e)&&!e.some(G)}(e)||(Y.isFileList(e)||Y.endsWith(r,"[]"))&&(o=Y.toArray(e)))return r=K(r),o.forEach(function(e,a){!Y.isUndefined(e)&&null!==e&&t.append(!0===i?Q([r],a,s):null===i?r:r+"[]",l(e))}),!1;return!!G(e)||(t.append(Q(n,r,s),l(e)),!1)}const d=[],u=Object.assign($,{defaultVisitor:c,convertValue:l,isVisitable:G});if(!Y.isObject(e))throw new TypeError("data must be an object");return function e(r,a){if(!Y.isUndefined(r)){if(-1!==d.indexOf(r))throw Error("Circular reference detected in "+a.join("."));d.push(r),Y.forEach(r,function(r,s){!0===(!(Y.isUndefined(r)||null===r)&&n.call(t,r,Y.isString(s)?s.trim():s,a,u))&&e(r,a?a.concat(s):[s])}),d.pop()}}(e),t};function J(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Z(e,t){this._pairs=[],e&&X(e,this,t)}const ee=Z.prototype;ee.append=function(e,t){this._pairs.push([e,t])},ee.toString=function(e){const t=e?function(t){return e.call(this,t,J)}:J;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const te=Z;function re(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ae(e,t,r){if(!t)return e;const a=r&&r.encode||re,n=Y.isFunction(r)?{serialize:r}:r,s=n&&n.serialize;let i;if(i=s?s(t,n):Y.isURLSearchParams(t)?t.toString():new te(t,n).toString(a),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const ne=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Y.forEach(this.handlers,function(t){null!==t&&e(t)})}},se={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0};var ie=r(9379);const oe={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:te,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},le="undefined"!==typeof window&&"undefined"!==typeof document,ce="object"===typeof navigator&&navigator||void 0,de=le&&(!ce||["ReactNative","NativeScript","NS"].indexOf(ce.product)<0),ue="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,me=le&&window.location.href||"http://localhost",he=(0,ie.A)((0,ie.A)({},a),oe);const pe=function(e){function t(e,r,a,n){let s=e[n++];if("__proto__"===s)return!0;const i=Number.isFinite(+s),o=n>=e.length;if(s=!s&&Y.isArray(a)?a.length:s,o)return Y.hasOwnProp(a,s)?a[s]=[a[s],r]:a[s]=r,!i;a[s]&&Y.isObject(a[s])||(a[s]=[]);return t(e,r,a[s],n)&&Y.isArray(a[s])&&(a[s]=function(e){const t={},r=Object.keys(e);let a;const n=r.length;let s;for(a=0;a<n;a++)s=r[a],t[s]=e[s];return t}(a[s])),!i}if(Y.isFormData(e)&&Y.isFunction(e.entries)){const r={};return Y.forEachEntry(e,(e,a)=>{t(function(e){return Y.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),a,r,0)}),r}return null};const ge={transitional:se,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",a=r.indexOf("application/json")>-1,n=Y.isObject(e);n&&Y.isHTMLForm(e)&&(e=new FormData(e));if(Y.isFormData(e))return a?JSON.stringify(pe(e)):e;if(Y.isArrayBuffer(e)||Y.isBuffer(e)||Y.isStream(e)||Y.isFile(e)||Y.isBlob(e)||Y.isReadableStream(e))return e;if(Y.isArrayBufferView(e))return e.buffer;if(Y.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(n){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return X(e,new he.classes.URLSearchParams,(0,ie.A)({visitor:function(e,t,r,a){return he.isNode&&Y.isBuffer(e)?(this.append(t,e.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=Y.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return X(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return n||a?(t.setContentType("application/json",!1),function(e,t,r){if(Y.isString(e))try{return(t||JSON.parse)(e),Y.trim(e)}catch(a){if("SyntaxError"!==a.name)throw a}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||ge.transitional,r=t&&t.forcedJSONParsing,a="json"===this.responseType;if(Y.isResponse(e)||Y.isReadableStream(e))return e;if(e&&Y.isString(e)&&(r&&!this.responseType||a)){const r=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e,this.parseReviver)}catch(n){if(r){if("SyntaxError"===n.name)throw H.from(n,H.ERR_BAD_RESPONSE,this,null,this.response);throw n}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:he.classes.FormData,Blob:he.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],e=>{ge.headers[e]={}});const xe=ge,fe=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ye=Symbol("internals");function ve(e){return e&&String(e).trim().toLowerCase()}function be(e){return!1===e||null==e?e:Y.isArray(e)?e.map(be):String(e)}function we(e,t,r,a,n){return Y.isFunction(a)?a.call(this,t,r):(n&&(t=r),Y.isString(t)?Y.isString(a)?-1!==t.indexOf(a):Y.isRegExp(a)?a.test(t):void 0:void 0)}class je{constructor(e){e&&this.set(e)}set(e,t,r){const a=this;function n(e,t,r){const n=ve(t);if(!n)throw new Error("header name must be a non-empty string");const s=Y.findKey(a,n);(!s||void 0===a[s]||!0===r||void 0===r&&!1!==a[s])&&(a[s||t]=be(e))}const s=(e,t)=>Y.forEach(e,(e,r)=>n(e,r,t));if(Y.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(Y.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let r,a,n;return e&&e.split("\n").forEach(function(e){n=e.indexOf(":"),r=e.substring(0,n).trim().toLowerCase(),a=e.substring(n+1).trim(),!r||t[r]&&fe[r]||("set-cookie"===r?t[r]?t[r].push(a):t[r]=[a]:t[r]=t[r]?t[r]+", "+a:a)}),t})(e),t);else if(Y.isObject(e)&&Y.isIterable(e)){let r,a,n={};for(const t of e){if(!Y.isArray(t))throw TypeError("Object iterator must return a key-value pair");n[a=t[0]]=(r=n[a])?Y.isArray(r)?[...r,t[1]]:[r,t[1]]:t[1]}s(n,t)}else null!=e&&n(t,e,r);return this}get(e,t){if(e=ve(e)){const r=Y.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(e);)t[a[1]]=a[2];return t}(e);if(Y.isFunction(t))return t.call(this,e,r);if(Y.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ve(e)){const r=Y.findKey(this,e);return!(!r||void 0===this[r]||t&&!we(0,this[r],r,t))}return!1}delete(e,t){const r=this;let a=!1;function n(e){if(e=ve(e)){const n=Y.findKey(r,e);!n||t&&!we(0,r[n],n,t)||(delete r[n],a=!0)}}return Y.isArray(e)?e.forEach(n):n(e),a}clear(e){const t=Object.keys(this);let r=t.length,a=!1;for(;r--;){const n=t[r];e&&!we(0,this[n],n,e,!0)||(delete this[n],a=!0)}return a}normalize(e){const t=this,r={};return Y.forEach(this,(a,n)=>{const s=Y.findKey(r,n);if(s)return t[s]=be(a),void delete t[n];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}(n):String(n).trim();i!==n&&delete t[n],t[i]=be(a),r[i]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Y.forEach(this,(r,a)=>{null!=r&&!1!==r&&(t[a]=e&&Y.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,r]=e;return t+": "+r}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var r=arguments.length,a=new Array(r>1?r-1:0),n=1;n<r;n++)a[n-1]=arguments[n];return a.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[ye]=this[ye]={accessors:{}}).accessors,r=this.prototype;function a(e){const a=ve(e);t[a]||(!function(e,t){const r=Y.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+r,{value:function(e,r,n){return this[a].call(this,t,e,r,n)},configurable:!0})})}(r,e),t[a]=!0)}return Y.isArray(e)?e.forEach(a):a(e),this}}je.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Y.reduceDescriptors(je.prototype,(e,t)=>{let{value:r}=e,a=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(e){this[a]=e}}}),Y.freezeMethods(je);const ke=je;function Ne(e,t){const r=this||xe,a=t||r,n=ke.from(a.headers);let s=a.data;return Y.forEach(e,function(e){s=e.call(r,s,n.normalize(),t?t.status:void 0)}),n.normalize(),s}function Ce(e){return!(!e||!e.__CANCEL__)}const Ae=class extends H{constructor(e,t,r){super(null==e?"canceled":e,H.ERR_CANCELED,t,r),this.name="CanceledError",this.__CANCEL__=!0}};function Se(e,t,r){const a=r.config.validateStatus;r.status&&a&&!a(r.status)?t(new H("Request failed with status code "+r.status,[H.ERR_BAD_REQUEST,H.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}const Ee=function(e,t){e=e||10;const r=new Array(e),a=new Array(e);let n,s=0,i=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=a[i];n||(n=l),r[s]=o,a[s]=l;let d=i,u=0;for(;d!==s;)u+=r[d++],d%=e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),l-n<t)return;const m=c&&l-c;return m?Math.round(1e3*u/m):void 0}};const De=function(e,t){let r,a,n=0,s=1e3/t;const i=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();n=s,r=null,a&&(clearTimeout(a),a=null),e(...t)};return[function(){const e=Date.now(),t=e-n;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=s?i(l,e):(r=l,a||(a=setTimeout(()=>{a=null,i(r)},s-t)))},()=>r&&i(r)]},Pe=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=0;const n=Ee(50,250);return De(r=>{const s=r.loaded,i=r.lengthComputable?r.total:void 0,o=s-a,l=n(o);a=s;e({loaded:s,total:i,progress:i?s/i:void 0,bytes:o,rate:l||void 0,estimated:l&&i&&s<=i?(i-s)/l:void 0,event:r,lengthComputable:null!=i,[t?"download":"upload"]:!0})},r)},Te=(e,t)=>{const r=null!=e;return[a=>t[0]({lengthComputable:r,total:e,loaded:a}),t[1]]},_e=e=>function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return Y.asap(()=>e(...r))},Re=he.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,he.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(he.origin),he.navigator&&/(msie|trident)/i.test(he.navigator.userAgent)):()=>!0,Oe=he.hasStandardBrowserEnv?{write(e,t,r,a,n,s,i){if("undefined"===typeof document)return;const o=["".concat(e,"=").concat(encodeURIComponent(t))];Y.isNumber(r)&&o.push("expires=".concat(new Date(r).toUTCString())),Y.isString(a)&&o.push("path=".concat(a)),Y.isString(n)&&o.push("domain=".concat(n)),!0===s&&o.push("secure"),Y.isString(i)&&o.push("SameSite=".concat(i)),document.cookie=o.join("; ")},read(e){if("undefined"===typeof document)return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function Fe(e,t,r){let a=!("string"===typeof(n=t)&&/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n));var n;return e&&(a||0==r)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Le=e=>e instanceof ke?(0,ie.A)({},e):e;function Me(e,t){t=t||{};const r={};function a(e,t,r,a){return Y.isPlainObject(e)&&Y.isPlainObject(t)?Y.merge.call({caseless:a},e,t):Y.isPlainObject(t)?Y.merge({},t):Y.isArray(t)?t.slice():t}function n(e,t,r,n){return Y.isUndefined(t)?Y.isUndefined(e)?void 0:a(void 0,e,0,n):a(e,t,0,n)}function s(e,t){if(!Y.isUndefined(t))return a(void 0,t)}function i(e,t){return Y.isUndefined(t)?Y.isUndefined(e)?void 0:a(void 0,e):a(void 0,t)}function o(r,n,s){return s in t?a(r,n):s in e?a(void 0,r):void 0}const l={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(e,t,r)=>n(Le(e),Le(t),0,!0)};return Y.forEach(Object.keys((0,ie.A)((0,ie.A)({},e),t)),function(a){if("__proto__"===a||"constructor"===a||"prototype"===a)return;const s=Y.hasOwnProp(l,a)?l[a]:n,i=s(e[a],t[a],a);Y.isUndefined(i)&&s!==o||(r[a]=i)}),r}const Ie=e=>{const t=Me({},e);let{data:r,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:s,headers:i,auth:o}=t;if(t.headers=i=ke.from(i),t.url=ae(Fe(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),Y.isFormData(r))if(he.hasStandardBrowserEnv||he.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(Y.isFunction(r.getHeaders)){const e=r.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[r,a]=e;t.includes(r.toLowerCase())&&i.set(r,a)})}if(he.hasStandardBrowserEnv&&(a&&Y.isFunction(a)&&(a=a(t)),a||!1!==a&&Re(t.url))){const e=n&&s&&Oe.read(s);e&&i.set(n,e)}return t},Be="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,r){const a=Ie(e);let n=a.data;const s=ke.from(a.headers).normalize();let i,o,l,c,d,{responseType:u,onUploadProgress:m,onDownloadProgress:h}=a;function p(){c&&c(),d&&d(),a.cancelToken&&a.cancelToken.unsubscribe(i),a.signal&&a.signal.removeEventListener("abort",i)}let g=new XMLHttpRequest;function x(){if(!g)return;const a=ke.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders());Se(function(e){t(e),p()},function(e){r(e),p()},{data:u&&"text"!==u&&"json"!==u?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:a,config:e,request:g}),g=null}g.open(a.method.toUpperCase(),a.url,!0),g.timeout=a.timeout,"onloadend"in g?g.onloadend=x:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(x)},g.onabort=function(){g&&(r(new H("Request aborted",H.ECONNABORTED,e,g)),g=null)},g.onerror=function(t){const a=t&&t.message?t.message:"Network Error",n=new H(a,H.ERR_NETWORK,e,g);n.event=t||null,r(n),g=null},g.ontimeout=function(){let t=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const n=a.transitional||se;a.timeoutErrorMessage&&(t=a.timeoutErrorMessage),r(new H(t,n.clarifyTimeoutError?H.ETIMEDOUT:H.ECONNABORTED,e,g)),g=null},void 0===n&&s.setContentType(null),"setRequestHeader"in g&&Y.forEach(s.toJSON(),function(e,t){g.setRequestHeader(t,e)}),Y.isUndefined(a.withCredentials)||(g.withCredentials=!!a.withCredentials),u&&"json"!==u&&(g.responseType=a.responseType),h&&([l,d]=Pe(h,!0),g.addEventListener("progress",l)),m&&g.upload&&([o,c]=Pe(m),g.upload.addEventListener("progress",o),g.upload.addEventListener("loadend",c)),(a.cancelToken||a.signal)&&(i=t=>{g&&(r(!t||t.type?new Ae(null,e,g):t),g.abort(),g=null)},a.cancelToken&&a.cancelToken.subscribe(i),a.signal&&(a.signal.aborted?i():a.signal.addEventListener("abort",i)));const f=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(a.url);f&&-1===he.protocols.indexOf(f)?r(new H("Unsupported protocol "+f+":",H.ERR_BAD_REQUEST,e)):g.send(n||null)})},qe=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,a=new AbortController;const n=function(e){if(!r){r=!0,i();const t=e instanceof Error?e:this.reason;a.abort(t instanceof H?t:new Ae(t instanceof Error?t.message:t))}};let s=t&&setTimeout(()=>{s=null,n(new H("timeout of ".concat(t,"ms exceeded"),H.ETIMEDOUT))},t);const i=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(n):e.removeEventListener("abort",n)}),e=null)};e.forEach(e=>e.addEventListener("abort",n));const{signal:o}=a;return o.unsubscribe=()=>Y.asap(i),o}};function ze(e,t){this.v=e,this.k=t}function Ue(e){return function(){return new Ve(e.apply(this,arguments))}}function Ve(e){var t,r;function a(t,r){try{var s=e[t](r),i=s.value,o=i instanceof ze;Promise.resolve(o?i.v:i).then(function(r){if(o){var l="return"===t?"return":"next";if(!i.k||r.done)return a(l,r);r=e[l](r).value}n(s.done?"return":"normal",r)},function(e){a("throw",e)})}catch(e){n("throw",e)}}function n(e,n){switch(e){case"return":t.resolve({value:n,done:!0});break;case"throw":t.reject(n);break;default:t.resolve({value:n,done:!1})}(t=t.next)?a(t.key,t.arg):r=null}this._invoke=function(e,n){return new Promise(function(s,i){var o={key:e,arg:n,resolve:s,reject:i,next:null};r?r=r.next=o:(t=r=o,a(e,n))})},"function"!=typeof e.return&&(this.return=void 0)}function Ye(e){return new ze(e,0)}function We(e){var t={},r=!1;function a(t,a){return r=!0,a=new Promise(function(r){r(e[t](a))}),{done:!1,value:new ze(a,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return r?(r=!1,e):a("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(r)throw r=!1,e;return a("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return r?(r=!1,e):a("return",e)}),t}function He(e){var t,r,a,n=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,a=Symbol.iterator);n--;){if(r&&null!=(t=e[r]))return t.call(e);if(a&&null!=(t=e[a]))return new Ge(t.call(e));r="@@asyncIterator",a="@@iterator"}throw new TypeError("Object is not async iterable")}function Ge(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Ge=function(e){this.s=e,this.n=e.next},Ge.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new Ge(e)}Ve.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Ve.prototype.next=function(e){return this._invoke("next",e)},Ve.prototype.throw=function(e){return this._invoke("throw",e)},Ve.prototype.return=function(e){return this._invoke("return",e)};const Ke=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let a,n=0;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},Qe=function(){var e=Ue(function*(e,t){var r,a=!1,n=!1;try{for(var s,i=He($e(e));a=!(s=yield Ye(i.next())).done;a=!1){const e=s.value;yield*We(He(Ke(e,t)))}}catch(o){n=!0,r=o}finally{try{a&&null!=i.return&&(yield Ye(i.return()))}finally{if(n)throw r}}});return function(t,r){return e.apply(this,arguments)}}(),$e=function(){var e=Ue(function*(e){if(e[Symbol.asyncIterator])return void(yield*We(He(e)));const t=e.getReader();try{for(;;){const{done:e,value:r}=yield Ye(t.read());if(e)break;yield r}}finally{yield Ye(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),Xe=(e,t,r,a)=>{const n=Qe(e,t);let s,i=0,o=e=>{s||(s=!0,a&&a(e))};return new ReadableStream({async pull(e){try{const{done:t,value:a}=await n.next();if(t)return o(),void e.close();let s=a.byteLength;if(r){let e=i+=s;r(e)}e.enqueue(new Uint8Array(a))}catch(t){throw o(t),t}},cancel:e=>(o(e),n.return())},{highWaterMark:2})},{isFunction:Je}=Y,Ze=(e=>{let{Request:t,Response:r}=e;return{Request:t,Response:r}})(Y.global),{ReadableStream:et,TextEncoder:tt}=Y.global,rt=function(e){try{for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return!!e(...r)}catch(n){return!1}},at=e=>{e=Y.merge.call({skipUndefined:!0},Ze,e);const{fetch:t,Request:r,Response:a}=e,n=t?Je(t):"function"===typeof fetch,s=Je(r),i=Je(a);if(!n)return!1;const o=n&&Je(et),l=n&&("function"===typeof tt?(c=new tt,e=>c.encode(e)):async e=>new Uint8Array(await new r(e).arrayBuffer()));var c;const d=s&&o&&rt(()=>{let e=!1;const t=new r(he.origin,{body:new et,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),u=i&&o&&rt(()=>Y.isReadableStream(new a("").body)),m={stream:u&&(e=>e.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!m[e]&&(m[e]=(t,r)=>{let a=t&&t[e];if(a)return a.call(t);throw new H("Response type '".concat(e,"' is not supported"),H.ERR_NOT_SUPPORT,r)})});const h=async(e,t)=>{const a=Y.toFiniteNumber(e.getContentLength());return null==a?(async e=>{if(null==e)return 0;if(Y.isBlob(e))return e.size;if(Y.isSpecCompliantForm(e)){const t=new r(he.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Y.isArrayBufferView(e)||Y.isArrayBuffer(e)?e.byteLength:(Y.isURLSearchParams(e)&&(e+=""),Y.isString(e)?(await l(e)).byteLength:void 0)})(t):a};return async e=>{let{url:n,method:i,data:o,signal:l,cancelToken:c,timeout:p,onDownloadProgress:g,onUploadProgress:x,responseType:f,headers:y,withCredentials:v="same-origin",fetchOptions:b}=Ie(e),w=t||fetch;f=f?(f+"").toLowerCase():"text";let j=qe([l,c&&c.toAbortSignal()],p),k=null;const N=j&&j.unsubscribe&&(()=>{j.unsubscribe()});let C;try{if(x&&d&&"get"!==i&&"head"!==i&&0!==(C=await h(y,o))){let e,t=new r(n,{method:"POST",body:o,duplex:"half"});if(Y.isFormData(o)&&(e=t.headers.get("content-type"))&&y.setContentType(e),t.body){const[e,r]=Te(C,Pe(_e(x)));o=Xe(t.body,65536,e,r)}}Y.isString(v)||(v=v?"include":"omit");const t=s&&"credentials"in r.prototype,l=(0,ie.A)((0,ie.A)({},b),{},{signal:j,method:i.toUpperCase(),headers:y.normalize().toJSON(),body:o,duplex:"half",credentials:t?v:void 0});k=s&&new r(n,l);let c=await(s?w(k,b):w(n,l));const p=u&&("stream"===f||"response"===f);if(u&&(g||p&&N)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=Y.toFiniteNumber(c.headers.get("content-length")),[r,n]=g&&Te(t,Pe(_e(g),!0))||[];c=new a(Xe(c.body,65536,r,()=>{n&&n(),N&&N()}),e)}f=f||"text";let A=await m[Y.findKey(m,f)||"text"](c,e);return!p&&N&&N(),await new Promise((t,r)=>{Se(t,r,{data:A,headers:ke.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:k})})}catch(A){if(N&&N(),A&&"TypeError"===A.name&&/Load failed|fetch/i.test(A.message))throw Object.assign(new H("Network Error",H.ERR_NETWORK,e,k,A&&A.response),{cause:A.cause||A});throw H.from(A,A&&A.code,e,k,A&&A.response)}}},nt=new Map,st=e=>{let t=e&&e.env||{};const{fetch:r,Request:a,Response:n}=t,s=[a,n,r];let i,o,l=s.length,c=nt;for(;l--;)i=s[l],o=c.get(i),void 0===o&&c.set(i,o=l?new Map:at(t)),c=o;return o},it=(st(),{http:null,xhr:Be,fetch:{get:st}});Y.forEach(it,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(r){}Object.defineProperty(e,"adapterName",{value:t})}});const ot=e=>"- ".concat(e),lt=e=>Y.isFunction(e)||null===e||!1===e;const ct={getAdapter:function(e,t){e=Y.isArray(e)?e:[e];const{length:r}=e;let a,n;const s={};for(let i=0;i<r;i++){let r;if(a=e[i],n=a,!lt(a)&&(n=it[(r=String(a)).toLowerCase()],void 0===n))throw new H("Unknown adapter '".concat(r,"'"));if(n&&(Y.isFunction(n)||(n=n.get(t))))break;s[r||"#"+i]=n}if(!n){const e=Object.entries(s).map(e=>{let[t,r]=e;return"adapter ".concat(t," ")+(!1===r?"is not supported by the environment":"is not available in the build")});let t=r?e.length>1?"since :\n"+e.map(ot).join("\n"):" "+ot(e[0]):"as no adapter specified";throw new H("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return n},adapters:it};function dt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ae(null,e)}function ut(e){dt(e),e.headers=ke.from(e.headers),e.data=Ne.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return ct.getAdapter(e.adapter||xe.adapter,e)(e).then(function(t){return dt(e),t.data=Ne.call(e,e.transformResponse,t),t.headers=ke.from(t.headers),t},function(t){return Ce(t)||(dt(e),t&&t.response&&(t.response.data=Ne.call(e,e.transformResponse,t.response),t.response.headers=ke.from(t.response.headers))),Promise.reject(t)})}const mt="1.13.5",ht={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ht[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const pt={};ht.transitional=function(e,t,r){function a(e,t){return"[Axios v"+mt+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,n,s)=>{if(!1===e)throw new H(a(n," has been removed"+(t?" in "+t:"")),H.ERR_DEPRECATED);return t&&!pt[n]&&(pt[n]=!0,console.warn(a(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,s)}},ht.spelling=function(e){return(t,r)=>(console.warn("".concat(r," is likely a misspelling of ").concat(e)),!0)};const gt={assertOptions:function(e,t,r){if("object"!==typeof e)throw new H("options must be an object",H.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let n=a.length;for(;n-- >0;){const s=a[n],i=t[s];if(i){const t=e[s],r=void 0===t||i(t,s,e);if(!0!==r)throw new H("option "+s+" must be "+r,H.ERR_BAD_OPTION_VALUE);continue}if(!0!==r)throw new H("Unknown option "+s,H.ERR_BAD_OPTION)}},validators:ht},xt=gt.validators;class ft{constructor(e){this.defaults=e||{},this.interceptors={request:new ne,response:new ne}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{r.stack?t&&!String(r.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(r.stack+="\n"+t):r.stack=t}catch(a){}}throw r}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Me(this.defaults,t);const{transitional:r,paramsSerializer:a,headers:n}=t;void 0!==r&&gt.assertOptions(r,{silentJSONParsing:xt.transitional(xt.boolean),forcedJSONParsing:xt.transitional(xt.boolean),clarifyTimeoutError:xt.transitional(xt.boolean),legacyInterceptorReqResOrdering:xt.transitional(xt.boolean)},!1),null!=a&&(Y.isFunction(a)?t.paramsSerializer={serialize:a}:gt.assertOptions(a,{encode:xt.function,serialize:xt.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),gt.assertOptions(t,{baseUrl:xt.spelling("baseURL"),withXsrfToken:xt.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=n&&Y.merge(n.common,n[t.method]);n&&Y.forEach(["delete","get","head","post","put","patch","common"],e=>{delete n[e]}),t.headers=ke.concat(s,n);const i=[];let o=!0;this.interceptors.request.forEach(function(e){if("function"===typeof e.runWhen&&!1===e.runWhen(t))return;o=o&&e.synchronous;const r=t.transitional||se;r&&r.legacyInterceptorReqResOrdering?i.unshift(e.fulfilled,e.rejected):i.push(e.fulfilled,e.rejected)});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let d,u=0;if(!o){const e=[ut.bind(this),void 0];for(e.unshift(...i),e.push(...l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=i.length;let m=t;for(;u<d;){const e=i[u++],t=i[u++];try{m=e(m)}catch(h){t.call(this,h);break}}try{c=ut.call(this,m)}catch(h){return Promise.reject(h)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return ae(Fe((e=Me(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Y.forEach(["delete","get","head","options"],function(e){ft.prototype[e]=function(t,r){return this.request(Me(r||{},{method:e,url:t,data:(r||{}).data}))}}),Y.forEach(["post","put","patch"],function(e){function t(t){return function(r,a,n){return this.request(Me(n||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:a}))}}ft.prototype[e]=t(),ft.prototype[e+"Form"]=t(!0)});const yt=ft;class vt{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const r=this;this.promise.then(e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null}),this.promise.then=e=>{let t;const a=new Promise(e=>{r.subscribe(e),t=e}).then(e);return a.cancel=function(){r.unsubscribe(t)},a},e(function(e,a,n){r.reason||(r.reason=new Ae(e,a,n),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new vt(function(t){e=t}),cancel:e}}}const bt=vt;const wt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(wt).forEach(e=>{let[t,r]=e;wt[r]=t});const jt=wt;const kt=function e(t){const r=new yt(t),a=n(yt.prototype.request,r);return Y.extend(a,yt.prototype,r,{allOwnKeys:!0}),Y.extend(a,r,null,{allOwnKeys:!0}),a.create=function(r){return e(Me(t,r))},a}(xe);kt.Axios=yt,kt.CanceledError=Ae,kt.CancelToken=bt,kt.isCancel=Ce,kt.VERSION=mt,kt.toFormData=X,kt.AxiosError=H,kt.Cancel=kt.CanceledError,kt.all=function(e){return Promise.all(e)},kt.spread=function(e){return function(t){return e.apply(null,t)}},kt.isAxiosError=function(e){return Y.isObject(e)&&!0===e.isAxiosError},kt.mergeConfig=Me,kt.AxiosHeaders=ke,kt.formToJSON=e=>pe(Y.isHTMLForm(e)?new FormData(e):e),kt.getAdapter=ct.getAdapter,kt.HttpStatusCode=jt,kt.default=kt;const Nt=kt},7733(e,t,r){"use strict";r.d(t,{f:()=>De});var a=r(9379),n=r(8129),s=r(9416);const i=!1;var o=r(3986);const l=e=>Array.isArray(e)&&"number"===typeof e[0];function c(e){return Boolean(!e||"string"===typeof e&&u[e]||l(e)||Array.isArray(e)&&e.every(c))}const d=e=>{let[t,r,a,n]=e;return"cubic-bezier(".concat(t,", ").concat(r,", ").concat(a,", ").concat(n,")")},u={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:d([0,.65,.55,1]),circOut:d([.55,0,1,.45]),backIn:d([.31,.01,.66,-.59]),backOut:d([.33,1.53,.69,.99])};function m(e){if(e)return l(e)?d(e):Array.isArray(e)?e.map(m):u[e]}var h=r(1892);const p=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e;function g(e,t,r,a){if(e===t&&r===a)return h.l;const n=t=>function(e,t,r,a,n){let s,i,o=0;do{i=t+(r-t)/2,s=p(i,a,n)-e,s>0?r=i:t=i}while(Math.abs(s)>1e-7&&++o<12);return i}(t,0,1,e,r);return e=>0===e||1===e?e:p(n(e),t,a)}const x=g(.42,0,1,1),f=g(0,0,.58,1),y=g(.42,0,.58,1);var v=r(4569),b=r(5836),w=r(9333);const j=g(.33,1.53,.69,.99),k=(0,w.G)(j),N=(0,b.V)(k),C={linear:h.l,easeIn:x,easeInOut:y,easeOut:f,circIn:v.po,circInOut:v.tn,circOut:v.yT,backIn:k,backInOut:N,backOut:j,anticipate:e=>(e*=2)<1?.5*k(e):.5*(2-Math.pow(2,-10*(e-1)))},A=e=>{if(Array.isArray(e)){(0,n.V)(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,r,a,s]=e;return g(t,r,a,s)}return"string"===typeof e?((0,n.V)(void 0!==C[e],"Invalid easing type '".concat(e,"'")),C[e]):e};var S=r(8066),E=r(4773),D=r(9138);function P(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}var T=r(5449),_=r(8636),R=r(2848);const O=(e,t,r)=>{const a=e*e;return Math.sqrt(Math.max(0,r*(t*t-a)+a))},F=[T.u,_.B,R.V];function L(e){const t=(r=e,F.find(e=>e.test(r)));var r;(0,n.V)(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."));let a=t.parse(e);return t===R.V&&(a=function(e){let{hue:t,saturation:r,lightness:a,alpha:n}=e;t/=360,r/=100,a/=100;let s=0,i=0,o=0;if(r){const e=a<.5?a*(1+r):a+r-a*r,n=2*a-e;s=P(n,e,t+1/3),i=P(n,e,t),o=P(n,e,t-1/3)}else s=i=o=a;return{red:Math.round(255*s),green:Math.round(255*i),blue:Math.round(255*o),alpha:n}}(a)),a}const M=(e,t)=>{const r=L(e),n=L(t),s=(0,a.A)({},r);return e=>(s.red=O(r.red,n.red,e),s.green=O(r.green,n.green,e),s.blue=O(r.blue,n.blue,e),s.alpha=(0,D.j)(r.alpha,n.alpha,e),_.B.transform(s))};var I=r(604),B=r(2147);const q=(e,t)=>r=>"".concat(r>0?t:e);function z(e,t){return"number"===typeof e?r=>(0,D.j)(e,t,r):S.y.test(e)?M(e,t):e.startsWith("var(")?q(e,t):Y(e,t)}const U=(e,t)=>{const r=[...e],a=r.length,n=e.map((e,r)=>z(e,t[r]));return e=>{for(let t=0;t<a;t++)r[t]=n[t](e);return r}},V=(e,t)=>{const r=(0,a.A)((0,a.A)({},e),t),n={};for(const a in r)void 0!==e[a]&&void 0!==t[a]&&(n[a]=z(e[a],t[a]));return e=>{for(const t in n)r[t]=n[t](e);return r}},Y=(e,t)=>{const r=B.f.createTransformer(t),a=(0,B.V)(e),s=(0,B.V)(t);return a.numVars===s.numVars&&a.numColors===s.numColors&&a.numNumbers>=s.numNumbers?(0,I.F)(U(a.values,s.values),r):((0,n.$)(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),q(e,t))};var W=r(5961);const H=(e,t)=>r=>(0,D.j)(e,t,r);function G(e,t,r){const a=[],n=r||("number"===typeof(s=e[0])?H:"string"===typeof s?S.y.test(s)?M:Y:Array.isArray(s)?U:"object"===typeof s?V:H);var s;const i=e.length-1;for(let o=0;o<i;o++){let r=n(e[o],e[o+1]);if(t){const e=Array.isArray(t)?t[o]||h.l:t;r=(0,I.F)(e,r)}a.push(r)}return a}function K(e,t){let{clamp:r=!0,ease:a,mixer:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.length;if((0,n.V)(i===t.length,"Both input and output ranges must be the same length"),1===i)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=G(t,a,s),l=o.length,c=t=>{let r=0;if(l>1)for(;r<e.length-2&&!(t<e[r+1]);r++);const a=(0,W.q)(e[r],e[r+1],t);return o[r](a)};return r?t=>c((0,E.q)(e[0],e[i-1],t)):c}function Q(e){const t=[0];return function(e,t){const r=e[e.length-1];for(let a=1;a<=t;a++){const n=(0,W.q)(0,t,a);e.push((0,D.j)(r,1,n))}}(t,e.length-1),t}function $(e){let{duration:t=300,keyframes:r,times:a,ease:n="easeInOut"}=e;const s=(e=>Array.isArray(e)&&"number"!==typeof e[0])(n)?n.map(A):A(n),i={done:!1,value:r[0]},o=function(e,t){return e.map(e=>e*t)}(a&&a.length===r.length?a:Q(r),t),l=K(o,r,{ease:Array.isArray(s)?s:(c=r,d=s,c.map(()=>d||y).splice(0,c.length-1))});var c,d;return{calculatedDuration:t,next:e=>(i.value=l(e),i.done=e>=t,i)}}var X=r(7852);function J(e,t,r){const a=Math.max(t-5,0);return(0,X.f)(r-e(a),t-a)}const Z=.001;function ee(e){let t,r,{duration:a=800,bounce:i=.25,velocity:o=0,mass:l=1}=e;(0,n.$)(a<=(0,s.f)(10),"Spring duration must be 10 seconds or less");let c=1-i;c=(0,E.q)(.05,1,c),a=(0,E.q)(.01,10,(0,s.X)(a)),c<1?(t=e=>{const t=e*c,r=t*a,n=t-o,s=te(e,c),i=Math.exp(-r);return Z-n/s*i},r=e=>{const r=e*c*a,n=r*o+o,s=Math.pow(c,2)*Math.pow(e,2)*a,i=Math.exp(-r),l=te(Math.pow(e,2),c);return(-t(e)+Z>0?-1:1)*((n-s)*i)/l}):(t=e=>Math.exp(-e*a)*((e-o)*a+1)-.001,r=e=>Math.exp(-e*a)*(a*a*(o-e)));const d=function(e,t,r){let a=r;for(let n=1;n<12;n++)a-=e(a)/t(a);return a}(t,r,5/a);if(a=(0,s.f)(a),isNaN(d))return{stiffness:100,damping:10,duration:a};{const e=Math.pow(d,2)*l;return{stiffness:e,damping:2*c*Math.sqrt(l*e),duration:a}}}function te(e,t){return e*Math.sqrt(1-t*t)}const re=["keyframes","restDelta","restSpeed"],ae=["duration","bounce"],ne=["stiffness","damping","mass"];function se(e,t){return t.some(t=>void 0!==e[t])}function ie(e){let{keyframes:t,restDelta:r,restSpeed:n}=e,i=(0,o.A)(e,re);const l=t[0],c=t[t.length-1],d={done:!1,value:l},{stiffness:u,damping:m,mass:h,duration:p,velocity:g,isResolvedFromDuration:x}=function(e){let t=(0,a.A)({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!se(e,ne)&&se(e,ae)){const r=ee(e);t=(0,a.A)((0,a.A)((0,a.A)({},t),r),{},{mass:1}),t.isResolvedFromDuration=!0}return t}((0,a.A)((0,a.A)({},i),{},{velocity:-(0,s.X)(i.velocity||0)})),f=g||0,y=m/(2*Math.sqrt(u*h)),v=c-l,b=(0,s.X)(Math.sqrt(u/h)),w=Math.abs(v)<5;let j;if(n||(n=w?.01:2),r||(r=w?.005:.5),y<1){const e=te(b,y);j=t=>{const r=Math.exp(-y*b*t);return c-r*((f+y*b*v)/e*Math.sin(e*t)+v*Math.cos(e*t))}}else if(1===y)j=e=>c-Math.exp(-b*e)*(v+(f+b*v)*e);else{const e=b*Math.sqrt(y*y-1);j=t=>{const r=Math.exp(-y*b*t),a=Math.min(e*t,300);return c-r*((f+y*b*v)*Math.sinh(a)+e*v*Math.cosh(a))/e}}return{calculatedDuration:x&&p||null,next:e=>{const t=j(e);if(x)d.done=e>=p;else{let a=f;0!==e&&(a=y<1?J(j,e,t):0);const s=Math.abs(a)<=n,i=Math.abs(c-t)<=r;d.done=s&&i}return d.value=d.done?c:t,d}}}function oe(e){let{keyframes:t,velocity:r=0,power:a=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}=e;const m=t[0],h={done:!1,value:m},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let g=a*r;const x=m+g,f=void 0===o?x:o(x);f!==x&&(g=f-m);const y=e=>-g*Math.exp(-e/n),v=e=>f+y(e),b=e=>{const t=y(e),r=v(e);h.done=Math.abs(t)<=d,h.value=h.done?f:r};let w,j;const k=e=>{var t;(t=h.value,void 0!==l&&t<l||void 0!==c&&t>c)&&(w=e,j=ie({keyframes:[h.value,p(h.value)],velocity:J(v,e,h.value),damping:s,stiffness:i,restDelta:d,restSpeed:u}))};return k(0),{calculatedDuration:null,next:e=>{let t=!1;return j||void 0!==w||(t=!0,b(e),k(e)),void 0!==w&&e>w?j.next(e-w):(!t&&b(e),h)}}}var le=r(7065);const ce=e=>{const t=t=>{let{timestamp:r}=t;return e(r)};return{start:()=>le.Gt.update(t,!0),stop:()=>(0,le.WG)(t),now:()=>le.uv.isProcessing?le.uv.timestamp:performance.now()}};function de(e){let t=0;let r=e.next(t);for(;!r.done&&t<2e4;)t+=50,r=e.next(t);return t>=2e4?1/0:t}const ue=["autoplay","delay","driver","keyframes","type","repeat","repeatDelay","repeatType","onPlay","onStop","onComplete","onUpdate"],me={decay:oe,inertia:oe,tween:$,keyframes:$,spring:ie};function he(e){let t,r,{autoplay:n=!0,delay:i=0,driver:l=ce,keyframes:c,type:d="keyframes",repeat:u=0,repeatDelay:m=0,repeatType:h="loop",onPlay:p,onStop:g,onComplete:x,onUpdate:f}=e,y=(0,o.A)(e,ue),v=1,b=!1;const w=()=>{r=new Promise(e=>{t=e})};let j;w();const k=me[d]||$;let N;k!==$&&"number"!==typeof c[0]&&(N=K([0,100],c,{clamp:!1}),c=[0,100]);const C=k((0,a.A)((0,a.A)({},y),{},{keyframes:c}));let A;"mirror"===h&&(A=k((0,a.A)((0,a.A)({},y),{},{keyframes:[...c].reverse(),velocity:-(y.velocity||0)})));let S="idle",D=null,P=null,T=null;null===C.calculatedDuration&&u&&(C.calculatedDuration=de(C));const{calculatedDuration:_}=C;let R=1/0,O=1/0;null!==_&&(R=_+m,O=R*(u+1)-m);let F=0;const L=e=>{if(null===P)return;v>0&&(P=Math.min(P,e)),v<0&&(P=Math.min(e-O/v,P)),F=null!==D?D:Math.round(e-P)*v;const t=F-i*(v>=0?1:-1),r=v>=0?t<0:t>O;F=Math.max(t,0),"finished"===S&&null===D&&(F=O);let a=F,n=C;if(u){const e=Math.min(F,O)/R;let t=Math.floor(e),r=e%1;!r&&e>=1&&(r=1),1===r&&t--,t=Math.min(t,u+1);Boolean(t%2)&&("reverse"===h?(r=1-r,m&&(r-=m/R)):"mirror"===h&&(n=A)),a=(0,E.q)(0,1,r)*R}const s=r?{done:!1,value:c[0]}:n.next(a);N&&(s.value=N(s.value));let{done:o}=s;r||null===_||(o=v>=0?F>=O:F<=0);const l=null===D&&("finished"===S||"running"===S&&o);return f&&f(s.value),l&&B(),s},M=()=>{j&&j.stop(),j=void 0},I=()=>{S="idle",M(),t(),w(),P=T=null},B=()=>{S="finished",x&&x(),M(),t()},q=()=>{if(b)return;j||(j=l(L));const e=j.now();p&&p(),null!==D?P=e-D:P&&"finished"!==S||(P=e),"finished"===S&&w(),T=P,D=null,S="running",j.start()};n&&q();const z={then:(e,t)=>r.then(e,t),get time(){return(0,s.X)(F)},set time(e){e=(0,s.f)(e),F=e,null===D&&j&&0!==v?P=j.now()-e/v:D=e},get duration(){const e=null===C.calculatedDuration?de(C):C.calculatedDuration;return(0,s.X)(e)},get speed(){return v},set speed(e){e!==v&&j&&(v=e,z.time=(0,s.X)(F))},get state(){return S},play:q,pause:()=>{S="paused",D=F},stop:()=>{b=!0,"idle"!==S&&(S="idle",g&&g(),I())},cancel:()=>{null!==T&&L(T),I()},complete:()=>{S="finished"},sample:e=>(P=0,L(e))};return z}const pe=["onUpdate","onComplete"],ge=function(e){let t;return()=>(void 0===t&&(t=e()),t)}(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),xe=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function fe(e,t,r){let{onUpdate:n,onComplete:i}=r,l=(0,o.A)(r,pe);if(!(ge()&&xe.has(t)&&!l.repeatDelay&&"mirror"!==l.repeatType&&0!==l.damping&&"inertia"!==l.type))return!1;let d,u,p=!1,g=!1;const x=()=>{u=new Promise(e=>{d=e})};x();let{keyframes:f,duration:y=300,ease:v,times:b}=l;if(((e,t)=>"spring"===t.type||"backgroundColor"===e||!c(t.ease))(t,l)){const e=he((0,a.A)((0,a.A)({},l),{},{repeat:0,delay:0}));let t={done:!1,value:f[0]};const r=[];let n=0;for(;!t.done&&n<2e4;)t=e.sample(n),r.push(t.value),n+=10;b=void 0,f=r,y=n-10,v="linear"}const w=function(e,t,r){let{delay:a=0,duration:n,repeat:s=0,repeatType:i="loop",ease:o,times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:r};l&&(c.offset=l);const d=m(o);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:a,duration:n,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:"reverse"===i?"alternate":"normal"})}(e.owner.current,t,f,(0,a.A)((0,a.A)({},l),{},{duration:y,ease:v,times:b})),j=()=>{g=!1,w.cancel()},k=()=>{g=!0,le.Gt.update(j),d(),x()};w.onfinish=()=>{g||(e.set(function(e,t){let{repeat:r,repeatType:a="loop"}=t;return e[r&&"loop"!==a&&r%2===1?0:e.length-1]}(f,l)),i&&i(),k())};return{then:(e,t)=>u.then(e,t),attachTimeline:e=>(w.timeline=e,w.onfinish=null,h.l),get time(){return(0,s.X)(w.currentTime||0)},set time(e){w.currentTime=(0,s.f)(e)},get speed(){return w.playbackRate},set speed(e){w.playbackRate=e},get duration(){return(0,s.X)(y)},play:()=>{p||(w.play(),(0,le.WG)(j))},pause:()=>w.pause(),stop:()=>{if(p=!0,"idle"===w.playState)return;const{currentTime:t}=w;if(t){const r=he((0,a.A)((0,a.A)({},l),{},{autoplay:!1}));e.setWithVelocity(r.sample(t-10).value,r.sample(t).value,10)}k()},complete:()=>{g||w.finish()},cancel:k}}var ye=r(3965);const ve={type:"spring",stiffness:500,damping:25,restSpeed:10},be={type:"keyframes",duration:.8},we={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},je=(e,t)=>{let{keyframes:r}=t;return r.length>2?be:ye.f.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===r[1]?2*Math.sqrt(550):30,restSpeed:10}:ve:we},ke=(e,t)=>"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!B.f.test(t)&&"0"!==t||t.startsWith("url(")));var Ne=r(4459),Ce=r(9611);function Ae(e){return"number"===typeof e?0===e:null!==e?"none"===e||"0"===e||(0,Ce.$)(e):void 0}var Se=r(1783);const Ee=!1,De=function(e,t,r){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return l=>{const c=(0,Se.r)(o,e)||{},d=c.delay||o.delay||0;let{elapsed:u=0}=o;u-=(0,s.f)(d);const m=function(e,t,r,a){const n=ke(t,r);let s;s=Array.isArray(r)?[...r]:[null,r];const i=void 0!==a.from?a.from:e.get();let o;const l=[];for(let c=0;c<s.length;c++)null===s[c]&&(s[c]=0===c?i:s[c-1]),Ae(s[c])&&l.push(c),"string"===typeof s[c]&&"none"!==s[c]&&"0"!==s[c]&&(o=s[c]);if(n&&l.length&&o)for(let c=0;c<l.length;c++)s[l[c]]=(0,Ne.J)(t,o);return s}(t,e,r,c),p=m[0],g=m[m.length-1],x=ke(e,p),f=ke(e,g);(0,n.$)(x===f,"You are trying to animate ".concat(e,' from "').concat(p,'" to "').concat(g,'". ').concat(p," is not an animatable value - to enable this animation set ").concat(p," to a value animatable to ").concat(g," via the `style` property."));let y=(0,a.A)((0,a.A)({keyframes:m,velocity:t.getVelocity(),ease:"easeOut"},c),{},{delay:-u,onUpdate:e=>{t.set(e),c.onUpdate&&c.onUpdate(e)},onComplete:()=>{l(),c.onComplete&&c.onComplete()}});if((0,Se.D)(c)||(y=(0,a.A)((0,a.A)({},y),je(e,y))),y.duration&&(y.duration=(0,s.f)(y.duration)),y.repeatDelay&&(y.repeatDelay=(0,s.f)(y.repeatDelay)),!x||!f||i||!1===c.type||Ee)return function(e){let{keyframes:t,delay:r,onUpdate:a,onComplete:n}=e;const s=()=>(a&&a(t[t.length-1]),n&&n(),{time:0,speed:1,duration:0,play:h.l,pause:h.l,stop:h.l,then:e=>(e(),Promise.resolve()),cancel:h.l,complete:h.l});return r?he({keyframes:[0,1],duration:0,delay:r,onComplete:s}):s()}(i?(0,a.A)((0,a.A)({},y),{},{delay:0}):y);if(!o.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const r=fe(t,e,y);if(r)return r}return he(y)}}},7070(e,t,r){"use strict";r.d(t,{_:()=>v});var a=r(260),n=r(9379),s=r(3986),i=r(3965),o=r(971),l=r(7733),c=r(6962),d=r(5193),u=r(1783),m=r(7065);const h=["transition","transitionEnd"];function p(e,t){let{protectedKeys:r,needsAnimating:a}=e;const n=r.hasOwnProperty(t)&&!0!==a[t];return a[t]=!1,n}function g(e,t){const r=e.get();if(!Array.isArray(t))return r!==t;for(let a=0;a<t.length;a++)if(t[a]!==r)return!0}function x(e,t){let{delay:r=0,transitionOverride:a,type:x}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},f=e.makeTargetAnimatable(t),{transition:y=e.getDefaultTransition(),transitionEnd:v}=f,b=(0,s.A)(f,h);const w=e.getValue("willChange");a&&(y=a);const j=[],k=x&&e.animationState&&e.animationState.getState()[x];for(const s in b){const t=e.getValue(s),a=b[s];if(!t||void 0===a||k&&p(k,s))continue;const d=(0,n.A)({delay:r,elapsed:0},(0,u.r)(y||{},s));if(window.HandoffAppearAnimations){const r=e.getProps()[o.n];if(r){const e=window.HandoffAppearAnimations(r,s,t,m.Gt);null!==e&&(d.elapsed=e,d.isHandoff=!0)}}let h=!d.isHandoff&&!g(t,a);if("spring"===d.type&&(t.getVelocity()||d.velocity)&&(h=!1),t.animation&&(h=!1),h)continue;t.start((0,l.f)(s,t,a,e.shouldReduceMotion&&i.f.has(s)?{type:!1}:d));const x=t.animation;(0,c.k)(w)&&(w.add(s),x.then(()=>w.remove(s))),j.push(x)}return v&&Promise.all(j).then(()=>{v&&(0,d.Uo)(e,v)}),j}function f(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=(0,a.K)(e,t,r.custom);let{transition:i=e.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(i=r.transitionOverride);const o=s?()=>Promise.all(x(e,s,r)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:s=0,staggerChildren:o,staggerDirection:l}=i;return function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=arguments.length>5?arguments[5]:void 0;const o=[],l=(e.variantChildren.size-1)*a,c=1===s?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*a}:function(){return l-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*a};return Array.from(e.variantChildren).sort(y).forEach((e,a)=>{e.notify("AnimationStart",t),o.push(f(e,t,(0,n.A)((0,n.A)({},i),{},{delay:r+c(a)})).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(o)}(e,t,s+a,o,l,r)}:()=>Promise.resolve(),{when:c}=i;if(c){const[e,t]="beforeChildren"===c?[o,l]:[l,o];return e().then(()=>t())}return Promise.all([o(),l(r.delay)])}function y(e,t){return e.sortNodePosition(t)}function v(e,t){let r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const a=t.map(t=>f(e,t,n));r=Promise.all(a)}else if("string"===typeof t)r=f(e,t,n);else{const s="function"===typeof t?(0,a.K)(e,t,n.custom):t;r=Promise.all(x(e,s,n))}return r.then(()=>e.notify("AnimationComplete",t))}},971(e,t,r){"use strict";r.d(t,{n:()=>a});const a="data-"+(0,r(2093).I)("framerAppearId")},1485(e,t,r){"use strict";r.d(t,{p:()=>a});const a=e=>Array.isArray(e)},1783(e,t,r){"use strict";r.d(t,{D:()=>s,r:()=>i});var a=r(3986);const n=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];function s(e){let{when:t,delay:r,delayChildren:s,staggerChildren:i,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:d,from:u,elapsed:m}=e,h=(0,a.A)(e,n);return!!Object.keys(h).length}function i(e,t){return e[t]||e.default||e}},6938(e,t,r){"use strict";r.d(t,{N:()=>x});var a=r(5043),n=r(293);function s(){const e=(0,a.useRef)(!1);return(0,n.E)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var i=r(7065);var o=r(9674),l=r(4930);class c extends a.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d(e){let{children:t,isPresent:r}=e;const n=(0,a.useId)(),s=(0,a.useRef)(null),i=(0,a.useRef)({width:0,height:0,top:0,left:0});return(0,a.useInsertionEffect)(()=>{const{width:e,height:t,top:a,left:o}=i.current;if(r||!s.current||!e||!t)return;s.current.dataset.motionPopId=n;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule('\n          [data-motion-pop-id="'.concat(n,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(a,"px !important;\n            left: ").concat(o,"px !important;\n          }\n        ")),()=>{document.head.removeChild(l)}},[r]),a.createElement(c,{isPresent:r,childRef:s,sizeRef:i},a.cloneElement(t,{ref:s}))}const u=e=>{let{children:t,initial:r,isPresent:n,onExitComplete:s,custom:i,presenceAffectsLayout:c,mode:u}=e;const h=(0,l.M)(m),p=(0,a.useId)(),g=(0,a.useMemo)(()=>({id:p,initial:r,isPresent:n,custom:i,onExitComplete:e=>{h.set(e,!0);for(const t of h.values())if(!t)return;s&&s()},register:e=>(h.set(e,!1),()=>h.delete(e))}),c?void 0:[n]);return(0,a.useMemo)(()=>{h.forEach((e,t)=>h.set(t,!1))},[n]),a.useEffect(()=>{!n&&!h.size&&s&&s()},[n]),"popLayout"===u&&(t=a.createElement(d,{isPresent:n},t)),a.createElement(o.t.Provider,{value:g},t)};function m(){return new Map}var h=r(2190);var p=r(8129);const g=e=>e.key||"";const x=e=>{let{children:t,custom:r,initial:o=!0,onExitComplete:l,exitBeforeEnter:c,presenceAffectsLayout:d=!0,mode:m="sync"}=e;(0,p.V)(!c,"Replace exitBeforeEnter with mode='wait'");const x=(0,a.useContext)(h.L).forceRender||function(){const e=s(),[t,r]=(0,a.useState)(0),n=(0,a.useCallback)(()=>{e.current&&r(t+1)},[t]);return[(0,a.useCallback)(()=>i.Gt.postRender(n),[n]),t]}()[0],f=s(),y=function(e){const t=[];return a.Children.forEach(e,e=>{(0,a.isValidElement)(e)&&t.push(e)}),t}(t);let v=y;const b=(0,a.useRef)(new Map).current,w=(0,a.useRef)(v),j=(0,a.useRef)(new Map).current,k=(0,a.useRef)(!0);var N;if((0,n.E)(()=>{k.current=!1,function(e,t){e.forEach(e=>{const r=g(e);t.set(r,e)})}(y,j),w.current=v}),N=()=>{k.current=!0,j.clear(),b.clear()},(0,a.useEffect)(()=>()=>N(),[]),k.current)return a.createElement(a.Fragment,null,v.map(e=>a.createElement(u,{key:g(e),isPresent:!0,initial:!!o&&void 0,presenceAffectsLayout:d,mode:m},e)));v=[...v];const C=w.current.map(g),A=y.map(g),S=C.length;for(let a=0;a<S;a++){const e=C[a];-1!==A.indexOf(e)||b.has(e)||b.set(e,void 0)}return"wait"===m&&b.size&&(v=[]),b.forEach((e,t)=>{if(-1!==A.indexOf(t))return;const n=j.get(t);if(!n)return;const s=C.indexOf(t);let i=e;if(!i){const e=()=>{b.delete(t);const e=Array.from(j.keys()).filter(e=>!A.includes(e));if(e.forEach(e=>j.delete(e)),w.current=y.filter(r=>{const a=g(r);return a===t||e.includes(a)}),!b.size){if(!1===f.current)return;x(),l&&l()}};i=a.createElement(u,{key:g(n),isPresent:!1,onExitComplete:e,custom:r,presenceAffectsLayout:d,mode:m},n),b.set(t,i)}v.splice(s,0,i)}),v=v.map(e=>{const t=e.key;return b.has(t)?e:a.createElement(u,{key:g(e),isPresent:!0,presenceAffectsLayout:d,mode:m},e)}),a.createElement(a.Fragment,null,b.size?v:v.map(e=>(0,a.cloneElement)(e)))}},2190(e,t,r){"use strict";r.d(t,{L:()=>a});const a=(0,r(5043).createContext)({})},9674(e,t,r){"use strict";r.d(t,{t:()=>a});const a=(0,r(5043).createContext)(null)},4569(e,t,r){"use strict";r.d(t,{po:()=>s,tn:()=>o,yT:()=>i});var a=r(5836),n=r(9333);const s=e=>1-Math.sin(Math.acos(e)),i=(0,n.G)(s),o=(0,a.V)(s)},5836(e,t,r){"use strict";r.d(t,{V:()=>a});const a=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2},9333(e,t,r){"use strict";r.d(t,{G:()=>a});const a=e=>t=>1-e(1-t)},7065(e,t,r){"use strict";r.d(t,{WG:()=>o,Gt:()=>i,uv:()=>l,Ci:()=>c});var a=r(1892);class n{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);-1!==t&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}const s=["prepare","read","update","preRender","render","postRender"];const{schedule:i,cancel:o,state:l,steps:c}=function(e,t){let r=!1,a=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=s.reduce((e,t)=>(e[t]=function(e){let t=new n,r=new n,a=0,s=!1,i=!1;const o=new WeakSet,l={schedule:function(e){const n=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&s,i=n?t:r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),i.add(e)&&n&&s&&(a=t.order.length),e},cancel:e=>{r.remove(e),o.delete(e)},process:n=>{if(s)i=!0;else{if(s=!0,[t,r]=[r,t],r.clear(),a=t.order.length,a)for(let r=0;r<a;r++){const a=t.order[r];a(n),o.has(a)&&(l.schedule(a),e())}s=!1,i&&(i=!1,l.process(n))}}};return l}(()=>r=!0),e),{}),l=e=>o[e].process(i),c=()=>{const n=performance.now();r=!1,i.delta=a?1e3/60:Math.max(Math.min(n-i.timestamp,40),1),i.timestamp=n,i.isProcessing=!0,s.forEach(l),i.isProcessing=!1,r&&t&&(a=!1,e(c))},d=s.reduce((t,n)=>{const s=o[n];return t[n]=function(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r||(r=!0,a=!0,i.isProcessing||e(c)),s.schedule(t,n,o)},t},{});return{schedule:d,cancel:e=>s.forEach(t=>o[t].cancel(e)),state:i,steps:o}}("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:a.l,!0)},3342(e,t,r){"use strict";r.d(t,{P:()=>Ga});var a=r(9379),n=r(5043);const s=(0,n.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),i=(0,n.createContext)({});var o=r(9674),l=r(293);const c=(0,n.createContext)({strict:!1});var d=r(971);function u(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function m(e){return"string"===typeof e||Array.isArray(e)}function h(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}const p=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],g=["initial",...p];function x(e){return h(e.animate)||g.some(t=>m(e[t]))}function f(e){return Boolean(x(e)||e.variants)}function y(e){const{initial:t,animate:r}=function(e,t){if(x(e)){const{initial:t,animate:r}=e;return{initial:!1===t||m(t)?t:void 0,animate:m(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,n.useContext)(i));return(0,n.useMemo)(()=>({initial:t,animate:r}),[v(t),v(r)])}function v(e){return Array.isArray(e)?e.join(" "):e}const b={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},w={};for(const Qa in b)w[Qa]={isEnabled:e=>b[Qa].some(t=>!!e[t])};var j=r(4735),k=r(2190);const N=(0,n.createContext)({}),C=Symbol.for("motionComponentSymbol");function A(e){let{preloadedFeatures:t,createVisualElement:r,useRender:m,useVisualState:h,Component:p}=e;t&&function(e){for(const t in e)w[t]=(0,a.A)((0,a.A)({},w[t]),e[t])}(t);const g=(0,n.forwardRef)(function(e,g){let x;const f=(0,a.A)((0,a.A)((0,a.A)({},(0,n.useContext)(s)),e),{},{layoutId:S(e)}),{isStatic:v}=f,b=y(e),w=h(e,v);if(!v&&j.B){b.visualElement=function(e,t,r,a){const{visualElement:u}=(0,n.useContext)(i),m=(0,n.useContext)(c),h=(0,n.useContext)(o.t),p=(0,n.useContext)(s).reducedMotion,g=(0,n.useRef)();a=a||m.renderer,!g.current&&a&&(g.current=a(e,{visualState:t,parent:u,props:r,presenceContext:h,blockInitialAnimation:!!h&&!1===h.initial,reducedMotionConfig:p}));const x=g.current;(0,n.useInsertionEffect)(()=>{x&&x.update(r,h)});const f=(0,n.useRef)(Boolean(r[d.n]&&!window.HandoffComplete));return(0,l.E)(()=>{x&&(x.render(),f.current&&x.animationState&&x.animationState.animateChanges())}),(0,n.useEffect)(()=>{x&&(x.updateFeatures(),!f.current&&x.animationState&&x.animationState.animateChanges(),f.current&&(f.current=!1,window.HandoffComplete=!0))}),x}(p,w,f,r);const e=(0,n.useContext)(N),a=(0,n.useContext)(c).strict;b.visualElement&&(x=b.visualElement.loadFeatures(f,a,t,e))}return n.createElement(i.Provider,{value:b},x&&b.visualElement?n.createElement(x,(0,a.A)({visualElement:b.visualElement},f)):null,m(p,e,function(e,t,r){return(0,n.useCallback)(a=>{a&&e.mount&&e.mount(a),t&&(a?t.mount(a):t.unmount()),r&&("function"===typeof r?r(a):u(r)&&(r.current=a))},[t])}(w,b.visualElement,g),w,v,b.visualElement))});return g[C]=p,g}function S(e){let{layoutId:t}=e;const r=(0,n.useContext)(k.L).id;return r&&void 0!==t?r+"-"+t:t}function E(e){function t(t){return A(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;const r=new Map;return new Proxy(t,{get:(e,a)=>(r.has(a)||r.set(a,t(a)),r.get(a))})}const D=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function P(e){return"string"===typeof e&&!e.includes("-")&&!!(D.indexOf(e)>-1||/[A-Z]/.test(e))}const T={};var _=r(3965);function R(e,t){let{layout:r,layoutId:a}=t;return _.f.has(e)||e.startsWith("origin")||(r||void 0!==a)&&(!!T[e]||"opacity"===e)}var O=r(2769);const F={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},L=_.U.length;var M=r(7343);const I=(e,t)=>t&&"number"===typeof e?t.transform(e):e;var B=r(499);function q(e,t,r,a){const{style:n,vars:s,transform:i,transformOrigin:o}=e;let l=!1,c=!1,d=!0;for(const u in t){const e=t[u];if((0,M.j4)(u)){s[u]=e;continue}const r=B.W[u],a=I(e,r);if(_.f.has(u)){if(l=!0,i[u]=a,!d)continue;e!==(r.default||0)&&(d=!1)}else u.startsWith("origin")?(c=!0,o[u]=a):n[u]=a}if(t.transform||(l||a?n.transform=function(e,t,r,a){let{enableHardwareAcceleration:n=!0,allowTransformNone:s=!0}=t,i="";for(let o=0;o<L;o++){const t=_.U[o];void 0!==e[t]&&(i+="".concat(F[t]||t,"(").concat(e[t],") "))}return n&&!e.z&&(i+="translateZ(0)"),i=i.trim(),a?i=a(e,r?"":i):s&&r&&(i="none"),i}(e.transform,r,d,a):n.transform&&(n.transform="none")),c){const{originX:e="50%",originY:t="50%",originZ:r=0}=o;n.transformOrigin="".concat(e," ").concat(t," ").concat(r)}}const z=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function U(e,t,r){for(const a in t)(0,O.S)(t[a])||R(a,r)||(e[a]=t[a])}function V(e,t,r){const a={};return U(a,e.style||{},e),Object.assign(a,function(e,t,r){let{transformTemplate:a}=e;return(0,n.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return q(e,t,{enableHardwareAcceleration:!r},a),Object.assign({},e.vars,e.style)},[t])}(e,t,r)),e.transformValues?e.transformValues(a):a}function Y(e,t,r){const a={},n=V(e,t,r);return e.drag&&!1!==e.dragListener&&(a.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(a.tabIndex=0),a.style=n,a}const W=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function H(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||W.has(e)}let G=e=>!H(e);try{(K=require("@emotion/is-prop-valid").default)&&(G=e=>e.startsWith("on")?!H(e):K(e))}catch(Ka){}var K;var Q=r(3986),$=r(2852);function X(e,t,r){return"string"===typeof e?e:$.px.transform(t+r*e)}const J={offset:"stroke-dashoffset",array:"stroke-dasharray"},Z={offset:"strokeDashoffset",array:"strokeDasharray"};const ee=["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"];function te(e,t,r,a,n){let{attrX:s,attrY:i,attrScale:o,originX:l,originY:c,pathLength:d,pathSpacing:u=1,pathOffset:m=0}=t;if(q(e,(0,Q.A)(t,ee),r,n),a)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:h,style:p,dimensions:g}=e;h.transform&&(g&&(p.transform=h.transform),delete h.transform),g&&(void 0!==l||void 0!==c||p.transform)&&(p.transformOrigin=function(e,t,r){const a=X(t,e.x,e.width),n=X(r,e.y,e.height);return"".concat(a," ").concat(n)}(g,void 0!==l?l:.5,void 0!==c?c:.5)),void 0!==s&&(h.x=s),void 0!==i&&(h.y=i),void 0!==o&&(h.scale=o),void 0!==d&&function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const s=n?J:Z;e[s.offset]=$.px.transform(-a);const i=$.px.transform(t),o=$.px.transform(r);e[s.array]="".concat(i," ").concat(o)}(h,d,u,m,!1)}const re=()=>(0,a.A)((0,a.A)({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}}),ae=e=>"string"===typeof e&&"svg"===e.toLowerCase();function ne(e,t,r,s){const i=(0,n.useMemo)(()=>{const r=re();return te(r,t,{enableHardwareAcceleration:!1},ae(s),e.transformTemplate),(0,a.A)((0,a.A)({},r.attrs),{},{style:(0,a.A)({},r.style)})},[t]);if(e.style){const t={};U(t,e.style,e),i.style=(0,a.A)((0,a.A)({},t),i.style)}return i}function se(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,r,s,i,o)=>{let{latestValues:l}=i;const c=(P(t)?ne:Y)(r,l,o,t),d=function(e,t,r){const a={};for(const n in e)"values"===n&&"object"===typeof e.values||(G(n)||!0===r&&H(n)||!t&&!H(n)||e.draggable&&n.startsWith("onDrag"))&&(a[n]=e[n]);return a}(r,"string"===typeof t,e),u=(0,a.A)((0,a.A)((0,a.A)({},d),c),{},{ref:s}),{children:m}=r,h=(0,n.useMemo)(()=>(0,O.S)(m)?m.get():m,[m]);return(0,n.createElement)(t,(0,a.A)((0,a.A)({},u),{},{children:h}))}}var ie=r(2093);function oe(e,t,r,a){let{style:n,vars:s}=t;Object.assign(e.style,n,a&&a.getProjectionStyles(r));for(const i in s)e.style.setProperty(i,s[i])}const le=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ce(e,t,r,a){oe(e,t,void 0,a);for(const n in t.attrs)e.setAttribute(le.has(n)?n:(0,ie.I)(n),t.attrs[n])}function de(e,t){const{style:r}=e,a={};for(const n in r)((0,O.S)(r[n])||t.style&&(0,O.S)(t.style[n])||R(n,e))&&(a[n]=r[n]);return a}function ue(e,t){const r=de(e,t);for(const a in e)if((0,O.S)(e[a])||(0,O.S)(t[a])){r[-1!==_.U.indexOf(a)?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a]=e[a]}return r}var me=r(8240),he=r(4930),pe=r(6992);function ge(e){const t=(0,O.S)(e)?e.get():e;return(0,pe.B)(t)?t.toValue():t}const xe=["transitionEnd","transition"];const fe=e=>(t,r)=>{const a=(0,n.useContext)(i),s=(0,n.useContext)(o.t),l=()=>function(e,t,r,a){let{scrapeMotionValuesFromProps:n,createRenderState:s,onMount:i}=e;const o={latestValues:ye(t,r,a,n),renderState:s()};return i&&(o.mount=e=>i(t,e,o)),o}(e,t,a,s);return r?l():(0,he.M)(l)};function ye(e,t,r,a){const n={},s=a(e,{});for(const m in s)n[m]=ge(s[m]);let{initial:i,animate:o}=e;const l=x(e),c=f(e);t&&c&&!l&&!1!==e.inherit&&(void 0===i&&(i=t.initial),void 0===o&&(o=t.animate));let d=!!r&&!1===r.initial;d=d||!1===i;const u=d?o:i;if(u&&"boolean"!==typeof u&&!h(u)){(Array.isArray(u)?u:[u]).forEach(t=>{const r=(0,me.a)(e,t);if(!r)return;const{transitionEnd:a,transition:s}=r,i=(0,Q.A)(r,xe);for(const e in i){let t=i[e];if(Array.isArray(t)){t=t[d?t.length-1:0]}null!==t&&(n[e]=t)}for(const e in a)n[e]=a[e]})}return n}var ve=r(7065);const be={useVisualState:fe({scrapeMotionValuesFromProps:ue,createRenderState:re,onMount:(e,t,r)=>{let{renderState:a,latestValues:n}=r;ve.Gt.read(()=>{try{a.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(e){a.dimensions={x:0,y:0,width:0,height:0}}}),ve.Gt.render(()=>{te(a,n,{enableHardwareAcceleration:!1},ae(t.tagName),e.transformTemplate),ce(t,a)})}})},we={useVisualState:fe({scrapeMotionValuesFromProps:de,createRenderState:z})};function je(e,t,r){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,r,a),()=>e.removeEventListener(t,r)}const ke=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function Ne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}function Ce(e,t,r,a){return je(e,t,(e=>t=>ke(t)&&e(t,Ne(t)))(r),a)}var Ae=r(604);function Se(e){let t=null;return()=>{const r=()=>{t=null};return null===t&&(t=e,r)}}const Ee=Se("dragHorizontal"),De=Se("dragVertical");function Pe(e){let t=!1;if("y"===e)t=De();else if("x"===e)t=Ee();else{const e=Ee(),r=De();e&&r?t=()=>{e(),r()}:(e&&e(),r&&r())}return t}function Te(){const e=Pe(!0);return!e||(e(),!1)}class _e{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Re(e,t){const r="pointer"+(t?"enter":"leave"),a="onHover"+(t?"Start":"End");return Ce(e.current,r,(r,n)=>{if("touch"===r.pointerType||Te())return;const s=e.getProps();e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",t),s[a]&&ve.Gt.update(()=>s[a](r,n))},{passive:!e.getProps()[a]})}const Oe=(e,t)=>!!t&&(e===t||Oe(e,t.parentElement));var Fe=r(1892);function Le(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,Ne(r))}const Me=["root"],Ie=new WeakMap,Be=new WeakMap,qe=e=>{const t=Ie.get(e.target);t&&t(e)},ze=e=>{e.forEach(qe)};function Ue(e,t,r){const n=function(e){let{root:t}=e,r=(0,Q.A)(e,Me);const n=t||document;Be.has(n)||Be.set(n,{});const s=Be.get(n),i=JSON.stringify(r);return s[i]||(s[i]=new IntersectionObserver(ze,(0,a.A)({root:t},r))),s[i]}(t);return Ie.set(e,r),n.observe(e),()=>{Ie.delete(e),n.unobserve(e)}}const Ve={some:0,all:1};const Ye={inView:{Feature:class extends _e{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:a="some",once:n}=e,s={root:t?t.current:void 0,rootMargin:r,threshold:"number"===typeof a?a:Ve[a]};return Ue(this.node.current,s,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,n&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:r,onViewportLeave:a}=this.node.getProps(),s=t?r:a;s&&s(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,r=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:r={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==r[e]}(e,t));r&&this.startObserver()}unmount(){}}},tap:{Feature:class extends _e{constructor(){super(...arguments),this.removeStartListeners=Fe.l,this.removeEndListeners=Fe.l,this.removeAccessibleListeners=Fe.l,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=Ce(window,"pointerup",(e,t)=>{if(!this.checkPressEnd())return;const{onTap:r,onTapCancel:a,globalTapTarget:n}=this.node.getProps();ve.Gt.update(()=>{n||Oe(this.node.current,e.target)?r&&r(e,t):a&&a(e,t)})},{passive:!(r.onTap||r.onPointerUp)}),n=Ce(window,"pointercancel",(e,t)=>this.cancelPress(e,t),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=(0,Ae.F)(a,n),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=je(this.node.current,"keydown",e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=je(this.node.current,"keyup",e=>{"Enter"===e.key&&this.checkPressEnd()&&Le("up",(e,t)=>{const{onTap:r}=this.node.getProps();r&&ve.Gt.update(()=>r(e,t))})}),Le("down",(e,t)=>{this.startPress(e,t)})}),t=je(this.node.current,"blur",()=>{this.isPressing&&Le("cancel",(e,t)=>this.cancelPress(e,t))});this.removeAccessibleListeners=(0,Ae.F)(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:r,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ve.Gt.update(()=>r(e,t))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Te()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ve.Gt.update(()=>r(e,t))}mount(){const e=this.node.getProps(),t=Ce(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=je(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=(0,Ae.F)(t,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends _e{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=(0,Ae.F)(je(this.node.current,"focus",()=>this.onFocus()),je(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends _e{mount(){this.unmount=(0,Ae.F)(Re(this.node,!0),Re(this.node,!1))}unmount(){}}}};var We=r(1485);function He(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let a=0;a<r;a++)if(t[a]!==e[a])return!1;return!0}var Ge=r(260),Ke=r(7070);const Qe=["transition","transitionEnd"],$e=[...p].reverse(),Xe=p.length;function Je(e){let t=function(e){return t=>Promise.all(t.map(t=>{let{animation:r,options:a}=t;return(0,Ke._)(e,r,a)}))}(e);const r={animate:et(!0),whileInView:et(),whileHover:et(),whileTap:et(),whileDrag:et(),whileFocus:et(),exit:et()};let n=!0;const s=(t,r)=>{const n=(0,Ge.K)(e,r);if(n){const{transition:e,transitionEnd:r}=n,s=(0,Q.A)(n,Qe);t=(0,a.A)((0,a.A)((0,a.A)({},t),s),r)}return t};function i(i,o){const l=e.getProps(),c=e.getVariantContext(!0)||{},d=[],u=new Set;let p={},g=1/0;for(let t=0;t<Xe;t++){const x=$e[t],f=r[x],y=void 0!==l[x]?l[x]:c[x],v=m(y),b=x===o?f.isActive:null;!1===b&&(g=t);let w=y===c[x]&&y!==l[x]&&v;if(w&&n&&e.manuallyAnimateOnMount&&(w=!1),f.protectedKeys=(0,a.A)({},p),!f.isActive&&null===b||!y&&!f.prevProp||h(y)||"boolean"===typeof y)continue;let j=Ze(f.prevProp,y)||x===o&&f.isActive&&!w&&v||t>g&&v,k=!1;const N=Array.isArray(y)?y:[y];let C=N.reduce(s,{});!1===b&&(C={});const{prevResolvedValues:A={}}=f,S=(0,a.A)((0,a.A)({},A),C),E=e=>{j=!0,u.has(e)&&(k=!0,u.delete(e)),f.needsAnimating[e]=!0};for(const e in S){const t=C[e],r=A[e];if(p.hasOwnProperty(e))continue;let a=!1;a=(0,We.p)(t)&&(0,We.p)(r)?!He(t,r):t!==r,a?void 0!==t?E(e):u.add(e):void 0!==t&&u.has(e)?E(e):f.protectedKeys[e]=!0}f.prevProp=y,f.prevResolvedValues=C,f.isActive&&(p=(0,a.A)((0,a.A)({},p),C)),n&&e.blockInitialAnimation&&(j=!1),!j||w&&!k||d.push(...N.map(e=>({animation:e,options:(0,a.A)({type:x},i)})))}if(u.size){const t={};u.forEach(r=>{const a=e.getBaseTarget(r);void 0!==a&&(t[r]=a)}),d.push({animation:t})}let x=Boolean(d.length);return!n||!1!==l.initial&&l.initial!==l.animate||e.manuallyAnimateOnMount||(x=!1),n=!1,x?t(d):Promise.resolve()}return{animateChanges:i,setActive:function(t,a,n){var s;if(r[t].isActive===a)return Promise.resolve();null===(s=e.variantChildren)||void 0===s||s.forEach(e=>{var r;return null===(r=e.animationState)||void 0===r?void 0:r.setActive(t,a)}),r[t].isActive=a;const o=i(n,t);for(const e in r)r[e].protectedKeys={};return o},setAnimateFunction:function(r){t=r(e)},getState:()=>r}}function Ze(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!He(t,e)}function et(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let tt=0;const rt={animation:{Feature:class extends _e{constructor(e){super(e),e.animationState||(e.animationState=Je(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),h(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends _e{constructor(){super(...arguments),this.id=tt++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:r}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===a)return;const n=this.node.animationState.setActive("exit",!e,{custom:null!==r&&void 0!==r?r:this.node.getProps().custom});t&&!e&&n.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}};var at=r(8129),nt=r(9416);const st=(e,t)=>Math.abs(e-t);class it{constructor(e,t){let{transformPagePoint:r,contextWindow:n,dragSnapToOrigin:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=ct(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,r=function(e,t){const r=st(e.x,t.x),a=st(e.y,t.y);return Math.sqrt(r**2+a**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!r)return;const{point:n}=e,{timestamp:s}=ve.uv;this.history.push((0,a.A)((0,a.A)({},n),{},{timestamp:s}));const{onStart:i,onMove:o}=this.handlers;t||(i&&i(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=ot(t,this.transformPagePoint),ve.Gt.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:r,onSessionEnd:a,resumeAnimation:n}=this.handlers;if(this.dragSnapToOrigin&&n&&n(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const s=ct("pointercancel"===e.type?this.lastMoveEventInfo:ot(t,this.transformPagePoint),this.history);this.startEvent&&r&&r(e,s),a&&a(e,s)},!ke(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=r,this.contextWindow=n||window;const i=ot(Ne(e),this.transformPagePoint),{point:o}=i,{timestamp:l}=ve.uv;this.history=[(0,a.A)((0,a.A)({},o),{},{timestamp:l})];const{onSessionStart:c}=t;c&&c(e,ct(i,this.history)),this.removeListeners=(0,Ae.F)(Ce(this.contextWindow,"pointermove",this.handlePointerMove),Ce(this.contextWindow,"pointerup",this.handlePointerUp),Ce(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),(0,ve.WG)(this.updatePoint)}}function ot(e,t){return t?{point:t(e.point)}:e}function lt(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ct(e,t){let{point:r}=e;return{point:r,delta:lt(r,ut(t)),offset:lt(r,dt(t)),velocity:mt(t,.1)}}function dt(e){return e[0]}function ut(e){return e[e.length-1]}function mt(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,a=null;const n=ut(e);for(;r>=0&&(a=e[r],!(n.timestamp-a.timestamp>(0,nt.f)(t)));)r--;if(!a)return{x:0,y:0};const s=(0,nt.X)(n.timestamp-a.timestamp);if(0===s)return{x:0,y:0};const i={x:(n.x-a.x)/s,y:(n.y-a.y)/s};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}var ht=r(5961),pt=r(9138);function gt(e){return e.max-e.min}function xt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=r}function ft(e,t,r){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=a,e.originPoint=(0,pt.j)(t.min,t.max,e.origin),e.scale=gt(r)/gt(t),(xt(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=(0,pt.j)(r.min,r.max,e.origin)-e.originPoint,(xt(e.translate)||isNaN(e.translate))&&(e.translate=0)}function yt(e,t,r,a){ft(e.x,t.x,r.x,a?a.originX:void 0),ft(e.y,t.y,r.y,a?a.originY:void 0)}function vt(e,t,r){e.min=r.min+t.min,e.max=e.min+gt(t)}function bt(e,t,r){e.min=t.min-r.min,e.max=e.min+gt(t)}function wt(e,t,r){bt(e.x,t.x,r.x),bt(e.y,t.y,r.y)}var jt=r(4773);function kt(e,t,r){return{min:void 0!==t?e.min+t:void 0,max:void 0!==r?e.max+r-(e.max-e.min):void 0}}function Nt(e,t){let r=t.min-e.min,a=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,a]=[a,r]),{min:r,max:a}}const Ct=.35;function At(e,t,r){return{min:St(e,t),max:St(e,r)}}function St(e,t){return"number"===typeof e?e:e[t]||0}const Et=()=>({x:{min:0,max:0},y:{min:0,max:0}});function Dt(e){return[e("x"),e("y")]}function Pt(e){let{top:t,left:r,right:a,bottom:n}=e;return{x:{min:r,max:a},y:{min:t,max:n}}}function Tt(e){return void 0===e||1===e}function _t(e){let{scale:t,scaleX:r,scaleY:a}=e;return!Tt(t)||!Tt(r)||!Tt(a)}function Rt(e){return _t(e)||Ot(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Ot(e){return Ft(e.x)||Ft(e.y)}function Ft(e){return e&&"0%"!==e}function Lt(e,t,r){return r+t*(e-r)}function Mt(e,t,r,a,n){return void 0!==n&&(e=Lt(e,n,a)),Lt(e,r,a)+t}function It(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3?arguments[3]:void 0,n=arguments.length>4?arguments[4]:void 0;e.min=Mt(e.min,t,r,a,n),e.max=Mt(e.max,t,r,a,n)}function Bt(e,t){let{x:r,y:a}=t;It(e.x,r.translate,r.scale,r.originPoint),It(e.y,a.translate,a.scale,a.originPoint)}function qt(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function zt(e,t){e.min=e.min+t,e.max=e.max+t}function Ut(e,t,r){let[a,n,s]=r;const i=void 0!==t[s]?t[s]:.5,o=(0,pt.j)(e.min,e.max,i);It(e,t[a],t[n],o,t.scale)}const Vt=["x","scaleX","originX"],Yt=["y","scaleY","originY"];function Wt(e,t){Ut(e.x,t,Vt),Ut(e.y,t,Yt)}function Ht(e,t){return Pt(function(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),a=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:a.y,right:a.x}}(e.getBoundingClientRect(),t))}var Gt=r(7733);const Kt=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},Qt=new WeakMap;class $t{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;const{dragSnapToOrigin:a}=this.getProps();this.panSession=new it(e,{onSessionStart:e=>{const{dragSnapToOrigin:r}=this.getProps();r?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Ne(e,"page").point)},onStart:(e,t)=>{const{drag:r,dragPropagation:a,onDragStart:n}=this.getProps();if(r&&!a&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Pe(r),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Dt(e=>{let t=this.getAxisMotionValue(e).get()||0;if($.KN.test(t)){const{projection:r}=this.visualElement;if(r&&r.layout){const a=r.layout.layoutBox[e];if(a){t=gt(a)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),n&&ve.Gt.update(()=>n(e,t),!1,!0);const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:r,dragDirectionLock:a,onDirectionLock:n,onDrag:s}=this.getProps();if(!r&&!this.openGlobalLock)return;const{offset:i}=t;if(a&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=null;Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x");return r}(i),void(null!==this.currentDirection&&n&&n(this.currentDirection));this.updateAxis("x",t.point,i),this.updateAxis("y",t.point,i),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>Dt(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:a,contextWindow:Kt(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=t;this.startAnimation(a);const{onDragEnd:n}=this.getProps();n&&ve.Gt.update(()=>n(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:a}=this.getProps();if(!r||!Xt(e,a,this.currentDirection))return;const n=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=function(e,t,r){let{min:a,max:n}=t;return void 0!==a&&e<a?e=r?(0,pt.j)(a,e,r.min):Math.max(e,a):void 0!==n&&e>n&&(e=r?(0,pt.j)(n,e,r.max):Math.min(e,n)),e}(s,this.constraints[e],this.elastic[e])),n.set(s)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,n=this.constraints;t&&u(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!a)&&function(e,t){let{top:r,left:a,bottom:n,right:s}=t;return{x:kt(e.x,a,s),y:kt(e.y,r,n)}}(a.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct;return!1===e?e=0:!0===e&&(e=Ct),{x:At(e,"left","right"),y:At(e,"top","bottom")}}(r),n!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Dt(e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const r={};return void 0!==t.min&&(r.min=t.min-e.min),void 0!==t.max&&(r.max=t.max-e.min),r}(a.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!u(e))return!1;const r=e.current;(0,at.V)(null!==r,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const n=function(e,t,r){const a=Ht(e,r),{scroll:n}=t;return n&&(zt(a.x,n.offset.x),zt(a.y,n.offset.y)),a}(r,a.root,this.visualElement.getTransformPagePoint());let s=function(e,t){return{x:Nt(e.x,t.x),y:Nt(e.y,t.y)}}(a.layout.layoutBox,n);if(t){const e=t(function(e){let{x:t,y:r}=e;return{top:r.min,right:t.max,bottom:r.max,left:t.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=Pt(e))}return s}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:n,dragTransition:s,dragSnapToOrigin:i,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Dt(o=>{if(!Xt(o,t,this.currentDirection))return;let c=l&&l[o]||{};i&&(c={min:0,max:0});const d=n?200:1e6,u=n?40:1e7,m=(0,a.A)((0,a.A)({type:"inertia",velocity:r?e[o]:0,bounceStiffness:d,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10},s),c);return this.startAxisValueAnimation(o,m)});return Promise.all(c).then(o)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return r.start((0,Gt.f)(e,r,0,t))}stopAnimation(){Dt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Dt(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),a=r[t];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Dt(t=>{const{drag:r}=this.getProps();if(!Xt(t,r,this.currentDirection))return;const{projection:a}=this.visualElement,n=this.getAxisMotionValue(t);if(a&&a.layout){const{min:r,max:s}=a.layout.layoutBox[t];n.set(e[t]-(0,pt.j)(r,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!u(t)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Dt(e=>{const t=this.getAxisMotionValue(e);if(t){const r=t.get();a[e]=function(e,t){let r=.5;const a=gt(e),n=gt(t);return n>a?r=(0,ht.q)(t.min,t.max-a,e.min):a>n&&(r=(0,ht.q)(e.min,e.max-n,t.min)),(0,jt.q)(0,1,r)}({min:r,max:r},this.constraints[e])}});const{transformTemplate:n}=this.visualElement.getProps();this.visualElement.current.style.transform=n?n({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Dt(t=>{if(!Xt(t,e,null))return;const r=this.getAxisMotionValue(t),{min:n,max:s}=this.constraints[t];r.set((0,pt.j)(n,s,a[t]))})}addListeners(){if(!this.visualElement.current)return;Qt.set(this.visualElement,this);const e=Ce(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:r=!0}=this.getProps();t&&r&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();u(e)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,a=r.addEventListener("measure",t);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),t();const n=je(window,"resize",()=>this.scalePositionWithinConstraints()),s=r.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:r}=e;this.isDragging&&r&&(Dt(e=>{const r=this.getAxisMotionValue(e);r&&(this.originPoint[e]+=t[e].translate,r.set(r.get()+t[e].translate))}),this.visualElement.render())});return()=>{n(),e(),a(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:n=!1,dragConstraints:s=!1,dragElastic:i=Ct,dragMomentum:o=!0}=e;return(0,a.A)((0,a.A)({},e),{},{drag:t,dragDirectionLock:r,dragPropagation:n,dragConstraints:s,dragElastic:i,dragMomentum:o})}}function Xt(e,t,r){return(!0===t||t===e)&&(null===r||r===e)}const Jt=e=>(t,r)=>{e&&ve.Gt.update(()=>e(t,r))};const Zt={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function er(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const tr={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!$.px.test(e))return e;e=parseFloat(e)}const r=er(e,t.target.x),a=er(e,t.target.y);return"".concat(r,"% ").concat(a,"%")}};var rr=r(2147);const ar={correct:(e,t)=>{let{treeScale:r,projectionDelta:a}=t;const n=e,s=rr.f.parse(e);if(s.length>5)return n;const i=rr.f.createTransformer(e),o="number"!==typeof s[0]?1:0,l=a.x.scale*r.x,c=a.y.scale*r.y;s[0+o]/=l,s[1+o]/=c;const d=(0,pt.j)(l,c,.5);return"number"===typeof s[2+o]&&(s[2+o]/=d),"number"===typeof s[3+o]&&(s[3+o]/=d),i(s)}};class nr extends n.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:n}=this.props,{projection:s}=e;var i;i=ir,Object.assign(T,i),s&&(t.group&&t.group.add(s),r&&r.register&&n&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions((0,a.A)((0,a.A)({},s.options),{},{onExitComplete:()=>this.safeToRemove()}))),Zt.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:a,isPresent:n}=this.props,s=r.projection;return s?(s.isPresent=n,a||e.layoutDependency!==t||void 0===t?s.willUpdate():this.safeToRemove(),e.isPresent!==n&&(n?s.promote():s.relegate()||ve.Gt.postRender(()=>{const e=s.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function sr(e){const[t,r]=function(){const e=(0,n.useContext)(o.t);if(null===e)return[!0,null];const{isPresent:t,onExitComplete:r,register:a}=e,s=(0,n.useId)();return(0,n.useEffect)(()=>a(s),[]),!t&&r?[!1,()=>r&&r(s)]:[!0]}(),s=(0,n.useContext)(k.L);return n.createElement(nr,(0,a.A)((0,a.A)({},e),{},{layoutGroup:s,switchLayoutGroup:(0,n.useContext)(N),isPresent:t,safeToRemove:r}))}const ir={borderRadius:(0,a.A)((0,a.A)({},tr),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:tr,borderTopRightRadius:tr,borderBottomLeftRadius:tr,borderBottomRightRadius:tr,boxShadow:ar};var or=r(553),lr=r(4569);const cr=["TopLeft","TopRight","BottomLeft","BottomRight"],dr=cr.length,ur=e=>"string"===typeof e?parseFloat(e):e,mr=e=>"number"===typeof e||$.px.test(e);function hr(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const pr=xr(0,.5,lr.yT),gr=xr(.5,.95,Fe.l);function xr(e,t,r){return a=>a<e?0:a>t?1:r((0,ht.q)(e,t,a))}function fr(e,t){e.min=t.min,e.max=t.max}function yr(e,t){fr(e.x,t.x),fr(e.y,t.y)}function vr(e,t,r,a,n){return e=Lt(e-=t,1/r,a),void 0!==n&&(e=Lt(e,1/n,a)),e}function br(e,t,r,a,n){let[s,i,o]=r;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,n=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;$.KN.test(t)&&(t=parseFloat(t),t=(0,pt.j)(i.min,i.max,t/100)-i.min);if("number"!==typeof t)return;let o=(0,pt.j)(s.min,s.max,a);e===s&&(o-=t),e.min=vr(e.min,t,r,o,n),e.max=vr(e.max,t,r,o,n)}(e,t[s],t[i],t[o],t.scale,a,n)}const wr=["x","scaleX","originX"],jr=["y","scaleY","originY"];function kr(e,t,r,a){br(e.x,t,wr,r?r.x:void 0,a?a.x:void 0),br(e.y,t,jr,r?r.y:void 0,a?a.y:void 0)}var Nr=r(1783);function Cr(e){return 0===e.translate&&1===e.scale}function Ar(e){return Cr(e.x)&&Cr(e.y)}function Sr(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Er(e){return gt(e.x)/gt(e.y)}var Dr=r(5671);class Pr{constructor(){this.members=[]}add(e){(0,Dr.Kq)(this.members,e),e.scheduleRender()}remove(e){if((0,Dr.Ai)(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let r;for(let a=t;a>=0;a--){const e=this.members[a];if(!1!==e.isPresent){r=e;break}}return!!r&&(this.promote(r),!0)}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;!1===a&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Tr(e,t,r){let a="";const n=e.x.translate/t.x,s=e.y.translate/t.y;if((n||s)&&(a="translate3d(".concat(n,"px, ").concat(s,"px, 0) ")),1===t.x&&1===t.y||(a+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),r){const{rotate:e,rotateX:t,rotateY:n}=r;e&&(a+="rotate(".concat(e,"deg) ")),t&&(a+="rotateX(".concat(t,"deg) ")),n&&(a+="rotateY(".concat(n,"deg) "))}const i=e.x.scale*t.x,o=e.y.scale*t.y;return 1===i&&1===o||(a+="scale(".concat(i,", ").concat(o,")")),a||"none"}const _r=(e,t)=>e.depth-t.depth;class Rr{constructor(){this.children=[],this.isDirty=!1}add(e){(0,Dr.Kq)(this.children,e),this.isDirty=!0}remove(e){(0,Dr.Ai)(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(_r),this.isDirty=!1,this.children.forEach(e)}}var Or=r(8160);const Fr=["","X","Y","Z"],Lr={visibility:"hidden"};let Mr=0;const Ir={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Br(e){let{attachResizeListener:t,defaultParent:r,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===r||void 0===r?void 0:r();this.id=Mr++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{var e;this.projectionUpdateScheduled=!1,Ir.totalNodes=Ir.resolvedTargetDeltas=Ir.recalculatedProjection=0,this.nodes.forEach(Ur),this.nodes.forEach(Qr),this.nodes.forEach($r),this.nodes.forEach(Vr),e=Ir,window.MotionDebug&&window.MotionDebug.record(e)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let r=0;r<this.path.length;r++)this.path[r].shouldResetTransform=!0;this.root===this&&(this.nodes=new Rr)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new or.v),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var r=arguments.length,a=new Array(r>1?r-1:0),n=1;n<r;n++)a[n-1]=arguments[n];t&&t.notify(...a)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var n;this.isSVG=(n=e)instanceof SVGElement&&"svg"!==n.tagName,this.instance=e;const{layoutId:s,layout:i,visualElement:o}=this.options;if(o&&!o.current&&o.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),r&&(i||s)&&(this.isLayoutDirty=!0),t){let r;const a=()=>this.root.updateBlockedByResize=!1;t(e,()=>{this.root.updateBlockedByResize=!0,r&&r(),r=function(e,t){const r=performance.now(),a=n=>{let{timestamp:s}=n;const i=s-r;i>=t&&((0,ve.WG)(a),e(i-t))};return ve.Gt.read(a,!0),()=>(0,ve.WG)(a)}(a,250),Zt.hasAnimatedSinceResize&&(Zt.hasAnimatedSinceResize=!1,this.nodes.forEach(Kr))})}s&&this.root.registerSharedNode(s,this),!1!==this.options.animate&&o&&(s||i)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:r,hasRelativeTargetChanged:n,layout:s}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const i=this.options.transition||o.getDefaultTransition()||ra,{onLayoutAnimationStart:l,onLayoutAnimationComplete:c}=o.getProps(),d=!this.targetLayout||!Sr(this.targetLayout,s)||n,u=!r&&n;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||r&&(d||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);const e=(0,a.A)((0,a.A)({},(0,Nr.r)(i,"layout")),{},{onPlay:l,onComplete:c});(o.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else r||Kr(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=s})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,(0,ve.WG)(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Xr),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let n=0;n<this.path.length;n++){const e=this.path[n];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:r}=this.options;if(void 0===t&&!r)return;const a=this.getTransformTemplate();this.prevTransformTemplateValue=a?a(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Wr);this.isUpdating||this.nodes.forEach(Hr),this.isUpdating=!1,this.nodes.forEach(Gr),this.nodes.forEach(qr),this.nodes.forEach(zr),this.clearAllSnapshots();const e=performance.now();ve.uv.delta=(0,jt.q)(0,1e3/60,e-ve.uv.timestamp),ve.uv.timestamp=e,ve.uv.isProcessing=!0,ve.Ci.update.process(ve.uv),ve.Ci.preRender.process(ve.uv),ve.Ci.render.process(ve.uv),ve.uv.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Yr),this.sharedNodes.forEach(Jr)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ve.Gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ve.Gt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let r=0;r<this.path.length;r++){this.path[r].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:s(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!Ar(this.projectionDelta),r=this.getTransformTemplate(),a=r?r(this.latestValues,""):void 0,n=a!==this.prevTransformTemplateValue;e&&(t||Rt(this.latestValues)||n)&&(i(this.instance,a),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let r=this.removeElementScroll(t);var a;return e&&(r=this.removeTransform(r)),sa((a=r).x),sa(a.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:r,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox(),{scroll:r}=this.root;return r&&(zt(t.x,r.offset.x),zt(t.y,r.offset.y)),t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};yr(t,e);for(let r=0;r<this.path.length;r++){const a=this.path[r],{scroll:n,options:s}=a;if(a!==this.root&&n&&s.layoutScroll){if(n.isRoot){yr(t,e);const{scroll:r}=this.root;r&&(zt(t.x,-r.offset.x),zt(t.y,-r.offset.y))}zt(t.x,n.offset.x),zt(t.y,n.offset.y)}}return t}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r={x:{min:0,max:0},y:{min:0,max:0}};yr(r,e);for(let a=0;a<this.path.length;a++){const e=this.path[a];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Wt(r,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),Rt(e.latestValues)&&Wt(r,e.latestValues)}return Rt(this.latestValues)&&Wt(r,this.latestValues),r}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};yr(t,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];if(!e.instance)continue;if(!Rt(e.latestValues))continue;_t(e.latestValues)&&e.updateSnapshot();const a=Et();yr(a,e.measurePageBox()),kr(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,a)}return Rt(this.latestValues)&&kr(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=(0,a.A)((0,a.A)((0,a.A)({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ve.uv.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const r=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=r.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=r.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=r.isSharedProjectionDirty);const a=Boolean(this.resumingFrom)||this!==r;if(!(e||a&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;const{layout:n,layoutId:s}=this.options;if(this.layout&&(n||s)){if(this.resolvedRelativeTargetAt=ve.uv.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},wt(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),yr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var i,o,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),i=this.target,o=this.relativeTarget,l=this.relativeParent.target,vt(i.x,o.x,l.x),vt(i.y,o.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):yr(this.target,this.layout.layoutBox),Bt(this.target,this.targetDelta)):yr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},wt(this.relativeTargetOrigin,this.target,e.target),yr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ir.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!_t(this.parent.latestValues)&&!Ot(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),r=Boolean(this.resumingFrom)||this!==t;let a=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(a=!1),r&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(a=!1),this.resolvedRelativeTargetAt===ve.uv.timestamp&&(a=!1),a)return;const{layout:n,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!n&&!s)return;yr(this.layoutCorrected,this.layout.layoutBox);const i=this.treeScale.x,o=this.treeScale.y;!function(e,t,r){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const n=r.length;if(!n)return;let s,i;t.x=t.y=1;for(let o=0;o<n;o++){s=r[o],i=s.projectionDelta;const n=s.instance;n&&n.style&&"contents"===n.style.display||(a&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Wt(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,Bt(e,i)),a&&Rt(s.latestValues)&&Wt(e,s.latestValues))}t.x=qt(t.x),t.y=qt(t.y)}(this.layoutCorrected,this.treeScale,this.path,r),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox);const{target:l}=t;if(!l)return void(this.projectionTransform&&(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});const c=this.projectionTransform;yt(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=Tr(this.projectionDelta,this.treeScale),this.projectionTransform===c&&this.treeScale.x===i&&this.treeScale.y===o||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),Ir.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=this.snapshot,n=r?r.latestValues:{},s=(0,a.A)({},this.latestValues),i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const o={x:{min:0,max:0},y:{min:0,max:0}},l=(r?r.source:void 0)!==(this.layout?this.layout.source:void 0),c=this.getStack(),d=!c||c.members.length<=1,u=Boolean(l&&!d&&!0===this.options.crossfade&&!this.path.some(ta));let m;this.animationProgress=0,this.mixTargetDelta=t=>{const r=t/1e3;var a,c,h,p,g,x;Zr(i.x,e.x,r),Zr(i.y,e.y,r),this.setTargetDelta(i),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(wt(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),h=this.relativeTarget,p=this.relativeTargetOrigin,g=o,x=r,ea(h.x,p.x,g.x,x),ea(h.y,p.y,g.y,x),m&&(a=this.relativeTarget,c=m,a.x.min===c.x.min&&a.x.max===c.x.max&&a.y.min===c.y.min&&a.y.max===c.y.max)&&(this.isProjectionDirty=!1),m||(m={x:{min:0,max:0},y:{min:0,max:0}}),yr(m,this.relativeTarget)),l&&(this.animationValues=s,function(e,t,r,a,n,s){n?(e.opacity=(0,pt.j)(0,void 0!==r.opacity?r.opacity:1,pr(a)),e.opacityExit=(0,pt.j)(void 0!==t.opacity?t.opacity:1,0,gr(a))):s&&(e.opacity=(0,pt.j)(void 0!==t.opacity?t.opacity:1,void 0!==r.opacity?r.opacity:1,a));for(let i=0;i<dr;i++){const n="border".concat(cr[i],"Radius");let s=hr(t,n),o=hr(r,n);void 0===s&&void 0===o||(s||(s=0),o||(o=0),0===s||0===o||mr(s)===mr(o)?(e[n]=Math.max((0,pt.j)(ur(s),ur(o),a),0),($.KN.test(o)||$.KN.test(s))&&(e[n]+="%")):e[n]=o)}(t.rotate||r.rotate)&&(e.rotate=(0,pt.j)(t.rotate||0,r.rotate||0,a))}(s,n,this.latestValues,r,u,d)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=r},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&((0,ve.WG)(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ve.Gt.update(()=>{Zt.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,r){const a=(0,O.S)(e)?e:(0,Or.OQ)(e);return a.start((0,Gt.f)("",a,t,r)),a.animation}(0,1e3,(0,a.A)((0,a.A)({},e),{},{onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:r,layout:a,latestValues:n}=e;if(t&&r&&a){if(this!==e&&this.layout&&a&&ia(this.options.animationType,this.layout.layoutBox,a.layoutBox)){r=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=gt(this.layout.layoutBox.x);r.x.min=e.target.x.min,r.x.max=r.x.min+t;const a=gt(this.layout.layoutBox.y);r.y.min=e.target.y.min,r.y.max=r.y.min+a}yr(t,r),Wt(t,n),yt(this.projectionDeltaWithTransform,this.layoutCorrected,t,n)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new Pr);this.sharedNodes.get(e).add(t);const r=t.options.initialPromotionConfig;t.promote({transition:r?r.transition:void 0,preserveFollowOpacity:r&&r.shouldPreserveFollowOpacity?r.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=this.getStack();a&&a.promote(this,r),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:r}=e;if((r.rotate||r.rotateX||r.rotateY||r.rotateZ)&&(t=!0),!t)return;const a={};for(let n=0;n<Fr.length;n++){const t="rotate"+Fr[n];r[t]&&(a[t]=r[t],e.setStaticValue(t,0))}e.render();for(const n in a)e.setStaticValue(n,a[n]);e.scheduleRender()}getProjectionStyles(e){var t,r;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Lr;const a={visibility:""},n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=ge(null===e||void 0===e?void 0:e.pointerEvents)||"",a.transform=n?n(this.latestValues,""):"none",a;const s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=ge(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!Rt(this.latestValues)&&(t.transform=n?n({},""):"none",this.hasProjected=!1),t}const i=s.animationValues||s.latestValues;this.applyTransformsToTarget(),a.transform=Tr(this.projectionDeltaWithTransform,this.treeScale,i),n&&(a.transform=n(i,a.transform));const{x:o,y:l}=this.projectionDelta;a.transformOrigin="".concat(100*o.origin,"% ").concat(100*l.origin,"% 0"),s.animationValues?a.opacity=s===this?null!==(r=null!==(t=i.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==r?r:1:this.preserveOpacity?this.latestValues.opacity:i.opacityExit:a.opacity=s===this?void 0!==i.opacity?i.opacity:"":void 0!==i.opacityExit?i.opacityExit:0;for(const c in T){if(void 0===i[c])continue;const{correct:e,applyTo:t}=T[c],r="none"===a.transform?i[c]:e(i[c],s);if(t){const e=t.length;for(let n=0;n<e;n++)a[t[n]]=r}else a[c]=r}return this.options.layoutId&&(a.pointerEvents=s===this?ge(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(Wr),this.root.sharedNodes.clear()}}}function qr(e){e.updateLayout()}function zr(e){var t;const r=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:a}=e.layout,{animationType:n}=e.options,s=r.source!==e.layout.source;"size"===n?Dt(e=>{const a=s?r.measuredBox[e]:r.layoutBox[e],n=gt(a);a.min=t[e].min,a.max=a.min+n}):ia(n,r.layoutBox,t)&&Dt(a=>{const n=s?r.measuredBox[a]:r.layoutBox[a],i=gt(t[a]);n.max=n.min+i,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[a].max=e.relativeTarget[a].min+i)});const i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};yt(i,t,r.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};s?yt(o,e.applyTransform(a,!0),r.measuredBox):yt(o,t,r.layoutBox);const l=!Ar(i);let c=!1;if(!e.resumeFrom){const a=e.getClosestProjectingParent();if(a&&!a.resumeFrom){const{snapshot:n,layout:s}=a;if(n&&s){const i={x:{min:0,max:0},y:{min:0,max:0}};wt(i,r.layoutBox,n.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};wt(o,t,s.layoutBox),Sr(i,o)||(c=!0),a.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=i,e.relativeParent=a)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:r,delta:o,layoutDelta:i,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Ur(e){Ir.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Vr(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Yr(e){e.clearSnapshot()}function Wr(e){e.clearMeasurements()}function Hr(e){e.isLayoutDirty=!1}function Gr(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Kr(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Qr(e){e.resolveTargetDelta()}function $r(e){e.calcProjection()}function Xr(e){e.resetRotation()}function Jr(e){e.removeLeadSnapshot()}function Zr(e,t,r){e.translate=(0,pt.j)(t.translate,0,r),e.scale=(0,pt.j)(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function ea(e,t,r,a){e.min=(0,pt.j)(t.min,r.min,a),e.max=(0,pt.j)(t.max,r.max,a)}function ta(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const ra={duration:.45,ease:[.4,0,.1,1]},aa=e=>"undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().includes(e),na=aa("applewebkit/")&&!aa("chrome/")?Math.round:Fe.l;function sa(e){e.min=na(e.min),e.max=na(e.max)}function ia(e,t,r){return"position"===e||"preserve-aspect"===e&&!xt(Er(t),Er(r),.2)}const oa=Br({attachResizeListener:(e,t)=>je(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),la={current:void 0},ca=Br({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!la.current){const e=new oa({});e.mount(window),e.setOptions({layoutScroll:!0}),la.current=e}return la.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),da={pan:{Feature:class extends _e{constructor(){super(...arguments),this.removePointerDownListener=Fe.l}onPointerDown(e){this.session=new it(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Kt(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:Jt(e),onStart:Jt(t),onMove:r,onEnd:(e,t)=>{delete this.session,a&&ve.Gt.update(()=>a(e,t))}}}mount(){this.removePointerDownListener=Ce(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends _e{constructor(e){super(e),this.removeGroupControls=Fe.l,this.removeListeners=Fe.l,this.controls=new $t(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fe.l}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:ca,MeasureLayout:sr}};var ua=r(5030),ma=r(5193);var ha=r(3665);const pa=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function ga(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;(0,at.V)(r<=4,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));const[a,n]=function(e){const t=pa.exec(e);if(!t)return[,];const[,r,a]=t;return[r,a]}(e);if(!a)return;const s=window.getComputedStyle(t).getPropertyValue(a);if(s){const e=s.trim();return(0,ha.i)(e)?parseFloat(e):e}return(0,M.pG)(n)?ga(n,t,r+1):n}function xa(e,t,r){let n=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(t),t));const s=e.current;if(!(s instanceof Element))return{target:n,transitionEnd:r};r&&(r=(0,a.A)({},r)),e.values.forEach(e=>{const t=e.get();if(!(0,M.pG)(t))return;const r=ga(t,s);r&&e.set(r)});for(const a in n){const e=n[a];if(!(0,M.pG)(e))continue;const t=ga(e,s);t&&(n[a]=t,r||(r={}),void 0===r[a]&&(r[a]=e))}return{target:n,transitionEnd:r}}var fa=r(2201),ya=r(8189);const va=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),ba=e=>va.has(e),wa=e=>e===ya.ai||e===$.px,ja=(e,t)=>parseFloat(e.split(", ")[t]),ka=(e,t)=>(r,a)=>{let{transform:n}=a;if("none"===n||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/);if(s)return ja(s[1],t);{const t=n.match(/^matrix\((.+)\)$/);return t?ja(t[1],e):0}},Na=new Set(["x","y","z"]),Ca=_.U.filter(e=>!Na.has(e));const Aa={width:(e,t)=>{let{x:r}=e,{paddingLeft:a="0",paddingRight:n="0"}=t;return r.max-r.min-parseFloat(a)-parseFloat(n)},height:(e,t)=>{let{y:r}=e,{paddingTop:a="0",paddingBottom:n="0"}=t;return r.max-r.min-parseFloat(a)-parseFloat(n)},top:(e,t)=>{let{top:r}=t;return parseFloat(r)},left:(e,t)=>{let{left:r}=t;return parseFloat(r)},bottom:(e,t)=>{let{y:r}=e,{top:a}=t;return parseFloat(a)+(r.max-r.min)},right:(e,t)=>{let{x:r}=e,{left:a}=t;return parseFloat(a)+(r.max-r.min)},x:ka(4,13),y:ka(5,14)};Aa.translateX=Aa.x,Aa.translateY=Aa.y;const Sa=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t=(0,a.A)({},t),n=(0,a.A)({},n);const s=Object.keys(t).filter(ba);let i=[],o=!1;const l=[];if(s.forEach(a=>{const s=e.getValue(a);if(!e.hasValue(a))return;let c=r[a],d=(0,fa.n)(c);const u=t[a];let m;if((0,We.p)(u)){const e=u.length,t=null===u[0]?1:0;c=u[t],d=(0,fa.n)(c);for(let r=t;r<e&&null!==u[r];r++)m?(0,at.V)((0,fa.n)(u[r])===m,"All keyframes must be of the same type"):(m=(0,fa.n)(u[r]),(0,at.V)(m===d||wa(d)&&wa(m),"Keyframes must be of the same dimension as the current value"))}else m=(0,fa.n)(u);if(d!==m)if(wa(d)&&wa(m)){const e=s.get();"string"===typeof e&&s.set(parseFloat(e)),"string"===typeof u?t[a]=parseFloat(u):Array.isArray(u)&&m===$.px&&(t[a]=u.map(parseFloat))}else(null===d||void 0===d?void 0:d.transform)&&(null===m||void 0===m?void 0:m.transform)&&(0===c||0===u)?0===c?s.set(m.transform(c)):t[a]=d.transform(u):(o||(i=function(e){const t=[];return Ca.forEach(r=>{const a=e.getValue(r);void 0!==a&&(t.push([r,a.get()]),a.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}(e),o=!0),l.push(a),n[a]=void 0!==n[a]?n[a]:t[a],s.jump(u))}),l.length){const r=l.indexOf("height")>=0?window.pageYOffset:null,a=((e,t,r)=>{const a=t.measureViewportBox(),n=t.current,s=getComputedStyle(n),{display:i}=s,o={};"none"===i&&t.setStaticValue("display",e.display||"block"),r.forEach(e=>{o[e]=Aa[e](a,s)}),t.render();const l=t.measureViewportBox();return r.forEach(r=>{const a=t.getValue(r);a&&a.jump(o[r]),e[r]=Aa[r](l,s)}),e})(t,e,l);return i.length&&i.forEach(t=>{let[r,a]=t;e.getValue(r).set(a)}),e.render(),j.B&&null!==r&&window.scrollTo({top:r}),{target:a,transitionEnd:n}}return{target:t,transitionEnd:n}};function Ea(e,t,r,a){return(e=>Object.keys(e).some(ba))(t)?Sa(e,t,r,a):{target:t,transitionEnd:a}}const Da={current:null},Pa={current:!1};var Ta=r(6962);const _a=new WeakMap,Ra=["willChange"],Oa=["children"],Fa=Object.keys(w),La=Fa.length,Ma=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Ia=g.length;class Ba{constructor(e){let{parent:t,props:r,presenceContext:n,reducedMotionConfig:s,visualState:i}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ve.Gt.render(this.render,!1,!0);const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget=(0,a.A)({},l),this.initialValues=r.initial?(0,a.A)({},l):{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=x(r),this.isVariantNode=f(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const d=this.scrapeMotionValuesFromProps(r,{}),{willChange:u}=d,m=(0,Q.A)(d,Ra);for(const a in m){const e=m[a];void 0!==l[a]&&(0,O.S)(e)&&(e.set(l[a],!1),(0,Ta.k)(u)&&u.add(a))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,_a.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),Pa.current||function(){if(Pa.current=!0,j.B)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Da.current=e.matches;e.addListener(t),t()}else Da.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Da.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){_a.delete(this.current),this.projection&&this.projection.unmount(),(0,ve.WG)(this.notifyUpdate),(0,ve.WG)(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const r=_.f.has(e),a=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&ve.Gt.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),n=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{a(),n()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}loadFeatures(e,t,r,a){let n,s,{children:i}=e,o=(0,Q.A)(e,Oa);for(let l=0;l<La;l++){const e=Fa[l],{isEnabled:t,Feature:r,ProjectionNode:a,MeasureLayout:i}=w[e];a&&(n=a),t(o)&&(!this.features[e]&&r&&(this.features[e]=new r(this)),i&&(s=i))}if(("html"===this.type||"svg"===this.type)&&!this.projection&&n){this.projection=new n(this.latestValues,this.parent&&this.parent.projection);const{layoutId:e,layout:t,drag:r,dragConstraints:s,layoutScroll:i,layoutRoot:l}=o;this.projection.setOptions({layoutId:e,layout:t,alwaysMeasureLayout:Boolean(r)||s&&u(s),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"===typeof t?t:"both",initialPromotionConfig:a,layoutScroll:i,layoutRoot:l})}return s}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<Ma.length;r++){const t=Ma[r];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const a=e["on"+t];a&&(this.propEventSubscriptions[t]=this.on(t,a))}this.prevMotionValues=function(e,t,r){const{willChange:a}=t;for(const n in t){const s=t[n],i=r[n];if((0,O.S)(s))e.addValue(n,s),(0,Ta.k)(a)&&a.add(n);else if((0,O.S)(i))e.addValue(n,(0,Or.OQ)(s,{owner:e})),(0,Ta.k)(a)&&a.remove(n);else if(i!==s)if(e.hasValue(n)){const t=e.getValue(n);!t.hasAnimated&&t.set(s)}else{const t=e.getStaticValue(n);e.addValue(n,(0,Or.OQ)(void 0!==t?t:s,{owner:e}))}}for(const n in r)void 0===t[n]&&e.removeValue(n);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}const e={};for(let t=0;t<Ia;t++){const r=g[t],a=this.props[r];(m(a)||!1===a)&&(e[r]=a)}return e}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return void 0===r&&void 0!==t&&(r=(0,Or.OQ)(t,{owner:this}),this.addValue(e,r)),r}readValue(e){var t;return void 0===this.latestValues[e]&&this.current?null!==(t=this.getBaseTargetFromProps(this.props,e))&&void 0!==t?t:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props,a="string"===typeof r||"object"===typeof r?null===(t=(0,me.a)(this.props,r))||void 0===t?void 0:t[e]:void 0;if(r&&void 0!==a)return a;const n=this.getBaseTargetFromProps(this.props,e);return void 0===n||(0,O.S)(n)?void 0!==this.initialValues[e]&&void 0===a?void 0:this.baseTarget[e]:n}on(e,t){return this.events[e]||(this.events[e]=new or.v),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];this.events[e].notify(...r)}}}const qa=["transition","transitionEnd"];class za extends Ba{sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:r,style:a}=t;delete r[e],delete a[e]}makeTargetAnimatableFromInstance(e,t,r){let{transition:n,transitionEnd:s}=e,i=(0,Q.A)(e,qa),{transformValues:o}=t,l=(0,ma.$z)(i,n||{},this);if(o&&(s&&(s=o(s)),i&&(i=o(i)),l&&(l=o(l))),r){(0,ma.TM)(this,i,l);const e=((e,t,r,a)=>{const n=xa(e,t,a);return Ea(e,t=n.target,r,a=n.transitionEnd)})(this,i,l,s);s=e.transitionEnd,i=e.target}return(0,a.A)({transition:n,transitionEnd:s},i)}}class Ua extends za{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(_.f.has(t)){const e=(0,ua.D)(t);return e&&e.default||0}{const a=(r=e,window.getComputedStyle(r)),n=((0,M.j4)(t)?a.getPropertyValue(t):a[t])||0;return"string"===typeof n?n.trim():n}var r}measureInstanceViewportBox(e,t){let{transformPagePoint:r}=t;return Ht(e,r)}build(e,t,r,a){q(e,t,r,a.transformTemplate)}scrapeMotionValuesFromProps(e,t){return de(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;(0,O.S)(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent="".concat(e))}))}renderInstance(e,t,r,a){oe(e,t,r,a)}}class Va extends za{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(_.f.has(t)){const e=(0,ua.D)(t);return e&&e.default||0}return t=le.has(t)?t:(0,ie.I)(t),e.getAttribute(t)}measureInstanceViewportBox(){return{x:{min:0,max:0},y:{min:0,max:0}}}scrapeMotionValuesFromProps(e,t){return ue(e,t)}build(e,t,r,a){te(e,t,r,this.isSVGTag,a.transformTemplate)}renderInstance(e,t,r,a){ce(e,t,0,a)}mount(e){this.isSVGTag=ae(e.tagName),super.mount(e)}}const Ya=(e,t)=>P(e)?new Va(t,{enableHardwareAcceleration:!1}):new Ua(t,{enableHardwareAcceleration:!0}),Wa={layout:{ProjectionNode:ca,MeasureLayout:sr}};const Ha=(0,a.A)((0,a.A)((0,a.A)((0,a.A)({},rt),Ye),da),Wa),Ga=E((e,t)=>function(e,t,r,n){let{forwardMotionProps:s=!1}=t;const i=P(e)?be:we;return(0,a.A)((0,a.A)({},i),{},{preloadedFeatures:r,useRender:se(s),createVisualElement:n,Component:e})}(e,t,Ha,Ya))},2093(e,t,r){"use strict";r.d(t,{I:()=>a});const a=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},7343(e,t,r){"use strict";r.d(t,{j4:()=>n,pG:()=>s,z2:()=>i});const a=e=>t=>"string"===typeof t&&t.startsWith(e),n=a("--"),s=a("var(--"),i=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g},4459(e,t,r){"use strict";r.d(t,{J:()=>i});var a=r(2147),n=r(7639),s=r(5030);function i(e,t){let r=(0,s.D)(e);return r!==n.p&&(r=a.f),r.getAnimatableNone?r.getAnimatableNone(t):void 0}},5030(e,t,r){"use strict";r.d(t,{D:()=>l});var a=r(9379),n=r(8066),s=r(7639),i=r(499);const o=(0,a.A)((0,a.A)({},i.W),{},{color:n.y,backgroundColor:n.y,outlineColor:n.y,fill:n.y,stroke:n.y,borderColor:n.y,borderTopColor:n.y,borderRightColor:n.y,borderBottomColor:n.y,borderLeftColor:n.y,filter:s.p,WebkitFilter:s.p}),l=e=>o[e]},2201(e,t,r){"use strict";r.d(t,{T:()=>i,n:()=>o});var a=r(8189),n=r(2852),s=r(9796);const i=[a.ai,n.px,n.KN,n.uj,n.vw,n.vh,{test:e=>"auto"===e,parse:e=>e}],o=e=>i.find((0,s.w)(e))},499(e,t,r){"use strict";r.d(t,{W:()=>o});var a=r(8189),n=r(2852),s=r(9379);const i=(0,s.A)((0,s.A)({},a.ai),{},{transform:Math.round}),o={borderWidth:n.px,borderTopWidth:n.px,borderRightWidth:n.px,borderBottomWidth:n.px,borderLeftWidth:n.px,borderRadius:n.px,radius:n.px,borderTopLeftRadius:n.px,borderTopRightRadius:n.px,borderBottomRightRadius:n.px,borderBottomLeftRadius:n.px,width:n.px,maxWidth:n.px,height:n.px,maxHeight:n.px,size:n.px,top:n.px,right:n.px,bottom:n.px,left:n.px,padding:n.px,paddingTop:n.px,paddingRight:n.px,paddingBottom:n.px,paddingLeft:n.px,margin:n.px,marginTop:n.px,marginRight:n.px,marginBottom:n.px,marginLeft:n.px,rotate:n.uj,rotateX:n.uj,rotateY:n.uj,rotateZ:n.uj,scale:a.hs,scaleX:a.hs,scaleY:a.hs,scaleZ:a.hs,skew:n.uj,skewX:n.uj,skewY:n.uj,distance:n.px,translateX:n.px,translateY:n.px,translateZ:n.px,x:n.px,y:n.px,z:n.px,perspective:n.px,transformPerspective:n.px,opacity:a.X4,originX:n.gQ,originY:n.gQ,originZ:n.px,zIndex:i,fillOpacity:a.X4,strokeOpacity:a.X4,numOctaves:i}},9796(e,t,r){"use strict";r.d(t,{w:()=>a});const a=e=>t=>t.test(e)},3965(e,t,r){"use strict";r.d(t,{U:()=>a,f:()=>n});const a=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],n=new Set(a)},260(e,t,r){"use strict";r.d(t,{K:()=>n});var a=r(8240);function n(e,t,r){const n=e.getProps();return(0,a.a)(n,t,void 0!==r?r:n.custom,function(e){const t={};return e.values.forEach((e,r)=>t[r]=e.get()),t}(e),function(e){const t={};return e.values.forEach((e,r)=>t[r]=e.getVelocity()),t}(e))}},8240(e,t,r){"use strict";function a(e,t,r){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==r?r:e.custom,a,n)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==r?r:e.custom,a,n)),t}r.d(t,{a:()=>a})},5193(e,t,r){"use strict";r.d(t,{TM:()=>j,$z:()=>N,Uo:()=>v,VI:()=>w});var a=r(9379),n=r(3986),s=r(3665),i=r(9611),o=r(6992),l=r(8160),c=r(2147),d=r(4459),u=r(8066),m=r(2201),h=r(9796);const p=[...m.T,u.y,c.f],g=e=>p.find((0,h.w)(e));var x=r(260);const f=["transitionEnd","transition"];function y(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,(0,l.OQ)(r))}function v(e,t){const r=(0,x.K)(e,t);let s=r?e.makeTargetAnimatable(r,!1):{},{transitionEnd:i={},transition:l={}}=s,c=(0,n.A)(s,f);c=(0,a.A)((0,a.A)({},c),i);for(const a in c){y(e,a,(0,o.K)(c[a]))}}function b(e,t){[...t].reverse().forEach(r=>{const a=e.getVariant(r);a&&v(e,a),e.variantChildren&&e.variantChildren.forEach(e=>{b(e,t)})})}function w(e,t){return Array.isArray(t)?b(e,t):"string"===typeof t?b(e,[t]):void v(e,t)}function j(e,t,r){var a,n;const o=Object.keys(t).filter(t=>!e.hasValue(t)),u=o.length;if(u)for(let m=0;m<u;m++){const u=o[m],h=t[u];let p=null;Array.isArray(h)&&(p=h[0]),null===p&&(p=null!==(n=null!==(a=r[u])&&void 0!==a?a:e.readValue(u))&&void 0!==n?n:t[u]),void 0!==p&&null!==p&&("string"===typeof p&&((0,s.i)(p)||(0,i.$)(p))?p=parseFloat(p):!g(p)&&c.f.test(h)&&(p=(0,d.J)(u,h)),e.addValue(u,(0,l.OQ)(p,{owner:e})),void 0===r[u]&&(r[u]=p),null!==p&&e.setBaseTarget(u,p))}}function k(e,t){if(!t)return;return(t[e]||t.default||t).from}function N(e,t,r){const a={};for(const n in e){const e=k(n,t);if(void 0!==e)a[n]=e;else{const e=r.getValue(n);e&&(a[n]=e.get())}}return a}},5671(e,t,r){"use strict";function a(e,t){-1===e.indexOf(t)&&e.push(t)}function n(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}r.d(t,{Ai:()=>n,Kq:()=>a})},4773(e,t,r){"use strict";r.d(t,{q:()=>a});const a=(e,t,r)=>Math.min(Math.max(r,e),t)},8129(e,t,r){"use strict";r.d(t,{$:()=>n,V:()=>s});var a=r(1892);let n=a.l,s=a.l},4735(e,t,r){"use strict";r.d(t,{B:()=>a});const a="undefined"!==typeof document},3665(e,t,r){"use strict";r.d(t,{i:()=>a});const a=e=>/^\-?\d*\.?\d+$/.test(e)},9611(e,t,r){"use strict";r.d(t,{$:()=>a});const a=e=>/^0[^.\s]+$/.test(e)},9138(e,t,r){"use strict";r.d(t,{j:()=>a});const a=(e,t,r)=>-r*e+r*t+e},1892(e,t,r){"use strict";r.d(t,{l:()=>a});const a=e=>e},604(e,t,r){"use strict";r.d(t,{F:()=>n});const a=(e,t)=>r=>t(e(r)),n=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(a)}},5961(e,t,r){"use strict";r.d(t,{q:()=>a});const a=(e,t,r)=>{const a=t-e;return 0===a?1:(r-e)/a}},6992(e,t,r){"use strict";r.d(t,{B:()=>n,K:()=>s});var a=r(1485);const n=e=>Boolean(e&&"object"===typeof e&&e.mix&&e.toValue),s=e=>(0,a.p)(e)?e[e.length-1]||0:e},553(e,t,r){"use strict";r.d(t,{v:()=>n});var a=r(5671);class n{constructor(){this.subscriptions=[]}add(e){return(0,a.Kq)(this.subscriptions,e),()=>(0,a.Ai)(this.subscriptions,e)}notify(e,t,r){const a=this.subscriptions.length;if(a)if(1===a)this.subscriptions[0](e,t,r);else for(let n=0;n<a;n++){const a=this.subscriptions[n];a&&a(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}},9416(e,t,r){"use strict";r.d(t,{X:()=>n,f:()=>a});const a=e=>1e3*e,n=e=>e/1e3},4930(e,t,r){"use strict";r.d(t,{M:()=>n});var a=r(5043);function n(e){const t=(0,a.useRef)(null);return null===t.current&&(t.current=e()),t.current}},293(e,t,r){"use strict";r.d(t,{E:()=>n});var a=r(5043);const n=r(4735).B?a.useLayoutEffect:a.useEffect},7852(e,t,r){"use strict";function a(e,t){return t?e*(1e3/t):0}r.d(t,{f:()=>a})},8160(e,t,r){"use strict";r.d(t,{OQ:()=>l});var a=r(553),n=r(7852),s=r(7065);const i={current:void 0};class o{constructor(e){var t=this;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var a;this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){let r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.prev=t.current,t.current=e;const{delta:a,timestamp:n}=s.uv;t.lastUpdated!==n&&(t.timeDelta=a,t.lastUpdated=n,s.Gt.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.events.change&&t.events.change.notify(t.current),t.events.velocityChange&&t.events.velocityChange.notify(t.getVelocity()),r&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.scheduleVelocityCheck=()=>s.Gt.postRender(this.velocityCheck),this.velocityCheck=e=>{let{timestamp:t}=e;t!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(a=this.current,!isNaN(parseFloat(a))),this.owner=r.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new a.v);const r=this.events[e].add(t);return"change"===e?()=>{r(),s.Gt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,r){this.set(t),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return i.current&&i.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?(0,n.f)(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function l(e,t){return new o(e,t)}},5449(e,t,r){"use strict";r.d(t,{u:()=>n});var a=r(8636);const n={test:(0,r(3513).$)("#"),parse:function(e){let t="",r="",a="",n="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),a=e.substring(5,7),n=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),a=e.substring(3,4),n=e.substring(4,5),t+=t,r+=r,a+=a,n+=n),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(a,16),alpha:n?parseInt(n,16)/255:1}},transform:a.B.transform}},2848(e,t,r){"use strict";r.d(t,{V:()=>o});var a=r(8189),n=r(2852),s=r(353),i=r(3513);const o={test:(0,i.$)("hsl","hue"),parse:(0,i.q)("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:r,lightness:i,alpha:o=1}=e;return"hsla("+Math.round(t)+", "+n.KN.transform((0,s.aj)(r))+", "+n.KN.transform((0,s.aj)(i))+", "+(0,s.aj)(a.X4.transform(o))+")"}}},8066(e,t,r){"use strict";r.d(t,{y:()=>o});var a=r(353),n=r(5449),s=r(2848),i=r(8636);const o={test:e=>i.B.test(e)||n.u.test(e)||s.V.test(e),parse:e=>i.B.test(e)?i.B.parse(e):s.V.test(e)?s.V.parse(e):n.u.parse(e),transform:e=>(0,a.Kg)(e)?e:e.hasOwnProperty("red")?i.B.transform(e):s.V.transform(e)}},8636(e,t,r){"use strict";r.d(t,{B:()=>c});var a=r(9379),n=r(4773),s=r(8189),i=r(353),o=r(3513);const l=(0,a.A)((0,a.A)({},s.ai),{},{transform:e=>Math.round((e=>(0,n.q)(0,255,e))(e))}),c={test:(0,o.$)("rgb","red"),parse:(0,o.q)("red","green","blue"),transform:e=>{let{red:t,green:r,blue:a,alpha:n=1}=e;return"rgba("+l.transform(t)+", "+l.transform(r)+", "+l.transform(a)+", "+(0,i.aj)(s.X4.transform(n))+")"}}},3513(e,t,r){"use strict";r.d(t,{$:()=>n,q:()=>s});var a=r(353);const n=(e,t)=>r=>Boolean((0,a.Kg)(r)&&a.Fl.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),s=(e,t,r)=>n=>{if(!(0,a.Kg)(n))return n;const[s,i,o,l]=n.match(a.SY);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(o),alpha:void 0!==l?parseFloat(l):1}}},7639(e,t,r){"use strict";r.d(t,{p:()=>c});var a=r(9379),n=r(2147),s=r(353);const i=new Set(["brightness","contrast","saturate","opacity"]);function o(e){const[t,r]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[a]=r.match(s.SY)||[];if(!a)return e;const n=r.replace(a,"");let o=i.has(t)?1:0;return a!==r&&(o*=100),t+"("+o+n+")"}const l=/([a-z-]*)\(.*?\)/g,c=(0,a.A)((0,a.A)({},n.f),{},{getAnimatableNone:e=>{const t=e.match(l);return t?t.map(o).join(" "):e}})},2147(e,t,r){"use strict";r.d(t,{V:()=>m,f:()=>x});var a=r(7343),n=r(1892),s=r(8066),i=r(8189),o=r(353);const l={regex:a.z2,countKey:"Vars",token:"${v}",parse:n.l},c={regex:o.ne,countKey:"Colors",token:"${c}",parse:s.y.parse},d={regex:o.SY,countKey:"Numbers",token:"${n}",parse:i.ai.parse};function u(e,t){let{regex:r,countKey:a,token:n,parse:s}=t;const i=e.tokenised.match(r);i&&(e["num"+a]=i.length,e.tokenised=e.tokenised.replace(r,n),e.values.push(...i.map(s)))}function m(e){const t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&u(r,l),u(r,c),u(r,d),r}function h(e){return m(e).values}function p(e){const{values:t,numColors:r,numVars:a,tokenised:n}=m(e),i=t.length;return e=>{let t=n;for(let n=0;n<i;n++)t=n<a?t.replace(l.token,e[n]):n<a+r?t.replace(c.token,s.y.transform(e[n])):t.replace(d.token,(0,o.aj)(e[n]));return t}}const g=e=>"number"===typeof e?0:e;const x={test:function(e){var t,r;return isNaN(e)&&(0,o.Kg)(e)&&((null===(t=e.match(o.SY))||void 0===t?void 0:t.length)||0)+((null===(r=e.match(o.ne))||void 0===r?void 0:r.length)||0)>0},parse:h,createTransformer:p,getAnimatableNone:function(e){const t=h(e);return p(e)(t.map(g))}}},8189(e,t,r){"use strict";r.d(t,{X4:()=>i,ai:()=>s,hs:()=>o});var a=r(9379),n=r(4773);const s={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},i=(0,a.A)((0,a.A)({},s),{},{transform:e=>(0,n.q)(0,1,e)}),o=(0,a.A)((0,a.A)({},s),{},{default:1})},2852(e,t,r){"use strict";r.d(t,{KN:()=>o,gQ:()=>u,px:()=>l,uj:()=>i,vh:()=>c,vw:()=>d});var a=r(9379),n=r(353);const s=e=>({test:t=>(0,n.Kg)(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),i=s("deg"),o=s("%"),l=s("px"),c=s("vh"),d=s("vw"),u=(0,a.A)((0,a.A)({},o),{},{parse:e=>o.parse(e)/100,transform:e=>o.transform(100*e)})},353(e,t,r){"use strict";r.d(t,{Fl:()=>i,Kg:()=>o,SY:()=>n,aj:()=>a,ne:()=>s});const a=e=>Math.round(1e5*e)/1e5,n=/(-)?([\d]*\.?[\d])+/g,s=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,i=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function o(e){return"string"===typeof e}},6962(e,t,r){"use strict";r.d(t,{k:()=>n});var a=r(2769);function n(e){return Boolean((0,a.S)(e)&&e.add)}},2769(e,t,r){"use strict";r.d(t,{S:()=>a});const a=e=>Boolean(e&&e.getVelocity)},687(e,t,r){"use strict";r.r(t),r.d(t,{I18nContext:()=>U,I18nextProvider:()=>Z,Trans:()=>G,TransWithoutContext:()=>q,Translation:()=>J,composeInitialProps:()=>Y,date:()=>ae,getDefaults:()=>P,getI18n:()=>_,getInitialProps:()=>W,initReactI18next:()=>z,number:()=>se,plural:()=>oe,select:()=>ie,selectOrdinal:()=>le,setDefaults:()=>D,setI18n:()=>T,time:()=>ne,useSSR:()=>ee,useTranslation:()=>K,withSSR:()=>re,withTranslation:()=>$});var a=r(9379),n=r(3986),s=r(5043);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},i.apply(null,arguments)}var o=r(1844),l=r.n(o),c=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function d(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},r=e.match(/<\/?([^\s]+?)[/\s>]/);if(r&&(t.name=r[1],(l()[r[1]]||"/"===e.charAt(e.length-2))&&(t.voidElement=!0),t.name.startsWith("!--"))){var a=e.indexOf("--\x3e");return{type:"comment",comment:-1!==a?e.slice(4,a):""}}for(var n=new RegExp(c),s=null;null!==(s=n.exec(e));)if(s[0].trim())if(s[1]){var i=s[1].trim(),o=[i,""];i.indexOf("=")>-1&&(o=i.split("=")),t.attrs[o[0]]=o[1],n.lastIndex--}else s[2]&&(t.attrs[s[2]]=s[3].trim().substring(1,s[3].length-1));return t}var u=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,m=/^\s*$/,h=Object.create(null);function p(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(e){var t=[];for(var r in e)t.push(r+'="'+e[r]+'"');return t.length?" "+t.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(p,"")+"</"+t.name+">";case"comment":return e+"\x3c!--"+t.comment+"--\x3e"}}var g={parse:function(e,t){t||(t={}),t.components||(t.components=h);var r,a=[],n=[],s=-1,i=!1;if(0!==e.indexOf("<")){var o=e.indexOf("<");a.push({type:"text",content:-1===o?e:e.substring(0,o)})}return e.replace(u,function(o,l){if(i){if(o!=="</"+r.name+">")return;i=!1}var c,u="/"!==o.charAt(1),h=o.startsWith("\x3c!--"),p=l+o.length,g=e.charAt(p);if(h){var x=d(o);return s<0?(a.push(x),a):((c=n[s]).children.push(x),a)}if(u&&(s++,"tag"===(r=d(o)).type&&t.components[r.name]&&(r.type="component",i=!0),r.voidElement||i||!g||"<"===g||r.children.push({type:"text",content:e.slice(p,e.indexOf("<",p))}),0===s&&a.push(r),(c=n[s-1])&&c.children.push(r),n[s]=r),(!u||r.voidElement)&&(s>-1&&(r.voidElement||r.name===o.slice(2,-1))&&(s--,r=-1===s?a:n[s]),!i&&"<"!==g&&g)){c=-1===s?a:n[s].children;var f=e.indexOf("<",p),y=e.slice(p,-1===f?void 0:f);m.test(y)&&(y=" "),(f>-1&&s+c.length>=0||" "!==y)&&c.push({type:"text",content:y})}}),a},stringify:function(e){return e.reduce(function(e,t){return e+p("",t)},"")}};const x=g;function f(){if(console&&console.warn){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];"string"===typeof t[0]&&(t[0]="react-i18next:: ".concat(t[0])),console.warn(...t)}}const y={};function v(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];"string"===typeof t[0]&&y[t[0]]||("string"===typeof t[0]&&(y[t[0]]=new Date),f(...t))}const b=(e,t)=>()=>{if(e.isInitialized)t();else{const r=()=>{setTimeout(()=>{e.off("initialized",r)},0),t()};e.on("initialized",r)}};function w(e,t,r){e.loadNamespaces(t,b(e,r))}function j(e,t,r,a){"string"===typeof r&&(r=[r]),r.forEach(t=>{e.options.ns.indexOf(t)<0&&e.options.ns.push(t)}),e.loadLanguages(t,b(e,a))}function k(e){return e.displayName||e.name||("string"===typeof e&&e.length>0?e:"Unknown")}const N=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,C={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xa9","&#169;":"\xa9","&reg;":"\xae","&#174;":"\xae","&hellip;":"\u2026","&#8230;":"\u2026","&#x2F;":"/","&#47;":"/"},A=e=>C[e];let S,E={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(N,A)};function D(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};E=(0,a.A)((0,a.A)({},E),e)}function P(){return E}function T(e){S=e}function _(){return S}const R=["format"],O=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function F(e,t){if(!e)return!1;const r=e.props?e.props.children:e.children;return t?r.length>0:!!r}function L(e){if(!e)return[];const t=e.props?e.props.children:e.children;return e.props&&e.props.i18nIsDynamicList?M(t):t}function M(e){return Array.isArray(e)?e:[e]}function I(e,t){if(!e)return"";let r="";const a=M(e),i=t.transSupportBasicHtmlNodes&&t.transKeepBasicHtmlNodesFor?t.transKeepBasicHtmlNodesFor:[];return a.forEach((e,a)=>{if("string"===typeof e)r+="".concat(e);else if((0,s.isValidElement)(e)){const n=Object.keys(e.props).length,s=i.indexOf(e.type)>-1,o=e.props.children;if(!o&&s&&0===n)r+="<".concat(e.type,"/>");else if(o||s&&0===n)if(e.props.i18nIsDynamicList)r+="<".concat(a,"></").concat(a,">");else if(s&&1===n&&"string"===typeof o)r+="<".concat(e.type,">").concat(o,"</").concat(e.type,">");else{const e=I(o,t);r+="<".concat(a,">").concat(e,"</").concat(a,">")}else r+="<".concat(a,"></").concat(a,">")}else if(null===e)f("Trans: the passed in value is invalid - seems you passed in a null child.");else if("object"===typeof e){const{format:t}=e,a=(0,n.A)(e,R),s=Object.keys(a);if(1===s.length){const e=t?"".concat(s[0],", ").concat(t):s[0];r+="{{".concat(e,"}}")}else f("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",e)}else f("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",e)}),r}function B(e,t,r,n,o,l){if(""===t)return[];const c=n.transKeepBasicHtmlNodesFor||[],d=t&&new RegExp(c.map(e=>"<".concat(e)).join("|")).test(t);if(!e&&!d&&!l)return[t];const u={};!function e(t){M(t).forEach(t=>{"string"!==typeof t&&(F(t)?e(L(t)):"object"!==typeof t||(0,s.isValidElement)(t)||Object.assign(u,t))})}(e);const m=x.parse("<0>".concat(t,"</0>")),h=(0,a.A)((0,a.A)({},u),o);function p(e,t,r){const a=L(e),n=f(a,t.children,r);return function(e){return"[object Array]"===Object.prototype.toString.call(e)&&e.every(e=>(0,s.isValidElement)(e))}(a)&&0===n.length||e.props&&e.props.i18nIsDynamicList?a:n}function g(e,t,r,n,o){e.dummy?(e.children=t,r.push((0,s.cloneElement)(e,{key:n},o?void 0:t))):r.push(...s.Children.map([e],e=>{const r=(0,a.A)({},e.props);return delete r.i18nIsDynamicList,s.createElement(e.type,i({},r,{key:n,ref:e.ref},o?{}:{children:t}))}))}function f(t,i,o){const u=M(t);return M(i).reduce((t,i,m)=>{const x=i.children&&i.children[0]&&i.children[0].content&&r.services.interpolator.interpolate(i.children[0].content,h,r.language);if("tag"===i.type){let l=u[parseInt(i.name,10)];1!==o.length||l||(l=o[0][i.name]),l||(l={});const y=0!==Object.keys(i.attrs).length?function(e,t){const r=(0,a.A)({},t);return r.props=Object.assign(e.props,t.props),r}({props:i.attrs},l):l,v=(0,s.isValidElement)(y),b=v&&F(i,!0)&&!i.voidElement,w=d&&"object"===typeof y&&y.dummy&&!v,j="object"===typeof e&&null!==e&&Object.hasOwnProperty.call(e,i.name);if("string"===typeof y){const e=r.services.interpolator.interpolate(y,h,r.language);t.push(e)}else if(F(y)||b){g(y,p(y,i,o),t,m)}else if(w){g(y,f(u,i.children,o),t,m)}else if(Number.isNaN(parseFloat(i.name)))if(j){g(y,p(y,i,o),t,m,i.voidElement)}else if(n.transSupportBasicHtmlNodes&&c.indexOf(i.name)>-1)if(i.voidElement)t.push((0,s.createElement)(i.name,{key:"".concat(i.name,"-").concat(m)}));else{const e=f(u,i.children,o);t.push((0,s.createElement)(i.name,{key:"".concat(i.name,"-").concat(m)},e))}else if(i.voidElement)t.push("<".concat(i.name," />"));else{const e=f(u,i.children,o);t.push("<".concat(i.name,">").concat(e,"</").concat(i.name,">"))}else if("object"!==typeof y||v)g(y,x,t,m,1!==i.children.length||!x);else{const e=i.children[0]?x:null;e&&t.push(e)}}else if("text"===i.type){const e=n.transWrapTextNodes,a=l?n.unescape(r.services.interpolator.interpolate(i.content,h,r.language)):r.services.interpolator.interpolate(i.content,h,r.language);e?t.push((0,s.createElement)(e,{key:"".concat(i.name,"-").concat(m)},a)):t.push(a)}return t},[])}return L(f([{dummy:!0,children:e||[]}],m,M(e||[]))[0])}function q(e){let{children:t,count:r,parent:i,i18nKey:o,context:l,tOptions:c={},values:d,defaults:u,components:m,ns:h,i18n:p,t:g,shouldUnescape:x}=e,f=(0,n.A)(e,O);const y=p||_();if(!y)return v("You will need to pass in an i18next instance by using i18nextReactModule"),t;const b=g||y.t.bind(y)||(e=>e);l&&(c.context=l);const w=(0,a.A)((0,a.A)({},P()),y.options&&y.options.react);let j=h||b.ns||y.options&&y.options.defaultNS;j="string"===typeof j?[j]:j||["translation"];const k=I(t,w),N=u||k||w.transEmptyNodeValue||o,{hashTransKey:C}=w,A=o||(C?C(k||N):k||N);y.options&&y.options.interpolation&&y.options.interpolation.defaultVariables&&(d=d&&Object.keys(d).length>0?(0,a.A)((0,a.A)({},d),y.options.interpolation.defaultVariables):(0,a.A)({},y.options.interpolation.defaultVariables));const S=d?c.interpolation:{interpolation:(0,a.A)((0,a.A)({},c.interpolation),{},{prefix:"#$?",suffix:"?$#"})},E=(0,a.A)((0,a.A)((0,a.A)((0,a.A)({},c),{},{count:r},d),S),{},{defaultValue:N,ns:j}),D=A?b(A,E):N;m&&Object.keys(m).forEach(e=>{const t=m[e];"function"===typeof t.type||!t.props||!t.props.children||D.indexOf("".concat(e,"/>"))<0&&D.indexOf("".concat(e," />"))<0||(m[e]=s.createElement(function(){return s.createElement(s.Fragment,null,t)},null))});const T=B(m||t,D,y,w,E,x),R=void 0!==i?i:w.defaultTransParent;return R?(0,s.createElement)(R,f,T):T}const z={type:"3rdParty",init(e){D(e.options.react),T(e)}},U=(0,s.createContext)();class V{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}function Y(e){return t=>new Promise(r=>{const n=W();e.getInitialProps?e.getInitialProps(t).then(e=>{r((0,a.A)((0,a.A)({},e),n))}):r(n)})}function W(){const e=_(),t=e.reportNamespaces?e.reportNamespaces.getUsedNamespaces():[],r={},a={};return e.languages.forEach(r=>{a[r]={},t.forEach(t=>{a[r][t]=e.getResourceBundle(r,t)||{}})}),r.initialI18nStore=a,r.initialLanguage=e.language,r}const H=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function G(e){let{children:t,count:r,parent:i,i18nKey:o,context:l,tOptions:c={},values:d,defaults:u,components:m,ns:h,i18n:p,t:g,shouldUnescape:x}=e,f=(0,n.A)(e,H);const{i18n:y,defaultNS:v}=(0,s.useContext)(U)||{},b=p||y||_(),w=g||b&&b.t.bind(b);return q((0,a.A)({children:t,count:r,parent:i,i18nKey:o,context:l,tOptions:c,values:d,defaults:u,components:m,ns:h||w&&w.ns||v||b&&b.options&&b.options.defaultNS,i18n:b,t:g,shouldUnescape:x},f))}function K(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{i18n:r}=t,{i18n:n,defaultNS:i}=(0,s.useContext)(U)||{},o=r||n||_();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new V),!o){v("You will need to pass in an i18next instance by using initReactI18next");const e=(e,t)=>"string"===typeof t?t:t&&"object"===typeof t&&"string"===typeof t.defaultValue?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,t=[e,{},!1];return t.t=e,t.i18n={},t.ready=!1,t}o.options.react&&void 0!==o.options.react.wait&&v("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const l=(0,a.A)((0,a.A)((0,a.A)({},P()),o.options.react),t),{useSuspense:c,keyPrefix:d}=l;let u=e||i||o.options&&o.options.defaultNS;u="string"===typeof u?[u]:u||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(u);const m=(o.isInitialized||o.initializedStoreOnce)&&u.every(e=>function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.languages&&t.languages.length?void 0!==t.options.ignoreJSONStructure?t.hasLoadedNamespace(e,{lng:r.lng,precheck:(t,a)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,e))return!1}}):function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=t.languages[0],n=!!t.options&&t.options.fallbackLng,s=t.languages[t.languages.length-1];if("cimode"===a.toLowerCase())return!0;const i=(e,r)=>{const a=t.services.backendConnector.state["".concat(e,"|").concat(r)];return-1===a||2===a};return!(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!i(t.isLanguageChangingTo,e))&&(!!t.hasResourceBundle(a,e)||!(t.services.backendConnector.backend&&(!t.options.resources||t.options.partialBundledLanguages))||!(!i(a,e)||n&&!i(s,e)))}(e,t,r):(v("i18n.languages were undefined or empty",t.languages),!0)}(e,o,l));function h(){return o.getFixedT(t.lng||null,"fallback"===l.nsMode?u:u[0],d)}const[p,g]=(0,s.useState)(h);let x=u.join();t.lng&&(x="".concat(t.lng).concat(x));const f=((e,t)=>{const r=(0,s.useRef)();return(0,s.useEffect)(()=>{r.current=t?r.current:e},[e,t]),r.current})(x),y=(0,s.useRef)(!0);(0,s.useEffect)(()=>{const{bindI18n:e,bindI18nStore:r}=l;function a(){y.current&&g(h)}return y.current=!0,m||c||(t.lng?j(o,t.lng,u,()=>{y.current&&g(h)}):w(o,u,()=>{y.current&&g(h)})),m&&f&&f!==x&&y.current&&g(h),e&&o&&o.on(e,a),r&&o&&o.store.on(r,a),()=>{y.current=!1,e&&o&&e.split(" ").forEach(e=>o.off(e,a)),r&&o&&r.split(" ").forEach(e=>o.store.off(e,a))}},[o,x]);const b=(0,s.useRef)(!0);(0,s.useEffect)(()=>{y.current&&!b.current&&g(h),b.current=!1},[o,d]);const k=[p,o,m];if(k.t=p,k.i18n=o,k.ready=m,m)return k;if(!m&&!c)return k;throw new Promise(e=>{t.lng?j(o,t.lng,u,()=>e()):w(o,u,()=>e())})}const Q=["forwardedRef"];function $(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r){function i(i){let{forwardedRef:o}=i,l=(0,n.A)(i,Q);const[c,d,u]=K(e,(0,a.A)((0,a.A)({},l),{},{keyPrefix:t.keyPrefix})),m=(0,a.A)((0,a.A)({},l),{},{t:c,i18n:d,tReady:u});return t.withRef&&o?m.ref=o:!t.withRef&&o&&(m.forwardedRef=o),(0,s.createElement)(r,m)}i.displayName="withI18nextTranslation(".concat(k(r),")"),i.WrappedComponent=r;return t.withRef?(0,s.forwardRef)((e,t)=>(0,s.createElement)(i,Object.assign({},e,{forwardedRef:t}))):i}}const X=["ns","children"];function J(e){const{ns:t,children:r}=e,a=(0,n.A)(e,X),[s,i,o]=K(t,a);return r(s,{i18n:i,lng:i.language},o)}function Z(e){let{i18n:t,defaultNS:r,children:a}=e;const n=(0,s.useMemo)(()=>({i18n:t,defaultNS:r}),[t,r]);return(0,s.createElement)(U.Provider,{value:n},a)}function ee(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{i18n:a}=r,{i18n:n}=(0,s.useContext)(U)||{},i=a||n||_();i.options&&i.options.isClone||(e&&!i.initializedStoreOnce&&(i.services.resourceStore.data=e,i.options.ns=Object.values(e).reduce((e,t)=>(Object.keys(t).forEach(t=>{e.indexOf(t)<0&&e.push(t)}),e),i.options.ns),i.initializedStoreOnce=!0,i.isInitialized=!0),t&&!i.initializedLanguageOnce&&(i.changeLanguage(t),i.initializedLanguageOnce=!0))}const te=["initialI18nStore","initialLanguage"];function re(){return function(e){function t(t){let{initialI18nStore:r,initialLanguage:i}=t,o=(0,n.A)(t,te);return ee(r,i),(0,s.createElement)(e,(0,a.A)({},o))}return t.getInitialProps=Y(e),t.displayName="withI18nextSSR(".concat(k(e),")"),t.WrappedComponent=e,t}}const ae=()=>"",ne=()=>"",se=()=>"",ie=()=>"",oe=()=>"",le=()=>""}},t={};function r(a){var n=t[a];if(void 0!==n)return n.exports;var s=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(s.exports,s,s.exports,r),s.loaded=!0,s.exports}r.m=e,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(a,n){if(1&n&&(a=this(a)),8&n)return a;if("object"===typeof a&&a){if(4&n&&a.__esModule)return a;if(16&n&&"function"===typeof a.then)return a}var s=Object.create(null);r.r(s);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&n&&a;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>i[e]=()=>a[e]);return i.default=()=>a,r.d(s,i),s}})(),r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce((t,a)=>(r.f[a](e,t),t),[])),r.u=e=>"static/js/"+({42:"reactPlayerTwitch",85:"reactPlayerTiktok",173:"reactPlayerVimeo",262:"reactPlayerHls",340:"reactPlayerWistia",353:"reactPlayerPreview",395:"reactPlayerDash",446:"reactPlayerYouTube",723:"reactPlayerMux",771:"reactPlayerSpotify"}[e]||e)+"."+{42:"1f79a0ec",85:"c9c6a7e4",173:"5fd12c4c",262:"92f2cfcf",340:"9cd09669",353:"eef8b992",372:"b11060c2",395:"7673a811",416:"ff794dc1",446:"51112ad1",723:"6e625dde",771:"ded347ee",788:"f9c7190f",821:"8af61f7a"}[e]+".chunk.js",r.miniCssF=e=>{},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="eduflow-client:";r.l=(a,n,s,i)=>{if(e[a])e[a].push(n);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==a||u.getAttribute("data-webpack")==t+s){o=u;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",r.nc&&o.setAttribute("nonce",r.nc),o.setAttribute("data-webpack",t+s),o.src=a),e[a]=[n];var m=(t,r)=>{o.onerror=o.onload=null,clearTimeout(h);var n=e[a];if(delete e[a],o.parentNode&&o.parentNode.removeChild(o),n&&n.forEach(e=>e(r)),t)return t(r)},h=setTimeout(m.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=m.bind(null,o.onerror),o.onload=m.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.p="/eduflow_client/",(()=>{var e={792:0};r.f.j=(t,a)=>{var n=r.o(e,t)?e[t]:void 0;if(0!==n)if(n)a.push(n[2]);else{var s=new Promise((r,a)=>n=e[t]=[r,a]);a.push(n[2]=s);var i=r.p+r.u(t),o=new Error;r.l(i,a=>{if(r.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var s=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",o.name="ChunkLoadError",o.type=s,o.request=i,n[1](o)}},"chunk-"+t,t)}};var t=(t,a)=>{var n,s,[i,o,l]=a,c=0;if(i.some(t=>0!==e[t])){for(n in o)r.o(o,n)&&(r.m[n]=o[n]);if(l)l(r)}for(t&&t(a);c<i.length;c++)s=i[c],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0},a=self.webpackChunkeduflow_client=self.webpackChunkeduflow_client||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})(),(()=>{"use strict";var e={};r.r(e),r.d(e,{Decoder:()=>mg,Encoder:()=>dg,PacketType:()=>cg,protocol:()=>lg});var t,a=r(5043),n=r.t(a,2),s=r(4391),i=r(9722);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(qe){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function m(e,t,r,a){return void 0===r&&(r=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:r,key:t&&t.key||a||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:r="",hash:a=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),a&&"#"!==a&&(t+="#"===a.charAt(0)?a:"#"+a),t}function p(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function g(e,r,a,n){void 0===n&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,d=s.history,p=t.Pop,g=null,x=f();function f(){return(d.state||{idx:null}).idx}function y(){p=t.Pop;let e=f(),r=null==e?null:e-x;x=e,g&&g({action:p,location:b.location,delta:r})}function v(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,r="string"===typeof e?e:h(e);return r=r.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}null==x&&(x=0,d.replaceState(o({},d.state,{idx:x}),""));let b={get action(){return p},get location(){return e(s,d)},listen(e){if(g)throw new Error("A history only accepts one active listener");return s.addEventListener(l,y),g=e,()=>{s.removeEventListener(l,y),g=null}},createHref:e=>r(s,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,r){p=t.Push;let n=m(b.location,e,r);a&&a(n,e),x=f()+1;let o=u(n,x),l=b.createHref(n);try{d.pushState(o,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;s.location.assign(l)}i&&g&&g({action:p,location:b.location,delta:1})},replace:function(e,r){p=t.Replace;let n=m(b.location,e,r);a&&a(n,e),x=f();let s=u(n,x),o=b.createHref(n);d.replaceState(s,"",o),i&&g&&g({action:p,location:b.location,delta:0})},go:e=>d.go(e)};return b}var x;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(x||(x={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function f(e,t,r){return void 0===r&&(r="/"),y(e,t,r,!1)}function y(e,t,r,a){let n=_(("string"===typeof t?p(t):t).pathname||"/",r);if(null==n)return null;let s=v(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let i=null;for(let o=0;null==i&&o<s.length;++o){let e=T(n);i=D(s[o],e,a)}return i}function v(e,t,r,a){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===a&&(a="");let n=(e,n,s)=>{let i={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:n,route:e};i.relativePath.startsWith("/")&&(c(i.relativePath.startsWith(a),'Absolute route path "'+i.relativePath+'" nested under path "'+a+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(a.length));let o=q([a,i.relativePath]),l=r.concat(i);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),v(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:E(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let a of b(e.path))n(e,t,a);else n(e,t)}),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[r,...a]=t,n=r.endsWith("?"),s=r.replace(/\?$/,"");if(0===a.length)return n?[s,""]:[s];let i=b(a.join("/")),o=[];return o.push(...i.map(e=>""===e?s:[s,e].join("/"))),n&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const w=/^:[\w-]+$/,j=3,k=2,N=1,C=10,A=-2,S=e=>"*"===e;function E(e,t){let r=e.split("/"),a=r.length;return r.some(S)&&(a+=A),t&&(a+=k),r.filter(e=>!S(e)).reduce((e,t)=>e+(w.test(t)?j:""===t?N:C),a)}function D(e,t,r){void 0===r&&(r=!1);let{routesMeta:a}=e,n={},s="/",i=[];for(let o=0;o<a.length;++o){let e=a[o],l=o===a.length-1,c="/"===s?t:t.slice(s.length)||"/",d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&r&&!a[a.length-1].route.index&&(d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(n,d.params),i.push({params:n,pathname:q([s,d.pathname]),pathnameBase:z(q([s,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(s=q([s,d.pathnameBase]))}return i}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(a.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(a.push({paramName:"*"}),n+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":""!==e&&"/"!==e&&(n+="(?:(?=\\/|$))");let s=new RegExp(n,t?void 0:"i");return[s,a]}(e.path,e.caseSensitive,e.end),n=t.match(r);if(!n)return null;let s=n[0],i=s.replace(/(.)\/+$/,"$1"),o=n.slice(1),l=a.reduce((e,t,r)=>{let{paramName:a,isOptional:n}=t;if("*"===a){let e=o[r]||"";i=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[r];return e[a]=n&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:s,pathnameBase:i,pattern:e}}function T(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function _(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&"/"!==a?null:e.slice(r)||"/"}const R=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function O(e,t){void 0===t&&(t="/");let r,{pathname:a,search:n="",hash:s=""}="string"===typeof e?p(e):e;if(a)if((e=>R.test(e))(a))r=a;else{if(a.includes("//")){let e=a;a=a.replace(/\/\/+/g,"/"),d(!1,"Pathnames cannot have embedded double slashes - normalizing "+e+" -> "+a)}r=a.startsWith("/")?F(a.substring(1),"/"):F(a,t)}else r=t;return{pathname:r,search:U(n),hash:V(s)}}function F(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}function L(e,t,r,a){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function M(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function I(e,t){let r=M(e);return t?r.map((e,t)=>t===r.length-1?e.pathname:e.pathnameBase):r.map(e=>e.pathnameBase)}function B(e,t,r,a){let n;void 0===a&&(a=!1),"string"===typeof e?n=p(e):(n=o({},e),c(!n.pathname||!n.pathname.includes("?"),L("?","pathname","search",n)),c(!n.pathname||!n.pathname.includes("#"),L("#","pathname","hash",n)),c(!n.search||!n.search.includes("#"),L("#","search","hash",n)));let s,i=""===e||""===n.pathname,l=i?"/":n.pathname;if(null==l)s=r;else{let e=t.length-1;if(!a&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}s=e>=0?t[e]:"/"}let d=O(n,s),u=l&&"/"!==l&&l.endsWith("/"),m=(i||"."===l)&&r.endsWith("/");return d.pathname.endsWith("/")||!u&&!m||(d.pathname+="/"),d}const q=e=>e.join("/").replace(/\/\/+/g,"/"),z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",V=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function Y(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const W=["post","put","patch","delete"],H=(new Set(W),["get",...W]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},G.apply(this,arguments)}const K=a.createContext(null);const Q=a.createContext(null);const $=a.createContext(null);const X=a.createContext(null);const J=a.createContext({outlet:null,matches:[],isDataRoute:!1});const Z=a.createContext(null);function ee(){return null!=a.useContext(X)}function te(){return ee()||c(!1),a.useContext(X).location}function re(e){a.useContext($).static||a.useLayoutEffect(e)}function ae(){let{isDataRoute:e}=a.useContext(J);return e?function(){let{router:e}=pe(me.UseNavigateStable),t=xe(he.UseNavigateStable),r=a.useRef(!1);return re(()=>{r.current=!0}),a.useCallback(function(a,n){void 0===n&&(n={}),r.current&&("number"===typeof a?e.navigate(a):e.navigate(a,G({fromRouteId:t},n)))},[e,t])}():function(){ee()||c(!1);let e=a.useContext(K),{basename:t,future:r,navigator:n}=a.useContext($),{matches:s}=a.useContext(J),{pathname:i}=te(),o=JSON.stringify(I(s,r.v7_relativeSplatPath)),l=a.useRef(!1);return re(()=>{l.current=!0}),a.useCallback(function(r,a){if(void 0===a&&(a={}),!l.current)return;if("number"===typeof r)return void n.go(r);let s=B(r,JSON.parse(o),i,"path"===a.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:q([t,s.pathname])),(a.replace?n.replace:n.push)(s,a.state,a)},[t,n,o,i,e])}()}function ne(){let{matches:e}=a.useContext(J),t=e[e.length-1];return t?t.params:{}}function se(e,t){let{relative:r}=void 0===t?{}:t,{future:n}=a.useContext($),{matches:s}=a.useContext(J),{pathname:i}=te(),o=JSON.stringify(I(s,n.v7_relativeSplatPath));return a.useMemo(()=>B(e,JSON.parse(o),i,"path"===r),[e,o,i,r])}function ie(e,r,n,s){ee()||c(!1);let{navigator:i}=a.useContext($),{matches:o}=a.useContext(J),l=o[o.length-1],d=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let m,h=te();if(r){var g;let e="string"===typeof r?p(r):r;"/"===u||(null==(g=e.pathname)?void 0:g.startsWith(u))||c(!1),m=e}else m=h;let x=m.pathname||"/",y=x;if("/"!==u){let e=u.replace(/^\//,"").split("/");y="/"+x.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=f(e,{pathname:y});let b=ue(v&&v.map(e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:q([u,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:q([u,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,s);return r&&b?a.createElement(X.Provider,{value:{location:G({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:t.Pop}},b):b}function oe(){let e=function(){var e;let t=a.useContext(Z),r=ge(he.UseRouteError),n=xe(he.UseRouteError);if(void 0!==t)return t;return null==(e=r.errors)?void 0:e[n]}(),t=Y(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),r?a.createElement("pre",{style:s},r):null,null)}const le=a.createElement(oe,null);class ce extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement(J.Provider,{value:this.props.routeContext},a.createElement(Z.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function de(e){let{routeContext:t,match:r,children:n}=e,s=a.useContext(K);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),a.createElement(J.Provider,{value:t},n)}function ue(e,t,r,n){var s;if(void 0===t&&(t=[]),void 0===r&&(r=null),void 0===n&&(n=null),null==e){var i;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(i=n)&&i.v7_partialHydration&&0===t.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let o=e,l=null==(s=r)?void 0:s.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||c(!1),o=o.slice(0,Math.min(o.length,e+1))}let d=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let a=0;a<o.length;a++){let e=o[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=a),e.route.id){let{loaderData:t,errors:a}=r,n=e.route.loader&&void 0===t[e.route.id]&&(!a||void 0===a[e.route.id]);if(e.route.lazy||n){d=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight((e,n,s)=>{let i,c=!1,m=null,h=null;r&&(i=l&&n.route.id?l[n.route.id]:void 0,m=n.route.errorElement||le,d&&(u<0&&0===s?(!function(e,t){t||fe[e]||(fe[e]=!0)}("route-fallback",!1),c=!0,h=null):u===s&&(c=!0,h=n.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,s+1)),g=()=>{let t;return t=i?m:c?h:n.route.Component?a.createElement(n.route.Component,null):n.route.element?n.route.element:e,a.createElement(de,{match:n,routeContext:{outlet:e,matches:p,isDataRoute:null!=r},children:t})};return r&&(n.route.ErrorBoundary||n.route.errorElement||0===s)?a.createElement(ce,{location:r.location,revalidation:r.revalidation,component:m,error:i,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var me=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(me||{}),he=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(he||{});function pe(e){let t=a.useContext(K);return t||c(!1),t}function ge(e){let t=a.useContext(Q);return t||c(!1),t}function xe(e){let t=function(){let e=a.useContext(J);return e||c(!1),e}(),r=t.matches[t.matches.length-1];return r.route.id||c(!1),r.route.id}const fe={};function ye(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}n.startTransition;function ve(e){let{to:t,replace:r,state:n,relative:s}=e;ee()||c(!1);let{future:i,static:o}=a.useContext($),{matches:l}=a.useContext(J),{pathname:d}=te(),u=ae(),m=B(t,I(l,i.v7_relativeSplatPath),d,"path"===s),h=JSON.stringify(m);return a.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function be(e){c(!1)}function we(e){let{basename:r="/",children:n=null,location:s,navigationType:i=t.Pop,navigator:o,static:l=!1,future:d}=e;ee()&&c(!1);let u=r.replace(/^\/*/,"/"),m=a.useMemo(()=>({basename:u,navigator:o,static:l,future:G({v7_relativeSplatPath:!1},d)}),[u,d,o,l]);"string"===typeof s&&(s=p(s));let{pathname:h="/",search:g="",hash:x="",state:f=null,key:y="default"}=s,v=a.useMemo(()=>{let e=_(h,u);return null==e?null:{location:{pathname:e,search:g,hash:x,state:f,key:y},navigationType:i}},[u,h,g,x,f,y,i]);return null==v?null:a.createElement($.Provider,{value:m},a.createElement(X.Provider,{children:n,value:v}))}function je(e){let{children:t,location:r}=e;return ie(ke(t),r)}new Promise(()=>{});a.Component;function ke(e,t){void 0===t&&(t=[]);let r=[];return a.Children.forEach(e,(e,n)=>{if(!a.isValidElement(e))return;let s=[...t,n];if(e.type===a.Fragment)return void r.push.apply(r,ke(e.props.children,s));e.type!==be&&c(!1),e.props.index&&e.props.children&&c(!1);let i={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=ke(e.props.children,s)),r.push(i)}),r}var Ne=r(7950),Ce=r.t(Ne,2);function Ae(){return Ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ae.apply(this,arguments)}function Se(e,t){if(null==e)return{};var r,a,n={},s=Object.keys(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}function Ee(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let a=e[r];return t.concat(Array.isArray(a)?a.map(e=>[r,e]):[[r,a]])},[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const De=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(qe){}new Map;const Pe=n.startTransition;Ce.flushSync,n.useId;function Te(e){let{basename:t,children:r,future:n,window:s}=e,i=a.useRef();var o;null==i.current&&(i.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),g(function(e,t){let{pathname:r,search:a,hash:n}=e.location;return m("",{pathname:r,search:a,hash:n},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:h(t)},null,o)));let l=i.current,[c,d]=a.useState({action:l.action,location:l.location}),{v7_startTransition:u}=n||{},p=a.useCallback(e=>{u&&Pe?Pe(()=>d(e)):d(e)},[d,u]);return a.useLayoutEffect(()=>l.listen(p),[l,p]),a.useEffect(()=>ye(n),[n]),a.createElement(we,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:l,future:n})}const _e="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Re=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oe=a.forwardRef(function(e,t){let r,{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:d,to:u,preventScrollReset:m,viewTransition:p}=e,g=Se(e,De),{basename:x}=a.useContext($),f=!1;if("string"===typeof u&&Re.test(u)&&(r=u,_e))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),r=_(t.pathname,x);t.origin===e.origin&&null!=r?u=r+t.search+t.hash:f=!0}catch(qe){}let y=function(e,t){let{relative:r}=void 0===t?{}:t;ee()||c(!1);let{basename:n,navigator:s}=a.useContext($),{hash:i,pathname:o,search:l}=se(e,{relative:r}),d=o;return"/"!==n&&(d="/"===o?n:q([n,o])),s.createHref({pathname:d,search:l,hash:i})}(u,{relative:s}),v=function(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=void 0===t?{}:t,c=ae(),d=te(),u=se(e,{relative:o});return a.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let r=void 0!==n?n:h(d)===h(u);c(e,{replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,n,s,r,e,i,o,l])}(u,{replace:o,state:l,target:d,preventScrollReset:m,relative:s,viewTransition:p});return a.createElement("a",Ae({},g,{href:r||y,onClick:f||i?n:function(e){n&&n(e),e.defaultPrevented||v(e)},ref:t,target:d}))});var Fe,Le;function Me(e){let t=a.useRef(Ee(e)),r=a.useRef(!1),n=te(),s=a.useMemo(()=>function(e,t){let r=Ee(e);return t&&t.forEach((e,a)=>{r.has(a)||t.getAll(a).forEach(e=>{r.append(a,e)})}),r}(n.search,r.current?null:t.current),[n.search]),i=ae(),o=a.useCallback((e,t)=>{const a=Ee("function"===typeof e?e(s):e);r.current=!0,i("?"+a,t)},[i,s]);return[s,o]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Fe||(Fe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Le||(Le={}));var Ie=r(7528),Be=r(9379);let qe={data:""},ze=e=>{if("object"==typeof window){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||qe},Ue=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Ve=/\/\*[^]*?\*\/|  +/g,Ye=/\n+/g,We=(e,t)=>{let r="",a="",n="";for(let s in e){let i=e[s];"@"==s[0]?"i"==s[1]?r=s+" "+i+";":a+="f"==s[1]?We(i,s):s+"{"+We(i,"k"==s[1]?"":t)+"}":"object"==typeof i?a+=We(i,t?t.replace(/([^,])+/g,e=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):s):null!=i&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=We.p?We.p(s,i):s+":"+i+";")}return r+(t&&n?t+"{"+n+"}":n)+a},He={},Ge=e=>{if("object"==typeof e){let t="";for(let r in e)t+=r+Ge(e[r]);return t}return e},Ke=(e,t,r,a,n)=>{let s=Ge(e),i=He[s]||(He[s]=(e=>{let t=0,r=11;for(;t<e.length;)r=101*r+e.charCodeAt(t++)>>>0;return"go"+r})(s));if(!He[i]){let t=s!==e?e:(e=>{let t,r,a=[{}];for(;t=Ue.exec(e.replace(Ve,""));)t[4]?a.shift():t[3]?(r=t[3].replace(Ye," ").trim(),a.unshift(a[0][r]=a[0][r]||{})):a[0][t[1]]=t[2].replace(Ye," ").trim();return a[0]})(e);He[i]=We(n?{["@keyframes "+i]:t}:t,r?"":"."+i)}let o=r&&He.g?He.g:null;return r&&(He.g=He[i]),((e,t,r,a)=>{a?t.data=t.data.replace(a,e):-1===t.data.indexOf(e)&&(t.data=r?e+t.data:t.data+e)})(He[i],t,a,o),i};function Qe(e){let t=this||{},r=e.call?e(t.p):e;return Ke(r.unshift?r.raw?((e,t,r)=>e.reduce((e,a,n)=>{let s=t[n];if(s&&s.call){let e=s(r),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;s=t?"."+t:e&&"object"==typeof e?e.props?"":We(e,""):!1===e?"":e}return e+a+(null==s?"":s)},""))(r,[].slice.call(arguments,1),t.p):r.reduce((e,r)=>Object.assign(e,r&&r.call?r(t.p):r),{}):r,ze(t.target),t.g,t.o,t.k)}Qe.bind({g:1});let $e,Xe,Je,Ze=Qe.bind({k:1});function et(e,t){let r=this||{};return function(){let a=arguments;function n(s,i){let o=Object.assign({},s),l=o.className||n.className;r.p=Object.assign({theme:Xe&&Xe()},o),r.o=/ *go\d+/.test(l),o.className=Qe.apply(r,a)+(l?" "+l:""),t&&(o.ref=i);let c=e;return e[0]&&(c=o.as||e,delete o.as),Je&&c[0]&&Je(o),$e(c,o)}return t?t(n):n}}var tt,rt,at,nt,st,it,ot,lt,ct,dt,ut,mt,ht,pt,gt,xt,ft=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,yt=(()=>{let e=0;return()=>(++e).toString()})(),vt=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),bt="default",wt=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return(0,Be.A)((0,Be.A)({},e),{},{toasts:[t.toast,...e.toasts].slice(0,r)});case 1:return(0,Be.A)((0,Be.A)({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?(0,Be.A)((0,Be.A)({},e),t.toast):e)});case 2:let{toast:a}=t;return wt(e,{type:e.toasts.find(e=>e.id===a.id)?1:0,toast:a});case 3:let{toastId:n}=t;return(0,Be.A)((0,Be.A)({},e),{},{toasts:e.toasts.map(e=>e.id===n||void 0===n?(0,Be.A)((0,Be.A)({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?(0,Be.A)((0,Be.A)({},e),{},{toasts:[]}):(0,Be.A)((0,Be.A)({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return(0,Be.A)((0,Be.A)({},e),{},{pausedAt:t.time});case 6:let s=t.time-(e.pausedAt||0);return(0,Be.A)((0,Be.A)({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>(0,Be.A)((0,Be.A)({},e),{},{pauseDuration:e.pauseDuration+s}))})}},jt=[],kt={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},Nt={},Ct=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bt;Nt[t]=wt(Nt[t]||kt,e),jt.forEach(e=>{let[r,a]=e;r===t&&a(Nt[t])})},At=e=>Object.keys(Nt).forEach(t=>Ct(e,t)),St=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt;return t=>{Ct(t,e)}},Et={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Dt=e=>(t,r)=>{let a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",r=arguments.length>2?arguments[2]:void 0;return(0,Be.A)((0,Be.A)({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},r),{},{id:(null==r?void 0:r.id)||yt()})}(t,e,r);return St(a.toasterId||(e=>Object.keys(Nt).find(t=>Nt[t].toasts.some(t=>t.id===e)))(a.id))({type:2,toast:a}),a.id},Pt=(e,t)=>Dt("blank")(e,t);Pt.error=Dt("error"),Pt.success=Dt("success"),Pt.loading=Dt("loading"),Pt.custom=Dt("custom"),Pt.dismiss=(e,t)=>{let r={type:3,toastId:e};t?St(t)(r):At(r)},Pt.dismissAll=e=>Pt.dismiss(void 0,e),Pt.remove=(e,t)=>{let r={type:4,toastId:e};t?St(t)(r):At(r)},Pt.removeAll=e=>Pt.remove(void 0,e),Pt.promise=(e,t,r)=>{let a=Pt.loading(t.loading,(0,Be.A)((0,Be.A)({},r),null==r?void 0:r.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let n=t.success?ft(t.success,e):void 0;return n?Pt.success(n,(0,Be.A)((0,Be.A)({id:a},r),null==r?void 0:r.success)):Pt.dismiss(a),e}).catch(e=>{let n=t.error?ft(t.error,e):void 0;n?Pt.error(n,(0,Be.A)((0,Be.A)({id:a},r),null==r?void 0:r.error)):Pt.dismiss(a)}),e};var Tt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",{toasts:r,pausedAt:n}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bt,[r,n]=(0,a.useState)(Nt[t]||kt),s=(0,a.useRef)(Nt[t]);(0,a.useEffect)(()=>(s.current!==Nt[t]&&n(Nt[t]),jt.push([t,n]),()=>{let e=jt.findIndex(e=>{let[r]=e;return r===t});e>-1&&jt.splice(e,1)}),[t]);let i=r.toasts.map(t=>{var r,a,n;return(0,Be.A)((0,Be.A)((0,Be.A)((0,Be.A)({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(r=e[t.type])?void 0:r.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(a=e[t.type])?void 0:a.duration)||(null==e?void 0:e.duration)||Et[t.type],style:(0,Be.A)((0,Be.A)((0,Be.A)({},e.style),null==(n=e[t.type])?void 0:n.style),t.style)})});return(0,Be.A)((0,Be.A)({},r),{},{toasts:i})}(e,t),s=(0,a.useRef)(new Map).current,i=(0,a.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(s.has(e))return;let r=setTimeout(()=>{s.delete(e),o({type:4,toastId:e})},t);s.set(e,r)},[]);(0,a.useEffect)(()=>{if(n)return;let e=Date.now(),a=r.map(r=>{if(r.duration===1/0)return;let a=(r.duration||0)+r.pauseDuration-(e-r.createdAt);if(!(a<0))return setTimeout(()=>Pt.dismiss(r.id,t),a);r.visible&&Pt.dismiss(r.id)});return()=>{a.forEach(e=>e&&clearTimeout(e))}},[r,n,t]);let o=(0,a.useCallback)(St(t),[t]),l=(0,a.useCallback)(()=>{o({type:5,time:Date.now()})},[o]),c=(0,a.useCallback)((e,t)=>{o({type:1,toast:{id:e,height:t}})},[o]),d=(0,a.useCallback)(()=>{n&&o({type:6,time:Date.now()})},[n,o]),u=(0,a.useCallback)((e,t)=>{let{reverseOrder:a=!1,gutter:n=8,defaultPosition:s}=t||{},i=r.filter(t=>(t.position||s)===(e.position||s)&&t.height),o=i.findIndex(t=>t.id===e.id),l=i.filter((e,t)=>t<o&&e.visible).length;return i.filter(e=>e.visible).slice(...a?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+n,0)},[r]);return(0,a.useEffect)(()=>{r.forEach(e=>{if(e.dismissed)i(e.id,e.removeDelay);else{let t=s.get(e.id);t&&(clearTimeout(t),s.delete(e.id))}})},[r,i]),{toasts:r,handlers:{updateHeight:c,startPause:l,endPause:d,calculateOffset:u}}},_t=Ze(tt||(tt=(0,Ie.A)(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),Rt=Ze(rt||(rt=(0,Ie.A)(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Ot=Ze(at||(at=(0,Ie.A)(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),Ft=et("div")(nt||(nt=(0,Ie.A)(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",_t,Rt,e=>e.secondary||"#fff",Ot),Lt=Ze(st||(st=(0,Ie.A)(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),Mt=et("div")(it||(it=(0,Ie.A)(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",Lt),It=Ze(ot||(ot=(0,Ie.A)(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),Bt=Ze(lt||(lt=(0,Ie.A)(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),qt=et("div")(ct||(ct=(0,Ie.A)(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",It,Bt,e=>e.secondary||"#fff"),zt=et("div")(dt||(dt=(0,Ie.A)(["\n  position: absolute;\n"]))),Ut=et("div")(ut||(ut=(0,Ie.A)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),Vt=Ze(mt||(mt=(0,Ie.A)(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Yt=et("div")(ht||(ht=(0,Ie.A)(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),Vt),Wt=e=>{let{toast:t}=e,{icon:r,type:n,iconTheme:s}=t;return void 0!==r?"string"==typeof r?a.createElement(Yt,null,r):r:"blank"===n?null:a.createElement(Ut,null,a.createElement(Mt,(0,Be.A)({},s)),"loading"!==n&&a.createElement(zt,null,"error"===n?a.createElement(Ft,(0,Be.A)({},s)):a.createElement(qt,(0,Be.A)({},s))))},Ht=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),Gt=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),Kt=et("div")(pt||(pt=(0,Ie.A)(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),Qt=et("div")(gt||(gt=(0,Ie.A)(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),$t=a.memo(e=>{let{toast:t,position:r,style:n,children:s}=e,i=t.height?((e,t)=>{let r=e.includes("top")?1:-1,[a,n]=vt()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[Ht(r),Gt(r)];return{animation:t?"".concat(Ze(a)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(Ze(n)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||r||"top-center",t.visible):{opacity:0},o=a.createElement(Wt,{toast:t}),l=a.createElement(Qt,(0,Be.A)({},t.ariaProps),ft(t.message,t));return a.createElement(Kt,{className:t.className,style:(0,Be.A)((0,Be.A)((0,Be.A)({},i),n),t.style)},"function"==typeof s?s({icon:o,message:l}):a.createElement(a.Fragment,null,o,l))});!function(e,t,r,a){We.p=t,$e=e,Xe=r,Je=a}(a.createElement);var Xt=e=>{let{id:t,className:r,style:n,onHeightUpdate:s,children:i}=e,o=a.useCallback(e=>{if(e){let r=()=>{let r=e.getBoundingClientRect().height;s(t,r)};r(),new MutationObserver(r).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[t,s]);return a.createElement("div",{ref:o,className:r,style:n},i)},Jt=Qe(xt||(xt=(0,Ie.A)(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),Zt=e=>{let{reverseOrder:t,position:r="top-center",toastOptions:n,gutter:s,children:i,toasterId:o,containerStyle:l,containerClassName:c}=e,{toasts:d,handlers:u}=Tt(n,o);return a.createElement("div",{"data-rht-toaster":o||"",style:(0,Be.A)({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},l),className:c,onMouseEnter:u.startPause,onMouseLeave:u.endPause},d.map(e=>{let n=e.position||r,o=((e,t)=>{let r=e.includes("top"),a=r?{top:0}:{bottom:0},n=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return(0,Be.A)((0,Be.A)({left:0,right:0,display:"flex",position:"absolute",transition:vt()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(r?1:-1),"px)")},a),n)})(n,u.calculateOffset(e,{reverseOrder:t,gutter:s,defaultPosition:r}));return a.createElement(Xt,{id:e.id,key:e.id,onHeightUpdate:u.updateHeight,className:e.visible?Jt:"",style:o},"custom"===e.type?ft(e.message,e):i?i(e):a.createElement($t,{toast:e,position:n}))}))},er=Pt,tr=r(6938),rr=r(3342),ar=r(687),nr=r(1639);const sr=(0,nr.A)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),ir=(0,nr.A)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),or=(0,nr.A)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),lr=(0,nr.A)("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),cr=(0,nr.A)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),dr=(0,nr.A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ur=(0,nr.A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),mr=(0,nr.A)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),hr=(0,nr.A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var pr=r(614);const gr=(0,nr.A)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);var xr=r(579);const fr=(0,a.createContext)(),yr={user:null,token:localStorage.getItem("token"),loading:!0,error:null,showCelebration:!1,weakPassword:!1},vr=(e,t)=>{switch(t.type){case"AUTH_START":return(0,Be.A)((0,Be.A)({},e),{},{loading:!0,error:null});case"AUTH_SUCCESS":return(0,Be.A)((0,Be.A)({},e),{},{user:t.payload.user,token:t.payload.token,loading:!1,error:null,weakPassword:!!t.payload.weakPassword});case"AUTH_FAILURE":return(0,Be.A)((0,Be.A)({},e),{},{user:null,token:null,loading:!1,error:t.payload,weakPassword:!1});case"LOGOUT":return(0,Be.A)((0,Be.A)({},e),{},{user:null,token:null,loading:!1,error:null,weakPassword:!1});case"UPDATE_USER":return(0,Be.A)((0,Be.A)({},e),{},{user:(0,Be.A)((0,Be.A)({},e.user),t.payload)});case"SHOW_CELEBRATION":return(0,Be.A)((0,Be.A)({},e),{},{showCelebration:!0});case"HIDE_CELEBRATION":return(0,Be.A)((0,Be.A)({},e),{},{showCelebration:!1});default:return e}},br=e=>{let{children:t}=e;const[n,s]=(0,a.useReducer)(vr,yr);(0,a.useEffect)(()=>{n.token?i.A.defaults.headers.common.Authorization="Bearer ".concat(n.token):delete i.A.defaults.headers.common.Authorization},[n.token]),(0,a.useEffect)(()=>{(async()=>{if(n.token)try{const e=await i.A.get("/api/auth/me");s({type:"AUTH_SUCCESS",payload:{user:e.data.user,token:n.token,weakPassword:n.weakPassword}})}catch(e){localStorage.removeItem("token"),s({type:"AUTH_FAILURE",payload:"Session expired"})}else s({type:"AUTH_FAILURE",payload:null})})()},[n.token]);const o=()=>{localStorage.removeItem("token");try{"undefined"!==typeof window&&window.sessionStorage&&sessionStorage.removeItem("twofa_warning_dismissed")}catch(qe){}s({type:"LOGOUT"});try{delete i.A.defaults.headers.common.Authorization}catch(At){}try{er.success("Logged out successfully")}catch(At){}},l={user:n.user,token:n.token,loading:n.loading,error:n.error,weakPassword:n.weakPassword,showCelebration:n.showCelebration,login:async(e,t)=>{try{s({type:"AUTH_START"});const a=await i.A.post("/api/auth/login",{email:e,password:t},{withCredentials:!0});if(a.data&&a.data.requires2FA)return a.data.twoFactorSession&&sessionStorage.setItem("twoFactorSession",a.data.twoFactorSession),sessionStorage.setItem("twoFactorEmail",e),s({type:"AUTH_FAILURE",payload:null}),{success:!0,requires2FA:!0};const{token:n,user:o,weakPassword:l}=a.data;if("banned"===o.status)return s({type:"AUTH_FAILURE",payload:"Your account has been banned. Please contact support for assistance."}),er.error("Your account has been banned. Please contact support for assistance."),{success:!1,error:"Account banned"};if(localStorage.setItem("token",n),s({type:"AUTH_SUCCESS",payload:{user:o,token:n,weakPassword:l}}),console.log("\ud83c\udf89 LOGIN: Showing welcome toast for user",o.name),setTimeout(()=>{let e=!1;try{const{i18n:t}=r(687);e=t&&"ar"===t.language}catch(a){console.warn("i18n not available:",a),e=!1}const t=e?"\u0645\u0631\u062d\u0628\u0627\u064b \u0628\u0639\u0648\u062f\u062a\u0643\u060c ".concat(o.name,"! \u0644\u0646\u0628\u062f\u0623 \u0627\u0644\u062a\u0639\u0644\u0645! \ud83c\udf93"):"Welcome back, ".concat(o.name,"! Let's continue learning! \ud83c\udf93");window.dispatchEvent(new CustomEvent("show-welcome-toast",{detail:{message:t}}))},1e3),o&&"student"===o.role){const e="streak_in_progress_".concat(o.email),t="streak_completed_".concat(o.email,"_").concat(Date.now().toString().substring(0,10));if(console.log("\ud83d\udd25 LOGIN: Checking streak processing for",o.name,{streakKey:e,streakCompletedKey:t,alreadyProcessing:!!sessionStorage.getItem(e),alreadyCompleted:!!sessionStorage.getItem(t)}),sessionStorage.getItem(e)||sessionStorage.getItem(t))return console.log("\ud83d\udeab LOGIN: Already processing or completed streak for this session"),{success:!0};console.log("\u2705 LOGIN: Starting streak processing for",o.name),sessionStorage.setItem(e,"true"),sessionStorage.setItem(t,"true"),setTimeout(async()=>{try{console.log("\ud83d\udd25 LOGIN: Starting streak API call after welcome delay...");const e=await i.A.post("/api/gamification/update-streak"),t=null===e||void 0===e?void 0:e.data;if(console.log("\ud83d\udd25 LOGIN: Streak API response:",t),t&&void 0!==t.streakDays){console.log("\ud83d\udd25 LOGIN: Received streak data from server",t);const e=t.streakDays,n=t.lastShownStreak||0;try{window.dispatchEvent(new CustomEvent("streak-updated",{detail:{streakDays:e}}))}catch(qe){}if(console.log("\ud83d\udd25 LOGIN: Streak comparison",{currentStreak:e,lastShownStreak:n,shouldShowAnimation:e>n}),e>n){console.log("\ud83d\udd25 LOGIN: Streak increased! Showing toast animation");let t=!1;try{const{i18n:e}=r(687);t=e&&"ar"===e.language}catch(a){console.warn("i18n not available:",a),t=!1}const n=1===e?t?"\ud83d\udd25 \u0633\u0644\u0633\u0644\u0629 \u064a\u0648\u0645 \u0648\u0627\u062d\u062f! \u0628\u062f\u0627\u064a\u0629 \u0631\u0627\u0626\u0639\u0629!":"\ud83d\udd25 1-day streak! Great start!":e>=30?t?"\ud83c\udfc6 \u0633\u0644\u0633\u0644\u0629 ".concat(e," \u064a\u0648\u0645! \u0623\u0633\u0637\u0648\u0631\u064a!"):"\ud83c\udfc6 ".concat(e,"-day streak! Legendary!"):e>=14?t?"\u2b50 \u0633\u0644\u0633\u0644\u0629 ".concat(e," \u064a\u0648\u0645! \u0645\u0630\u0647\u0644!"):"\u2b50 ".concat(e,"-day streak! Amazing!"):e>=7?t?"\ud83d\udcaa \u0633\u0644\u0633\u0644\u0629 ".concat(e," \u064a\u0648\u0645! \u0623\u0646\u062a \u0645\u064f\u0644\u062a\u0647\u0628!"):"\ud83d\udcaa ".concat(e,"-day streak! On fire!"):e>=3?t?"\ud83d\ude80 \u0633\u0644\u0633\u0644\u0629 ".concat(e," \u064a\u0648\u0645! \u0648\u0627\u0635\u0644 \u0627\u0644\u0645\u0633\u064a\u0631!"):"\ud83d\ude80 ".concat(e,"-day streak! Keep going!"):t?"\ud83d\udd25 \u0633\u0644\u0633\u0644\u0629 ".concat(e," \u064a\u0648\u0645! \u0648\u0627\u0635\u0644 \u0627\u0644\u0645\u0633\u064a\u0631!"):"\ud83d\udd25 ".concat(e,"-day streak! Keep going!"),s="streak_toast_shown_".concat(e,"_").concat(Date.now().toString().substring(0,10));sessionStorage.getItem(s)||(sessionStorage.setItem(s,"true"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("show-streak-toast",{detail:{streakDays:e,streakMessage:n,isStreakUpdate:!0}}))},1500),setTimeout(()=>{sessionStorage.removeItem(s)},1e4));try{await i.A.post("/api/gamification/update-last-shown-streak",{lastShownStreak:e}),console.log("\ud83d\udd25 LOGIN: Updated lastShownStreak to",e)}catch(a){console.error("Failed to update lastShownStreak:",a)}}else console.log("\ud83d\udd25 LOGIN: Streak unchanged, no toast needed")}else console.log("\ud83d\udeab LOGIN: No streak data received from server")}catch(a){console.log("Streak update failed:",a)}finally{setTimeout(()=>{sessionStorage.removeItem(e),console.log("\ud83d\udd25 LOGIN: Cleared in-progress flag",e)},5e3),setTimeout(()=>{sessionStorage.removeItem(t),console.log("\ud83d\udd25 LOGIN: Cleared completed flag",t)},6e4)}},3e3)}return setTimeout(()=>{er.success("Login successful!")},6e3),{success:!0}}catch(o){var a,n;const e=(null===(a=o.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message)||"Login failed";return s({type:"AUTH_FAILURE",payload:e}),er.error(e),{success:!1,error:e}}},submitTwoFactor:async e=>{let{code:t,rememberDevice:r,deviceName:a}=e;try{const e=sessionStorage.getItem("twoFactorSession"),n={code:t,rememberDevice:r,deviceName:a,twoFactorSession:e,email:sessionStorage.getItem("twoFactorEmail")},o=await i.A.post("/api/auth/login-2fa",n,{withCredentials:!0}),{token:l,user:c,weakPassword:d}=o.data;if(!l||!c)throw new Error("Invalid server response");return localStorage.setItem("token",l),s({type:"AUTH_SUCCESS",payload:{user:c,token:l,weakPassword:d}}),sessionStorage.removeItem("twoFactorSession"),sessionStorage.removeItem("twoFactorEmail"),er.success("Login successful"),{success:!0}}catch(l){var n,o;const e=(null===(n=l.response)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.message)||"2FA verification failed";return er.error(e),{success:!1,error:e}}},register:async e=>{try{var t;s({type:"AUTH_START"});const r=await i.A.post("/api/auth/register",e);return null!==e&&void 0!==e&&e.email&&localStorage.setItem("pendingEmail",e.email),s({type:"AUTH_FAILURE",payload:null}),er.success((null===(t=r.data)||void 0===t?void 0:t.message)||"Verification email sent. Please verify your email."),{success:!0}}catch(a){var r;const t=(null===a||void 0===a||null===(r=a.response)||void 0===r?void 0:r.data)||{},n=Array.isArray(t.errors)?t.errors:[],i=[...new Set(n.map(e=>(null===e||void 0===e?void 0:e.msg)||(null===e||void 0===e?void 0:e.message)).filter(Boolean))],o=i.length?i.join(" \u2022 "):t.message||"Registration failed",l=!!t.shouldVerify;return s({type:"AUTH_FAILURE",payload:o}),l&&null!==e&&void 0!==e&&e.email&&localStorage.setItem("pendingEmail",e.email),er.error(o),{success:!1,error:o,shouldVerify:l}}},logout:o,updateProfile:async e=>{try{console.log("[AuthContext] Sending profile update:",e);const t=await i.A.put("/api/auth/profile",e);return console.log("[AuthContext] Received response:",t.data),s({type:"UPDATE_USER",payload:t.data.user}),er.success("Profile updated successfully"),{success:!0}}catch(d){var t,r,a,n,o,l,c;console.error("[AuthContext] Profile update error:",(null===(t=d.response)||void 0===t?void 0:t.data)||d);const e=(null===(r=d.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||(null===(n=d.response)||void 0===n||null===(o=n.data)||void 0===o||null===(l=o.errors)||void 0===l||null===(c=l[0])||void 0===c?void 0:c.msg)||"Update failed";return er.error(e),{success:!1,error:e}}},updatePassword:async e=>{try{return await i.A.put("/api/auth/password",e),er.success("Password updated successfully"),{success:!0}}catch(a){var t,r;const e=(null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Password update failed";return er.error(e),{success:!1,error:e}}},deleteAccount:async()=>{try{return await i.A.delete("/api/users/account"),er.success("Account deleted successfully"),o(),{success:!0}}catch(r){var e,t;const a=(null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to delete account";return er.error(a),{success:!1,error:a}}},resendVerification:async e=>{try{const t={email:e};return await i.A.post("/api/auth/resend-verification",t),er.success("Verification email sent"),{success:!0}}catch(a){var t,r;const e=(null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to resend verification";return er.error(e),{success:!1,error:e}}},hideCelebration:()=>{s({type:"HIDE_CELEBRATION"})},refreshUser:async()=>{try{if(!n.token)return{success:!1};const e=await i.A.get("/api/auth/me");return s({type:"AUTH_SUCCESS",payload:{user:e.data.user,token:n.token}}),{success:!0}}catch(qe){return{success:!1}}}};return(0,xr.jsx)(fr.Provider,{value:l,children:t})},wr=()=>{const e=(0,a.useContext)(fr);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},jr=(0,a.createContext)(),kr=e=>{let{children:t}=e;const[r,n]=(0,a.useState)(()=>localStorage.getItem("theme")||"dark");(0,a.useEffect)(()=>{localStorage.setItem("theme",r),"dark"===r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[r]);const s={theme:r,toggleTheme:()=>{n(e=>"light"===e?"dark":"light")},setTheme:n};return(0,xr.jsx)(jr.Provider,{value:s,children:t})},Nr=()=>{const e=(0,a.useContext)(jr);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},Cr=e=>"string"===typeof e,Ar=()=>{let e,t;const r=new Promise((r,a)=>{e=r,t=a});return r.resolve=e,r.reject=t,r},Sr=e=>null==e?"":""+e,Er=/###/g,Dr=e=>e&&e.indexOf("###")>-1?e.replace(Er,"."):e,Pr=e=>!e||Cr(e),Tr=(e,t,r)=>{const a=Cr(t)?t.split("."):t;let n=0;for(;n<a.length-1;){if(Pr(e))return{};const t=Dr(a[n]);!e[t]&&r&&(e[t]=new r),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++n}return Pr(e)?{}:{obj:e,k:Dr(a[n])}},_r=(e,t,r)=>{const{obj:a,k:n}=Tr(e,t,Object);if(void 0!==a||1===t.length)return void(a[n]=r);let s=t[t.length-1],i=t.slice(0,t.length-1),o=Tr(e,i,Object);for(;void 0===o.obj&&i.length;)s="".concat(i[i.length-1],".").concat(s),i=i.slice(0,i.length-1),o=Tr(e,i,Object),o&&o.obj&&"undefined"!==typeof o.obj["".concat(o.k,".").concat(s)]&&(o.obj=void 0);o.obj["".concat(o.k,".").concat(s)]=r},Rr=(e,t)=>{const{obj:r,k:a}=Tr(e,t);if(r)return r[a]},Or=(e,t,r)=>{for(const a in t)"__proto__"!==a&&"constructor"!==a&&(a in e?Cr(e[a])||e[a]instanceof String||Cr(t[a])||t[a]instanceof String?r&&(e[a]=t[a]):Or(e[a],t[a],r):e[a]=t[a]);return e},Fr=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Lr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Mr=e=>Cr(e)?e.replace(/[&<>"'\/]/g,e=>Lr[e]):e;const Ir=[" ",",","?","!",";"],Br=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}(20),qr=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t])return e[t];const a=t.split(r);let n=e;for(let s=0;s<a.length;){if(!n||"object"!==typeof n)return;let e,t="";for(let i=s;i<a.length;++i)if(i!==s&&(t+=r),t+=a[i],e=n[t],void 0!==e){if(["string","number","boolean"].indexOf(typeof e)>-1&&i<a.length-1)continue;s+=i-s+1;break}n=e}return n},zr=e=>e&&e.replace("_","-"),Ur={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class Vr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||Ur,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,a){return a&&!this.debug?null:(Cr(e[0])&&(e[0]="".concat(r).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}create(e){return new Vr(this.logger,(0,Be.A)((0,Be.A)({},{prefix:"".concat(this.prefix,":").concat(e,":")}),this.options))}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new Vr(this.logger,e)}}var Yr=new Vr;class Wr{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(e=>{this.observers[e]||(this.observers[e]=new Map);const r=this.observers[e].get(t)||0;this.observers[e].set(t,r+1)}),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];if(this.observers[e]){Array.from(this.observers[e].entries()).forEach(e=>{let[t,a]=e;for(let n=0;n<a;n++)t(...r)})}if(this.observers["*"]){Array.from(this.observers["*"].entries()).forEach(t=>{let[a,n]=t;for(let s=0;s<n;s++)a.apply(a,[e,...r])})}}}class Hr extends Wr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const n=void 0!==a.keySeparator?a.keySeparator:this.options.keySeparator,s=void 0!==a.ignoreJSONStructure?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let i;e.indexOf(".")>-1?i=e.split("."):(i=[e,t],r&&(Array.isArray(r)?i.push(...r):Cr(r)&&n?i.push(...r.split(n)):i.push(r)));const o=Rr(this.data,i);return!o&&!t&&!r&&e.indexOf(".")>-1&&(e=i[0],t=i[1],r=i.slice(2).join(".")),!o&&s&&Cr(r)?qr(this.data&&this.data[e]&&this.data[e][t],r,n):o}addResource(e,t,r,a){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const s=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator;let i=[e,t];r&&(i=i.concat(s?r.split(s):r)),e.indexOf(".")>-1&&(i=e.split("."),a=t,t=i[1]),this.addNamespaces(t),_r(this.data,i,a),n.silent||this.emit("added",e,t,r,a)}addResources(e,t,r){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const n in r)(Cr(r[n])||Array.isArray(r[n]))&&this.addResource(e,t,n,r[n],{silent:!0});a.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,a,n){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},i=[e,t];e.indexOf(".")>-1&&(i=e.split("."),a=r,r=t,t=i[1]),this.addNamespaces(t);let o=Rr(this.data,i)||{};s.skipCopy||(r=JSON.parse(JSON.stringify(r))),a?Or(o,r,n):o=(0,Be.A)((0,Be.A)({},o),r),_r(this.data,i,o),s.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?(0,Be.A)((0,Be.A)({},{}),this.getResource(e,t)):this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(e=>t[e]&&Object.keys(t[e]).length>0)}toJSON(){return this.data}}var Gr={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,a,n){return e.forEach(e=>{this.processors[e]&&(t=this.processors[e].process(t,r,a,n))}),t}};const Kr={};class Qr extends Wr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),((e,t,r)=>{e.forEach(e=>{t[e]&&(r[e]=t[e])})})(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=Yr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(void 0===e||null===e)return!1;const r=this.resolve(e,t);return r&&void 0!==r.res}extractFromKey(e,t){let r=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===r&&(r=":");const a=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let n=t.ns||this.options.defaultNS||[];const s=r&&e.indexOf(r)>-1,i=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!((e,t,r)=>{t=t||"",r=r||"";const a=Ir.filter(e=>t.indexOf(e)<0&&r.indexOf(e)<0);if(0===a.length)return!0;const n=Br.getRegExp("(".concat(a.map(e=>"?"===e?"\\?":e).join("|"),")"));let s=!n.test(e);if(!s){const t=e.indexOf(r);t>0&&!n.test(e.substring(0,t))&&(s=!0)}return s})(e,r,a);if(s&&!i){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:Cr(n)?[n]:n};const s=e.split(r);(r!==a||r===a&&this.options.ns.indexOf(s[0])>-1)&&(n=s.shift()),e=s.join(a)}return{key:e,namespaces:Cr(n)?[n]:n}}translate(e,t,r){if("object"!==typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"===typeof t&&(t=(0,Be.A)({},t)),t||(t={}),void 0===e||null===e)return"";Array.isArray(e)||(e=[String(e)]);const a=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,n=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,{key:s,namespaces:i}=this.extractFromKey(e[e.length-1],t),o=i[i.length-1],l=t.lng||this.language,c=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l&&"cimode"===l.toLowerCase()){if(c){const e=t.nsSeparator||this.options.nsSeparator;return a?{res:"".concat(o).concat(e).concat(s),usedKey:s,exactUsedKey:s,usedLng:l,usedNS:o,usedParams:this.getUsedParamsDetails(t)}:"".concat(o).concat(e).concat(s)}return a?{res:s,usedKey:s,exactUsedKey:s,usedLng:l,usedNS:o,usedParams:this.getUsedParamsDetails(t)}:s}const d=this.resolve(e,t);let u=d&&d.res;const m=d&&d.usedKey||s,h=d&&d.exactUsedKey||s,p=Object.prototype.toString.apply(u),g=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,x=!this.i18nFormat||this.i18nFormat.handleAsObject,f=!Cr(u)&&"boolean"!==typeof u&&"number"!==typeof u;if(!(x&&u&&f&&["[object Number]","[object Function]","[object RegExp]"].indexOf(p)<0)||Cr(g)&&Array.isArray(u))if(x&&Cr(g)&&Array.isArray(u))u=u.join(g),u&&(u=this.extendTranslation(u,e,t,r));else{let a=!1,i=!1;const c=void 0!==t.count&&!Cr(t.count),m=Qr.hasDefaultValue(t),h=c?this.pluralResolver.getSuffix(l,t.count,t):"",p=t.ordinal&&c?this.pluralResolver.getSuffix(l,t.count,{ordinal:!1}):"",g=c&&!t.ordinal&&0===t.count&&this.pluralResolver.shouldUseIntlApi(),x=g&&t["defaultValue".concat(this.options.pluralSeparator,"zero")]||t["defaultValue".concat(h)]||t["defaultValue".concat(p)]||t.defaultValue;!this.isValidLookup(u)&&m&&(a=!0,u=x),this.isValidLookup(u)||(i=!0,u=s);const f=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&i?void 0:u,y=m&&x!==u&&this.options.updateMissing;if(i||a||y){if(this.logger.log(y?"updateKey":"missingKey",l,o,s,y?x:u),n){const e=this.resolve(s,(0,Be.A)((0,Be.A)({},t),{},{keySeparator:!1}));e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const r=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&r&&r[0])for(let t=0;t<r.length;t++)e.push(r[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);const a=(e,r,a)=>{const n=m&&a!==u?a:f;this.options.missingKeyHandler?this.options.missingKeyHandler(e,o,r,n,y,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(e,o,r,n,y,t),this.emit("missingKey",e,o,r,u)};this.options.saveMissing&&(this.options.saveMissingPlurals&&c?e.forEach(e=>{const r=this.pluralResolver.getSuffixes(e,t);g&&t["defaultValue".concat(this.options.pluralSeparator,"zero")]&&r.indexOf("".concat(this.options.pluralSeparator,"zero"))<0&&r.push("".concat(this.options.pluralSeparator,"zero")),r.forEach(r=>{a([e],s+r,t["defaultValue".concat(r)]||x)})}):a(e,s,x))}u=this.extendTranslation(u,e,t,d,r),i&&u===s&&this.options.appendNamespaceToMissingKey&&(u="".concat(o,":").concat(s)),(i||a)&&this.options.parseMissingKeyHandler&&(u="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(o,":").concat(s):s,a?u:void 0):this.options.parseMissingKeyHandler(u))}else{if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,u,(0,Be.A)((0,Be.A)({},t),{},{ns:i})):"key '".concat(s," (").concat(this.language,")' returned an object instead of string.");return a?(d.res=e,d.usedParams=this.getUsedParamsDetails(t),d):e}if(n){const e=Array.isArray(u),r=e?[]:{},a=e?h:m;for(const s in u)if(Object.prototype.hasOwnProperty.call(u,s)){const e="".concat(a).concat(n).concat(s);r[s]=this.translate(e,(0,Be.A)((0,Be.A)({},t),{joinArrays:!1,ns:i})),r[s]===e&&(r[s]=u[s])}u=r}}return a?(d.res=u,d.usedParams=this.getUsedParamsDetails(t),d):u}extendTranslation(e,t,r,a,n){var s=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,(0,Be.A)((0,Be.A)({},this.options.interpolation.defaultVariables),r),r.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init((0,Be.A)((0,Be.A)({},r),{interpolation:(0,Be.A)((0,Be.A)({},this.options.interpolation),r.interpolation)}));const i=Cr(e)&&(r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let o;if(i){const t=e.match(this.interpolator.nestingRegexp);o=t&&t.length}let l=r.replace&&!Cr(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(l=(0,Be.A)((0,Be.A)({},this.options.interpolation.defaultVariables),l)),e=this.interpolator.interpolate(e,l,r.lng||this.language||a.usedLng,r),i){const t=e.match(this.interpolator.nestingRegexp);o<(t&&t.length)&&(r.nest=!1)}!r.lng&&"v1"!==this.options.compatibilityAPI&&a&&a.res&&(r.lng=this.language||a.usedLng),!1!==r.nest&&(e=this.interpolator.nest(e,function(){for(var e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return n&&n[0]===a[0]&&!r.context?(s.logger.warn("It seems you are nesting recursively key: ".concat(a[0]," in key: ").concat(t[0])),null):s.translate(...a,t)},r)),r.interpolation&&this.interpolator.reset()}const i=r.postProcess||this.options.postProcess,o=Cr(i)?[i]:i;return void 0!==e&&null!==e&&o&&o.length&&!1!==r.applyPostProcessor&&(e=Gr.handle(o,e,t,this.options&&this.options.postProcessPassResolved?(0,Be.A)({i18nResolved:(0,Be.A)((0,Be.A)({},a),{},{usedParams:this.getUsedParamsDetails(r)})},r):r,this)),e}resolve(e){let t,r,a,n,s,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Cr(e)&&(e=[e]),e.forEach(e=>{if(this.isValidLookup(t))return;const o=this.extractFromKey(e,i),l=o.key;r=l;let c=o.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const d=void 0!==i.count&&!Cr(i.count),u=d&&!i.ordinal&&0===i.count&&this.pluralResolver.shouldUseIntlApi(),m=void 0!==i.context&&(Cr(i.context)||"number"===typeof i.context)&&""!==i.context,h=i.lngs?i.lngs:this.languageUtils.toResolveHierarchy(i.lng||this.language,i.fallbackLng);c.forEach(e=>{this.isValidLookup(t)||(s=e,!Kr["".concat(h[0],"-").concat(e)]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(s)&&(Kr["".concat(h[0],"-").concat(e)]=!0,this.logger.warn('key "'.concat(r,'" for languages "').concat(h.join(", "),'" won\'t get resolved as namespace "').concat(s,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach(r=>{if(this.isValidLookup(t))return;n=r;const s=[l];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(s,l,r,e,i);else{let e;d&&(e=this.pluralResolver.getSuffix(r,i.count,i));const t="".concat(this.options.pluralSeparator,"zero"),a="".concat(this.options.pluralSeparator,"ordinal").concat(this.options.pluralSeparator);if(d&&(s.push(l+e),i.ordinal&&0===e.indexOf(a)&&s.push(l+e.replace(a,this.options.pluralSeparator)),u&&s.push(l+t)),m){const r="".concat(l).concat(this.options.contextSeparator).concat(i.context);s.push(r),d&&(s.push(r+e),i.ordinal&&0===e.indexOf(a)&&s.push(r+e.replace(a,this.options.pluralSeparator)),u&&s.push(r+t))}}let o;for(;o=s.pop();)this.isValidLookup(t)||(a=o,t=this.getResource(r,e,o,i))}))})}),{res:t,usedKey:r,exactUsedKey:a,usedLng:n,usedNS:s}}isValidLookup(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}getResource(e,t,r){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,r,a):this.resourceStore.getResource(e,t,r,a)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Cr(e.replace);let a=r?e.replace:e;if(r&&"undefined"!==typeof e.count&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a=(0,Be.A)((0,Be.A)({},this.options.interpolation.defaultVariables),a)),!r){a=(0,Be.A)({},a);for(const e of t)delete a[e]}return a}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,12)&&void 0!==e[r])return!0;return!1}}const $r=e=>e.charAt(0).toUpperCase()+e.slice(1);class Xr{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Yr.create("languageUtils")}getScriptPartFromCode(e){if(!(e=zr(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=zr(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Cr(e)&&e.indexOf("-")>-1){if("undefined"!==typeof Intl&&"undefined"!==typeof Intl.getCanonicalLocales)try{let t=Intl.getCanonicalLocales(e)[0];if(t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t)return t}catch(qe){}const t=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(e=>e.toLowerCase()):2===r.length?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=$r(r[1].toLowerCase()))):3===r.length&&(r[0]=r[0].toLowerCase(),2===r[1].length&&(r[1]=r[1].toUpperCase()),"sgn"!==r[0]&&2===r[2].length&&(r[2]=r[2].toUpperCase()),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=$r(r[1].toLowerCase())),t.indexOf(r[2].toLowerCase())>-1&&(r[2]=$r(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(e=>{if(t)return;const r=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(r)||(t=r)}),!t&&this.options.supportedLngs&&e.forEach(e=>{if(t)return;const r=this.getLanguagePartFromCode(e);if(this.isSupportedCode(r))return t=r;t=this.options.supportedLngs.find(e=>e===r?e:e.indexOf("-")<0&&r.indexOf("-")<0?void 0:e.indexOf("-")>0&&r.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===r||0===e.indexOf(r)&&r.length>1?e:void 0)}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"===typeof e&&(e=e(t)),Cr(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),a=[],n=e=>{e&&(this.isSupportedCode(e)?a.push(e):this.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return Cr(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&n(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&n(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&n(this.getLanguagePartFromCode(e))):Cr(e)&&n(this.formatLanguageCode(e)),r.forEach(e=>{a.indexOf(e)<0&&n(this.formatLanguageCode(e))}),a}}let Jr=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Zr={1:e=>Number(e>1),2:e=>Number(1!=e),3:e=>0,4:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),5:e=>Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5),6:e=>Number(1==e?0:e>=2&&e<=4?1:2),7:e=>Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),8:e=>Number(1==e?0:2==e?1:8!=e&&11!=e?2:3),9:e=>Number(e>=2),10:e=>Number(1==e?0:2==e?1:e<7?2:e<11?3:4),11:e=>Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3),12:e=>Number(e%10!=1||e%100==11),13:e=>Number(0!==e),14:e=>Number(1==e?0:2==e?1:3==e?2:3),15:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2),16:e=>Number(e%10==1&&e%100!=11?0:0!==e?1:2),17:e=>Number(1==e||e%10==1&&e%100!=11?0:1),18:e=>Number(0==e?0:1==e?1:2),19:e=>Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3),20:e=>Number(1==e?0:0==e||e%100>0&&e%100<20?1:2),21:e=>Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0),22:e=>Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)};const ea=["v1","v2","v3"],ta=["v4"],ra={zero:0,one:1,two:2,few:3,many:4,other:5};class aa{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=Yr.create("pluralResolver"),this.options.compatibilityJSON&&!ta.includes(this.options.compatibilityJSON)||"undefined"!==typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=(()=>{const e={};return Jr.forEach(t=>{t.lngs.forEach(r=>{e[r]={numbers:t.nr,plurals:Zr[t.fc]}})}),e})(),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi()){const a=zr("dev"===e?"en":e),n=t.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:a,type:n});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let i;try{i=new Intl.PluralRules(a,{type:n})}catch(r){if(!e.match(/-|_/))return;const a=this.languageUtils.getLanguagePartFromCode(e);i=this.getRule(a,t)}return this.pluralRulesCache[s]=i,i}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=this.getRule(e,t);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,r).map(e=>"".concat(t).concat(e))}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=this.getRule(e,t);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((e,t)=>ra[e]-ra[t]).map(e=>"".concat(this.options.prepend).concat(t.ordinal?"ordinal".concat(this.options.prepend):"").concat(e)):r.numbers.map(r=>this.getSuffix(e,r,t)):[]}getSuffix(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=this.getRule(e,r);return a?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(r.ordinal?"ordinal".concat(this.options.prepend):"").concat(a.select(t)):this.getSuffixRetroCompatible(a,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}getSuffixRetroCompatible(e,t){const r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let a=e.numbers[r];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===a?a="plural":1===a&&(a=""));const n=()=>this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString();return"v1"===this.options.compatibilityJSON?1===a?"":"number"===typeof a?"_plural_".concat(a.toString()):n():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?n():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!ea.includes(this.options.compatibilityJSON)}}const na=function(e,t,r){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",n=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=((e,t,r)=>{const a=Rr(e,r);return void 0!==a?a:Rr(t,r)})(e,t,r);return!s&&n&&Cr(r)&&(s=qr(e,r,a),void 0===s&&(s=qr(t,r,a))),s},sa=e=>e.replace(/\$/g,"$$$$");class ia{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=Yr.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:a,prefix:n,prefixEscaped:s,suffix:i,suffixEscaped:o,formatSeparator:l,unescapeSuffix:c,unescapePrefix:d,nestingPrefix:u,nestingPrefixEscaped:m,nestingSuffix:h,nestingSuffixEscaped:p,nestingOptionsSeparator:g,maxReplaces:x,alwaysFormat:f}=e.interpolation;this.escape=void 0!==t?t:Mr,this.escapeValue=void 0===r||r,this.useRawValueToEscape=void 0!==a&&a,this.prefix=n?Fr(n):s||"{{",this.suffix=i?Fr(i):o||"}}",this.formatSeparator=l||",",this.unescapePrefix=c?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=u?Fr(u):m||Fr("$t("),this.nestingSuffix=h?Fr(h):p||Fr(")"),this.nestingOptionsSeparator=g||",",this.maxReplaces=x||1e3,this.alwaysFormat=void 0!==f&&f,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>e&&e.source===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,"".concat(this.prefix,"(.+?)").concat(this.suffix)),this.regexpUnescape=e(this.regexpUnescape,"".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix)),this.nestingRegexp=e(this.nestingRegexp,"".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix))}interpolate(e,t,r,a){let n,s,i;const o=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},l=e=>{if(e.indexOf(this.formatSeparator)<0){const n=na(t,o,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(n,void 0,r,(0,Be.A)((0,Be.A)((0,Be.A)({},a),t),{},{interpolationkey:e})):n}const n=e.split(this.formatSeparator),s=n.shift().trim(),i=n.join(this.formatSeparator).trim();return this.format(na(t,o,s,this.options.keySeparator,this.options.ignoreJSONStructure),i,r,(0,Be.A)((0,Be.A)((0,Be.A)({},a),t),{},{interpolationkey:s}))};this.resetRegExp();const c=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler,d=a&&a.interpolation&&void 0!==a.interpolation.skipOnVariables?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>sa(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?sa(this.escape(e)):sa(e)}].forEach(t=>{for(i=0;n=t.regex.exec(e);){const r=n[1].trim();if(s=l(r),void 0===s)if("function"===typeof c){const t=c(e,n,a);s=Cr(t)?t:""}else if(a&&Object.prototype.hasOwnProperty.call(a,r))s="";else{if(d){s=n[0];continue}this.logger.warn("missed to pass in variable ".concat(r," for interpolating ").concat(e)),s=""}else Cr(s)||this.useRawValueToEscape||(s=Sr(s));const o=t.safeValue(s);if(e=e.replace(n[0],o),d?(t.regex.lastIndex+=s.length,t.regex.lastIndex-=n[0].length):t.regex.lastIndex=0,i++,i>=this.maxReplaces)break}}),e}nest(e,t){let r,a,n,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=(e,t)=>{const r=this.nestingOptionsSeparator;if(e.indexOf(r)<0)return e;const a=e.split(new RegExp("".concat(r,"[ ]*{")));let s="{".concat(a[1]);e=a[0],s=this.interpolate(s,n);const i=s.match(/'/g),o=s.match(/"/g);(i&&i.length%2===0&&!o||o.length%2!==0)&&(s=s.replace(/'/g,'"'));try{n=JSON.parse(s),t&&(n=(0,Be.A)((0,Be.A)({},t),n))}catch(qe){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),qe),"".concat(e).concat(r).concat(s)}return n.defaultValue&&n.defaultValue.indexOf(this.prefix)>-1&&delete n.defaultValue,e};for(;r=this.nestingRegexp.exec(e);){let o=[];n=(0,Be.A)({},s),n=n.replace&&!Cr(n.replace)?n.replace:n,n.applyPostProcessor=!1,delete n.defaultValue;let l=!1;if(-1!==r[0].indexOf(this.formatSeparator)&&!/{.*}/.test(r[1])){const e=r[1].split(this.formatSeparator).map(e=>e.trim());r[1]=e.shift(),o=e,l=!0}if(a=t(i.call(this,r[1].trim(),n),n),a&&r[0]===e&&!Cr(a))return a;Cr(a)||(a=Sr(a)),a||(this.logger.warn("missed to resolve ".concat(r[1]," for nesting ").concat(e)),a=""),l&&(a=o.reduce((e,t)=>this.format(e,t,s.lng,(0,Be.A)((0,Be.A)({},s),{},{interpolationkey:r[1].trim()})),a.trim())),e=e.replace(r[0],a),this.regexp.lastIndex=0}return e}}const oa=e=>{const t={};return(r,a,n)=>{let s=n;n&&n.interpolationkey&&n.formatParams&&n.formatParams[n.interpolationkey]&&n[n.interpolationkey]&&(s=(0,Be.A)((0,Be.A)({},s),{},{[n.interpolationkey]:void 0}));const i=a+JSON.stringify(s);let o=t[i];return o||(o=e(zr(a),n),t[i]=o),o(r)}};class la{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=Yr.create("formatter"),this.options=e,this.formats={number:oa((e,t)=>{const r=new Intl.NumberFormat(e,(0,Be.A)({},t));return e=>r.format(e)}),currency:oa((e,t)=>{const r=new Intl.NumberFormat(e,(0,Be.A)((0,Be.A)({},t),{},{style:"currency"}));return e=>r.format(e)}),datetime:oa((e,t)=>{const r=new Intl.DateTimeFormat(e,(0,Be.A)({},t));return e=>r.format(e)}),relativetime:oa((e,t)=>{const r=new Intl.RelativeTimeFormat(e,(0,Be.A)({},t));return e=>r.format(e,t.range||"day")}),list:oa((e,t)=>{const r=new Intl.ListFormat(e,(0,Be.A)({},t));return e=>r.format(e)})},this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=oa(t)}format(e,t,r){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const n=t.split(this.formatSeparator);if(n.length>1&&n[0].indexOf("(")>1&&n[0].indexOf(")")<0&&n.find(e=>e.indexOf(")")>-1)){const e=n.findIndex(e=>e.indexOf(")")>-1);n[0]=[n[0],...n.splice(1,e)].join(this.formatSeparator)}const s=n.reduce((e,t)=>{const{formatName:n,formatOptions:s}=(e=>{let t=e.toLowerCase().trim();const r={};if(e.indexOf("(")>-1){const a=e.split("(");t=a[0].toLowerCase().trim();const n=a[1].substring(0,a[1].length-1);"currency"===t&&n.indexOf(":")<0?r.currency||(r.currency=n.trim()):"relativetime"===t&&n.indexOf(":")<0?r.range||(r.range=n.trim()):n.split(";").forEach(e=>{if(e){const[t,...a]=e.split(":"),n=a.join(":").trim().replace(/^'+|'+$/g,""),s=t.trim();r[s]||(r[s]=n),"false"===n&&(r[s]=!1),"true"===n&&(r[s]=!0),isNaN(n)||(r[s]=parseInt(n,10))}})}return{formatName:t,formatOptions:r}})(t);if(this.formats[n]){let t=e;try{const i=a&&a.formatParams&&a.formatParams[a.interpolationkey]||{},o=i.locale||i.lng||a.locale||a.lng||r;t=this.formats[n](e,o,(0,Be.A)((0,Be.A)((0,Be.A)({},s),a),i))}catch(i){this.logger.warn(i)}return t}return this.logger.warn("there was no format function for ".concat(n)),e},e);return s}}class ca extends Wr{constructor(e,t,r){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=a,this.logger=Yr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,a.backend,a)}queueLoad(e,t,r,a){const n={},s={},i={},o={};return e.forEach(e=>{let a=!0;t.forEach(t=>{const i="".concat(e,"|").concat(t);!r.reload&&this.store.hasResourceBundle(e,t)?this.state[i]=2:this.state[i]<0||(1===this.state[i]?void 0===s[i]&&(s[i]=!0):(this.state[i]=1,a=!1,void 0===s[i]&&(s[i]=!0),void 0===n[i]&&(n[i]=!0),void 0===o[t]&&(o[t]=!0)))}),a||(i[e]=!0)}),(Object.keys(n).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(n),pending:Object.keys(s),toLoadLanguages:Object.keys(i),toLoadNamespaces:Object.keys(o)}}loaded(e,t,r){const a=e.split("|"),n=a[0],s=a[1];t&&this.emit("failedLoading",n,s,t),!t&&r&&this.store.addResourceBundle(n,s,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const i={};this.queue.forEach(r=>{((e,t,r)=>{const{obj:a,k:n}=Tr(e,t,Object);a[n]=a[n]||[],a[n].push(r)})(r.loaded,[n],s),((e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)})(r,e),t&&r.errors.push(t),0!==r.pendingCount||r.done||(Object.keys(r.loaded).forEach(e=>{i[e]||(i[e]={});const t=r.loaded[e];t.length&&t.forEach(t=>{void 0===i[e][t]&&(i[e][t]=!0)})}),r.done=!0,r.errors.length?r.callback(r.errors):r.callback())}),this.emit("loaded",i),this.queue=this.queue.filter(e=>!e.done)}read(e,t,r){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,s=arguments.length>5?arguments[5]:void 0;if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:r,tried:a,wait:n,callback:s});this.readingCalls++;const i=(i,o)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}i&&o&&a<this.maxRetries?setTimeout(()=>{this.read.call(this,e,t,r,a+1,2*n,s)},n):s(i,o)},o=this.backend[r].bind(this.backend);if(2!==o.length)return o(e,t,i);try{const r=o(e,t);r&&"function"===typeof r.then?r.then(e=>i(null,e)).catch(i):i(null,r)}catch(l){i(l)}}prepareLoading(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();Cr(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Cr(t)&&(t=[t]);const n=this.queueLoad(e,t,r,a);if(!n.toLoad.length)return n.pending.length||a(),null;n.toLoad.forEach(e=>{this.loadOne(e)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const r=e.split("|"),a=r[0],n=r[1];this.read(a,n,"read",void 0,void 0,(r,s)=>{r&&this.logger.warn("".concat(t,"loading namespace ").concat(n," for language ").concat(a," failed"),r),!r&&s&&this.logger.log("".concat(t,"loaded namespace ").concat(n," for language ").concat(a),s),this.loaded(e,r,s)})}saveMissing(e,t,r,a,n){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))this.logger.warn('did not save key "'.concat(r,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(void 0!==r&&null!==r&&""!==r){if(this.backend&&this.backend.create){const l=(0,Be.A)((0,Be.A)({},s),{},{isUpdate:n}),c=this.backend.create.bind(this.backend);if(c.length<6)try{let n;n=5===c.length?c(e,t,r,a,l):c(e,t,r,a),n&&"function"===typeof n.then?n.then(e=>i(null,e)).catch(i):i(null,n)}catch(o){i(o)}else c(e,t,r,a,i,l)}e&&e[0]&&this.store.addResource(e[0],t,r,a)}}}const da=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"===typeof e[1]&&(t=e[1]),Cr(e[1])&&(t.defaultValue=e[1]),Cr(e[2])&&(t.tDescription=e[2]),"object"===typeof e[2]||"object"===typeof e[3]){const r=e[3]||e[2];Object.keys(r).forEach(e=>{t[e]=r[e]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),ua=e=>(Cr(e.ns)&&(e.ns=[e.ns]),Cr(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Cr(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),ma=()=>{};class ha extends Wr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var r;if(super(),this.options=ua(e),this.services={},this.logger=Yr,this.modules={external:[]},r=this,Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach(e=>{"function"===typeof r[e]&&(r[e]=r[e].bind(r))}),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"===typeof t&&(r=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&(Cr(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const a=da();this.options=(0,Be.A)((0,Be.A)((0,Be.A)({},a),this.options),ua(t)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=(0,Be.A)((0,Be.A)({},a.interpolation),this.options.interpolation)),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator);const n=e=>e?"function"===typeof e?new e:e:null;if(!this.options.isClone){let t;this.modules.logger?Yr.init(n(this.modules.logger),this.options):Yr.init(null,this.options),this.modules.formatter?t=this.modules.formatter:"undefined"!==typeof Intl&&(t=la);const r=new Xr(this.options);this.store=new Hr(this.options.resources,this.options);const s=this.services;s.logger=Yr,s.resourceStore=this.store,s.languageUtils=r,s.pluralResolver=new aa(r,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!t||this.options.interpolation.format&&this.options.interpolation.format!==a.interpolation.format||(s.formatter=n(t),s.formatter.init(s,this.options),this.options.interpolation.format=s.formatter.format.bind(s.formatter)),s.interpolator=new ia(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new ca(n(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",function(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),n=1;n<r;n++)a[n-1]=arguments[n];e.emit(t,...a)}),this.modules.languageDetector&&(s.languageDetector=n(this.modules.languageDetector),s.languageDetector.init&&s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=n(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new Qr(this.services,this.options),this.translator.on("*",function(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),n=1;n<r;n++)a[n-1]=arguments[n];e.emit(t,...a)}),this.modules.external.forEach(e=>{e.init&&e.init(this)})}if(this.format=this.options.interpolation.format,r||(r=ma),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(t=>{this[t]=function(){return e.store[t](...arguments)}});["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(t=>{this[t]=function(){return e.store[t](...arguments),e}});const s=Ar(),i=()=>{const e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),s.resolve(t),r(e,t)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initImmediate?i():setTimeout(i,0),s}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ma;const r=Cr(e)?e:this.language;if("function"===typeof e&&(t=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&"cimode"===r.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return t();const e=[],a=t=>{if(!t)return;if("cimode"===t)return;this.services.languageUtils.toResolveHierarchy(t).forEach(t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)})};if(r)a(r);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(e=>a(e))}this.options.preload&&this.options.preload.forEach(e=>a(e)),this.services.backendConnector.load(e,this.options.ns,e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),t(e)})}else t(null)}reloadResources(e,t,r){const a=Ar();return"function"===typeof e&&(r=e,e=void 0),"function"===typeof t&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=ma),this.services.backendConnector.reload(e,t,e=>{a.resolve(),r(e)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&Gr.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const e=this.languages[t];if(!(["cimode","dev"].indexOf(e)>-1)&&this.store.hasLanguageSomeTranslations(e)){this.resolvedLanguage=e;break}}}changeLanguage(e,t){var r=this;this.isLanguageChangingTo=e;const a=Ar();this.emit("languageChanging",e);const n=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},s=(e,s)=>{s?(n(s),this.translator.changeLanguage(s),this.isLanguageChangingTo=void 0,this.emit("languageChanged",s),this.logger.log("languageChanged",s)):this.isLanguageChangingTo=void 0,a.resolve(function(){return r.t(...arguments)}),t&&t(e,function(){return r.t(...arguments)})},i=t=>{e||t||!this.services.languageDetector||(t=[]);const r=Cr(t)?t:this.services.languageUtils.getBestMatchFromCodes(t);r&&(this.language||n(r),this.translator.language||this.translator.changeLanguage(r),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(r)),this.loadResources(r,e=>{s(e,r)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(i):this.services.languageDetector.detect(i):i(e):i(this.services.languageDetector.detect()),a}getFixedT(e,t,r){var a=this;const n=function(e,t){let s;if("object"!==typeof t){for(var i=arguments.length,o=new Array(i>2?i-2:0),l=2;l<i;l++)o[l-2]=arguments[l];s=a.options.overloadTranslationOptionHandler([e,t].concat(o))}else s=(0,Be.A)({},t);s.lng=s.lng||n.lng,s.lngs=s.lngs||n.lngs,s.ns=s.ns||n.ns,""!==s.keyPrefix&&(s.keyPrefix=s.keyPrefix||r||n.keyPrefix);const c=a.options.keySeparator||".";let d;return d=s.keyPrefix&&Array.isArray(e)?e.map(e=>"".concat(s.keyPrefix).concat(c).concat(e)):s.keyPrefix?"".concat(s.keyPrefix).concat(c).concat(e):e,a.t(d,s)};return Cr(e)?n.lng=e:n.lngs=e,n.ns=t,n.keyPrefix=r,n}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],a=!!this.options&&this.options.fallbackLng,n=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;const s=(e,t)=>{const r=this.services.backendConnector.state["".concat(e,"|").concat(t)];return-1===r||0===r||2===r};if(t.precheck){const e=t.precheck(this,s);if(void 0!==e)return e}return!!this.hasResourceBundle(r,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!s(r,e)||a&&!s(n,e)))}loadNamespaces(e,t){const r=Ar();return this.options.ns?(Cr(e)&&(e=[e]),e.forEach(e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}),this.loadResources(e=>{r.resolve(),t&&t(e)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=Ar();Cr(e)&&(e=[e]);const a=this.options.preload||[],n=e.filter(e=>a.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e));return n.length?(this.options.preload=a.concat(n),this.loadResources(e=>{r.resolve(),t&&t(e)}),r):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=this.services&&this.services.languageUtils||new Xr(da());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new ha(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ma;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const a=(0,Be.A)((0,Be.A)((0,Be.A)({},this.options),e),{isClone:!0}),n=new ha(a);void 0===e.debug&&void 0===e.prefix||(n.logger=n.logger.clone(e));return["store","services","language"].forEach(e=>{n[e]=this[e]}),n.services=(0,Be.A)({},this.services),n.services.utils={hasLoadedNamespace:n.hasLoadedNamespace.bind(n)},r&&(n.store=new Hr(this.store.data,a),n.services.resourceStore=n.store),n.translator=new Qr(n.services,a),n.translator.on("*",function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];n.emit(e,...r)}),n.init(a,t),n.translator.options=a,n.translator.backendConnector.services.utils={hasLoadedNamespace:n.hasLoadedNamespace.bind(n)},n}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const pa=ha.createInstance();pa.createInstance=ha.createInstance;pa.createInstance,pa.dir,pa.init,pa.loadResources,pa.reloadResources,pa.use,pa.changeLanguage,pa.getFixedT,pa.t,pa.exists,pa.setDefaultNamespace,pa.hasLoadedNamespace,pa.loadNamespaces,pa.loadLanguages;pa.use(ar.initReactI18next).init({resources:{en:{translation:{home:"Home",courses:"Courses",about:"About",contact:"Contact",login:"Login",register:"Register",logout:"Logout",profile:"Profile",messages:"Messages",settings:"Settings",certificates:"Certificates",wishlist:"Wishlist",myWishlist:"My Wishlist",emptyWishlist:"Your wishlist is empty",saveCoursesForLater:"Start adding courses you're interested in!",browseCourses:"Browse Courses",addToWishlist:"Add to Wishlist",removeFromWishlist:"Remove from Wishlist",savedForLater:"courses saved for later",myStats:"My Stats",myAchievements:"My Achievements",totalPoints:"Total Points",currentStreak:"Current Streak",badgesEarned:"Badges Earned",activityOverview:"Activity Overview",lessonsCompleted:"Lessons Completed",quizzesCompleted:"Quizzes Completed",coursesCompleted:"Courses Completed",yourBadges:"Your Badges",noBadgesYet:"No badges earned yet",earnBadgesByCompleting:"Complete lessons, quizzes, and courses to earn badges!",recentActivities:"Recent Activities",noRecentActivities:"No recent activities yet",trackYourProgress:"Track your learning progress and achievements",pointsEarned:"points earned",badgeUnlocked:"badge unlocked",titleEarned:"title earned",futureRewardsAwait:"Future Rewards Await!",keepEarningPoints:"Keep earning points to unlock exclusive discounts on future courses and premium features. Your dedication will be rewarded!",keepUpGreatWork:"Keep Up the Great Work!",amazingStreak:"Amazing streak! You're on fire \ud83d\udd25",excellentProgress:"You're making excellent progress! \ud83d\udcaa",everyStepCounts:"Every step counts. Keep learning! \ud83d\udcda",refresh:"Refresh",dashboard:"Dashboard",leaderboard:"Leaderboard",searchStudents:"Search students by name or email",noStudentsFound:"No students found",searchLabel:"Search",email:"Email",password:"Password",confirmPassword:"Confirm Password",name:"Name",phone:"Phone",role:"Role",countryLabel:"Country",cityLabel:"City",schoolLabel:"School/University (Highest Education)",student:"Student",instructor:"Instructor",admin:"Admin",forgotPassword:"Forgot Password?",rememberMe:"Remember Me",alreadyHaveAccount:"Already have an account?",dontHaveAccount:"Don't have an account?",back:"Back",iAgreeTo:"I agree to the",andLabel:"and",wantToTeach:"Want to teach on EduFlow?",becomeInstructor:"Become an Instructor",instructorAgreementCheckbox:"I have read and agree to the terms and conditions of the Instructor Agreement",mustAgreeTerms:"You must agree to the Terms of Service and Privacy Policy to continue",enterYourEmail:"Enter your email",enterYourPassword:"Enter your password",enterYourFullName:"Enter your full name",enterYourCountry:"Enter your country",enterYourCity:"Enter your city",enterYourSchoolUniversity:"Enter your school or university",instructorRegToastFillRequired:"Please fill in all required fields",instructorRegToastPasswordsMismatch:"Passwords do not match",instructorRegToastPasswordMinLength:"Password must be at least 12 characters and include uppercase, lowercase, number, and symbol",instructorRegToastPasswordRequireLower:"Password must include at least one lowercase letter",instructorRegToastPasswordRequireUpper:"Password must include at least one uppercase letter",instructorRegToastPasswordRequireNumber:"Password must include at least one number",instructorRegToastPasswordRequireSymbol:"Password must include at least one symbol",instructorRegToastPhoneInvalid:"Phone must start with 09 and be exactly 10 digits",instructorRegToastExpertiseRequired:"Please select at least one area of expertise",instructorRegToastCustomExpertiseRequired:"Please specify your custom expertise",instructorRegToastNameLettersOnly:"Full name can only contain letters and spaces (no numbers or special characters)",instructorRegToastEnterEmailFirst:"Please enter your email first",instructorRegConfirmRestartTitle:"Are you sure you want to restart your registration? This will delete your current application progress.",instructorRegToastRestarted:"Registration reset. You can start fresh now.",instructorRegToastPendingReview:"Your application is currently under review. Please wait for admin approval.",instructorRegToastApproved:"Your application has been approved! Please login.",instructorRegToastResumeExisting:"Found existing application. Resuming registration...",instructorRegToastVerificationSent:"Verification email sent! Check your inbox.",instructorRegToastRegistrationFailed:"Registration failed. Please try again.",instructorRegConfirmResumeExisting:"You have an incomplete registration. Would you like to restart from the beginning?",instructorRegToastEnterOTP:"Please enter the verification code",instructorRegToastEmailVerified:"Email verified successfully!",instructorRegToastVerificationFailed:"Verification failed. Please try again.",instructorRegToastAgreeTerms:"Please agree to the terms to continue",instructorRegToastSignatureRequired:"Please provide your signature",instructorRegToastSignatureLettersOnly:"Signature can only contain letters and spaces (no numbers or special characters)",instructorRegToastSignatureMustMatchName:"Signature must exactly match your full name as entered above",instructorRegToastAgreementSigned:"Agreement signed successfully!",instructorRegToastAgreementFailed:"Failed to generate agreement. Please try again.",instructorRegToastVideoRequired:"Please upload your introduction video",instructorRegToastVideoSaved:"Video saved successfully!",instructorRegToastVideoSaveFailed:"Failed to save video. Please try again.",instructorRegToastAgreementLoadFailed:"Failed to load agreement text",instructorRegToastRestartFailed:"Failed to restart registration. Please try again.",instructorRegStepLabel:"Step {{current}} of {{total}}",instructorRegProgressPercent:"{{percent}}% Complete",instructorRegStep1Title:"Personal Information",instructorRegStep1Subtitle:"Tell us about yourself",instructorRegFullNameLabel:"Full Name *",instructorRegFullNamePlaceholder:"Enter your full name",instructorRegEmailLabel:"Email *",instructorRegEmailPlaceholder:"john@example.com",instructorRegPasswordLabel:"Password *",instructorRegPasswordPlaceholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",instructorRegConfirmPasswordLabel:"Confirm Password *",instructorRegConfirmPasswordPlaceholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",instructorRegPhoneLabel:"Phone Number * (09XXXXXXXX)",instructorRegPhonePlaceholder:"0912345678",instructorRegExpertiseLabel:"Areas of Expertise * (Select at least one)",instructorRegCustomExpertiseLabel:"Please specify your expertise",instructorRegCustomExpertisePlaceholder:"Enter your area of expertise",instructorRegStep2Title:"Verify Your Email",instructorRegStep2Subtitle:"We sent a verification code to {{email}}",instructorRegVerificationCodeLabel:"Verification Code",instructorRegVerificationCodePlaceholder:"000000",instructorRegResendCode:"Resend verification code",instructorRegStep3Title:"Instructor Agreement",instructorRegStep3Subtitle:"Review and sign the agreement",instructorRegRevenueSharingTitle:"Revenue Sharing",instructorRegYourShareLabel:"Your Share",instructorRegPlatformShareLabel:"Platform Share",instructorRegAgreementHeading:"Instructor Agreement",instructorRegSignatureLabel:"Signature (Type your full name)",instructorRegSignaturePlaceholder:"Your full name",instructorRegStep4Title:"Introduction Video",instructorRegStep4Subtitle:"Upload a short video introducing yourself",instructorRegVideoInstructions:"Upload your introduction video (Max size {{maxSize}}MB)",instructorRegVideoSizeTooLarge:"Video size must be less than {{maxSize}}MB",instructorRegUploadingVideo:"Uploading video...",instructorRegUploadingVideoPercent:"Uploading... {{percent}}%",instructorRegChooseVideoLabel:"Choose Video",instructorRegVideoUploadedLabel:"Video uploaded successfully!",instructorRegStep5Title:"Application Submitted!",instructorRegStep5Subtitle:"Thank you for applying to become an instructor on EduFlow! Our team will review your profile, agreement, and video shortly. You will receive an email once your application is approved.",instructorRegGoToLogin:"Go to Login",instructorRegExpertiseProgramming:"Programming",instructorRegExpertiseWebDevelopment:"Web Development",instructorRegExpertiseMobileDevelopment:"Mobile Development",instructorRegExpertiseDataScience:"Data Science",instructorRegExpertiseMachineLearning:"Machine Learning",instructorRegExpertiseCybersecurity:"Cybersecurity",instructorRegExpertiseCloudComputing:"Cloud Computing",instructorRegExpertiseDevOps:"DevOps",instructorRegExpertiseUIUX:"UI/UX Design",instructorRegExpertiseDigitalMarketing:"Digital Marketing",instructorRegExpertiseBusiness:"Business",instructorRegExpertiseLanguages:"Languages",instructorRegExpertiseOther:"Other",welcomeTitle:"Welcome to EduFlow Academy",welcomeSubtitle:"Master programming and languages with expert instructors",getStarted:"Get Started",learnMore:"Learn More",recentCourses:"Recent Courses",allCourses:"All Courses",searchCourses:"Search Courses",filterBy:"Filter By",category:"Category",level:"Level",programming:"Programming",language:"Language",beginner:"Beginner",intermediate:"Intermediate",advanced:"Advanced",courseDetails:"Course Details",enrollNow:"Enroll Now",continueCourse:"Continue Course",registerForCourse:"Register for Course",courseName:"Course Name",duration:"Duration",cost:"Cost",description:"Description",whatYouWillLearn:"What You Will Learn",requirements:"Requirements",lectures:"Lectures",assignments:"Assignments",projects:"Projects",certificate:"Certificate",myCourses:"My Courses",enrolledCourses:"Enrolled Courses",pendingCourses:"Pending Courses",completedCourses:"Completed Courses",discoverNewCourses:"Discover New Courses",noCoursesYet:"No courses yet",startLearning:"Start Learning",progress:"Progress",viewCourse:"View Course",myTeaching:"My Teaching",createCourse:"Create Course",manageStudents:"Manage Students",gradeAssignments:"Grade Assignments",uploadContent:"Upload Content",manageUsers:"Manage Users",manageCourses:"Manage Courses",manageGroups:"Manage Groups",approveEnrollments:"Approve Enrollments",systemSettings:"System Settings",save:"Save",cancel:"Cancel",edit:"Edit",delete:"Delete",submit:"Submit",upload:"Upload",download:"Download",view:"View",watch:"Watch",read:"Read",completed:"Completed",pending:"Pending",submitted:"Submitted",graded:"Graded",notSubmitted:"Not Submitted",notCompleted:"Not Completed",sendMessage:"Send Message",newMessage:"New Message",inbox:"Inbox",sent:"Sent",notifications:"Notifications",accountSettings:"Account Settings",preferences:"Preferences",changePassword:"Change Password",currentPassword:"Current Password",newPassword:"New Password",confirmNewPassword:"Confirm New Password",changeEmail:"Change Email",changePhoneNumber:"Change Phone Number",verifyEmail:"Verify Email",enterVerificationCode:"Enter Verification Code",verificationCode:"Verification Code",sendVerificationCode:"Send Verification Code",verificationCodeSent:"Verification code sent to your new email",verificationCodeSentHint:"A verification code was sent to your new email and is valid for 10 minutes.",sendingCode:"Sending code...",verifying:"Verifying...",emailChangedSuccessfully:"Email changed successfully",youHaveAlreadyChangedEmailOnce:"You have already changed your email once",phoneChangedSuccessfully:"Phone number updated successfully",youHaveAlreadyChangedPhoneNumber:"You have already changed your phone number",phoneNumberAlreadyExists:"Phone number already exists",phoneMustStartWith09:"Phone number must be 10 digits starting with 09",failedToSendVerificationCode:"Failed to send verification code",failedToVerifyEmail:"Failed to verify email change",verificationCodeExpired:"Verification code has expired. Please request a new code.",invalidVerificationCode:"Invalid verification code",failedToChangePhone:"Failed to change phone number",newEmail:"New Email",enterNewEmail:"Enter your new email",enterNewPhone:"Enter your new phone number (09xxxxxxxx)",confirmPhoneChange:"Confirm Phone Change",updating:"Updating...",youCanRequestNewCodeIn:"You can request a new code in {{seconds}} seconds.",invalidEmailFormat:"Please enter a valid email address.",emailChangeableOnce:"Email (changeable once)",phoneChangeableOnce:"Phone number (changeable once)",emailChangesRemaining:"Email changes remaining",phoneChangesRemaining:"Phone changes remaining",studentEmailUsernameWarning:"Note: You can change your email one time only. Your username appears on your certificates, so make sure it is correct before requesting changes.",instructorPublicInfoWarning:"Warning: Your email, username, and intro video are publicly visible to students. Please make sure the information you enter is accurate and appropriate.",adminOnlyCanChangeUsername:"Admin only can change username",resetChangeLimitsConfirm:"Reset email/phone change limits for {{name}}? This will allow the user to change email and phone one more time.",resetChangeLimitsSuccess:"Email/phone change limits have been reset.",resetChangeLimitsFailed:"Failed to reset email/phone change limits",resetChangeLimitsTooltip:"Reset email/phone change limits",emailChangeLimitReached:"You have reached the email change limit.",phoneChangeLimitReached:"You have reached the phone number change limit.",emailChangeLimitReachedDescription:"You can only change your email once. If you need to change it again, please contact the admin.",phoneChangeLimitReachedDescription:"You can only change your phone number once. If you need to change it again, please contact the admin.",emailChangeLimitReset:"Email change limit reset successfully.",phoneChangeLimitReset:"Phone number change limit reset successfully.",emailChangeLimitResetFailed:"Failed to reset email change limit.",phoneChangeLimitResetFailed:"Failed to reset phone number change limit.",error:"Error",success:"Success",warning:"Warning",info:"Info",somethingWentWrong:"Something went wrong",tryAgain:"Try Again",retry:"Retry",videoNetworkError:"Network error, please try again.",videoApiLoadTimeout:"Connection timed out, please try again.",videoApiLoadFailed:"Failed to load video player, please try again.",loading:"Loading...",processing:"Processing...",completeLabel:"Complete",continueLabel:"Continue",weeks:"weeks",days:"days",hours:"hours",minutes:"minutes",currency:"$",footerTagline:"Empowering learners worldwide",quickLinks:"Quick Links",support:"Support",legal:"Legal",helpCenter:"Help Center",faq:"FAQ",privacyPolicy:"Privacy Policy",termsOfService:"Terms of Service",allRightsReserved:"All rights reserved",followUs:"Follow Us",categories:"Categories",levels:"Levels",contactInfo:"Contact Info",whyChooseUs:"Why Choose EduFlow Academy?",discoverBenefits:"Discover the benefits of learning with our platform",expertInstructors:"Expert Instructors",expertInstructorsDesc:"Learn from industry professionals with years of experience",learnFromIndustryExperts:"Learn from industry professionals with years of experience",certificatesAwarded:"Certificates Awarded",earnRecognizedCertificates:"Earn recognized certificates upon course completion",interactiveLearning:"Interactive Learning",engageWithPeers:"Engage with peers and instructors in real-time",careerGrowth:"Career Growth",advanceYourCareerPath:"Advance your career with in-demand skills",flexibleSchedule:"Flexible Schedule",learnAtYourOwnPace:"Learn at your own pace, anytime, anywhere",globalCommunity:"Global Community",joinLearnersWorldwide:"Join thousands of learners worldwide",richContent:"Rich Content",accessComprehensiveMaterials:"Access comprehensive learning materials",goalOriented:"Goal-Oriented",achieveYourLearningGoals:"Structured paths to achieve your goals",joinThousandsOfLearners:"Join thousands of learners transforming their careers",flexibleLearning:"Flexible Learning",flexibleLearningDesc:"Study at your own pace, anytime, anywhere",certifiedCourses:"Certified Courses",certifiedCoursesDesc:"Earn recognized certificates upon course completion",affordablePricing:"Affordable Pricing",affordablePricingDesc:"Quality education at competitive prices",readyToStart:"Ready to start your learning journey?",readyToStartDesc:"Join thousands of students already learning with us",whatStudentsSay:"What Our Students Say",paymentMethods:"Payment Methods",weAccept:"We Accept",securePayment:"Secure Payment Processing",aboutUsTitle:"About Us",ourMission:"Our Mission",ourMissionDesc:"To provide accessible quality education to everyone, everywhere, empowering learners to achieve their goals.",ourVision:"Our Vision",ourVisionDesc:"To be the world's leading online education platform, transforming lives through learning.",ourValues:"Our Values",ourTeam:"Our Team",aboutEduFlow:"About EduFlow",aboutDescription:"EduFlow Academy is a leading online learning platform dedicated to providing quality education to students worldwide.",meetOurTeam:"Meet Our Team",quality:"Quality",qualityDesc:"We maintain the highest standards in education",innovation:"Innovation",innovationDesc:"We continuously improve our platform and learning experience",accessibility:"Accessibility",accessibilityDesc:"Education for everyone, everywhere, at any time",community:"Community",communityDesc:"Building a supportive learning community",helpCenterTitle:"Help Center",howCanWeHelpYou:"How can we help you?",searchForAnswers:"Search for answers or browse articles by category",searchHelp:"Search help articles...",browseCategories:"Browse Categories",popularArticles:"Popular Articles",gettingStarted:"Getting Started",coursesAndLearning:"Courses & Learning",instructors:"Instructors",paymentsAndBilling:"Payments & Billing",accountManagement:"Account Management",troubleshooting:"Troubleshooting",allCategories:"All Categories",helpQ1:"How to create an account",helpA1:'Creating an account on EduFlow is simple:\n    \n1. Click the "Register" button in the top navigation bar\n2. Choose your role: Student or Instructor\n3. Fill in your details (name, email, password)\n4. Verify your email address by clicking the link sent to your inbox\n5. Complete your profile with additional information\n\nStudents can start enrolling in courses immediately after registration. Instructors need to wait for admin approval before creating courses.',helpQ2:"Enrolling in courses",helpA2:'To enroll in a course:\n\n1. Browse available courses from the homepage or Courses page\n2. Click on a course to view its details\n3. Check the course sections - some may be free, others paid\n4. Click "Enroll" on free sections or "Pay & Enroll" on paid sections\n5. For paid sections, upload your payment receipt (bank transfer proof)\n6. Wait for instructor approval of your payment\n7. Once approved, access all course content\n\nYou can enroll in multiple courses and track your progress from your dashboard.',helpQ3:"Navigating the platform",helpA3:"Platform Navigation Guide:\n\n**Main Navigation Bar:**\n- Home: Return to homepage\n- Courses: Browse all available courses\n- Instructors: View all instructors\n- About: Learn about EduFlow\n- Contact: Get in touch with admin\n\n**User Dashboard (after login):**\n- Students: View enrolled courses, track progress, submit assignments\n- Instructors: Manage courses, sections, content, grade assignments\n- Admin: Manage users, verify payments, oversee platform\n\n**Profile Menu (top-right):**\n- Dashboard: Go to your main dashboard\n- Profile: View public profile\n- Settings: Update profile info and avatar\n- Logout: Sign out of your account",helpQ4:"Managing your profile",helpA4:'Profile Management:\n\n1. Click your avatar/name in the top-right corner\n2. Select "Settings" from dropdown menu\n3. Update your information:\n   - Profile Picture: Upload image (max 5MB)\n   - Name and Email\n   - Phone number\n   - Short Bio (500 chars)\n   - Detailed About Me (with rich text formatting)\n   - Job Role (for students)\n   - Expertise and Social Links (for instructors)\n4. Click "Save Settings"\n\nYour avatar will appear throughout the platform. Make sure to use a clear, professional photo!',helpQ5:"Accessing course content",helpA5:"Access Course Content:\n\n1. Go to your Student Dashboard\n2. Click on any enrolled course\n3. View course structure: Groups \u2192 Sections \u2192 Content\n4. Click on a section to view its content\n5. Content types include:\n   - Video Lectures: Watch and track progress\n   - Assignments: Download, complete, and submit\n   - Projects: Starter files and submission\n\n**Access Requirements:**\n- Free sections: Available immediately after enrollment\n- Paid sections: Available after payment verification\n- Prerequisites: Complete previous sections first (if required)",helpQ6:"Tracking your progress",helpA6:'Progress Tracking:\n\nYour progress is automatically tracked:\n\n**Videos:**\n- Progress updates as you watch\n- Marked as "Watched" (100%) when complete\n- Can review anytime\n\n**Assignments/Projects:**\n- Shows "Pending Upload" before submission\n- Shows "Pending Review (50%)" after submission\n- Shows final grade (0-100%) after instructor grading\n\n**Overall Progress:**\n- View section completion percentage\n- Track course-wide progress\n- See grades for all assessments\n\nProgress is saved in real-time and syncs across devices.',helpQ7:"Submitting assignments",helpA7:'Assignment Submission Process:\n\n1. Watch all lecture videos in the section\n2. Download the assignment file (usually .rar format)\n3. Complete the assignment according to instructions\n4. Compress your work into a .rar file\n5. Click "Choose File" and select your .rar file\n6. Submit the assignment\n7. Receive initial 50% grade (pending review)\n8. Wait for instructor grading\n9. View final grade and feedback\n\n**Important:**\n- Only .rar files are accepted\n- File size limit: 500MB\n- Submit before deadline to avoid penalties\n- You can resubmit if instructor allows',helpQ8:"Downloading materials",helpA8:'Download Course Materials:\n\n**To download materials:**\n1. Navigate to the section content\n2. Look for the "Download" button next to assignments/projects\n3. Click to download starter files, resources, or templates\n4. Materials are typically in .rar or .zip format\n\n**Available Downloads:**\n- Assignment templates and instructions\n- Project starter code\n- Supplementary resources\n- Reference materials\n\n**Troubleshooting:**\n- If download fails, refresh and try again\n- Ensure stable internet connection\n- Contact instructor if file is unavailable',helpQ9:"Becoming an instructor",helpA9:'Become an EduFlow Instructor:\n\n**Application Process:**\n1. Register with "Instructor" role\n2. Complete your profile with:\n   - Professional photo\n   - Detailed bio and expertise\n   - Social links (LinkedIn, GitHub, etc.)\n3. Wait for admin approval (usually 24-48 hours)\n4. Receive email notification upon approval\n\n**Requirements:**\n- Expertise in your teaching domain\n- Professional profile\n- Commitment to quality education\n- Responsive to student queries\n\n**After Approval:**\n- Create unlimited courses\n- Set your own pricing\n- Manage students and content\n- Earn from paid sections',helpQ10:"Creating courses",helpA10:'Create a New Course:\n\n1. Go to Instructor Dashboard\n2. Click "Create New Course"\n3. Fill in course details:\n   - Name and description\n   - Level (Beginner, Intermediate, Advanced)\n   - Duration and category\n   - Course thumbnail (optional)\n4. Save the course\n5. Create Groups (course batches)\n6. Add Sections to groups\n7. Upload content (videos, assignments, projects)\n8. Set pricing for each section\n9. Publish when ready\n\n**Best Practices:**\n- Clear course objectives\n- Well-structured content\n- Engaging video lectures\n- Practical assignments\n- Timely student support',helpQ11:"Managing students",helpA11:"Student Management:\n\n**View Enrolled Students:**\n1. Go to course details\n2. View students per group\n3. Track enrollment status\n\n**Monitor Progress:**\n- View student completion rates\n- Check assignment submissions\n- Track grades and performance\n\n**Communication:**\n- Message students directly\n- Respond to queries\n- Provide feedback on assignments\n\n**Payment Verification:**\n- Review payment receipts\n- Approve or reject payments\n- Students gain access after approval",helpQ12:"Grading assignments",helpA12:'Assignment Grading Process:\n\n1. Go to "Assignment Grading" tab in dashboard\n2. View pending submissions\n3. Download student\'s .rar file\n4. Review the work\n5. Enter grade (0-100%)\n6. Add feedback comments\n7. Submit grade\n8. Student receives notification\n\n**Grading Guidelines:**\n- Be fair and consistent\n- Provide constructive feedback\n- Grade within reasonable timeframe\n- Consider effort and understanding\n- Use rubrics for objectivity\n\n**Initial 50% Grade:**\nStudents automatically receive 50% upon submission as "pending review" grade. Your final grade replaces this.',helpQ13:"Payment methods",helpA13:'Payment Methods:\n\n**Current Payment System:**\nEduFlow uses bank transfer payment system:\n\n1. View section price\n2. Click "Pay & Enroll"\n3. You\'ll see bank transfer details\n4. Make payment to provided account\n5. Take screenshot/photo of receipt\n6. Upload receipt (JPG, PNG, or PDF - max 10MB)\n7. Submit for verification\n8. Wait for instructor approval\n9. Access content once approved\n\n**Supported Receipt Formats:**\n- Image: JPG, JPEG, PNG\n- Document: PDF\n\n**Processing Time:**\nUsually 24-48 hours for approval.',helpQ14:"Refund policy",helpA14:"Refund Policy:\n\n**30-Day Money-Back Guarantee:**\n- Request refund within 30 days of payment\n- Applies to all paid sections\n- No questions asked\n\n**Refund Process:**\n1. Contact instructor or admin\n2. Provide payment receipt and reason\n3. Refund processed within 5-7 business days\n4. Money returned to original payment method\n\n**Conditions:**\n- Must request within 30 days\n- Original receipt required\n- Account may be suspended for abuse\n- No refunds after completion\n\n**Contact:** Send message via platform or email support.",helpQ15:"Receipt verification",helpA15:"Receipt Verification Process:\n\n**For Students:**\n1. Upload clear receipt after payment\n2. Wait for instructor/admin review\n3. Receive email notification of status\n4. Access granted upon approval\n\n**Verification Criteria:**\n- Receipt shows correct amount\n- Transaction date is recent\n- Account details match\n- Receipt is legible and authentic\n\n**If Rejected:**\n- Re-upload clearer receipt\n- Contact instructor for clarification\n- Check payment amount matches price\n\n**Processing Time:**\n- Weekdays: 24-48 hours\n- Weekends: May take longer\n- Urgent: Message instructor directly",helpQ16:"Payment issues",helpA16:'Common Payment Issues & Solutions:\n\n**Receipt Upload Failed:**\n- Check file size (max 10MB)\n- Use supported format (JPG, PNG, PDF)\n- Ensure stable internet connection\n\n**Payment Not Approved:**\n- Verify correct amount was paid\n- Check receipt is clear and complete\n- Contact instructor for clarification\n- Re-upload if first attempt was unclear\n\n**Wrong Amount Paid:**\n- Contact instructor immediately\n- Provide proof of payment\n- Instructor can adjust or request difference\n\n**Payment Stuck in Pending:**\n- Wait 48 hours for review\n- Message instructor if urgent\n- Check notifications for updates\n\n**Contact Support:**\nUse "Get In Touch" button in footer to message admin directly.',faqTitle:"Frequently Asked Questions",frequentlyAskedQuestions:"Frequently Asked Questions",findAnswersToCommonQuestions:"Find quick answers to common questions about EduFlow Academy",searchQuestions:"Search questions...",noQuestionsFound:"No questions found matching your search.",didntFindLookingFor:"Didn't find what you're looking for?",contactSupportTeam:"Contact our support team and we'll be happy to help",general:"General",coursesAndLearning:"Courses & Learning",paymentsAndRefunds:"Payments & Refunds",forInstructors:"For Instructors",technicalSupport:"Technical Support",contactSupport:"Contact Support",faqQ1:"What is EduFlow Academy?",faqA1:"EduFlow Academy is an online learning platform offering programming and language courses taught by industry experts. We provide comprehensive education to help you advance your career or learn new skills.",faqQ2:"How do I create an account?",faqA2:'Click on the "Sign Up" button in the top right corner, choose your role (Student or Instructor), fill in your details, and verify your email address. You can then start exploring courses immediately.',faqQ3:"Is EduFlow Academy free?",faqA3:"We offer both free and paid courses. Free courses provide basic content, while paid courses include premium features, certificates, and personalized support from instructors.",faqQ4:"How do I enroll in a course?",faqA4:'Browse our course catalog, click on a course that interests you, and click the "Enroll Now" button. For paid courses, complete the payment process. For free courses, you\'ll be enrolled immediately.',faqQ5:"Can I access course content after completion?",faqA5:"Yes! Once you enroll in a course, you have lifetime access to all course materials, including future updates and additional content added by the instructor.",faqQ6:"How do I track my progress?",faqA6:"Your progress is automatically tracked as you complete lessons, assignments, and projects. You can view your progress on your dashboard and within each course.",faqQ7:"What if I fall behind in my course?",faqA7:"All courses are self-paced, so you can learn at your own speed. There are no deadlines for most courses, allowing you to balance learning with your other commitments.",faqQ8:"What payment methods do you accept?",faqA8:"We accept multiple payment methods including Hawala transfers, Sham Cash, Western Union, and other local payment options. Select your preferred method during checkout.",faqQ9:"How do I submit a payment receipt?",faqA9:"After selecting your payment method, you'll be prompted to upload your payment receipt. You can drag and drop the file or click to browse. Accepted formats are JPG, PNG, and PDF.",faqQ10:"What is your refund policy?",faqA10:"We offer a 30-day money-back guarantee for all paid courses. If you're not satisfied with a course, contact our support team within 30 days of enrollment for a full refund.",faqQ11:"How long does payment verification take?",faqA11:"Payment verification typically takes 24-48 hours. You'll receive an email notification once your payment is verified and you can access the course content.",faqQ12:"How do I become an instructor?",faqA12:"Sign up for an instructor account, complete your profile with your expertise and experience, and submit an application. Our team will review your application and approve qualified instructors.",faqQ13:"What do I need to create a course?",faqA13:"You'll need course content (videos, assignments, projects), a course outline, and knowledge of your subject matter. We provide tools to upload videos, create assignments, and manage student enrollment.",faqQ14:"How do I earn money as an instructor?",faqA14:"Instructors earn revenue from course enrollments. You set your course prices, and we handle payment processing. Earnings are transferred to your account on a monthly basis.",faqQ15:"Can I interact with my students?",faqA15:"Absolutely! You can communicate with students through our messaging system, grade their assignments with feedback, and participate in course discussions.",faqQ16:"What if videos won't play?",faqA16:"Ensure you have a stable internet connection and use an updated browser (Chrome, Firefox, Safari, or Edge). Clear your browser cache and cookies if issues persist. Contact support if problems continue.",faqQ17:"How do I download course materials?",faqA17:"Navigate to the course content page and click the download icon next to any downloadable material (PDFs, code files, etc.). Files will be saved to your default downloads folder.",faqQ18:"Can I access courses on mobile devices?",faqA18:"Yes! Our platform is fully responsive and works on smartphones and tablets. Use any modern mobile browser to access your courses on the go.",faqQ19:"What should I do if I encounter an error?",faqA19:"Take a screenshot of the error message, note what you were doing when it occurred, and contact our support team via email or the help center with these details.",privacyPolicyTitle:"Privacy Policy",lastUpdated:"Last Updated",privacyIntro:"Your privacy and data security are our top priorities",introduction:"Introduction",privacyIntroText:"At EduFlow Academy, we are committed to protecting your personal information and your right to privacy. This Privacy Policy explains what information we collect, how we use it, and what rights you have in relation to it. By using our platform, you agree to the collection and use of information in accordance with this policy.",informationWeCollect:"Information We Collect",infoCollect1:"Personal information (name, email, phone number) provided during registration",infoCollect2:"Payment information for course purchases",infoCollect3:"Course progress and learning activity data",infoCollect4:"Communication data through our messaging system",infoCollect5:"Device information and usage data for platform improvement",howWeUseInfo:"How We Use Your Information",useInfo1:"To provide and maintain our educational services",useInfo2:"To process payments and prevent fraud",useInfo3:"To send course updates and important notifications",useInfo4:"To improve our platform and user experience",useInfo5:"To comply with legal obligations",dataSecurity:"How We Protect Your Data",security1:"Industry-standard encryption for data transmission",security2:"Secure servers with regular security audits",security3:"Limited access to personal data by authorized personnel only",security4:"Regular backups to prevent data loss",security5:"Compliance with international data protection regulations",yourRights:"Your Rights",rights1:"Access your personal data at any time",rights2:"Request correction of inaccurate information",rights3:"Request deletion of your account and data",rights4:"Opt-out of marketing communications",rights5:"Export your data in a portable format",dataSharing:"Data Sharing",sharing1:"We do not sell your personal information to third parties",sharing2:"We may share data with payment processors for transactions",sharing3:"Course completion data may be shared with instructors",sharing4:"We may disclose information if required by law",sharing5:"Anonymous analytics data may be used for research",cookiesAndTracking:"Cookies and Tracking",cookies1:"We use essential cookies for platform functionality",cookies2:"Analytics cookies help us improve user experience",cookies3:"You can disable cookies in your browser settings",cookies4:"Some features may not work without cookies",cookies5:"We do not use third-party advertising cookies",contactUsAboutPrivacy:"Contact Us About Privacy",privacyContactText:"If you have any questions or concerns about our Privacy Policy or how we handle your data, please don't hesitate to contact us:",email:"Email",address:"Address",changesToPolicy:"Changes to This Policy",changesPolicyText:'We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last updated" date. We encourage you to review this Privacy Policy periodically for any changes.',termsOfServiceTitle:"Terms of Service",effectiveDate:"Effective Date",termsIntro:"Please read these terms carefully before using EduFlow Academy",agreementToTerms:"Agreement to Terms",agreementText:"These Terms of Service govern your use of EduFlow Academy and constitute a legally binding agreement between you and EduFlow Academy. By accessing or using our platform, you acknowledge that you have read, understood, and agree to be bound by these Terms. If you do not agree to these Terms, you must not access or use our services.",acceptanceOfTerms:"Acceptance of Terms",acceptanceContent:"By accessing and using EduFlow Academy, you accept and agree to be bound by these Terms of Service. If you do not agree to these terms, please do not use our platform. We reserve the right to modify these terms at any time, and your continued use constitutes acceptance of any changes.",userAccounts:"User Accounts",userAccountsContent:"You are responsible for maintaining the confidentiality of your account credentials. You must provide accurate and complete information during registration. You are responsible for all activities that occur under your account. Notify us immediately of any unauthorized use of your account.",courseAccess:"Course Access and Content",courseAccessContent:"Upon enrollment, you receive a non-exclusive, non-transferable license to access course content for personal use only. Course content is protected by copyright and cannot be redistributed, recorded, or shared without explicit permission. We reserve the right to modify or remove course content at any time.",paymentsAndRefunds:"Payments and Refunds",paymentsContent:"All course prices are listed in the specified currency. Payment must be made in full before accessing paid content. We offer a 30-day money-back guarantee for paid courses. Refunds are processed within 7-10 business days. Refund eligibility may be subject to review.",prohibitedActivities:"Prohibited Conduct",prohibitedContent:"You agree not to: share account credentials, redistribute course content, harass other users or instructors, use the platform for illegal activities, attempt to hack or compromise platform security, submit false or misleading information, or engage in any activity that interferes with platform operations.",intellectualProperty:"Intellectual Property",intellectualPropertyContent:"All content on EduFlow Academy, including courses, videos, text, graphics, logos, and software, is the property of EduFlow Academy or its content suppliers and is protected by copyright, trademark, and other intellectual property laws. Unauthorized use may result in legal action.",studentResponsibilities:"Student Responsibilities",studentResp1:"Complete courses at your own pace within access period",studentResp2:"Submit original work for assignments and projects",studentResp3:"Respect instructors and fellow students",studentResp4:"Provide constructive feedback and ratings",studentResp5:"Maintain academic integrity",instructorResponsibilities:"Instructor Responsibilities",instructorResp1:"Provide accurate course descriptions and prerequisites",instructorResp2:"Deliver high-quality educational content",instructorResp3:"Respond to student questions in a timely manner",instructorResp4:"Grade assignments fairly and provide feedback",instructorResp5:"Keep course content up-to-date",platformRights:"Platform Rights",platformRight1:"Modify or discontinue services at any time",platformRight2:"Suspend or terminate accounts for violations",platformRight3:"Monitor platform usage for quality and security",platformRight4:"Update fees and pricing with notice",platformRight5:"Collect and use data as per Privacy Policy",limitationOfLiability:"Limitation of Liability",liabilityText1:'EduFlow Academy is provided "as is" without warranties of any kind. We do not guarantee that the platform will be error-free or uninterrupted. To the fullest extent permitted by law, EduFlow Academy shall not be liable for any indirect, incidental, special, consequential, or punitive damages, including loss of profits, data, or other intangible losses.',liabilityText2:"We are not responsible for the content provided by instructors or the outcomes of your learning experience. Course completion does not guarantee employment or any specific results.",disputeResolution:"Dispute Resolution",disputeText:"Any disputes arising from these Terms or your use of EduFlow Academy shall be resolved through binding arbitration in accordance with international arbitration rules. You agree to waive any right to a jury trial or to participate in a class action lawsuit.",questionsAboutTerms:"Questions About Terms?",termsContactText:"If you have any questions about these Terms of Service, please contact us:",disclaimers:"Disclaimers",governingLaw:"Governing Law",browseAll:"Browse All",seeMore:"See More",seeLess:"See Less",loadMore:"Load More",showMore:"Show More",showLess:"Show Less",apply:"Apply",reset:"Reset",filter:"Filter",sort:"Sort",search:"Search",clear:"Clear",confirm:"Confirm",close:"Close",back:"Back",next:"Next",previous:"Previous",finish:"Finish",takeATour:"Take a Tour",tourBack:"Back",tourNext:"Next",tourSkip:"Skip Tour",tourFinish:"Finish",tourClose:"Close",tourStep:"Step",tourOf:"of",tourStepOf:"\u0645\u0646",homeTourWelcomeTitle:"Welcome to EduFlow! \ud83c\udf93",homeTourWelcomeContent:"Your journey to learning starts here. Browse featured courses and start learning today. Let's take a quick tour!",homeTourNavTitle:"Navigation Bar \ud83e\udded",homeTourNavContent:"Use the navigation bar to access Home, Courses, Instructors, About, and Contact pages.",homeTourCoursesTitle:"Browse Courses \ud83d\udcda",homeTourCoursesContent:"Click here to scroll to explore all available courses across different categories and levels.",homeTourInstructorsTitle:"Meet Our Instructors \ud83d\udc68\u200d\ud83c\udfeb",homeTourInstructorsContent:"View all instructors and their expertise.",homeTourAboutTitle:"About Us \ud83d\udcd6",homeTourAboutContent:"Learn more about EduFlow Academy and our mission to make education accessible to everyone.",homeTourContactTitle:"Contact & Support \ud83d\udcde",homeTourContactContent:"Need help? Contact us anytime for support and assistance.",homeTourUserActionsTitle:"User Actions \ud83c\udfaf",homeTourUserActionsContent:"Access theme settings, language options, messages, and your profile from here.",homeTourHeroTitle:"Hero Section \ud83c\udf1f",homeTourHeroContent:"This is our featured content showcasing what makes EduFlow special. Discover the best learning experience!",homeTourFeaturedTitle:"Featured Courses \ud83d\udcda",homeTourFeaturedContent:"Browse our collection of courses. Filter by category, level, or search for specific topics.",courseDetailsTourWelcomeTitle:"Course Details Page \ud83d\udcda",courseDetailsTourWelcomeContent:"Learn everything about this course before enrolling. Let's explore what's available!",courseDetailsTourInfoTitle:"Course Information \u2139\ufe0f",courseDetailsTourInfoContent:"View course title, description, level, category, and instructor details here.",courseDetailsTourSectionsTitle:"Course Sections \ud83d\udcd1",courseDetailsTourSectionsContent:"Each course is organized into sections. Within each section, you will find: \ud83d\udcf9 Lectures (videos to watch), \ud83d\udcdd Assignments (tasks to complete and submit), \ud83d\udee0\ufe0f Projects (hands-on work to upload), and \u2705 Active Tests (quizzes to solve). Expand any section to see its content!",courseDetailsTourCertificateTitle:"Course Certificate \ud83c\udf93",courseDetailsTourCertificateContent:"When you complete all course requirements (lectures watched, assignments submitted, projects completed, and tests solved), you can request your course completion certificate from your dashboard or certificates tab!",achievementsTourWelcomeTitle:"Your Achievements & Rewards \ud83c\udf89",achievementsTourWelcomeContent:"This page shows how your learning activity turns into points, badges, titles, and wallet balance. Let's quickly explore how everything works.",achievementsTourHeaderTitle:"Achievements Overview",achievementsTourHeaderContent:"Here you can see your current title, total points, streak days, and a short summary of your progress on the platform.",achievementsTourPointsTitle:"Points & Wallet Balance",achievementsTourPointsContent:"Every time you complete lectures, assignments, projects, and tests, you earn points. Points can convert into wallet balance (in SYP) based on the current rate shown here, and you can later use that balance for discounts or rewards.",achievementsTourActivitiesTitle:"Recent Gamification Activity",achievementsTourActivitiesContent:"This timeline shows the latest points, badges, and titles you earned, with details about which course, lesson, or video they came from.",achievementsTourBadgesTitle:"Badges & Progress",achievementsTourBadgesContent:"Badges are visual rewards for your achievements. Each badge can also give bonus points. Keep completing content to unlock more badges and increase your total points.",achievementsTourMotivationTitle:"Future Rewards & Motivation",achievementsTourMotivationContent:"This area reminds you how close you are to future rewards. The more you learn, the more points, wallet balance, and recognition you gain on the platform.",studentDashboardTourWelcomeTitle:"Welcome to Your Dashboard! \ud83c\udfaf",studentDashboardTourWelcomeContent:"This is your learning hub. Let's explore what you can do here to maximize your learning!",studentDashboardTourCoursesTitle:"My Enrolled Courses \ud83d\udcd6",studentDashboardTourCoursesContent:"View all courses you've enrolled in. Click on any course to continue learning and track your progress.",studentDashboardTourCardsTitle:"Course Cards \ud83c\udfb4",studentDashboardTourCardsContent:"Each card shows your course details including progress, instructor, and level. Click to access course content.",studentDashboardTourPaymentTitle:"Payment History \ud83d\udcb3",studentDashboardTourPaymentContent:"View all your course payments and receipts. Track your payment history and download invoices.",studentDashboardTourDiscoverTitle:"Discover New Courses \ud83d\udd0d",studentDashboardTourDiscoverContent:"Explore and enroll in new courses to expand your knowledge. Filter by category or level.",studentDashboardTourBrowseTitle:"Browse All Courses \ud83c\udf10",studentDashboardTourBrowseContent:"Click here to see all available courses and find your next learning adventure!",studentDashboardTourMessagesTitle:"Messages & Support \ud83d\udcac",studentDashboardTourMessagesContent:"Communicate with instructors, get support, and receive important notifications about your courses.",totalStudents:"Total Students",totalCourses:"Total Courses",totalInstructors:"Total Instructors",activeEnrollments:"Active Enrollments",courseProgress:"Course Progress",overallGrade:"Overall Grade",completionRate:"Completion Rate",upcomingDeadlines:"Upcoming Deadlines",recentActivity:"Recent Activity",addSection:"Add Section",addContent:"Add Content",editCourse:"Edit Course",deleteCourse:"Delete Course",publishCourse:"Publish Course",unpublishCourse:"Unpublish Course",courseStructure:"Course Structure",sections:"Sections",content:"Content",students:"Students",addUser:"Add User",editUser:"Edit User",deleteUser:"Delete User",activateUser:"Activate User",deactivateUser:"Deactivate User",userDetails:"User Details",userList:"User List",contactUs:"Contact Us",getInTouch:"Get in Touch",sendUs:"Send us a message",yourName:"Your Name",yourEmail:"Your Email",yourMessage:"Your Message",company:"Company",learning:"Learning",eduflowAcademy:"EduFlow Academy",eduflowTagline:"Empowering learners worldwide with quality programming and language education.",joinThousands:"Join thousands of students who have transformed their careers with our expert-led courses.",onlineLearningPlatform:"Online Learning Platform",availableViaMessage:"Available via message",enterSubject:"Enter subject...",enterYourMessage:"Enter your message...",sending:"Sending...",meetOurInstructors:"Meet Our Instructors",expertInstructorsTeam:"Learn from industry-leading professionals",instructorsList:"Instructors",rating:"Rating",expertise:"Expertise",myProfile:"My Profile",editProfile:"Edit Profile",personalInformation:"Personal Information",fullName:"Full Name",emailAddress:"Email Address",phoneNumber:"Phone Number",bio:"Bio",updateProfile:"Update Profile",profileUpdated:"Profile updated successfully",generalSettings:"General Settings",notificationSettings:"Notification Settings",privacySettings:"Privacy Settings",emailNotifications:"Email Notifications",pushNotifications:"Push Notifications",language:"Language",theme:"Theme",darkMode:"Dark Mode",lightMode:"Light Mode",discoverBestCourses:"Discover the Best Online Courses",transformCareer:"Transform Your Career with Expert-Led Courses",exploreNow:"Explore Now",viewDetails:"View Details",enrolledStudents:"Enrolled Students",weeks:"weeks",viewAll:"View All",seeAllCourses:"See All Courses",recentCourses:"Recent Courses",discoverMostPopularCourses:"Discover our most popular courses",noCoursesFound:"No courses found",tryDifferentFilters:"Try adjusting your search or filters",noCoursesAvailable:"No courses available yet",showMore:"Show More",compose:"Compose",reply:"Reply",forward:"Forward",markAsRead:"Mark as Read",markAsUnread:"Mark as Unread",deleteMessage:"Delete Message",active:"Active",inactive:"Inactive",published:"Published",draft:"Draft",approved:"Approved",rejected:"Rejected",today:"Today",yesterday:"Yesterday",lastWeek:"Last Week",lastMonth:"Last Month",thisYear:"This Year",learnFromExperts:"Learn from Experts",masterNewSkillsWithIndustryLeading:"Master new skills with industry-leading instructors",advanceYourCareer:"Advance Your Career",gainInDemandSkillsAndCertificates:"Gain in-demand skills and earn recognized certificates",paymentMethodsTitle:"Payment Methods",choosePreferredPaymentMethod:"Choose your preferred payment method and follow the instructions",fouad:"Fouad",haram:"Haram",shamCash:"Sham Cash",westernUnion:"Western Union",studentsCount:"Students",coursesCount:"Courses",instructorsCount:"Instructors",successRate:"Success Rate",searchCoursesPlaceholder:"Search courses...",discoverMostPopularCourses:"Discover our most popular courses",experienceBestOnlineEducation:"Experience the best in online education",whyChooseEduFlowAcademy:"Why Choose EduFlow Academy?",certifiedLearning:"Certified Learning",certifiedLearningDesc:"Earn recognized certificates upon course completion",expertInstructorsCard:"Expert Instructors",expertInstructorsCardDesc:"Learn from industry professionals",flexibleSchedule:"Flexible Schedule",flexibleScheduleDesc:"Study at your own pace, anytime, anywhere",communitySupport:"Community Support",communitySupportDesc:"Connect with fellow learners and instructors",realSuccessStories:"Real success stories from our learning community",whatOurStudentsSay:"What Our Students Say",testimonialDescription:"Real feedback from students who completed our courses and achieved their goals.",readyToStartLearningJourney:"Ready to Start Your Learning Journey?",joinThousandsOfStudents:"Join thousands of students already learning with us",browseCourses:"Browse Courses",getStartedFree:"Get Started Free",exploreCourses:"Explore Courses",viewCourses:"View Courses",startLearningToday:"Start Learning Today",instructors:"Instructors",viewProfile:"View Profile",coursesBy:"Courses by",noCoursesAvailableYet:"No courses available yet",backToInstructors:"Back to Instructors",eduflow:"EduFlow",continueYourLearningJourney:"Continue your learning journey and discover new courses",enrolledCoursesCard:"Enrolled Courses",completedCoursesCard:"Completed Courses",inProgress:"In Progress",totalProgress:"Total Progress",backToDashboard:"Back to Dashboard",group:"Group",joinDiscussionGroup:"Join Discussion Group",courseSections:"Course Sections",lecturesCount:"lectures",assignmentsCount:"assignments",projectsCount:"projects",lecture:"Lecture",assignment:"Assignment",project:"Project",projectTutorial:"Project Tutorial Video",watchTutorialToUnderstand:"Watch the tutorial to understand the project requirements",watchTutorial:"Watch Tutorial",downloadStarterFiles:"Download Starter Files",updatePassword:"Update Password",themePreference:"Theme",choosePreferredTheme:"Choose your preferred theme",switchToLightMode:"Switch to Light Mode",switchToDarkMode:"Switch to Dark Mode",languagePreference:"Language",choosePreferredLanguage:"Choose your preferred language",switchToEnglish:"Switch to English",switchToArabic:"Switch to Arabic",pendingActionsAnimationsLabel:"Pending actions animations",pendingActionsAnimationsDescription:"Enable subtle animations on pending-action banners in dashboards.",pendingActionsAnimationsEnable:"Enable",pendingActionsAnimationsDisable:"Disable",manageAccountSettingsAndPreferences:"Manage your account settings and preferences",profileInformation:"Profile Information",emailCannotBeChanged:"Email cannot be changed",studentSettings:"Student Settings",manageProfileAndPreferences:"Manage your profile and preferences",profileInformation:"Profile Information",profilePicture:"Profile Picture",avatarPreview:"Avatar preview",chooseImage:"Choose Image",imageRequirements:"JPG, PNG, GIF or WEBP. Max size: 5MB",nameCanOnlyBeChanged:"Name can only be changed in Profile section",emailCannotBeChanged:"Email cannot be changed",phoneCanOnlyBeChanged:"Phone can only be changed in Profile section",jobRole:"Job Role",jobRolePlaceholder:"e.g., Software Developer, Student, Designer",shortBio:"Short Bio",bioBriefIntro:"A brief introduction...",aboutMeDetailed:"About Me (Detailed)",shareMoreAboutYourself:"Share more about yourself, your learning journey, and goals",saveSettings:"Save Settings",dangerZone:"Danger Zone",irreversibleActions:"Irreversible and destructive actions",deleteAccount:"Delete Account",permanentlyDeleteAccount:"Permanently delete your account and all associated data. This action cannot be undone.",deleteMyAccount:"Delete My Account",deleteAccountConfirmTitle:"Delete Account",thisActionPermanent:"This action is permanent and cannot be undone. All your data including:",profileInfo:"Profile information",courseEnrollments:"Course enrollments",certificatesData:"Certificates",progressAndGrades:"Progress and grades",messagesAndNotifications:"Messages and notifications",willBePermanentlyDeleted:"will be permanently deleted from our servers.",typeToConfirm:"Type",deleteMyAccountCaps:"DELETE MY ACCOUNT",toConfirm:"to confirm",deleting:"Deleting...",pleaseTypeToConfirm:'Please type "DELETE MY ACCOUNT" to confirm',failedToLoadProfile:"Failed to load profile",imageMustBeLess5MB:"Image must be less than 5MB",pleaseSelectImage:"Please select an image file",saving:"Saving...",learner:"Learner",shortBio:"Short Bio",briefIntroduction:"A brief introduction...",charactersCount:"characters",aboutMeDetailed:"About Me (Detailed)",shareMoreAboutYourself:"Share more about yourself, your learning journey, and goals",saveSettings:"Save Settings",dangerZone:"Danger Zone",irreversibleActions:"Irreversible and destructive actions",deleteAccount:"Delete Account",permanentlyDeleteAccount:"Permanently delete your account and all associated data. This action cannot be undone.",deleteMyAccount:"Delete My Account",myCertificates:"My Certificates",viewAndRequestCertificates:"View and request certificates for completed courses",issuedCertificates:"Issued Certificates",gradeLabel:"Grade:",grade:"Grade",issued:"Issued",view:"View",download:"Download",rateThisCourse:"Rate This Course",issuedOn:"Issued on",group:"Group",requestCertificate:"Request Certificate",noCertificatesYet:"No certificates yet",completeCoursesWith70:"Complete courses with a grade of 70% or higher to request certificates",noEligibleCourses:"No eligible courses",keepLearningToEarnCertificates:"Keep learning and complete courses with a grade of 70% or higher to earn certificates",requestPending:"Request Pending",requestDenied:"Request Denied",request:"Request",requested:"Requested",rateCourse:"Rate Course",yourRating:"Your Rating",yourReview:"Your Review (Optional)",writeYourReview:"Write your review here...",submitRating:"Submit Rating",cancel:"Cancel",delivered:"Delivered",pending:"Pending",requestAgain:"Request Again",previousRejectionReason:"Previous rejection reason",course:"Course",feedbackHelpsOthers:"Your feedback helps other students make informed decisions!",rating:"Rating",star:"star",stars:"stars",shareYourExperience:"Share your experience with this course...",characters:"characters",skipForNow:"Skip for Now",certificateStatus:"Certificate Status",certificateStatusEligible:"Eligible to request now",certificateStatusNotEligible:"Not eligible yet",certificateStatusWaitingInstructor:"Completed but waiting for instructor to open requests",certificateStatusCertificatesDisabled:"Certificates are not available for this course",certificateReasonGroupNotCompleted:"Complete all required lectures, assignments, projects, and tests in this group to become eligible for a certificate.",certificateReasonGradeTooLow:"Your overall grade must reach at least {{passingGrade}}% to be eligible for a certificate.",certificateProgressLabel:"Progress",certificateProgressValue:"{{completed}} of {{total}} items ({{percentage}}%) completed",certificateModeLabel:"Certificate mode",certificateModeAutomatic:"Automatic \x13 requests open as soon as you complete the course and meet the passing grade.",certificateModeManualInstructor:"Manual (instructor-controlled) \x13 your instructor decides when to open certificate requests.",certificateModeDisabled:"Disabled \x13 certificates are currently turned off for this course.",privacyPolicyTitle:"Privacy Policy",termsOfServiceTitle:"Terms of Service",aboutUsTitle:"About Us",helpCenterTitle:"Help Center",faqTitle:"Frequently Asked Questions",courseNotFound:"Course not found",backToHome:"Back to Home",groups:"groups",whatYoullLearn:"What you'll learn",courseCoversKeyTopics:"This course covers the key topics to achieve the stated level. Lectures, assignments and projects included.",continueCourse:"Continue course",enrollmentPendingApproval:"Enrollment pending approval",selectGroup:"Select Group",chooseAGroup:"Choose a group",continueToEnrollment:"Continue to Enrollment",loginAsStudentToEnroll:"Login as a student to enroll",createAccountOrLogin:"Create an account or log in to enroll",studentReviews:"Student Reviews",noReviewsYet:"No reviews yet. Be the first to review this course!",completeEnrollment:"Complete Enrollment",paymentRequired:"Payment Required",groupRequiresPayment:"This group requires a",monthly:"monthly",perSection:"per-section",paymentOf:"payment of",paymentMethod:"Payment Method",selectPaymentMethod:"Select payment method",haramHawala:"Haram Hawala",fouadHawala:"Fouad Hawala",shamCash:"Sham Cash",westernUnion:"Western Union",paymentReceiptUrl:"Payment Receipt URL",uploadReceiptInstruction:"Upload your receipt image and paste the URL here, or send via messaging to admin/instructor for verification.",canAlsoUploadViaMessages:"You can also upload your receipt via the",messagesPage:"Messages",pageToInstructorOrAdmin:"page to the instructor or admin.",freeGroupEnrollImmediately:"This is a free group. You can enroll immediately.",confirmEnrollment:"Confirm Enrollment",enrolling:"Enrolling...",anonymous:"Anonymous",overallGrade:"Overall Grade",unlockAllSections:"Unlock All Sections",payForAllLockedSections:"Pay for all",lockedSection:"locked section",lockedSections:"locked sections",atOnce:"at once",pay:"Pay",noContentAvailable:"No content available",lecturesUppercase:"LECTURES",assignmentsUppercase:"ASSIGNMENTS",projectsUppercase:"PROJECTS",selectContentFromLeft:"Select content from the left to view details",clickToWatchVideo:"Click to watch video",videoWillAutoPlay:"Video will auto-play and track your progress",assignmentFile:"Assignment File",downloadAssignment:"Download Assignment",reviewed:"Reviewed",gradeColon:"Grade:",instructorFeedback:"Instructor Feedback:",pendingGrading:"Pending Grading",assignmentSubmittedSuccessfully:"Your assignment has been submitted successfully and is awaiting instructor review.",currentGrade50Pending:"Current Grade: 50% (will be updated after review)",deadlinePassed:"Deadline Passed",assignmentDeadlinePassed:"The deadline for this assignment has passed.",projectDeadlinePassed:"The deadline for this project has passed.",gradeFailed:"Grade: 0% (Failed)",deadlineWas:"Deadline was:",submitYourWork:"Submit Your Work",uploadCompletedAssignmentRar:"Please upload your completed assignment as a .rar or .zip file",deadline:"Deadline:",uploadingAssignment:"Uploading assignment...",projectTutorialVideo:"Project Tutorial Video",watchTutorialToUnderstandRequirements:"Watch the tutorial to understand the project requirements",watchTutorial:"Watch Tutorial",starterFiles:"Starter Files",downloadStarterFiles:"Download Starter Files",projectSubmittedSuccessfully:"Your project has been submitted successfully and is awaiting instructor review.",submitYourProject:"Submit Your Project",uploadCompletedProjectRar:"Please upload your completed project as a .rar file",uploadingProject:"Uploading project...",foundResults:"Found",result:"result",results:"results",all:"All",noResultsFound:"No results found",tryDifferentKeywords:"Try different keywords or browse all categories",stillNeedHelp:"Still need help?",ourSupportTeamIsHere:"Our support team is here to assist you",emailSupport:"Email Support",messageAdmin:"Message Admin",notWatched:"Not Watched",watched:"Watched",notSubmitted:"Not Submitted",pendingReview:"Pending Review",completed:"Completed",gettingStarted:"Getting Started",paymentsAndBilling:"Payments & Billing",signup:"signup",enroll:"enroll",apply:"apply",become:"become",setup:"setup",manage:"manage",monitor:"monitor",grading:"grading",evaluation:"evaluation",marks:"marks",method:"method",bank:"bank",moneyBack:"money back",return:"return",cancellation:"cancellation",proof:"proof",issues:"issues",problems:"problems",stuck:"stuck",error:"error",browse:"browse",photo:"photo",homework:"homework"}},ar:{translation:{helpCenterTitle:"\u0645\u0631\u0643\u0632 \u0627\u0644\u0645\u0633\u0627\u0639\u062f\u0629",howCanWeHelpYou:"\u0643\u064a\u0641 \u064a\u0645\u0643\u0646\u0646\u0627 \u0645\u0633\u0627\u0639\u062f\u062a\u0643\u061f",searchForAnswers:"\u0627\u0628\u062d\u062b \u0639\u0646 \u0625\u062c\u0627\u0628\u0627\u062a \u0623\u0648 \u062a\u0635\u0641\u062d \u0627\u0644\u0645\u0642\u0627\u0644\u0627\u062a \u062d\u0633\u0628 \u0627\u0644\u0641\u0626\u0629",searchHelp:"\u0627\u0628\u062d\u062b \u0641\u064a \u0645\u0642\u0627\u0644\u0627\u062a \u0627\u0644\u0645\u0633\u0627\u0639\u062f\u0629...",browseCategories:"\u062a\u0635\u0641\u062d \u0627\u0644\u0641\u0626\u0627\u062a",popularArticles:"\u0627\u0644\u0645\u0642\u0627\u0644\u0627\u062a \u0627\u0644\u0634\u0627\u0626\u0639\u0629",stillNeedHelp:"\u0644\u0627 \u062a\u0632\u0627\u0644 \u0628\u062d\u0627\u062c\u0629 \u0625\u0644\u0649 \u0645\u0633\u0627\u0639\u062f\u0629\u061f",contactSupport:"\u0627\u062a\u0635\u0644 \u0628\u0627\u0644\u062f\u0639\u0645 \u0627\u0644\u0641\u0646\u064a",contactUsAt:"\u062a\u0648\u0627\u0635\u0644 \u0645\u0639\u0646\u0627 \u0639\u0644\u0649",or:"\u0623\u0648",sendMessage:"\u0625\u0631\u0633\u0627\u0644 \u0631\u0633\u0627\u0644\u0629",helpCategories:"\u0641\u0626\u0627\u062a \u0627\u0644\u0645\u0633\u0627\u0639\u062f\u0629",gettingStarted:"\u0627\u0644\u0628\u062f\u0621",coursesLearning:"\u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0648\u0627\u0644\u062a\u0639\u0644\u0645",instructors:"\u0627\u0644\u0645\u062f\u0631\u0628\u0648\u0646",payments:"\u0627\u0644\u0645\u062f\u0641\u0648\u0639\u0627\u062a",account:"\u0627\u0644\u062d\u0633\u0627\u0628",technical:"\u0627\u0644\u062f\u0639\u0645 \u0627\u0644\u0641\u0646\u064a",findAnswers:"\u0627\u0628\u062d\u062b \u0639\u0646 \u0625\u062c\u0627\u0628\u0627\u062a \u0644\u0623\u0633\u0626\u0644\u062a\u0643",noResultsFound:"\u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u0639\u062b\u0648\u0631 \u0639\u0644\u0649 \u0646\u062a\u0627\u0626\u062c",tryDifferentKeywords:"\u062c\u0631\u0628 \u0643\u0644\u0645\u0627\u062a \u0628\u062d\u062b \u0645\u062e\u062a\u0644\u0641\u0629 \u0623\u0648 \u062a\u0635\u0641\u062d \u062c\u0645\u064a\u0639 \u0627\u0644\u0641\u0626\u0627\u062a",wasThisHelpful:"\u0647\u0644 \u0643\u0627\u0646 \u0647\u0630\u0627 \u0645\u0641\u064a\u062f\u0627\u064b \u0644\u0643\u061f",yes:"\u0646\u0639\u0645",no:"\u0644\u0627",thankYouFeedback:"\u0634\u0643\u0631\u0627\u064b \u0644\u0643 \u0639\u0644\u0649 \u0645\u0644\u0627\u062d\u0638\u0627\u062a\u0643!",enrollInCourse:"\u0633\u062c\u0644 \u0641\u064a \u0627\u0644\u062f\u0648\u0631\u0629",selectGroup:"\u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062e\u062a\u064a\u0627\u0631 \u0645\u062c\u0645\u0648\u0639\u0629 \u0644\u0644\u062a\u0633\u062c\u064a\u0644 \u0641\u064a \u0647\u0630\u0647 \u0627\u0644\u062f\u0648\u0631\u0629",noGroupsAvailable:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u062c\u0645\u0648\u0639\u0627\u062a \u0645\u062a\u0627\u062d\u0629 \u0644\u0647\u0630\u0647 \u0627\u0644\u062f\u0648\u0631\u0629",instructor:"\u0627\u0644\u0645\u062f\u0631\u0628:",notAssigned:"\u063a\u064a\u0631 \u0645\u0639\u064a\u0646",students:"\u0637\u0627\u0644\u0628",enrollNow:"\u0633\u062c\u0644 \u0627\u0644\u0622\u0646",cancel:"\u0625\u0644\u063a\u0627\u0621",back:"\u0639\u0648\u062f\u0629",group:"\u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629",level:"\u0627\u0644\u0645\u0633\u062a\u0648\u0649",startDate:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0628\u062f\u0621",endDate:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0646\u062a\u0647\u0627\u0621",maxStudents:"\u0627\u0644\u062d\u062f \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0644\u0637\u0644\u0627\u0628",currentStudents:"\u0627\u0644\u0637\u0644\u0627\u0628 \u0627\u0644\u0645\u0633\u062c\u0644\u064a\u0646",price:"\u0627\u0644\u0633\u0639\u0631",selectGroupToContinue:"\u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062e\u062a\u064a\u0627\u0631 \u0645\u062c\u0645\u0648\u0639\u0629 \u0644\u0644\u0645\u062a\u0627\u0628\u0639\u0629",enrollmentSuccessful:"\u062a\u0645 \u0627\u0644\u062a\u0633\u062c\u064a\u0644 \u0641\u064a \u0627\u0644\u062f\u0648\u0631\u0629 \u0628\u0646\u062c\u0627\u062d!",alreadyEnrolled:"\u0623\u0646\u062a \u0645\u0633\u062c\u0644 \u0645\u0633\u0628\u0642\u0627\u064b \u0641\u064a \u0647\u0630\u0647 \u0627\u0644\u062f\u0648\u0631\u0629",enrollmentPending:"\u0637\u0644\u0628 \u0627\u0644\u062a\u0633\u062c\u064a\u0644 \u0642\u064a\u062f \u0627\u0644\u0645\u0631\u0627\u062c\u0639\u0629",enrollmentError:"\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u0645\u062d\u0627\u0648\u0644\u0629 \u0627\u0644\u062a\u0633\u062c\u064a\u0644",selectGroupInstruction:"\u0627\u062e\u062a\u0631 \u0645\u062c\u0645\u0648\u0639\u0629 \u0645\u0646 \u0627\u0644\u0642\u0627\u0626\u0645\u0629 \u0644\u0644\u0645\u062a\u0627\u0628\u0639\u0629",groupFull:"\u0647\u0630\u0647 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629 \u0645\u0645\u062a\u0644\u0626\u0629",groupClosed:"\u0627\u0644\u062a\u0633\u062c\u064a\u0644 \u0641\u064a \u0647\u0630\u0647 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629 \u0645\u063a\u0644\u0642",enrollmentClosed:"\u0627\u0646\u062a\u0647\u0649 \u0645\u0648\u0639\u062f \u0627\u0644\u062a\u0633\u062c\u064a\u0644",enrollmentNotStarted:"\u0644\u0645 \u064a\u0628\u062f\u0623 \u0627\u0644\u062a\u0633\u062c\u064a\u0644 \u0628\u0639\u062f",enrollmentDeadline:"\u0622\u062e\u0631 \u0645\u0648\u0639\u062f \u0644\u0644\u062a\u0633\u062c\u064a\u0644",backToDashboard:"\u0627\u0644\u0639\u0648\u062f\u0629 \u0644\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645",advanced:"\u0645\u062a\u0642\u062f\u0645",beginner:"\u0645\u0628\u062a\u062f\u0626",intermediate:"\u0645\u062a\u0648\u0633\u0637",lectures:"\u0627\u0644\u0645\u062d\u0627\u0636\u0631\u0627\u062a",projects:"\u0627\u0644\u0645\u0634\u0627\u0631\u064a\u0639",courseSections:"\u0623\u0642\u0633\u0627\u0645 \u0627\u0644\u062f\u0648\u0631\u0629",selectContent:"\u062d\u062f\u062f \u0627\u0644\u0645\u062d\u062a\u0648\u0649 \u0645\u0646 \u0627\u0644\u064a\u0645\u064a\u0646 \u0644\u0639\u0631\u0636 \u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644",clickToWatch:"\u0627\u0646\u0642\u0631 \u0644\u0645\u0634\u0627\u0647\u062f\u0629 \u0627\u0644\u0641\u064a\u062f\u064a\u0648",videoAutoPlay:"\u0633\u064a\u062a\u0645 \u062a\u0634\u063a\u064a\u0644 \u0627\u0644\u0641\u064a\u062f\u064a\u0648 \u062a\u0644\u0642\u0627\u0626\u064a\u0627\u064b \u0648\u062a\u062a\u0628\u0639 \u062a\u0642\u062f\u0645\u0643",assignment:"\u0627\u0644\u0648\u0627\u062c\u0628",assignmentFile:"\u0645\u0644\u0641 \u0627\u0644\u0648\u0627\u062c\u0628",downloadAssignment:"\u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0648\u0627\u062c\u0628",reviewed:"\u062a\u0645\u062a \u0627\u0644\u0645\u0631\u0627\u062c\u0639\u0629",projectTutorialVideo:"\u0641\u064a\u062f\u064a\u0648 \u062a\u0639\u0644\u064a\u0645\u064a \u0644\u0644\u0645\u0634\u0631\u0648\u0639",watchTutorial:"\u0645\u0634\u0627\u0647\u062f\u0629 \u0627\u0644\u0628\u0631\u0646\u0627\u0645\u062c \u0627\u0644\u062a\u0639\u0644\u064a\u0645\u064a",watchTutorialDesc:"\u0634\u0627\u0647\u062f \u0627\u0644\u0628\u0631\u0646\u0627\u0645\u062c \u0627\u0644\u062a\u0639\u0644\u064a\u0645\u064a \u0644\u0641\u0647\u0645 \u0645\u062a\u0637\u0644\u0628\u0627\u062a \u0627\u0644\u0645\u0634\u0631\u0648\u0639",starterFiles:"\u0645\u0644\u0641\u0627\u062a \u0627\u0644\u0628\u062f\u0627\u064a\u0629",downloadStarterFiles:"\u062a\u062d\u0645\u064a\u0644 \u0645\u0644\u0641\u0627\u062a \u0627\u0644\u0628\u062f\u0627\u064a\u0629",courseContent:"\u0645\u062d\u062a\u0648\u0649 \u0627\u0644\u062f\u0648\u0631\u0629",overview:"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629",resources:"\u0627\u0644\u0645\u0648\u0627\u0631\u062f",announcements:"\u0627\u0644\u0625\u0639\u0644\u0627\u0646\u0627\u062a",grades:"\u0627\u0644\u062f\u0631\u062c\u0627\u062a",completed:"\u0645\u0643\u062a\u0645\u0644",inProgress:"\u0642\u064a\u062f \u0627\u0644\u062a\u0646\u0641\u064a\u0630",notStarted:"\u0644\u0645 \u064a\u0628\u062f\u0623 \u0628\u0639\u062f",markAsComplete:"\u0648\u0636\u0639 \u0639\u0644\u0627\u0645\u0629 \u0643\u0645\u0643\u062a\u0645\u0644",viewDetails:"\u0639\u0631\u0636 \u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644",downloadMaterials:"\u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0645\u0648\u0627\u062f",submitAssignment:"\u062a\u0633\u0644\u064a\u0645 \u0627\u0644\u0648\u0627\u062c\u0628",dueDate:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0633\u062a\u062d\u0642\u0627\u0642",submittedOn:"\u062a\u0645 \u0627\u0644\u062a\u0633\u0644\u064a\u0645 \u0641\u064a",grade:"\u0627\u0644\u062f\u0631\u062c\u0629",feedback:"\u0627\u0644\u062a\u0639\u0644\u064a\u0642\u0627\u062a",noContentAvailable:"\u0644\u0627 \u064a\u0648\u062c\u062f \u0645\u062d\u062a\u0648\u0649 \u0645\u062a\u0627\u062d \u062d\u0627\u0644\u064a\u0627\u064b",continueLearning:"\u0648\u0627\u0635\u0644 \u0627\u0644\u062a\u0639\u0644\u0645",startCourse:"\u0627\u0628\u062f\u0623 \u0627\u0644\u062f\u0648\u0631\u0629",lastAccessed:"\u0622\u062e\u0631 \u0632\u064a\u0627\u0631\u0629",courseProgress:"\u062a\u0642\u062f\u0645 \u0627\u0644\u062f\u0648\u0631\u0629",overallGrade:"\u0627\u0644\u0645\u0639\u062f\u0644 \u0627\u0644\u0639\u0627\u0645",assignments:"\u0627\u0644\u0648\u0627\u062c\u0628\u0627\u062a",quizzes:"\u0627\u0644\u0627\u062e\u062a\u0628\u0627\u0631\u0627\u062a",discussions:"\u0627\u0644\u0645\u0646\u0627\u0642\u0634\u0627\u062a",viewAll:"\u0639\u0631\u0636 \u0627\u0644\u0643\u0644",recentActivity:"\u0627\u0644\u0646\u0634\u0627\u0637\u0627\u062a \u0627\u0644\u062d\u062f\u064a\u062b\u0629",noRecentActivity:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0623\u0646\u0634\u0637\u0629 \u062d\u062f\u064a\u062b\u0629",section:"\u0627\u0644\u0642\u0633\u0645",lecture:"\u0645\u062d\u0627\u0636\u0631\u0629",video:"\u0641\u064a\u062f\u064a\u0648",reading:"\u0642\u0631\u0627\u0621\u0629",quiz:"\u0627\u062e\u062a\u0628\u0627\u0631",project:"\u0645\u0634\u0631\u0648\u0639",download:"\u062a\u062d\u0645\u064a\u0644",submit:"\u062a\u0633\u0644\u064a\u0645",submitted:"\u062a\u0645 \u0627\u0644\u062a\u0633\u0644\u064a\u0645",notSubmitted:"\u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u062a\u0633\u0644\u064a\u0645",graded:"\u062a\u0645 \u0627\u0644\u062a\u0642\u064a\u064a\u0645",pendingReview:"\u0642\u064a\u062f \u0627\u0644\u0645\u0631\u0627\u062c\u0639\u0629",viewSubmission:"\u0639\u0631\u0636 \u0627\u0644\u062a\u0633\u0644\u064a\u0645",resubmit:"\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u062a\u0633\u0644\u064a\u0645",viewFeedback:"\u0639\u0631\u0636 \u0627\u0644\u062a\u0639\u0644\u064a\u0642\u0627\u062a",noFeedback:"\u0644\u0627 \u062a\u0648\u062c\u062f \u062a\u0639\u0644\u064a\u0642\u0627\u062a \u0628\u0639\u062f",passingGrade:"\u0627\u0644\u062f\u0631\u062c\u0629 \u0627\u0644\u0646\u0647\u0627\u0626\u064a\u0629",yourGrade:"\u062f\u0631\u062c\u062a\u0643",averageGrade:"\u0627\u0644\u0645\u0639\u062f\u0644",highestGrade:"\u0623\u0639\u0644\u0649 \u062f\u0631\u062c\u0629",lowestGrade:"\u0623\u062f\u0646\u0649 \u062f\u0631\u062c\u0629",gradeDistribution:"\u062a\u0648\u0632\u064a\u0639 \u0627\u0644\u062f\u0631\u062c\u0627\u062a",assignmentDetails:"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0648\u0627\u062c\u0628",instructions:"\u0627\u0644\u062a\u0639\u0644\u064a\u0645\u0627\u062a",submissionStatus:"\u062d\u0627\u0644\u0629 \u0627\u0644\u062a\u0633\u0644\u064a\u0645",submissionDate:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u0633\u0644\u064a\u0645",timeRemaining:"\u0627\u0644\u0648\u0642\u062a \u0627\u0644\u0645\u062a\u0628\u0642\u064a",lateSubmission:"\u062a\u0633\u0644\u064a\u0645 \u0645\u062a\u0623\u062e\u0631",submissionHistory:"\u0633\u062c\u0644 \u0627\u0644\u062a\u0633\u0644\u064a\u0645\u0627\u062a",noSubmissionHistory:"\u0644\u0627 \u064a\u0648\u062c\u062f \u0633\u062c\u0644 \u062a\u0633\u0644\u064a\u0645\u0627\u062a \u0633\u0627\u0628\u0642",downloadSubmission:"\u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u062a\u0633\u0644\u064a\u0645",home:"\u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629",courses:"\u0627\u0644\u062f\u0648\u0631\u0627\u062a",about:"\u062d\u0648\u0644",contact:"\u0627\u062a\u0635\u0644 \u0628\u0646\u0627",login:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644",register:"\u0625\u0646\u0634\u0627\u0621 \u062d\u0633\u0627\u0628",logout:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c",profile:"\u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062e\u0635\u064a",messages:"\u0627\u0644\u0631\u0633\u0627\u0626\u0644",settings:"\u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a",certificates:"\u0627\u0644\u0634\u0647\u0627\u062f\u0627\u062a",wishlist:"\u0627\u0644\u0645\u0641\u0636\u0644\u0629",myWishlist:"\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0641\u0636\u0644\u0629",emptyWishlist:"\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0641\u0636\u0644\u0629 \u0641\u0627\u0631\u063a\u0629",saveCoursesForLater:"\u0627\u0628\u062f\u0623 \u0628\u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0627\u0644\u062a\u064a \u062a\u0647\u0645\u0643!",browseCourses:"\u062a\u0635\u0641\u062d \u0627\u0644\u062f\u0648\u0631\u0627\u062a",addToWishlist:"\u0625\u0636\u0627\u0641\u0629 \u0644\u0644\u0645\u0641\u0636\u0644\u0629",removeFromWishlist:"\u0625\u0632\u0627\u0644\u0629 \u0645\u0646 \u0627\u0644\u0645\u0641\u0636\u0644\u0629",savedForLater:"\u062f\u0648\u0631\u0629 \u0645\u062d\u0641\u0648\u0638\u0629 \u0644\u0644\u0645\u062a\u0627\u0628\u0639\u0629 \u0644\u0627\u062d\u0642\u0627\u064b",myStats:"\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a\u064a",myAchievements:"\u0625\u0646\u062c\u0627\u0632\u0627\u062a\u064a",totalPoints:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0646\u0642\u0627\u0637",currentStreak:"\u0627\u0644\u0633\u0644\u0633\u0644\u0629 \u0627\u0644\u062d\u0627\u0644\u064a\u0629",badgesEarned:"\u0627\u0644\u0623\u0648\u0633\u0645\u0629 \u0627\u0644\u0645\u0643\u062a\u0633\u0628\u0629",activityOverview:"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0627\u0644\u0646\u0634\u0627\u0637",lessonsCompleted:"\u0627\u0644\u062f\u0631\u0648\u0633 \u0627\u0644\u0645\u0643\u062a\u0645\u0644\u0629",quizzesCompleted:"\u0627\u0644\u0627\u062e\u062a\u0628\u0627\u0631\u0627\u062a \u0627\u0644\u0645\u0643\u062a\u0645\u0644\u0629",coursesCompleted:"\u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0627\u0644\u0645\u0643\u062a\u0645\u0644\u0629",yourBadges:"\u0623\u0648\u0633\u0645\u062a\u0643",noBadgesYet:"\u0644\u0645 \u062a\u062d\u0635\u0644 \u0639\u0644\u0649 \u0623\u064a \u0623\u0648\u0633\u0645\u0629 \u0628\u0639\u062f",earnBadgesByCompleting:"\u0623\u0643\u0645\u0644 \u0627\u0644\u062f\u0631\u0648\u0633 \u0648\u0627\u0644\u0627\u062e\u062a\u0628\u0627\u0631\u0627\u062a \u0648\u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0644\u0644\u062d\u0635\u0648\u0644 \u0639\u0644\u0649 \u0627\u0644\u0623\u0648\u0633\u0645\u0629!",dashboard:"\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645",streakDays:"\u0623\u064a\u0627\u0645 \u0627\u0644\u0633\u0644\u0633\u0644\u0629",pointsEarned:"\u0627\u0644\u0646\u0642\u0627\u0637 \u0627\u0644\u0645\u0643\u062a\u0633\u0628\u0629",badgeUnlocked:"\u0648\u0633\u0627\u0645 \u062c\u062f\u064a\u062f",titleEarned:"\u0644\u0642\u0628 \u062c\u062f\u064a\u062f",keepUpGreatWork:"\u0627\u0633\u062a\u0645\u0631 \u0641\u064a \u0627\u0644\u0639\u0645\u0644 \u0627\u0644\u0631\u0627\u0626\u0639!",amazingStreak:"\u0633\u0644\u0633\u0644\u0629 \u0631\u0627\u0626\u0639\u0629! \u0623\u0646\u062a \u0645\u064f\u0644\u062a\u0647\u0628 \ud83d\udd25",excellentProgress:"\u062a\u0642\u062f\u0645 \u0645\u0645\u062a\u0627\u0632! \ud83d\udcaa",everyStepCounts:"\u0643\u0644 \u062e\u0637\u0648\u0629 \u0645\u0647\u0645\u0629. \u0627\u0633\u062a\u0645\u0631 \u0641\u064a \u0627\u0644\u062a\u0639\u0644\u0645! \ud83d\udcda",achievementsTourWelcomeTitle:"\u0635\u0641\u062d\u0629 \u0625\u0646\u062c\u0627\u0632\u0627\u062a\u0643 \u0648\u0645\u0643\u0627\u0641\u0622\u062a\u0643 \ud83c\udf89",achievementsTourWelcomeContent:"\u0641\u064a \u0647\u0630\u0647 \u0627\u0644\u0635\u0641\u062d\u0629 \u062a\u0631\u0649 \u0643\u064a\u0641 \u064a\u062a\u062d\u0648\u0644 \u0646\u0634\u0627\u0637\u0643 \u0627\u0644\u062a\u0639\u0644\u064a\u0645\u064a \u0625\u0644\u0649 \u0646\u0642\u0627\u0637\u060c \u0648\u0631\u0635\u064a\u062f \u0641\u064a \u0627\u0644\u0645\u062d\u0641\u0638\u0629\u060c \u0648\u0623\u0648\u0633\u0645\u0629 \u0648\u0623\u0644\u0642\u0627\u0628. \u062f\u0639\u0646\u0627 \u0646\u0623\u062e\u0630 \u062c\u0648\u0644\u0629 \u0633\u0631\u064a\u0639\u0629 \u0644\u0634\u0631\u062d \u0643\u064a\u0641\u064a\u0629 \u0639\u0645\u0644 \u0627\u0644\u0646\u0638\u0627\u0645.",achievementsTourHeaderTitle:"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629 \u0639\u0644\u0649 \u0627\u0644\u0625\u0646\u062c\u0627\u0632\u0627\u062a",achievementsTourHeaderContent:"\u0641\u064a \u0627\u0644\u0623\u0639\u0644\u0649 \u064a\u0645\u0643\u0646\u0643 \u0631\u0624\u064a\u0629 \u0644\u0642\u0628\u0643 \u0627\u0644\u062d\u0627\u0644\u064a\u060c \u0648\u0625\u062c\u0645\u0627\u0644\u064a \u0646\u0642\u0627\u0637\u0643\u060c \u0648\u0633\u0644\u0633\u0644\u0629 \u0627\u0644\u0623\u064a\u0627\u0645 \u0627\u0644\u0645\u062a\u062a\u0627\u0644\u064a\u0629\u060c \u0648\u0645\u0644\u062e\u0635 \u0633\u0631\u064a\u0639 \u0644\u062a\u0642\u062f\u0645\u0643 \u0639\u0644\u0649 \u0627\u0644\u0645\u0646\u0635\u0651\u0629.",achievementsTourPointsTitle:"\u0627\u0644\u0646\u0642\u0627\u0637 \u0648\u0631\u0635\u064a\u062f \u0627\u0644\u0645\u062d\u0641\u0638\u0629",achievementsTourPointsContent:"\u0641\u064a \u0643\u0644 \u0645\u0631\u0629 \u062a\u064f\u0643\u0645\u0644 \u0645\u062d\u0627\u0636\u0631\u0627\u062a \u0623\u0648 \u0648\u0627\u062c\u0628\u0627\u062a \u0623\u0648 \u0645\u0634\u0627\u0631\u064a\u0639 \u0623\u0648 \u0627\u062e\u062a\u0628\u0627\u0631\u0627\u062a\u060c \u062a\u062d\u0635\u0644 \u0639\u0644\u0649 \u0646\u0642\u0627\u0637. \u064a\u0645\u0643\u0646 \u062a\u062d\u0648\u064a\u0644 \u0647\u0630\u0647 \u0627\u0644\u0646\u0642\u0627\u0637 \u0625\u0644\u0649 \u0631\u0635\u064a\u062f \u0641\u064a \u0645\u062d\u0641\u0638\u062a\u0643 \u0628\u0627\u0644\u0644\u064a\u0631\u0629 \u0627\u0644\u0633\u0648\u0631\u064a\u0629 \u062d\u0633\u0628 \u0633\u0639\u0631 \u0627\u0644\u062a\u062d\u0648\u064a\u0644 \u0627\u0644\u0638\u0627\u0647\u0631 \u0647\u0646\u0627\u060c \u0648\u064a\u0645\u0643\u0646 \u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0627\u0644\u0631\u0635\u064a\u062f \u0644\u0627\u062d\u0642\u0627\u064b \u0644\u0644\u062d\u0635\u0648\u0644 \u0639\u0644\u0649 \u062e\u0635\u0648\u0645\u0627\u062a \u0623\u0648 \u0645\u0643\u0627\u0641\u0622\u062a.",achievementsTourActivitiesTitle:"\u0633\u062c\u0644 \u0627\u0644\u0646\u0634\u0627\u0637\u0627\u062a \u0627\u0644\u0623\u062e\u064a\u0631\u0629",achievementsTourActivitiesContent:"\u0647\u0646\u0627 \u062a\u062c\u062f \u0622\u062e\u0631 \u0627\u0644\u0646\u0642\u0627\u0637 \u0648\u0627\u0644\u0623\u0648\u0633\u0645\u0629 \u0648\u0627\u0644\u0623\u0644\u0642\u0627\u0628 \u0627\u0644\u062a\u064a \u062d\u0635\u0644\u062a \u0639\u0644\u064a\u0647\u0627\u060c \u0645\u0639 \u062a\u0641\u0627\u0635\u064a\u0644 \u0639\u0646 \u0627\u0644\u062f\u0648\u0631\u0629 \u0623\u0648 \u0627\u0644\u062f\u0631\u0633 \u0623\u0648 \u0627\u0644\u0641\u064a\u062f\u064a\u0648 \u0627\u0644\u0645\u0631\u062a\u0628\u0637 \u0628\u0643\u0644 \u0646\u0634\u0627\u0637.",achievementsTourBadgesTitle:"\u0627\u0644\u0623\u0648\u0633\u0645\u0629 \u0648\u0645\u0633\u0627\u0631 \u062a\u0642\u062f\u0645\u0643",achievementsTourBadgesContent:"\u0627\u0644\u0623\u0648\u0633\u0645\u0629 \u0647\u064a \u0645\u0643\u0627\u0641\u0622\u062a \u0628\u0635\u0631\u064a\u0629 \u062a\u064f\u0638\u0647\u0631 \u0625\u0646\u062c\u0627\u0632\u0627\u062a\u0643\u060c \u0648\u0628\u0639\u0636\u0647\u0627 \u064a\u0645\u0646\u062d\u0643 \u0646\u0642\u0627\u0637\u0627\u064b \u0625\u0636\u0627\u0641\u064a\u0629. \u0643\u0644\u0645\u0627 \u0623\u0643\u0645\u0644\u062a \u0645\u062d\u062a\u0648\u0649 \u0623\u0643\u062b\u0631 \u062a\u062d\u0635\u0644 \u0639\u0644\u0649 \u0623\u0648\u0633\u0645\u0629 \u062c\u062f\u064a\u062f\u0629 \u0648\u062a\u0631\u0641\u0639 \u0645\u062c\u0645\u0648\u0639 \u0646\u0642\u0627\u0637\u0643.",achievementsTourMotivationTitle:"\u0627\u0644\u0645\u0643\u0627\u0641\u0622\u062a \u0627\u0644\u0645\u0633\u062a\u0642\u0628\u0644\u064a\u0629 \u0648\u0627\u0644\u062a\u062d\u0641\u064a\u0632",achievementsTourMotivationContent:"\u0647\u0630\u0627 \u0627\u0644\u0642\u0633\u0645 \u064a\u0630\u0643\u0651\u0631\u0643 \u0628\u0623\u0646 \u0627\u0633\u062a\u0645\u0631\u0627\u0631\u0643 \u0641\u064a \u0627\u0644\u062a\u0639\u0644\u0645 \u0633\u064a\u0642\u0631\u0628\u0643 \u0645\u0646 \u0645\u0643\u0627\u0641\u0622\u062a \u0648\u0646\u0642\u0627\u0637 \u0648\u0631\u0635\u064a\u062f \u0623\u0639\u0644\u0649 \u0641\u064a \u0627\u0644\u0645\u062d\u0641\u0638\u0629. \u0643\u0644 \u064a\u0648\u0645 \u062f\u0631\u0627\u0633\u0629 \u064a\u0633\u0627\u0647\u0645 \u0641\u064a \u0628\u0646\u0627\u0621 \u0645\u0633\u062a\u0642\u0628\u0644\u0643.",welcomeBack:"\u0645\u0631\u062d\u0628\u0627\u064b \u0628\u0639\u0648\u062f\u062a\u0643",letsStartLearning:"\u0644\u0646\u0628\u062f\u0623 \u0627\u0644\u062a\u0639\u0644\u0645! \ud83c\udf93",greatStart:"\u0628\u062f\u0627\u064a\u0629 \u0631\u0627\u0626\u0639\u0629!",keepGoing:"\u0648\u0627\u0635\u0644 \u0627\u0644\u0645\u0633\u064a\u0631!",onFire:"\u0623\u0646\u062a \u0645\u064f\u0644\u062a\u0647\u0628!",amazing:"\u0645\u0630\u0647\u0644!",legendary:"\u0623\u0633\u0637\u0648\u0631\u064a!",email:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",password:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",confirmPassword:"\u062a\u0623\u0643\u064a\u062f \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",name:"\u0627\u0644\u0627\u0633\u0645",phone:"\u0627\u0644\u0647\u0627\u062a\u0641",role:"\u0627\u0644\u062f\u0648\u0631",countryLabel:"\u0627\u0644\u0628\u0644\u062f",cityLabel:"\u0627\u0644\u0645\u062f\u064a\u0646\u0629",schoolLabel:"\u0627\u0644\u0645\u062f\u0631\u0633\u0629 / \u0627\u0644\u062c\u0627\u0645\u0639\u0629 (\u0623\u0639\u0644\u0649 \u0634\u0647\u0627\u062f\u0629)",student:"\u0637\u0627\u0644\u0628",instructor:"\u0645\u062f\u0631\u0633",admin:"\u0645\u062f\u064a\u0631",forgotPassword:"\u0646\u0633\u064a\u062a \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631\u061f",rememberMe:"\u062a\u0630\u0643\u0631\u0646\u064a",alreadyHaveAccount:"\u0644\u062f\u064a\u0643 \u062d\u0633\u0627\u0628 \u0628\u0627\u0644\u0641\u0639\u0644\u061f",dontHaveAccount:"\u0644\u064a\u0633 \u0644\u062f\u064a\u0643 \u062d\u0633\u0627\u0628\u061f",back:"\u0631\u062c\u0648\u0639",iAgreeTo:"\u0623\u0648\u0627\u0641\u0642 \u0639\u0644\u0649",andLabel:"\u0648",wantToTeach:"\u0647\u0644 \u062a\u0631\u063a\u0628 \u0628\u0627\u0644\u062a\u062f\u0631\u064a\u0633 \u0639\u0644\u0649 \u0625\u064a\u062f\u0648\u0641\u0644\u0648\u061f",becomeInstructor:"\u0643\u0646 \u0645\u062f\u0631\u0651\u0633\u0627\u064b",instructorAgreementCheckbox:"\u0644\u0642\u062f \u0642\u0631\u0623\u062a \u0648\u0623\u0648\u0627\u0641\u0642 \u0639\u0644\u0649 \u0627\u0644\u0634\u0631\u0648\u0637 \u0648\u0627\u0644\u0623\u062d\u0643\u0627\u0645 \u0641\u064a \u0627\u062a\u0641\u0627\u0642\u064a\u0629 \u0627\u0644\u0645\u062f\u0631\u0651\u0633",mustAgreeTerms:"\u064a\u062c\u0628 \u0623\u0646 \u062a\u0648\u0627\u0641\u0642 \u0639\u0644\u0649 \u0634\u0631\u0648\u0637 \u0627\u0644\u062e\u062f\u0645\u0629 \u0648\u0633\u064a\u0627\u0633\u0629 \u0627\u0644\u062e\u0635\u0648\u0635\u064a\u0629 \u0644\u0644\u0645\u062a\u0627\u0628\u0639\u0629",leaderboard:"\u0644\u0648\u062d\u0629 \u0627\u0644\u0645\u062a\u0635\u062f\u0631\u064a\u0646",searchStudents:"\u0627\u0628\u062d\u062b \u0639\u0646 \u0627\u0644\u0637\u0644\u0627\u0628 \u0628\u0627\u0644\u0627\u0633\u0645 \u0623\u0648 \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",noStudentsFound:"\u0644\u0627 \u064a\u0648\u062c\u062f \u0637\u0644\u0627\u0628",searchLabel:"\u0628\u062d\u062b",enterYourEmail:"\u0623\u062f\u062e\u0644 \u0628\u0631\u064a\u062f\u0643 \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",enterYourPassword:"\u0623\u062f\u062e\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",enterYourFullName:"\u0623\u062f\u062e\u0644 \u0627\u0633\u0645\u0643 \u0627\u0644\u0643\u0627\u0645\u0644",enterYourCountry:"\u0623\u062f\u062e\u0644 \u0628\u0644\u062f\u0643",enterYourCity:"\u0623\u062f\u062e\u0644 \u0645\u062f\u064a\u0646\u062a\u0643",enterYourSchoolUniversity:"\u0623\u062f\u062e\u0644 \u0627\u0633\u0645 \u0645\u062f\u0631\u0633\u062a\u0643 \u0623\u0648 \u062c\u0627\u0645\u0639\u062a\u0643",instructorRegToastFillRequired:"\u064a\u0631\u062c\u0649 \u0645\u0644\u0621 \u062c\u0645\u064a\u0639 \u0627\u0644\u062d\u0642\u0648\u0644 \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629",instructorRegToastPasswordsMismatch:"\u0643\u0644\u0645\u062a\u0627 \u0627\u0644\u0645\u0631\u0648\u0631 \u063a\u064a\u0631 \u0645\u062a\u0637\u0627\u0628\u0642\u062a\u064a\u0646",instructorRegToastPasswordMinLength:"\u064a\u062c\u0628 \u0623\u0646 \u062a\u0643\u0648\u0646 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 12 \u062e\u0627\u0646\u0629 \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644 \u0648\u062a\u062a\u0636\u0645\u0646 \u062d\u0631\u0648\u0641\u0627\u064b \u0643\u0628\u064a\u0631\u0629 \u0648\u0635\u063a\u064a\u0631\u0629 \u0648\u0623\u0631\u0642\u0627\u0645\u0627\u064b \u0648\u0631\u0645\u0632\u0627\u064b \u062e\u0627\u0635\u0627\u064b",instructorRegToastPasswordRequireLower:"\u064a\u062c\u0628 \u0623\u0646 \u062a\u062d\u062a\u0648\u064a \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0639\u0644\u0649 \u062d\u0631\u0641 \u0635\u063a\u064a\u0631 \u0648\u0627\u062d\u062f \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644",instructorRegToastPasswordRequireUpper:"\u064a\u062c\u0628 \u0623\u0646 \u062a\u062d\u062a\u0648\u064a \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0639\u0644\u0649 \u062d\u0631\u0641 \u0643\u0628\u064a\u0631 \u0648\u0627\u062d\u062f \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644",instructorRegToastPasswordRequireNumber:"\u064a\u062c\u0628 \u0623\u0646 \u062a\u062d\u062a\u0648\u064a \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0639\u0644\u0649 \u0631\u0642\u0645 \u0648\u0627\u062d\u062f \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644",instructorRegToastPasswordRequireSymbol:"\u064a\u062c\u0628 \u0623\u0646 \u062a\u062d\u062a\u0648\u064a \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0639\u0644\u0649 \u0631\u0645\u0632 \u0648\u0627\u062d\u062f \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644",instructorRegToastPhoneInvalid:"\u064a\u062c\u0628 \u0623\u0646 \u064a\u0628\u062f\u0623 \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641 \u0628\u0640 09 \u0648\u0623\u0646 \u064a\u062a\u0643\u0648\u0651\u0646 \u0645\u0646 10 \u0623\u0631\u0642\u0627\u0645 \u0628\u0627\u0644\u0636\u0628\u0637",instructorRegToastExpertiseRequired:"\u064a\u0631\u062c\u0649 \u0627\u062e\u062a\u064a\u0627\u0631 \u0645\u062c\u0627\u0644 \u062e\u0628\u0631\u0629 \u0648\u0627\u062d\u062f \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644",instructorRegToastCustomExpertiseRequired:"\u064a\u0631\u062c\u0649 \u062a\u062d\u062f\u064a\u062f \u0645\u062c\u0627\u0644 \u0627\u0644\u062e\u0628\u0631\u0629 \u0627\u0644\u0645\u062e\u0635\u0635",instructorRegToastNameLettersOnly:"\u064a\u062c\u0628 \u0623\u0646 \u064a\u062d\u062a\u0648\u064a \u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644 \u0639\u0644\u0649 \u0623\u062d\u0631\u0641 \u0648\u0645\u0633\u0627\u0641\u0627\u062a \u0641\u0642\u0637 (\u0628\u062f\u0648\u0646 \u0623\u0631\u0642\u0627\u0645 \u0623\u0648 \u0631\u0645\u0648\u0632 \u062e\u0627\u0635\u0629)",instructorRegToastEnterEmailFirst:"\u064a\u0631\u062c\u0649 \u0625\u062f\u062e\u0627\u0644 \u0628\u0631\u064a\u062f\u0643 \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u0623\u0648\u0644\u0627\u064b",instructorRegConfirmRestartTitle:"\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0623\u0646\u0643 \u062a\u0631\u064a\u062f \u0625\u0639\u0627\u062f\u0629 \u0628\u062f\u0621 \u0627\u0644\u062a\u0633\u062c\u064a\u0644\u061f \u0633\u064a\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u062a\u0642\u062f\u0645 \u0627\u0644\u062d\u0627\u0644\u064a \u0641\u064a \u0637\u0644\u0628\u0643.",instructorRegToastRestarted:"\u062a\u0645\u062a \u0625\u0639\u0627\u062f\u0629 \u0636\u0628\u0637 \u0627\u0644\u062a\u0633\u062c\u064a\u0644. \u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u0628\u062f\u0621 \u0645\u0646 \u062c\u062f\u064a\u062f \u0627\u0644\u0622\u0646.",instructorRegToastPendingReview:"\u0637\u0644\u0628\u0643 \u0642\u064a\u062f \u0627\u0644\u0645\u0631\u0627\u062c\u0639\u0629 \u062d\u0627\u0644\u064a\u0627\u064b. \u064a\u0631\u062c\u0649 \u0627\u0646\u062a\u0638\u0627\u0631 \u0645\u0648\u0627\u0641\u0642\u0629 \u0627\u0644\u0625\u062f\u0627\u0631\u0629.",instructorRegToastApproved:"\u062a\u0645\u062a \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u0649 \u0637\u0644\u0628\u0643! \u064a\u0631\u062c\u0649 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644.",instructorRegToastResumeExisting:"\u062a\u0645 \u0627\u0644\u0639\u062b\u0648\u0631 \u0639\u0644\u0649 \u0637\u0644\u0628 \u0633\u0627\u0628\u0642. \u064a\u062a\u0645 \u0627\u0644\u0622\u0646 \u0627\u0633\u062a\u0643\u0645\u0627\u0644 \u0627\u0644\u062a\u0633\u062c\u064a\u0644 \u0645\u0646 \u062d\u064a\u062b \u062a\u0648\u0642\u0651\u0641.",instructorRegToastVerificationSent:"\u062a\u0645 \u0625\u0631\u0633\u0627\u0644 \u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u062a\u062d\u0642\u0642! \u064a\u0631\u062c\u0649 \u0641\u062d\u0635 \u0628\u0631\u064a\u062f\u0643 \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a.",instructorRegToastRegistrationFailed:"\u0641\u0634\u0644 \u0627\u0644\u062a\u0633\u062c\u064a\u0644. \u064a\u0631\u062c\u0649 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649.",instructorRegConfirmResumeExisting:"\u0644\u062f\u064a\u0643 \u062a\u0633\u062c\u064a\u0644 \u063a\u064a\u0631 \u0645\u0643\u062a\u0645\u0644. \u0647\u0644 \u062a\u0631\u063a\u0628 \u0641\u064a \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0628\u062f\u0621 \u0645\u0646 \u0627\u0644\u0628\u062f\u0627\u064a\u0629\u061f",instructorRegToastEnterOTP:"\u064a\u0631\u062c\u0649 \u0625\u062f\u062e\u0627\u0644 \u0631\u0645\u0632 \u0627\u0644\u062a\u062d\u0642\u0642",instructorRegToastEmailVerified:"\u062a\u0645 \u0627\u0644\u062a\u062d\u0642\u0642 \u0645\u0646 \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u0628\u0646\u062c\u0627\u062d!",instructorRegToastVerificationFailed:"\u0641\u0634\u0644 \u0627\u0644\u062a\u062d\u0642\u0642. \u064a\u0631\u062c\u0649 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649.",instructorRegToastAgreeTerms:"\u064a\u0631\u062c\u0649 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u0649 \u0627\u0644\u0634\u0631\u0648\u0637 \u0644\u0644\u0645\u062a\u0627\u0628\u0639\u0629",instructorRegToastSignatureRequired:"\u064a\u0631\u062c\u0649 \u0625\u062f\u062e\u0627\u0644 \u062a\u0648\u0642\u064a\u0639\u0643",instructorRegToastSignatureLettersOnly:"\u064a\u062c\u0628 \u0623\u0646 \u064a\u062d\u062a\u0648\u064a \u0627\u0644\u062a\u0648\u0642\u064a\u0639 \u0639\u0644\u0649 \u0623\u062d\u0631\u0641 \u0648\u0645\u0633\u0627\u0641\u0627\u062a \u0641\u0642\u0637 (\u0628\u062f\u0648\u0646 \u0623\u0631\u0642\u0627\u0645 \u0623\u0648 \u0631\u0645\u0648\u0632 \u062e\u0627\u0635\u0629)",instructorRegToastSignatureMustMatchName:"\u064a\u062c\u0628 \u0623\u0646 \u064a\u0637\u0627\u0628\u0642 \u0627\u0644\u062a\u0648\u0642\u064a\u0639 \u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644 \u062a\u0645\u0627\u0645\u064b\u0627 \u0643\u0645\u0627 \u062a\u0645 \u0625\u062f\u062e\u0627\u0644\u0647 \u0641\u064a \u0627\u0644\u062d\u0642\u0644 \u0627\u0644\u0633\u0627\u0628\u0642",instructorRegToastAgreementSigned:"\u062a\u0645 \u062a\u0648\u0642\u064a\u0639 \u0627\u0644\u0627\u062a\u0641\u0627\u0642\u064a\u0629 \u0628\u0646\u062c\u0627\u062d!",instructorRegToastAgreementFailed:"\u0641\u0634\u0644 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0627\u062a\u0641\u0627\u0642\u064a\u0629. \u064a\u0631\u062c\u0649 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649.",instructorRegToastVideoRequired:"\u064a\u0631\u062c\u0649 \u0631\u0641\u0639 \u0641\u064a\u062f\u064a\u0648 \u0627\u0644\u062a\u0639\u0631\u064a\u0641 \u0627\u0644\u062e\u0627\u0635 \u0628\u0643",instructorRegToastVideoSaved:"\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0641\u064a\u062f\u064a\u0648 \u0628\u0646\u062c\u0627\u062d!",instructorRegToastVideoSaveFailed:"\u0641\u0634\u0644 \u062d\u0641\u0638 \u0627\u0644\u0641\u064a\u062f\u064a\u0648. \u064a\u0631\u062c\u0649 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649.",instructorRegToastAgreementLoadFailed:"\u0641\u0634\u0644 \u062a\u062d\u0645\u064a\u0644 \u0646\u0635 \u0627\u0644\u0627\u062a\u0641\u0627\u0642\u064a\u0629",instructorRegToastRestartFailed:"\u0641\u0634\u0644 \u0625\u0639\u0627\u062f\u0629 \u0628\u062f\u0621 \u0627\u0644\u062a\u0633\u062c\u064a\u0644. \u064a\u0631\u062c\u0649 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649.",instructorRegStepLabel:"\u0627\u0644\u062e\u0637\u0648\u0629 {{current}} \u0645\u0646 {{total}}",instructorRegProgressPercent:"{{percent}}\u066a \u0645\u0643\u062a\u0645\u0644",instructorRegStep1Title:"\u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0634\u062e\u0635\u064a\u0629",instructorRegStep1Subtitle:"\u0623\u062e\u0628\u0631\u0646\u0627 \u0639\u0646 \u0646\u0641\u0633\u0643",instructorRegFullNameLabel:"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644 *",instructorRegFullNamePlaceholder:"\u0627\u0643\u062a\u0628 \u0627\u0633\u0645\u0643 \u0627\u0644\u0643\u0627\u0645\u0644",instructorRegEmailLabel:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a *",instructorRegEmailPlaceholder:"example@example.com",instructorRegPasswordLabel:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 *",instructorRegPasswordPlaceholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",instructorRegConfirmPasswordLabel:"\u062a\u0623\u0643\u064a\u062f \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 *",instructorRegConfirmPasswordPlaceholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",instructorRegPhoneLabel:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641 * (09XXXXXXXX)",instructorRegPhonePlaceholder:"0912345678",instructorRegExpertiseLabel:"\u0645\u062c\u0627\u0644\u0627\u062a \u0627\u0644\u062e\u0628\u0631\u0629 * (\u0627\u062e\u062a\u0631 \u0648\u0627\u062d\u062f\u0627\u064b \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644)",instructorRegCustomExpertiseLabel:"\u064a\u0631\u062c\u0649 \u062a\u062d\u062f\u064a\u062f \u0645\u062c\u0627\u0644 \u062e\u0628\u0631\u062a\u0643",instructorRegCustomExpertisePlaceholder:"\u0623\u062f\u062e\u0644 \u0645\u062c\u0627\u0644 \u062e\u0628\u0631\u062a\u0643",instructorRegStep2Title:"\u062a\u062d\u0642\u0642 \u0645\u0646 \u0628\u0631\u064a\u062f\u0643 \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",instructorRegStep2Subtitle:"\u0642\u0645\u0646\u0627 \u0628\u0625\u0631\u0633\u0627\u0644 \u0631\u0645\u0632 \u062a\u062d\u0642\u0642 \u0625\u0644\u0649 {{email}}",instructorRegVerificationCodeLabel:"\u0631\u0645\u0632 \u0627\u0644\u062a\u062d\u0642\u0642",instructorRegVerificationCodePlaceholder:"000000",instructorRegResendCode:"\u0625\u0639\u0627\u062f\u0629 \u0625\u0631\u0633\u0627\u0644 \u0631\u0645\u0632 \u0627\u0644\u062a\u062d\u0642\u0642",instructorRegStep3Title:"\u0627\u062a\u0641\u0627\u0642\u064a\u0629 \u0627\u0644\u0645\u062f\u0631\u0651\u0633",instructorRegStep3Subtitle:"\u0631\u0627\u062c\u0639 \u0627\u0644\u0627\u062a\u0641\u0627\u0642\u064a\u0629 \u0648\u0648\u0642\u0651\u0639\u0647\u0627",instructorRegRevenueSharingTitle:"\u062a\u0642\u0633\u064a\u0645 \u0627\u0644\u0623\u0631\u0628\u0627\u062d",instructorRegYourShareLabel:"\u0646\u0635\u064a\u0628\u0643",instructorRegPlatformShareLabel:"\u0646\u0635\u064a\u0628 \u0627\u0644\u0645\u0646\u0635\u0629",instructorRegAgreementHeading:"\u0627\u062a\u0641\u0627\u0642\u064a\u0629 \u0627\u0644\u0645\u062f\u0631\u0651\u0633",instructorRegSignatureLabel:"\u0627\u0644\u062a\u0648\u0642\u064a\u0639 (\u0627\u0643\u062a\u0628 \u0627\u0633\u0645\u0643 \u0627\u0644\u0643\u0627\u0645\u0644)",instructorRegSignaturePlaceholder:"\u0627\u0643\u062a\u0628 \u0627\u0633\u0645\u0643 \u0627\u0644\u0643\u0627\u0645\u0644 \u0643\u062a\u0648\u0642\u064a\u0639",instructorRegStep4Title:"\u0641\u064a\u062f\u064a\u0648 \u0627\u0644\u0645\u0642\u062f\u0651\u0645\u0629",instructorRegStep4Subtitle:"\u0642\u0645 \u0628\u0631\u0641\u0639 \u0641\u064a\u062f\u064a\u0648 \u0642\u0635\u064a\u0631 \u0644\u062a\u0642\u062f\u064a\u0645 \u0646\u0641\u0633\u0643",instructorRegVideoInstructions:"\u0642\u0645 \u0628\u0631\u0641\u0639 \u0641\u064a\u062f\u064a\u0648 \u0645\u0642\u062f\u0651\u0645\u0629 (\u0627\u0644\u062d\u062f \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0644\u062d\u062c\u0645 {{maxSize}} \u0645\u064a\u062c\u0627\u0628\u0627\u064a\u062a)",instructorRegVideoSizeTooLarge:"\u064a\u062c\u0628 \u0623\u0646 \u064a\u0643\u0648\u0646 \u062d\u062c\u0645 \u0627\u0644\u0641\u064a\u062f\u064a\u0648 \u0623\u0642\u0644 \u0645\u0646 {{maxSize}} \u0645\u064a\u062c\u0627\u0628\u0627\u064a\u062a",instructorRegUploadingVideo:"\u062c\u0627\u0631\u064a \u0631\u0641\u0639 \u0627\u0644\u0641\u064a\u062f\u064a\u0648...",instructorRegUploadingVideoPercent:"\u062c\u0627\u0631\u064a \u0627\u0644\u0631\u0641\u0639... {{percent}}\u066a",instructorRegChooseVideoLabel:"\u0627\u062e\u062a\u0631 \u0627\u0644\u0641\u064a\u062f\u064a\u0648",instructorRegVideoUploadedLabel:"\u062a\u0645 \u0631\u0641\u0639 \u0627\u0644\u0641\u064a\u062f\u064a\u0648 \u0628\u0646\u062c\u0627\u062d!",instructorRegStep5Title:"\u062a\u0645 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0637\u0644\u0628!",instructorRegStep5Subtitle:"\u0634\u0643\u0631\u0627\u064b \u0644\u062a\u0642\u062f\u064a\u0645 \u0637\u0644\u0628\u0643 \u0644\u062a\u0635\u0628\u062d \u0645\u062f\u0631\u0651\u0633\u0627\u064b \u0639\u0644\u0649 \u0625\u064a\u062f\u0648\u0641\u0644\u0648. \u0633\u064a\u0642\u0648\u0645 \u0641\u0631\u064a\u0642\u0646\u0627 \u0628\u0645\u0631\u0627\u062c\u0639\u0629 \u0645\u0644\u0641\u0643 \u0648\u0627\u062a\u0641\u0627\u0642\u064a\u062a\u0643 \u0648\u0641\u064a\u062f\u064a\u0648 \u0627\u0644\u0645\u0642\u062f\u0651\u0645\u0629\u060c \u0648\u0633\u062a\u0635\u0644\u0643 \u0631\u0633\u0627\u0644\u0629 \u0628\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u0639\u0646\u062f \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629.",instructorRegGoToLogin:"\u0627\u0644\u0627\u0646\u062a\u0642\u0627\u0644 \u0625\u0644\u0649 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644",instructorRegExpertiseProgramming:"\u0627\u0644\u0628\u0631\u0645\u062c\u0629",instructorRegExpertiseWebDevelopment:"\u062a\u0637\u0648\u064a\u0631 \u0627\u0644\u0648\u064a\u0628",instructorRegExpertiseMobileDevelopment:"\u062a\u0637\u0648\u064a\u0631 \u062a\u0637\u0628\u064a\u0642\u0627\u062a \u0627\u0644\u0645\u0648\u0628\u0627\u064a\u0644",instructorRegExpertiseDataScience:"\u0639\u0644\u0645 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a",instructorRegExpertiseMachineLearning:"\u062a\u0639\u0644\u0651\u0645 \u0627\u0644\u0622\u0644\u0629",instructorRegExpertiseCybersecurity:"\u0627\u0644\u0623\u0645\u0646 \u0627\u0644\u0633\u064a\u0628\u0631\u0627\u0646\u064a",instructorRegExpertiseCloudComputing:"\u0627\u0644\u062d\u0648\u0633\u0628\u0629 \u0627\u0644\u0633\u062d\u0627\u0628\u064a\u0629",instructorRegExpertiseDevOps:"\u062f\u064a\u0641 \u0623\u0648\u0628\u0633",instructorRegExpertiseUIUX:"\u062a\u0635\u0645\u064a\u0645 \u0648\u0627\u062c\u0647\u0627\u062a \u0648\u062a\u062c\u0631\u0628\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",instructorRegExpertiseDigitalMarketing:"\u0627\u0644\u062a\u0633\u0648\u064a\u0642 \u0627\u0644\u0631\u0642\u0645\u064a",instructorRegExpertiseBusiness:"\u0627\u0644\u0623\u0639\u0645\u0627\u0644",instructorRegExpertiseLanguages:"\u0627\u0644\u0644\u063a\u0627\u062a",instructorRegExpertiseOther:"\u0623\u062e\u0631\u0649",rateCourse:"\u0642\u064a\u0651\u0645 \u0627\u0644\u062f\u0648\u0631\u0629",rateThisCourse:"\u0642\u064a\u0651\u0645 \u0647\u0630\u0647 \u0627\u0644\u062f\u0648\u0631\u0629",rating:"\u0627\u0644\u062a\u0642\u064a\u064a\u0645",yourReview:"\u0645\u0631\u0627\u062c\u0639\u062a\u0643",shareYourExperience:"\u0634\u0627\u0631\u0643 \u062a\u062c\u0631\u0628\u062a\u0643 \u0645\u0639 \u0647\u0630\u0647 \u0627\u0644\u062f\u0648\u0631\u0629",submitRating:"\u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u062a\u0642\u064a\u064a\u0645",skipForNow:"\u062a\u062e\u0637\u064a \u0627\u0644\u0622\u0646",star:"\u0646\u062c\u0645\u0629",stars:"\u0646\u062c\u0648\u0645",characters:"\u062d\u0631\u0641",course:"\u0627\u0644\u062f\u0648\u0631\u0629",feedbackHelpsOthers:"\u0645\u0644\u0627\u062d\u0638\u0627\u062a\u0643 \u062a\u0633\u0627\u0639\u062f \u0627\u0644\u0645\u062a\u0639\u0644\u0645\u064a\u0646 \u0627\u0644\u0622\u062e\u0631\u064a\u0646",welcomeTitle:"\u0645\u0631\u062d\u0628\u0627\u064b \u0628\u0643 \u0641\u064a \u0623\u0643\u0627\u062f\u064a\u0645\u064a\u0629 \u0625\u064a\u062f\u0648\u0641\u0644\u0648",welcomeSubtitle:"\u062a\u0639\u0644\u0645 \u0627\u0644\u0628\u0631\u0645\u062c\u0629 \u0648\u0627\u0644\u0644\u063a\u0627\u062a \u0645\u0639 \u0623\u0641\u0636\u0644 \u0627\u0644\u0645\u062f\u0631\u0628\u064a\u0646",getStarted:"\u0627\u0628\u062f\u0623 \u0627\u0644\u0622\u0646",learnMore:"\u0627\u0639\u0631\u0641 \u0627\u0644\u0645\u0632\u064a\u062f",recentCourses:"\u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0627\u0644\u062d\u062f\u064a\u062b\u0629",allCourses:"\u062c\u0645\u064a\u0639 \u0627\u0644\u062f\u0648\u0631\u0627\u062a",searchCourses:"\u0627\u0644\u0628\u062d\u062b \u0641\u064a \u0627\u0644\u062f\u0648\u0631\u0627\u062a",filterBy:"\u062a\u0635\u0641\u064a\u0629 \u062d\u0633\u0628",category:"\u0627\u0644\u0641\u0626\u0629",level:"\u0627\u0644\u0645\u0633\u062a\u0648\u0649",programming:"\u0627\u0644\u0628\u0631\u0645\u062c\u0629",language:"\u0627\u0644\u0644\u063a\u0629",beginner:"\u0645\u0628\u062a\u062f\u0626",intermediate:"\u0645\u062a\u0648\u0633\u0637",advanced:"\u0645\u062a\u0642\u062f\u0645",courseDetails:"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u062f\u0648\u0631\u0629",enrollNow:"\u0633\u062c\u0644 \u0627\u0644\u0622\u0646",continueCourse:"\u0645\u062a\u0627\u0628\u0639\u0629 \u0627\u0644\u062f\u0648\u0631\u0629",registerForCourse:"\u0627\u0644\u062a\u0633\u062c\u064a\u0644 \u0641\u064a \u0627\u0644\u062f\u0648\u0631\u0629",courseName:"\u0627\u0633\u0645 \u0627\u0644\u062f\u0648\u0631\u0629",duration:"\u0627\u0644\u0645\u062f\u0629",cost:"\u0627\u0644\u062a\u0643\u0644\u0641\u0629",description:"\u0627\u0644\u0648\u0635\u0641",whatYouWillLearn:"\u0645\u0627 \u0633\u0648\u0641 \u062a\u062a\u0639\u0644\u0645\u0647",requirements:"\u0627\u0644\u0645\u062a\u0637\u0644\u0628\u0627\u062a",lectures:"\u0627\u0644\u0645\u062d\u0627\u0636\u0631\u0627\u062a",assignments:"\u0627\u0644\u0648\u0627\u062c\u0628\u0627\u062a",projects:"\u0627\u0644\u0645\u0634\u0627\u0631\u064a\u0639",certificate:"\u0627\u0644\u0634\u0647\u0627\u062f\u0629",myCourses:"\u062f\u0648\u0631\u0627\u062a\u064a",enrolledCourses:"\u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0627\u0644\u0645\u0633\u062c\u0644\u0629",pendingCourses:"\u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0627\u0644\u0645\u0639\u0644\u0642\u0629",completedCourses:"\u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0627\u0644\u0645\u0643\u062a\u0645\u0644\u0629",discoverNewCourses:"\u0627\u0643\u062a\u0634\u0641 \u062f\u0648\u0631\u0627\u062a \u062c\u062f\u064a\u062f\u0629",noCoursesYet:"\u0644\u0627 \u062a\u0648\u062c\u062f \u062f\u0648\u0631\u0627\u062a \u0628\u0639\u062f",startLearning:"\u0627\u0628\u062f\u0623 \u0627\u0644\u062a\u0639\u0644\u0645",progress:"\u0627\u0644\u062a\u0642\u062f\u0645",viewCourse:"\u0639\u0631\u0636 \u0627\u0644\u062f\u0648\u0631\u0629",myTeaching:"\u062a\u062f\u0631\u064a\u0633\u064a",createCourse:"\u0625\u0646\u0634\u0627\u0621 \u062f\u0648\u0631\u0629",manageStudents:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0637\u0644\u0627\u0628",gradeAssignments:"\u062a\u0642\u064a\u064a\u0645 \u0627\u0644\u0648\u0627\u062c\u0628\u0627\u062a",uploadContent:"\u0631\u0641\u0639 \u0627\u0644\u0645\u062d\u062a\u0648\u0649",manageUsers:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646",manageCourses:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u062f\u0648\u0631\u0627\u062a",manageGroups:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0627\u062a",approveEnrollments:"\u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u0649 \u0627\u0644\u062a\u0633\u062c\u064a\u0644\u0627\u062a",systemSettings:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0646\u0638\u0627\u0645",save:"\u062d\u0641\u0638",cancel:"\u0625\u0644\u063a\u0627\u0621",edit:"\u062a\u0639\u062f\u064a\u0644",delete:"\u062d\u0630\u0641",submit:"\u0625\u0631\u0633\u0627\u0644",upload:"\u0631\u0641\u0639",download:"\u062a\u062d\u0645\u064a\u0644",view:"\u0639\u0631\u0636",watch:"\u0645\u0634\u0627\u0647\u062f\u0629",read:"\u0642\u0631\u0627\u0621\u0629",completed:"\u0645\u0643\u062a\u0645\u0644",pending:"\u0645\u0639\u0644\u0642",submitted:"\u062a\u0645 \u0627\u0644\u062a\u0633\u0644\u064a\u0645",graded:"\u062a\u0645 \u0627\u0644\u062a\u0642\u064a\u064a\u0645",notCompleted:"\u063a\u064a\u0631 \u0645\u0643\u062a\u0645\u0644",sendMessage:"\u0625\u0631\u0633\u0627\u0644 \u0631\u0633\u0627\u0644\u0629",newMessage:"\u0631\u0633\u0627\u0644\u0629 \u062c\u062f\u064a\u062f\u0629",inbox:"\u0635\u0646\u062f\u0648\u0642 \u0627\u0644\u0648\u0627\u0631\u062f",sent:"\u0627\u0644\u0645\u0631\u0633\u0644",notifications:"\u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a",accountSettings:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u062d\u0633\u0627\u0628",preferences:"\u0627\u0644\u062a\u0641\u0636\u064a\u0644\u0627\u062a",changePassword:"\u062a\u063a\u064a\u064a\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",currentPassword:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0627\u0644\u062d\u0627\u0644\u064a\u0629",newPassword:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0627\u0644\u062c\u062f\u064a\u062f\u0629",confirmNewPassword:"\u062a\u0623\u0643\u064a\u062f \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0627\u0644\u062c\u062f\u064a\u062f\u0629",changeEmail:"\u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",changePhoneNumber:"\u062a\u063a\u064a\u064a\u0631 \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641",verifyEmail:"\u062a\u0623\u0643\u064a\u062f \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",enterVerificationCode:"\u0623\u062f\u062e\u0644 \u0631\u0645\u0632 \u0627\u0644\u062a\u062d\u0642\u0642",verificationCode:"\u0631\u0645\u0632 \u0627\u0644\u062a\u062d\u0642\u0642",sendVerificationCode:"\u0625\u0631\u0633\u0627\u0644 \u0631\u0645\u0632 \u0627\u0644\u062a\u062d\u0642\u0642",verificationCodeSent:"\u062a\u0645 \u0625\u0631\u0633\u0627\u0644 \u0631\u0645\u0632 \u0627\u0644\u062a\u062d\u0642\u0642 \u0625\u0644\u0649 \u0628\u0631\u064a\u062f\u0643 \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u0627\u0644\u062c\u062f\u064a\u062f",verificationCodeSentHint:"\u062a\u0645 \u0625\u0631\u0633\u0627\u0644 \u0631\u0645\u0632 \u062a\u062d\u0642\u0642 \u0625\u0644\u0649 \u0628\u0631\u064a\u062f\u0643 \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u0627\u0644\u062c\u062f\u064a\u062f \u0648\u0635\u0627\u0644\u062d \u0644\u0645\u062f\u0629 10 \u062f\u0642\u0627\u0626\u0642.",sendingCode:"\u062c\u0627\u0631\u064a \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0631\u0645\u0632...",verifying:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0642\u0642...",emailChangedSuccessfully:"\u062a\u0645 \u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u0628\u0646\u062c\u0627\u062d",youHaveAlreadyChangedEmailOnce:"\u0644\u0642\u062f \u0642\u0645\u062a \u0628\u062a\u063a\u064a\u064a\u0631 \u0628\u0631\u064a\u062f\u0643 \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u0645\u0631\u0629 \u0648\u0627\u062d\u062f\u0629 \u0645\u0646 \u0642\u0628\u0644",phoneChangedSuccessfully:"\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641 \u0628\u0646\u062c\u0627\u062d",youHaveAlreadyChangedPhoneNumber:"\u0644\u0642\u062f \u0642\u0645\u062a \u0628\u062a\u063a\u064a\u064a\u0631 \u0631\u0642\u0645 \u0647\u0627\u062a\u0641\u0643 \u0645\u0631\u0629 \u0648\u0627\u062d\u062f\u0629 \u0645\u0646 \u0642\u0628\u0644",phoneNumberAlreadyExists:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641 \u0645\u0633\u062a\u062e\u062f\u0645 \u0628\u0627\u0644\u0641\u0639\u0644",phoneMustStartWith09:"\u064a\u062c\u0628 \u0623\u0646 \u064a\u0628\u062f\u0623 \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641 \u0628\u0640 09 \u0648\u0623\u0646 \u064a\u062a\u0643\u0648\u0651\u0646 \u0645\u0646 10 \u0623\u0631\u0642\u0627\u0645",failedToSendVerificationCode:"\u0641\u0634\u0644 \u0641\u064a \u0625\u0631\u0633\u0627\u0644 \u0631\u0645\u0632 \u0627\u0644\u062a\u062d\u0642\u0642",failedToVerifyEmail:"\u0641\u0634\u0644 \u0641\u064a \u062a\u0623\u0643\u064a\u062f \u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",verificationCodeExpired:"\u0627\u0646\u062a\u0647\u062a \u0635\u0644\u0627\u062d\u064a\u0629 \u0631\u0645\u0632 \u0627\u0644\u062a\u062d\u0642\u0642. \u064a\u0631\u062c\u0649 \u0637\u0644\u0628 \u0631\u0645\u0632 \u062c\u062f\u064a\u062f.",invalidVerificationCode:"\u0631\u0645\u0632 \u0627\u0644\u062a\u062d\u0642\u0642 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d",failedToChangePhone:"\u0641\u0634\u0644 \u0641\u064a \u062a\u063a\u064a\u064a\u0631 \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641",newEmail:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u0627\u0644\u062c\u062f\u064a\u062f",enterNewEmail:"\u0623\u062f\u062e\u0644 \u0628\u0631\u064a\u062f\u0643 \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u0627\u0644\u062c\u062f\u064a\u062f",enterNewPhone:"\u0623\u062f\u062e\u0644 \u0631\u0642\u0645 \u0647\u0627\u062a\u0641\u0643 \u0627\u0644\u062c\u062f\u064a\u062f (09xxxxxxxx)",confirmPhoneChange:"\u062a\u0623\u0643\u064a\u062f \u062a\u063a\u064a\u064a\u0631 \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641",updating:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u062f\u064a\u062b...",youCanRequestNewCodeIn:"\u064a\u0645\u0643\u0646\u0643 \u0637\u0644\u0628 \u0631\u0645\u0632 \u062c\u062f\u064a\u062f \u0628\u0639\u062f {{seconds}} \u062b\u0627\u0646\u064a\u0629.",invalidEmailFormat:"\u064a\u0631\u062c\u0649 \u0625\u062f\u062e\u0627\u0644 \u0628\u0631\u064a\u062f \u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u0635\u0627\u0644\u062d.",emailChangeableOnce:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a (\u064a\u0645\u0643\u0646 \u062a\u063a\u064a\u064a\u0631\u0647 \u0645\u0631\u0629 \u0648\u0627\u062d\u062f\u0629 \u0641\u0642\u0637)",phoneChangeableOnce:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641 (\u064a\u0645\u0643\u0646 \u062a\u063a\u064a\u064a\u0631\u0647 \u0645\u0631\u0629 \u0648\u0627\u062d\u062f\u0629 \u0641\u0642\u0637)",emailChangesRemaining:"\u0645\u0631\u0627\u062a \u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0645\u062a\u0628\u0642\u064a\u0629",phoneChangesRemaining:"\u0645\u0631\u0627\u062a \u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u0647\u0627\u062a\u0641 \u0627\u0644\u0645\u062a\u0628\u0642\u064a\u0629",studentEmailUsernameWarning:"\u0645\u0644\u0627\u062d\u0638\u0629: \u064a\u0645\u0643\u0646\u0643 \u062a\u063a\u064a\u064a\u0631 \u0628\u0631\u064a\u062f\u0643 \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u0645\u0631\u0629 \u0648\u0627\u062d\u062f\u0629 \u0641\u0642\u0637. \u064a\u0638\u0647\u0631 \u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0639\u0644\u0649 \u0627\u0644\u0634\u0647\u0627\u062f\u0627\u062a\u060c \u0644\u0630\u0644\u0643 \u062a\u0623\u0643\u062f \u0645\u0646 \u0623\u0646\u0647 \u0635\u062d\u064a\u062d \u0642\u0628\u0644 \u0637\u0644\u0628 \u0623\u064a \u062a\u063a\u064a\u064a\u0631\u0627\u062a.",instructorPublicInfoWarning:"\u062a\u062d\u0630\u064a\u0631: \u0628\u0631\u064a\u062f\u0643 \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u0648\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0648\u0641\u064a\u062f\u064a\u0648 \u0627\u0644\u062a\u0639\u0631\u064a\u0641 \u0627\u0644\u062e\u0627\u0635 \u0628\u0643 \u0638\u0627\u0647\u0631\u0629 \u0628\u0634\u0643\u0644 \u0639\u0627\u0645 \u0644\u0644\u0637\u0644\u0627\u0628. \u064a\u0631\u062c\u0649 \u0627\u0644\u062a\u0623\u0643\u062f \u0645\u0646 \u0623\u0646 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u062f\u0642\u064a\u0642\u0629 \u0648\u0645\u0646\u0627\u0633\u0628\u0629.",adminOnlyCanChangeUsername:"\u064a\u0645\u0643\u0646 \u0644\u0644\u0645\u0634\u0631\u0641 \u0641\u0642\u0637 \u062a\u063a\u064a\u064a\u0631 \u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",resetChangeLimitsConfirm:"\u0647\u0644 \u062a\u0631\u064a\u062f \u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u064a\u064a\u0646 \u062d\u062f\u0648\u062f \u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u0648\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641 \u0644\u0644\u0645\u0633\u062a\u062e\u062f\u0645 {{name}}\u061f \u0647\u0630\u0627 \u0633\u064a\u0633\u0645\u062d \u0644\u0647 \u0628\u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u0628\u0631\u064a\u062f \u0648\u0627\u0644\u0647\u0627\u062a\u0641 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649.",resetChangeLimitsSuccess:"\u062a\u0645\u062a \u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u064a\u064a\u0646 \u062d\u062f\u0648\u062f \u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u0628\u0631\u064a\u062f \u0648\u0627\u0644\u0647\u0627\u062a\u0641 \u0628\u0646\u062c\u0627\u062d.",resetChangeLimitsFailed:"\u0641\u0634\u0644 \u0641\u064a \u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u064a\u064a\u0646 \u062d\u062f\u0648\u062f \u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u0628\u0631\u064a\u062f \u0648\u0627\u0644\u0647\u0627\u062a\u0641.",resetChangeLimitsTooltip:"\u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u064a\u064a\u0646 \u062d\u062f\u0648\u062f \u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u0628\u0631\u064a\u062f/\u0627\u0644\u0647\u0627\u062a\u0641",emailChangeLimitReached:"\u0644\u0642\u062f \u0648\u0635\u0644\u062a \u0625\u0644\u0649 \u0627\u0644\u062d\u062f \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a.",phoneChangeLimitReached:"\u0644\u0642\u062f \u0648\u0635\u0644\u062a \u0625\u0644\u0649 \u0627\u0644\u062d\u062f \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u062a\u063a\u064a\u064a\u0631 \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641.",emailChangeLimitReachedDescription:"\u064a\u0645\u0643\u0646\u0643 \u062a\u063a\u064a\u064a\u0631 \u0628\u0631\u064a\u062f\u0643 \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u0645\u0631\u0629 \u0648\u0627\u062d\u062f\u0629 \u0641\u0642\u0637. \u0625\u0630\u0627 \u0643\u0646\u062a \u062a\u062d\u062a\u0627\u062c \u0644\u062a\u063a\u064a\u064a\u0631\u0647 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649\u060c \u064a\u0631\u062c\u0649 \u0627\u0644\u062a\u0648\u0627\u0635\u0644 \u0645\u0639 \u0627\u0644\u0645\u0634\u0631\u0641.",phoneChangeLimitReachedDescription:"\u064a\u0645\u0643\u0646\u0643 \u062a\u063a\u064a\u064a\u0631 \u0631\u0642\u0645 \u0647\u0627\u062a\u0641\u0643 \u0645\u0631\u0629 \u0648\u0627\u062d\u062f\u0629 \u0641\u0642\u0637. \u0625\u0630\u0627 \u0643\u0646\u062a \u062a\u062d\u062a\u0627\u062c \u0644\u062a\u063a\u064a\u064a\u0631\u0647 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649\u060c \u064a\u0631\u062c\u0649 \u0627\u0644\u062a\u0648\u0627\u0635\u0644 \u0645\u0639 \u0627\u0644\u0645\u0634\u0631\u0641.",emailChangeLimitReset:"\u062a\u0645\u062a \u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u064a\u064a\u0646 \u062d\u062f \u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u0628\u0646\u062c\u0627\u062d.",phoneChangeLimitReset:"\u062a\u0645\u062a \u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u064a\u064a\u0646 \u062d\u062f \u062a\u063a\u064a\u064a\u0631 \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641 \u0628\u0646\u062c\u0627\u062d.",emailChangeLimitResetFailed:"\u0641\u0634\u0644 \u0641\u064a \u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u064a\u064a\u0646 \u062d\u062f \u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a.",phoneChangeLimitResetFailed:"\u0641\u0634\u0644 \u0641\u064a \u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u064a\u064a\u0646 \u062d\u062f \u062a\u063a\u064a\u064a\u0631 \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641.",error:"\u062e\u0637\u0623",success:"\u0646\u062c\u062d",warning:"\u062a\u062d\u0630\u064a\u0631",info:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a",somethingWentWrong:"\u062d\u062f\u062b \u062e\u0637\u0623 \u0645\u0627",tryAgain:"\u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649",retry:"\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",videoNetworkError:"\u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u0634\u0628\u0643\u0629\u060c \u064a\u0631\u062c\u0649 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649.",videoApiLoadTimeout:"\u0627\u0646\u062a\u0647\u062a \u0645\u0647\u0644\u0629 \u0627\u0644\u0627\u062a\u0635\u0627\u0644\u060c \u064a\u0631\u062c\u0649 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649.",videoApiLoadFailed:"\u0641\u0634\u0644 \u062a\u062d\u0645\u064a\u0644 \u0645\u0634\u063a\u0644 \u0627\u0644\u0641\u064a\u062f\u064a\u0648\u060c \u064a\u0631\u062c\u0649 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649.",loading:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644...",processing:"\u062c\u0627\u0631\u064a \u0627\u0644\u0645\u0639\u0627\u0644\u062c\u0629...",completeLabel:"\u0625\u0646\u0647\u0627\u0621",continueLabel:"\u0645\u062a\u0627\u0628\u0639\u0629",weeks:"\u0623\u0633\u0627\u0628\u064a\u0639",days:"\u0623\u064a\u0627\u0645",hours:"\u0633\u0627\u0639\u0627\u062a",minutes:"\u062f\u0642\u0627\u0626\u0642",currency:"\u0631.\u0633",welcome:"\u0645\u0631\u062d\u0628\u0627\u064b",exploreCourses:"\u0627\u0633\u062a\u0643\u0634\u0641 \u0627\u0644\u062f\u0648\u0631\u0627\u062a",viewCourses:"\u0639\u0631\u0636 \u0627\u0644\u062f\u0648\u0631\u0627\u062a",startLearningToday:"\u0627\u0628\u062f\u0623 \u0627\u0644\u062a\u0639\u0644\u0645 \u0627\u0644\u064a\u0648\u0645",learnFromExperts:"\u062a\u0639\u0644\u0645 \u0645\u0646 \u0627\u0644\u062e\u0628\u0631\u0627\u0621",advanceYourCareer:"\u0637\u0648\u0631 \u0645\u0633\u064a\u0631\u062a\u0643 \u0627\u0644\u0645\u0647\u0646\u064a\u0629",masterNewSkills:"\u0623\u062a\u0642\u0646 \u0645\u0647\u0627\u0631\u0627\u062a \u062c\u062f\u064a\u062f\u0629 \u0645\u0639 \u0645\u062f\u0631\u0628\u064a\u0646 \u0631\u0627\u0626\u062f\u064a\u0646 \u0641\u064a \u0627\u0644\u0635\u0646\u0627\u0639\u0629",gainInDemandSkills:"\u0627\u0643\u062a\u0633\u0628 \u0627\u0644\u0645\u0647\u0627\u0631\u0627\u062a \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629 \u0648\u0627\u062d\u0635\u0644 \u0639\u0644\u0649 \u0634\u0647\u0627\u062f\u0627\u062a \u0645\u0639\u062a\u0631\u0641 \u0628\u0647\u0627",paymentVerification:"\u0627\u0644\u062a\u062d\u0642\u0642 \u0645\u0646 \u0627\u0644\u062f\u0641\u0639",verifyStudentPayments:"\u0627\u0644\u062a\u062d\u0642\u0642 \u0645\u0646 \u0645\u062f\u0641\u0648\u0639\u0627\u062a \u0627\u0644\u0637\u0644\u0627\u0628",assignmentGrading:"\u062a\u0642\u064a\u064a\u0645 \u0627\u0644\u0648\u0627\u062c\u0628\u0627\u062a",gradePendingSubmissions:"\u062a\u0642\u064a\u064a\u0645 \u0627\u0644\u0648\u0627\u062c\u0628\u0627\u062a \u0627\u0644\u0645\u0639\u0644\u0642\u0629",amount:"\u0627\u0644\u0645\u0628\u0644\u063a",method:"\u0627\u0644\u0637\u0631\u064a\u0642\u0629",receipt:"\u0627\u0644\u0625\u064a\u0635\u0627\u0644",approve:"\u0642\u0628\u0648\u0644",reject:"\u0631\u0641\u0636",noPendingPayments:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u062f\u0641\u0648\u0639\u0627\u062a \u0645\u0639\u0644\u0642\u0629",noPendingSubmissions:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0648\u0627\u062c\u0628\u0627\u062a \u0645\u0639\u0644\u0642\u0629",allPaymentsProcessed:"\u062a\u0645 \u0645\u0639\u0627\u0644\u062c\u0629 \u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u062f\u0641\u0648\u0639\u0627\u062a",allAssignmentsGraded:"\u062a\u0645 \u062a\u0642\u064a\u064a\u0645 \u062c\u0645\u064a\u0639 \u0627\u0644\u0648\u0627\u062c\u0628\u0627\u062a",grade:"\u0627\u0644\u062f\u0631\u062c\u0629",submitGrade:"\u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u062f\u0631\u062c\u0629",downloadStudentSubmission:"\u062a\u062d\u0645\u064a\u0644 \u0648\u0627\u062c\u0628 \u0627\u0644\u0637\u0627\u0644\u0628",submittedOn:"\u062a\u0645 \u0627\u0644\u0625\u0631\u0633\u0627\u0644 \u0641\u064a",pendingGrading:"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u062a\u0642\u064a\u064a\u0645",reviewed:"\u062a\u0645\u062a \u0627\u0644\u0645\u0631\u0627\u062c\u0639\u0629",notWatched:"\u0644\u0645 \u062a\u062a\u0645 \u0627\u0644\u0645\u0634\u0627\u0647\u062f\u0629",watched:"\u062a\u0645\u062a \u0627\u0644\u0645\u0634\u0627\u0647\u062f\u0629",pendingReview:"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u0631\u0627\u062c\u0639\u0629",notSubmitted:"\u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u0625\u0631\u0633\u0627\u0644",instructorFeedback:"\u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0627\u0644\u0645\u062f\u0631\u0628",currentGrade:"\u0627\u0644\u062f\u0631\u062c\u0629 \u0627\u0644\u062d\u0627\u0644\u064a\u0629",willBeUpdatedAfterReview:"\u0633\u064a\u062a\u0645 \u0627\u0644\u062a\u062d\u062f\u064a\u062b \u0628\u0639\u062f \u0627\u0644\u0645\u0631\u0627\u062c\u0639\u0629",clickToWatchVideo:"\u0627\u0646\u0642\u0631 \u0644\u0645\u0634\u0627\u0647\u062f\u0629 \u0627\u0644\u0641\u064a\u062f\u064a\u0648",downloadAssignment:"\u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0648\u0627\u062c\u0628",submitYourWork:"\u0623\u0631\u0633\u0644 \u0639\u0645\u0644\u0643",submitYourProject:"\u0623\u0631\u0633\u0644 \u0645\u0634\u0631\u0648\u0639\u0643",uploadCompletedAssignment:"\u064a\u0631\u062c\u0649 \u062a\u062d\u0645\u064a\u0644 \u0648\u0627\u062c\u0628\u0643 \u0627\u0644\u0645\u0643\u062a\u0645\u0644 \u0643\u0645\u0644\u0641 .rar",uploadCompletedProject:"\u064a\u0631\u062c\u0649 \u062a\u062d\u0645\u064a\u0644 \u0645\u0634\u0631\u0648\u0639\u0643 \u0627\u0644\u0645\u0643\u062a\u0645\u0644 \u0643\u0645\u0644\u0641 .rar",uploadingAssignment:"\u062c\u0627\u0631\u064a \u0631\u0641\u0639 \u0627\u0644\u0648\u0627\u062c\u0628...",uploadingProject:"\u062c\u0627\u0631\u064a \u0631\u0641\u0639 \u0627\u0644\u0645\u0634\u0631\u0648\u0639...",assignmentFile:"\u0645\u0644\u0641 \u0627\u0644\u0648\u0627\u062c\u0628",starterFiles:"\u0627\u0644\u0645\u0644\u0641\u0627\u062a \u0627\u0644\u0623\u0648\u0644\u064a\u0629",projectTutorialVideo:"\u0641\u064a\u062f\u064a\u0648 \u062a\u0639\u0644\u064a\u0645\u064a \u0644\u0644\u0645\u0634\u0631\u0648\u0639",selectContentToView:"\u0627\u062e\u062a\u0631 \u0645\u062d\u062a\u0648\u0649 \u0645\u0646 \u0627\u0644\u064a\u0633\u0627\u0631 \u0644\u0639\u0631\u0636 \u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644",directContact:"\u0627\u062a\u0635\u0627\u0644 \u0645\u0628\u0627\u0634\u0631",yourInstructors:"\u0645\u062f\u0631\u0628\u064a\u0643",searchMessages:"\u0627\u0644\u0628\u062d\u062b \u0641\u064a \u0627\u0644\u0631\u0633\u0627\u0626\u0644...",noMessagesInInbox:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0631\u0633\u0627\u0626\u0644 \u0641\u064a \u0635\u0646\u062f\u0648\u0642 \u0627\u0644\u0648\u0627\u0631\u062f",compose:"\u0625\u0646\u0634\u0627\u0621",recipient:"\u0627\u0644\u0645\u0633\u062a\u0644\u0645",subject:"\u0627\u0644\u0645\u0648\u0636\u0648\u0639",message:"\u0627\u0644\u0631\u0633\u0627\u0644\u0629",send:"\u0625\u0631\u0633\u0627\u0644",manageMessagesAndNotifications:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0631\u0633\u0627\u0626\u0644 \u0648\u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a",footerTagline:"\u0646\u0645\u0643\u0651\u0646 \u0627\u0644\u0645\u062a\u0639\u0644\u0645\u064a\u0646 \u0641\u064a \u062c\u0645\u064a\u0639 \u0623\u0646\u062d\u0627\u0621 \u0627\u0644\u0639\u0627\u0644\u0645",quickLinks:"\u0631\u0648\u0627\u0628\u0637 \u0633\u0631\u064a\u0639\u0629",support:"\u0627\u0644\u062f\u0639\u0645",legal:"\u0627\u0644\u0642\u0627\u0646\u0648\u0646\u064a\u0629",helpCenter:"\u0645\u0631\u0643\u0632 \u0627\u0644\u0645\u0633\u0627\u0639\u062f\u0629",faq:"\u0627\u0644\u0623\u0633\u0626\u0644\u0629 \u0627\u0644\u0634\u0627\u0626\u0639\u0629",privacyPolicy:"\u0633\u064a\u0627\u0633\u0629 \u0627\u0644\u062e\u0635\u0648\u0635\u064a\u0629",termsOfService:"\u0634\u0631\u0648\u0637 \u0627\u0644\u062e\u062f\u0645\u0629",allRightsReserved:"\u062c\u0645\u064a\u0639 \u0627\u0644\u062d\u0642\u0648\u0642 \u0645\u062d\u0641\u0648\u0638\u0629",followUs:"\u062a\u0627\u0628\u0639\u0646\u0627",categories:"\u0627\u0644\u0641\u0626\u0627\u062a",levels:"\u0627\u0644\u0645\u0633\u062a\u0648\u064a\u0627\u062a",contactInfo:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644",whyChooseUs:"\u0644\u0645\u0627\u0630\u0627 \u062a\u062e\u062a\u0627\u0631 \u0623\u0643\u0627\u062f\u064a\u0645\u064a\u0629 \u0625\u064a\u062f\u0648\u0641\u0644\u0648\u061f",discoverBenefits:"\u0627\u0643\u062a\u0634\u0641 \u0641\u0648\u0627\u0626\u062f \u0627\u0644\u062a\u0639\u0644\u0645 \u0645\u0639 \u0645\u0646\u0635\u062a\u0646\u0627",expertInstructors:"\u0645\u062f\u0631\u0628\u0648\u0646 \u062e\u0628\u0631\u0627\u0621",expertInstructorsDesc:"\u062a\u0639\u0644\u0645 \u0645\u0646 \u0645\u062d\u062a\u0631\u0641\u064a\u0646 \u0641\u064a \u0627\u0644\u0635\u0646\u0627\u0639\u0629 \u0628\u062e\u0628\u0631\u0629 \u0633\u0646\u0648\u0627\u062a",learnFromIndustryExperts:"\u062a\u0639\u0644\u0645 \u0645\u0646 \u0645\u062d\u062a\u0631\u0641\u064a\u0646 \u0641\u064a \u0627\u0644\u0635\u0646\u0627\u0639\u0629 \u0644\u062f\u064a\u0647\u0645 \u0633\u0646\u0648\u0627\u062a \u0645\u0646 \u0627\u0644\u062e\u0628\u0631\u0629",certificatesAwarded:"\u0634\u0647\u0627\u062f\u0627\u062a \u0645\u0639\u062a\u0645\u062f\u0629",earnRecognizedCertificates:"\u0627\u062d\u0635\u0644 \u0639\u0644\u0649 \u0634\u0647\u0627\u062f\u0627\u062a \u0645\u0639\u062a\u0631\u0641 \u0628\u0647\u0627 \u0639\u0646\u062f \u0625\u062a\u0645\u0627\u0645 \u0627\u0644\u062f\u0648\u0631\u0629",interactiveLearning:"\u062a\u0639\u0644\u0645 \u062a\u0641\u0627\u0639\u0644\u064a",engageWithPeers:"\u062a\u0641\u0627\u0639\u0644 \u0645\u0639 \u0627\u0644\u0632\u0645\u0644\u0627\u0621 \u0648\u0627\u0644\u0645\u062f\u0631\u0628\u064a\u0646 \u0641\u064a \u0627\u0644\u0648\u0642\u062a \u0627\u0644\u0641\u0639\u0644\u064a",careerGrowth:"\u0646\u0645\u0648 \u0645\u0647\u0646\u064a",advanceYourCareerPath:"\u0637\u0648\u0631 \u0645\u0633\u064a\u0631\u062a\u0643 \u0627\u0644\u0645\u0647\u0646\u064a\u0629 \u0628\u0645\u0647\u0627\u0631\u0627\u062a \u0645\u0637\u0644\u0648\u0628\u0629 \u0641\u064a \u0627\u0644\u0633\u0648\u0642",flexibleSchedule:"\u062c\u062f\u0648\u0644 \u0645\u0631\u0646",learnAtYourOwnPace:"\u062a\u0639\u0644\u0645 \u0628\u0627\u0644\u0633\u0631\u0639\u0629 \u0627\u0644\u062a\u064a \u062a\u0646\u0627\u0633\u0628\u0643\u060c \u0641\u064a \u0623\u064a \u0648\u0642\u062a \u0648\u0641\u064a \u0623\u064a \u0645\u0643\u0627\u0646",globalCommunity:"\u0645\u062c\u062a\u0645\u0639 \u0639\u0627\u0644\u0645\u064a",joinLearnersWorldwide:"\u0627\u0646\u0636\u0645 \u0625\u0644\u0649 \u0622\u0644\u0627\u0641 \u0627\u0644\u0645\u062a\u0639\u0644\u0645\u064a\u0646 \u062d\u0648\u0644 \u0627\u0644\u0639\u0627\u0644\u0645",richContent:"\u0645\u062d\u062a\u0648\u0649 \u063a\u0646\u064a",accessComprehensiveMaterials:"\u0627\u062d\u0635\u0644 \u0639\u0644\u0649 \u0645\u0648\u0627\u062f \u062a\u0639\u0644\u064a\u0645\u064a\u0629 \u0634\u0627\u0645\u0644\u0629",goalOriented:"\u0645\u0648\u062c\u0647 \u0646\u062d\u0648 \u0627\u0644\u0623\u0647\u062f\u0627\u0641",achieveYourLearningGoals:"\u0645\u0633\u0627\u0631\u0627\u062a \u0645\u0646\u0638\u0645\u0629 \u0644\u062a\u062d\u0642\u064a\u0642 \u0623\u0647\u062f\u0627\u0641\u0643",joinThousandsOfLearners:"\u0627\u0646\u0636\u0645 \u0625\u0644\u0649 \u0622\u0644\u0627\u0641 \u0627\u0644\u0645\u062a\u0639\u0644\u0645\u064a\u0646 \u0627\u0644\u0630\u064a\u0646 \u064a\u062d\u0648\u0644\u0648\u0646 \u062d\u064a\u0627\u062a\u0647\u0645 \u0627\u0644\u0645\u0647\u0646\u064a\u0629",flexibleLearning:"\u062a\u0639\u0644\u0645 \u0645\u0631\u0646",flexibleLearningDesc:"\u0627\u062f\u0631\u0633 \u0628\u0648\u062a\u064a\u0631\u062a\u0643 \u0627\u0644\u062e\u0627\u0635\u0629\u060c \u0641\u064a \u0623\u064a \u0648\u0642\u062a\u060c \u0641\u064a \u0623\u064a \u0645\u0643\u0627\u0646",certifiedCourses:"\u062f\u0648\u0631\u0627\u062a \u0645\u0639\u062a\u0645\u062f\u0629",certifiedCoursesDesc:"\u0627\u062d\u0635\u0644 \u0639\u0644\u0649 \u0634\u0647\u0627\u062f\u0627\u062a \u0645\u0639\u062a\u0631\u0641 \u0628\u0647\u0627 \u0639\u0646\u062f \u0625\u062a\u0645\u0627\u0645 \u0627\u0644\u062f\u0648\u0631\u0629",affordablePricing:"\u0623\u0633\u0639\u0627\u0631 \u0645\u0639\u0642\u0648\u0644\u0629",affordablePricingDesc:"\u062a\u0639\u0644\u064a\u0645 \u0639\u0627\u0644\u064a \u0627\u0644\u062c\u0648\u062f\u0629 \u0628\u0623\u0633\u0639\u0627\u0631 \u062a\u0646\u0627\u0641\u0633\u064a\u0629",readyToStart:"\u0647\u0644 \u0623\u0646\u062a \u0645\u0633\u062a\u0639\u062f \u0644\u0628\u062f\u0621 \u0631\u062d\u0644\u0629 \u0627\u0644\u062a\u0639\u0644\u0645\u061f",readyToStartDesc:"\u0627\u0646\u0636\u0645 \u0625\u0644\u0649 \u0622\u0644\u0627\u0641 \u0627\u0644\u0637\u0644\u0627\u0628 \u0627\u0644\u0630\u064a\u0646 \u064a\u062a\u0639\u0644\u0645\u0648\u0646 \u0645\u0639\u0646\u0627 \u0628\u0627\u0644\u0641\u0639\u0644",whatStudentsSay:"\u0645\u0627\u0630\u0627 \u064a\u0642\u0648\u0644 \u0637\u0644\u0627\u0628\u0646\u0627",paymentMethods:"\u0637\u0631\u0642 \u0627\u0644\u062f\u0641\u0639",weAccept:"\u0646\u0642\u0628\u0644",securePayment:"\u0645\u0639\u0627\u0644\u062c\u0629 \u062f\u0641\u0639 \u0622\u0645\u0646\u0629",aboutUsTitle:"\u0645\u0646 \u0646\u062d\u0646",ourMission:"\u0645\u0647\u0645\u062a\u0646\u0627",ourMissionDesc:"\u062a\u0648\u0641\u064a\u0631 \u062a\u0639\u0644\u064a\u0645 \u062c\u064a\u062f \u0648\u0633\u0647\u0644 \u0627\u0644\u0648\u0635\u0648\u0644 \u0644\u0644\u062c\u0645\u064a\u0639 \u0641\u064a \u0643\u0644 \u0645\u0643\u0627\u0646\u060c \u0648\u062a\u0645\u0643\u064a\u0646 \u0627\u0644\u0645\u062a\u0639\u0644\u0645\u064a\u0646 \u0645\u0646 \u062a\u062d\u0642\u064a\u0642 \u0623\u0647\u062f\u0627\u0641\u0647\u0645.",ourVision:"\u0631\u0624\u064a\u062a\u0646\u0627",ourVisionDesc:"\u0623\u0646 \u0646\u0643\u0648\u0646 \u0645\u0646\u0635\u0629 \u0627\u0644\u062a\u0639\u0644\u064a\u0645 \u0639\u0628\u0631 \u0627\u0644\u0625\u0646\u062a\u0631\u0646\u062a \u0627\u0644\u0631\u0627\u0626\u062f\u0629 \u0641\u064a \u0627\u0644\u0639\u0627\u0644\u0645\u060c \u0646\u062d\u0648\u0644 \u0627\u0644\u062d\u064a\u0627\u0629 \u0645\u0646 \u062e\u0644\u0627\u0644 \u0627\u0644\u062a\u0639\u0644\u0645.",ourValues:"\u0642\u064a\u0645\u0646\u0627",ourTeam:"\u0641\u0631\u064a\u0642\u0646\u0627",aboutEduFlow:"\u062d\u0648\u0644 \u0625\u064a\u062f\u0648\u0641\u0644\u0648",aboutDescription:"\u0623\u0643\u0627\u062f\u064a\u0645\u064a\u0629 \u0625\u064a\u062f\u0648\u0641\u0644\u0648 \u0647\u064a \u0645\u0646\u0635\u0629 \u062a\u0639\u0644\u064a\u0645\u064a\u0629 \u0631\u0627\u0626\u062f\u0629 \u0639\u0628\u0631 \u0627\u0644\u0625\u0646\u062a\u0631\u0646\u062a \u0645\u062e\u0635\u0635\u0629 \u0644\u062a\u0648\u0641\u064a\u0631 \u062a\u0639\u0644\u064a\u0645 \u0639\u0627\u0644\u064a \u0627\u0644\u062c\u0648\u062f\u0629 \u0644\u0644\u0637\u0644\u0627\u0628 \u0641\u064a \u062c\u0645\u064a\u0639 \u0623\u0646\u062d\u0627\u0621 \u0627\u0644\u0639\u0627\u0644\u0645.",meetOurTeam:"\u062a\u0639\u0631\u0641 \u0639\u0644\u0649 \u0641\u0631\u064a\u0642\u0646\u0627",quality:"\u0627\u0644\u062c\u0648\u062f\u0629",qualityDesc:"\u0646\u062d\u0627\u0641\u0638 \u0639\u0644\u0649 \u0623\u0639\u0644\u0649 \u0645\u0639\u0627\u064a\u064a\u0631 \u0627\u0644\u062a\u0639\u0644\u064a\u0645",innovation:"\u0627\u0644\u0627\u0628\u062a\u0643\u0627\u0631",innovationDesc:"\u0646\u062d\u0633\u0646 \u0645\u0646\u0635\u062a\u0646\u0627 \u0648\u062a\u062c\u0631\u0628\u0629 \u0627\u0644\u062a\u0639\u0644\u0645 \u0628\u0627\u0633\u062a\u0645\u0631\u0627\u0631",accessibility:"\u0625\u0645\u0643\u0627\u0646\u064a\u0629 \u0627\u0644\u0648\u0635\u0648\u0644",accessibilityDesc:"\u0627\u0644\u062a\u0639\u0644\u064a\u0645 \u0644\u0644\u062c\u0645\u064a\u0639 \u0641\u064a \u0643\u0644 \u0645\u0643\u0627\u0646 \u0648\u0641\u064a \u0623\u064a \u0648\u0642\u062a",community:"\u0627\u0644\u0645\u062c\u062a\u0645\u0639",communityDesc:"\u0628\u0646\u0627\u0621 \u0645\u062c\u062a\u0645\u0639 \u062a\u0639\u0644\u064a\u0645\u064a \u062f\u0627\u0639\u0645",helpCenterTitle:"\u0643\u064a\u0641 \u064a\u0645\u0643\u0646\u0646\u0627 \u0645\u0633\u0627\u0639\u062f\u062a\u0643\u061f",searchHelp:"\u0627\u0628\u062d\u062b \u0639\u0646 \u0627\u0644\u0645\u0633\u0627\u0639\u062f\u0629",popularTopics:"\u0627\u0644\u0645\u0648\u0627\u0636\u064a\u0639 \u0627\u0644\u0634\u0627\u0626\u0639\u0629",gettingStarted:"\u0627\u0644\u0628\u062f\u0621",accountManagement:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u062d\u0633\u0627\u0628",coursesAndLearning:"\u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0648\u0627\u0644\u062a\u0639\u0644\u0645",paymentsAndBilling:"\u0627\u0644\u0645\u062f\u0641\u0648\u0639\u0627\u062a \u0648\u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631",technicalSupport:"\u0627\u0644\u062f\u0639\u0645 \u0627\u0644\u0641\u0646\u064a",faqTitle:"\u0627\u0644\u0623\u0633\u0626\u0644\u0629 \u0627\u0644\u0634\u0627\u0626\u0639\u0629",frequentlyAskedQuestions:"\u0627\u0644\u0623\u0633\u0626\u0644\u0629 \u0627\u0644\u0645\u062a\u0643\u0631\u0631\u0629",findAnswersToCommonQuestions:"\u0627\u0639\u062b\u0631 \u0639\u0644\u0649 \u0625\u062c\u0627\u0628\u0627\u062a \u0633\u0631\u064a\u0639\u0629 \u0644\u0644\u0623\u0633\u0626\u0644\u0629 \u0627\u0644\u0634\u0627\u0626\u0639\u0629 \u062d\u0648\u0644 \u0623\u0643\u0627\u062f\u064a\u0645\u064a\u0629 \u0625\u064a\u062f\u0648\u0641\u0644\u0648",searchQuestions:"\u0627\u0628\u062d\u062b \u0639\u0646 \u0627\u0644\u0623\u0633\u0626\u0644\u0629...",noQuestionsFound:"\u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u0639\u062b\u0648\u0631 \u0639\u0644\u0649 \u0623\u0633\u0626\u0644\u0629 \u062a\u0637\u0627\u0628\u0642 \u0628\u062d\u062b\u0643.",didntFindLookingFor:"\u0644\u0645 \u062a\u062c\u062f \u0645\u0627 \u062a\u0628\u062d\u062b \u0639\u0646\u0647\u061f",contactSupportTeam:"\u0627\u062a\u0635\u0644 \u0628\u0641\u0631\u064a\u0642 \u0627\u0644\u062f\u0639\u0645 \u0644\u062f\u064a\u0646\u0627 \u0648\u0633\u0646\u0643\u0648\u0646 \u0633\u0639\u062f\u0627\u0621 \u0628\u0627\u0644\u0645\u0633\u0627\u0639\u062f\u0629",general:"\u0639\u0627\u0645",coursesAndLearning:"\u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0648\u0627\u0644\u062a\u0639\u0644\u0645",paymentsAndRefunds:"\u0627\u0644\u0645\u062f\u0641\u0648\u0639\u0627\u062a \u0648\u0627\u0644\u0627\u0633\u062a\u0631\u062f\u0627\u062f\u0627\u062a",forInstructors:"\u0644\u0644\u0645\u062f\u0631\u0633\u064a\u0646",technicalSupport:"\u0627\u0644\u062f\u0639\u0645 \u0627\u0644\u0641\u0646\u064a",faqQ1:"\u0645\u0627 \u0647\u064a \u0623\u0643\u0627\u062f\u064a\u0645\u064a\u0629 \u0625\u064a\u062f\u0648\u0641\u0644\u0648\u061f",faqA1:"\u0623\u0643\u0627\u062f\u064a\u0645\u064a\u0629 \u0625\u064a\u062f\u0648\u0641\u0644\u0648 \u0647\u064a \u0645\u0646\u0635\u0629 \u062a\u0639\u0644\u064a\u0645\u064a\u0629 \u0639\u0628\u0631 \u0627\u0644\u0625\u0646\u062a\u0631\u0646\u062a \u062a\u0642\u062f\u0645 \u062f\u0648\u0631\u0627\u062a \u0641\u064a \u0627\u0644\u0628\u0631\u0645\u062c\u0629 \u0648\u0627\u0644\u0644\u063a\u0627\u062a \u064a\u062f\u0631\u0633\u0647\u0627 \u062e\u0628\u0631\u0627\u0621 \u0641\u064a \u0627\u0644\u0645\u062c\u0627\u0644. \u0646\u062d\u0646 \u0646\u0642\u062f\u0645 \u062a\u0639\u0644\u064a\u0645\u0627\u064b \u0634\u0627\u0645\u0644\u0627\u064b \u0644\u0645\u0633\u0627\u0639\u062f\u062a\u0643 \u0639\u0644\u0649 \u062a\u0637\u0648\u064a\u0631 \u0645\u0633\u064a\u0631\u062a\u0643 \u0627\u0644\u0645\u0647\u0646\u064a\u0629 \u0623\u0648 \u062a\u0639\u0644\u0645 \u0645\u0647\u0627\u0631\u0627\u062a \u062c\u062f\u064a\u062f\u0629.",faqQ2:"\u0643\u064a\u0641 \u0623\u0646\u0634\u0626 \u062d\u0633\u0627\u0628\u0627\u064b\u061f",faqA2:'\u0627\u0646\u0642\u0631 \u0639\u0644\u0649 \u0632\u0631 "\u0625\u0646\u0634\u0627\u0621 \u062d\u0633\u0627\u0628" \u0641\u064a \u0627\u0644\u0632\u0627\u0648\u064a\u0629 \u0627\u0644\u0639\u0644\u0648\u064a\u0629 \u0627\u0644\u064a\u0645\u0646\u0649\u060c \u0627\u062e\u062a\u0631 \u062f\u0648\u0631\u0643 (\u0637\u0627\u0644\u0628 \u0623\u0648 \u0645\u062f\u0631\u0633)\u060c \u0627\u0645\u0644\u0623 \u0628\u064a\u0627\u0646\u0627\u062a\u0643\u060c \u0648\u062a\u062d\u0642\u0642 \u0645\u0646 \u0639\u0646\u0648\u0627\u0646 \u0628\u0631\u064a\u062f\u0643 \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a. \u0628\u0639\u062f \u0630\u0644\u0643 \u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u0628\u062f\u0621 \u0641\u064a \u0627\u0633\u062a\u0643\u0634\u0627\u0641 \u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0641\u0648\u0631\u0627\u064b.',faqQ3:"\u0647\u0644 \u0623\u0643\u0627\u062f\u064a\u0645\u064a\u0629 \u0625\u064a\u062f\u0648\u0641\u0644\u0648 \u0645\u062c\u0627\u0646\u064a\u0629\u061f",faqA3:"\u0646\u062d\u0646 \u0646\u0642\u062f\u0645 \u062f\u0648\u0631\u0627\u062a \u0645\u062c\u0627\u0646\u064a\u0629 \u0648\u0645\u062f\u0641\u0648\u0639\u0629. \u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0627\u0644\u0645\u062c\u0627\u0646\u064a\u0629 \u062a\u0648\u0641\u0631 \u0645\u062d\u062a\u0648\u0649 \u0623\u0633\u0627\u0633\u064a\u0627\u064b\u060c \u0628\u064a\u0646\u0645\u0627 \u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0627\u0644\u0645\u062f\u0641\u0648\u0639\u0629 \u062a\u0634\u0645\u0644 \u0645\u064a\u0632\u0627\u062a \u0645\u062a\u0645\u064a\u0632\u0629 \u0648\u0634\u0647\u0627\u062f\u0627\u062a \u0648\u062f\u0639\u0645\u0627\u064b \u0634\u062e\u0635\u064a\u0627\u064b \u0645\u0646 \u0627\u0644\u0645\u062f\u0631\u0633\u064a\u0646.",faqQ4:"\u0643\u064a\u0641 \u0623\u0633\u062c\u0644 \u0641\u064a \u062f\u0648\u0631\u0629\u061f",faqA4:'\u062a\u0635\u0641\u062d \u0643\u062a\u0627\u0644\u0648\u062c \u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0644\u062f\u064a\u0646\u0627\u060c \u0627\u0646\u0642\u0631 \u0639\u0644\u0649 \u062f\u0648\u0631\u0629 \u062a\u0647\u0645\u0643\u060c \u062b\u0645 \u0627\u0646\u0642\u0631 \u0639\u0644\u0649 \u0632\u0631 "\u0633\u062c\u0644 \u0627\u0644\u0622\u0646". \u0628\u0627\u0644\u0646\u0633\u0628\u0629 \u0644\u0644\u062f\u0648\u0631\u0627\u062a \u0627\u0644\u0645\u062f\u0641\u0648\u0639\u0629\u060c \u0623\u0643\u0645\u0644 \u0639\u0645\u0644\u064a\u0629 \u0627\u0644\u062f\u0641\u0639. \u0623\u0645\u0627 \u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0627\u0644\u0645\u062c\u0627\u0646\u064a\u0629 \u0641\u0633\u062a\u062a\u0645 \u0627\u0644\u062a\u0633\u062c\u064a\u0644 \u0641\u064a\u0647\u0627 \u0641\u0648\u0631\u0627\u064b.',faqQ5:"\u0647\u0644 \u064a\u0645\u0643\u0646\u0646\u064a \u0627\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u0645\u062d\u062a\u0648\u0649 \u0627\u0644\u062f\u0648\u0631\u0629 \u0628\u0639\u062f \u0625\u062a\u0645\u0627\u0645\u0647\u0627\u061f",faqA5:"\u0646\u0639\u0645! \u0628\u0645\u062c\u0631\u062f \u0627\u0644\u062a\u0633\u062c\u064a\u0644 \u0641\u064a \u062f\u0648\u0631\u0629\u060c \u0633\u062a\u062d\u0635\u0644 \u0639\u0644\u0649 \u0648\u0635\u0648\u0644 \u0645\u062f\u0649 \u0627\u0644\u062d\u064a\u0627\u0629 \u0644\u062c\u0645\u064a\u0639 \u0645\u0648\u0627\u062f \u0627\u0644\u062f\u0648\u0631\u0629\u060c \u0628\u0645\u0627 \u0641\u064a \u0630\u0644\u0643 \u0627\u0644\u062a\u062d\u062f\u064a\u062b\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u0642\u0628\u0644\u064a\u0629 \u0648\u0627\u0644\u0645\u062d\u062a\u0648\u0649 \u0627\u0644\u0625\u0636\u0627\u0641\u064a \u0627\u0644\u0630\u064a \u064a\u0636\u064a\u0641\u0647 \u0627\u0644\u0645\u062f\u0631\u0633.",faqQ6:"\u0643\u064a\u0641 \u0623\u062a\u062a\u0628\u0639 \u062a\u0642\u062f\u0645\u064a\u061f",faqA6:"\u064a\u062a\u0645 \u062a\u062a\u0628\u0639 \u062a\u0642\u062f\u0645\u0643 \u062a\u0644\u0642\u0627\u0626\u064a\u0627\u064b \u0639\u0646\u062f \u0625\u0643\u0645\u0627\u0644 \u0627\u0644\u062f\u0631\u0648\u0633 \u0648\u0627\u0644\u0648\u0627\u062c\u0628\u0627\u062a \u0648\u0627\u0644\u0645\u0634\u0627\u0631\u064a\u0639. \u064a\u0645\u0643\u0646\u0643 \u0639\u0631\u0636 \u062a\u0642\u062f\u0645\u0643 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0627\u0644\u062e\u0627\u0635\u0629 \u0628\u0643 \u0648\u062f\u0627\u062e\u0644 \u0643\u0644 \u062f\u0648\u0631\u0629.",faqQ7:"\u0645\u0627\u0630\u0627 \u0644\u0648 \u062a\u0623\u062e\u0631\u062a \u0641\u064a \u0627\u0644\u062f\u0648\u0631\u0629\u061f",faqA7:"\u062c\u0645\u064a\u0639 \u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0630\u0627\u062a\u064a\u0629 \u0627\u0644\u0633\u0631\u0639\u0629\u060c \u0644\u0630\u0627 \u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u062a\u0639\u0644\u0645 \u0628\u0627\u0644\u0633\u0631\u0639\u0629 \u0627\u0644\u062a\u064a \u062a\u0646\u0627\u0633\u0628\u0643. \u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u0648\u0627\u0639\u064a\u062f \u0646\u0647\u0627\u0626\u064a\u0629 \u0644\u0645\u0639\u0638\u0645 \u0627\u0644\u062f\u0648\u0631\u0627\u062a\u060c \u0645\u0645\u0627 \u064a\u062a\u064a\u062d \u0644\u0643 \u0627\u0644\u0645\u0648\u0627\u0632\u0646\u0629 \u0628\u064a\u0646 \u0627\u0644\u062a\u0639\u0644\u0645 \u0648\u0627\u0644\u062a\u0632\u0627\u0645\u0627\u062a\u0643 \u0627\u0644\u0623\u062e\u0631\u0649.",faqQ8:"\u0645\u0627 \u0647\u064a \u0637\u0631\u0642 \u0627\u0644\u062f\u0641\u0639 \u0627\u0644\u062a\u064a \u062a\u0642\u0628\u0644\u0648\u0646\u0647\u0627\u061f",faqA8:"\u0646\u062d\u0646 \u0646\u0642\u0628\u0644 \u0637\u0631\u0642 \u062f\u0641\u0639 \u0645\u062a\u0639\u062f\u062f\u0629 \u0628\u0645\u0627 \u0641\u064a \u0630\u0644\u0643 \u062a\u062d\u0648\u064a\u0644\u0627\u062a \u0627\u0644\u062d\u0648\u0627\u0644\u0629\u060c \u0634\u0627\u0645 \u0643\u0627\u0634\u060c \u0648\u064a\u0633\u062a\u0631\u0646 \u064a\u0648\u0646\u064a\u0648\u0646\u060c \u0648\u062e\u064a\u0627\u0631\u0627\u062a \u062f\u0641\u0639 \u0645\u062d\u0644\u064a\u0629 \u0623\u062e\u0631\u0649. \u0627\u062e\u062a\u0631 \u0627\u0644\u0637\u0631\u064a\u0642\u0629 \u0627\u0644\u0645\u0641\u0636\u0644\u0629 \u0644\u062f\u064a\u0643 \u0623\u062b\u0646\u0627\u0621 \u0627\u0644\u062f\u0641\u0639.",faqQ9:"\u0643\u064a\u0641 \u0623\u0631\u0633\u0644 \u0625\u064a\u0635\u0627\u0644 \u0627\u0644\u062f\u0641\u0639\u061f",faqA9:"\u0628\u0639\u062f \u0627\u062e\u062a\u064a\u0627\u0631 \u0637\u0631\u064a\u0642\u0629 \u0627\u0644\u062f\u0641\u0639 \u0627\u0644\u062e\u0627\u0635\u0629 \u0628\u0643\u060c \u0633\u062a\u064f\u0637\u0644\u0628 \u0645\u0646\u0643 \u062a\u062d\u0645\u064a\u0644 \u0625\u064a\u0635\u0627\u0644 \u0627\u0644\u062f\u0641\u0639. \u064a\u0645\u0643\u0646\u0643 \u0633\u062d\u0628 \u0627\u0644\u0645\u0644\u0641 \u0648\u0625\u0641\u0644\u0627\u062a\u0647 \u0623\u0648 \u0627\u0644\u0646\u0642\u0631 \u0644\u0644\u062a\u0635\u0641\u062d. \u0627\u0644\u0635\u064a\u063a \u0627\u0644\u0645\u0642\u0628\u0648\u0644\u0629 \u0647\u064a JPG \u0648 PNG \u0648 PDF.",faqQ10:"\u0645\u0627 \u0647\u064a \u0633\u064a\u0627\u0633\u0629 \u0627\u0644\u0627\u0633\u062a\u0631\u062f\u0627\u062f \u0644\u062f\u064a\u0643\u0645\u061f",faqA10:"\u0646\u062d\u0646 \u0646\u0642\u062f\u0645 \u0636\u0645\u0627\u0646\u0627\u064b \u0644\u0627\u0633\u062a\u0631\u062f\u0627\u062f \u0627\u0644\u0623\u0645\u0648\u0627\u0644 \u0644\u0645\u062f\u0629 30 \u064a\u0648\u0645\u0627\u064b \u0644\u062c\u0645\u064a\u0639 \u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0627\u0644\u0645\u062f\u0641\u0648\u0639\u0629. \u0625\u0630\u0627 \u0644\u0645 \u062a\u0643\u0646 \u0631\u0627\u0636\u064a\u0627\u064b \u0639\u0646 \u0627\u0644\u062f\u0648\u0631\u0629\u060c \u0627\u062a\u0635\u0644 \u0628\u0641\u0631\u064a\u0642 \u0627\u0644\u062f\u0639\u0645 \u0644\u062f\u064a\u0646\u0627 \u062e\u0644\u0627\u0644 30 \u064a\u0648\u0645\u0627\u064b \u0645\u0646 \u0627\u0644\u062a\u0633\u062c\u064a\u0644 \u0644\u0644\u062d\u0635\u0648\u0644 \u0639\u0644\u0649 \u0627\u0633\u062a\u0631\u062f\u0627\u062f \u0643\u0627\u0645\u0644.",faqQ11:"\u0643\u0645 \u0645\u0646 \u0627\u0644\u0648\u0642\u062a \u064a\u0633\u062a\u063a\u0631\u0642 \u0627\u0644\u062a\u062d\u0642\u0642 \u0645\u0646 \u0627\u0644\u062f\u0641\u0639\u061f",faqA11:"\u064a\u0633\u062a\u063a\u0631\u0642 \u0627\u0644\u062a\u062d\u0642\u0642 \u0645\u0646 \u0627\u0644\u062f\u0641\u0639 \u0639\u0627\u062f\u0629\u064b \u0645\u0646 24 \u0625\u0644\u0649 48 \u0633\u0627\u0639\u0629. \u0633\u062a\u062a\u0644\u0642\u0649 \u0625\u0634\u0639\u0627\u0631\u0627\u064b \u0628\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u0628\u0645\u062c\u0631\u062f \u0627\u0644\u062a\u062d\u0642\u0642 \u0645\u0646 \u062f\u0641\u0639\u062a\u0643 \u0648\u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u0645\u062d\u062a\u0648\u0649 \u0627\u0644\u062f\u0648\u0631\u0629.",faqQ12:"\u0643\u064a\u0641 \u0623\u0635\u0628\u062d \u0645\u062f\u0631\u0633\u0627\u064b\u061f",faqA12:"\u0633\u062c\u0644 \u0644\u0644\u062d\u0635\u0648\u0644 \u0639\u0644\u0649 \u062d\u0633\u0627\u0628 \u0645\u062f\u0631\u0633\u060c \u0623\u0643\u0645\u0644 \u0645\u0644\u0641\u0643 \u0627\u0644\u0634\u062e\u0635\u064a \u0628\u062e\u0628\u0631\u062a\u0643 \u0648\u0645\u0639\u0631\u0641\u062a\u0643\u060c \u0648\u0642\u062f\u0645 \u0637\u0644\u0628\u0627\u064b. \u0633\u064a\u0642\u0648\u0645 \u0641\u0631\u064a\u0642\u0646\u0627 \u0628\u0645\u0631\u0627\u062c\u0639\u0629 \u0637\u0644\u0628\u0643 \u0648\u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u0649 \u0627\u0644\u0645\u062f\u0631\u0633\u064a\u0646 \u0627\u0644\u0645\u0624\u0647\u0644\u064a\u0646.",faqQ13:"\u0645\u0627 \u0627\u0644\u0630\u064a \u0623\u062d\u062a\u0627\u062c\u0647 \u0644\u0625\u0646\u0634\u0627\u0621 \u062f\u0648\u0631\u0629\u061f",faqA13:"\u0633\u062a\u062d\u062a\u0627\u062c \u0625\u0644\u0649 \u0645\u062d\u062a\u0648\u0649 \u0627\u0644\u062f\u0648\u0631\u0629 (\u0641\u064a\u062f\u064a\u0648\u0647\u0627\u062a\u060c \u0648\u0627\u062c\u0628\u0627\u062a\u060c \u0645\u0634\u0627\u0631\u064a\u0639)\u060c \u0648\u0645\u062e\u0637\u0637 \u0644\u0644\u062f\u0648\u0631\u0629\u060c \u0648\u0645\u0639\u0631\u0641\u0629 \u0628\u0645\u0648\u0636\u0648\u0639\u0643. \u0646\u062d\u0646 \u0646\u0648\u0641\u0631 \u0623\u062f\u0648\u0627\u062a \u0644\u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0641\u064a\u062f\u064a\u0648\u0647\u0627\u062a \u0648\u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0648\u0627\u062c\u0628\u0627\u062a \u0648\u0625\u062f\u0627\u0631\u0629 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u0637\u0644\u0627\u0628.",faqQ14:"\u0643\u064a\u0641 \u0623\u0631\u0628\u062d \u0627\u0644\u0645\u0627\u0644 \u0643\u0645\u062f\u0631\u0633\u061f",faqA14:"\u064a\u0643\u0633\u0628 \u0627\u0644\u0645\u062f\u0631\u0633\u0648\u0646 \u0625\u064a\u0631\u0627\u062f\u0627\u062a \u0645\u0646 \u062a\u0633\u062c\u064a\u0644\u0627\u062a \u0627\u0644\u062f\u0648\u0631\u0627\u062a. \u0623\u0646\u062a \u062a\u062d\u062f\u062f \u0623\u0633\u0639\u0627\u0631 \u062f\u0648\u0631\u0627\u062a\u0643\u060c \u0648\u0646\u062d\u0646 \u0646\u062a\u0639\u0627\u0645\u0644 \u0645\u0639 \u0645\u0639\u0627\u0644\u062c\u0629 \u0627\u0644\u062f\u0641\u0639. \u064a\u062a\u0645 \u062a\u062d\u0648\u064a\u0644 \u0627\u0644\u0623\u0631\u0628\u0627\u062d \u0625\u0644\u0649 \u062d\u0633\u0627\u0628\u0643 \u0639\u0644\u0649 \u0623\u0633\u0627\u0633 \u0634\u0647\u0631\u064a.",faqQ15:"\u0647\u0644 \u064a\u0645\u0643\u0646\u0646\u064a \u0627\u0644\u062a\u0641\u0627\u0639\u0644 \u0645\u0639 \u0637\u0644\u0627\u0628\u064a\u061f",faqA15:"\u0628\u0627\u0644\u062a\u0623\u0643\u064a\u062f! \u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u062a\u0648\u0627\u0635\u0644 \u0645\u0639 \u0627\u0644\u0637\u0644\u0627\u0628 \u0645\u0646 \u062e\u0644\u0627\u0644 \u0646\u0638\u0627\u0645 \u0627\u0644\u0645\u0631\u0627\u0633\u0644\u0629 \u0644\u062f\u064a\u0646\u0627\u060c \u0648\u062a\u0642\u064a\u064a\u0645 \u0648\u0627\u062c\u0628\u0627\u062a\u0647\u0645 \u0628\u062a\u0639\u0644\u064a\u0642\u0627\u062a\u060c \u0648\u0627\u0644\u0645\u0634\u0627\u0631\u0643\u0629 \u0641\u064a \u0645\u0646\u0627\u0642\u0634\u0627\u062a \u0627\u0644\u062f\u0648\u0631\u0629.",faqQ16:"\u0645\u0627\u0630\u0627 \u0644\u0648 \u0644\u0645 \u062a\u0639\u0645\u0644 \u0645\u0642\u0627\u0637\u0639 \u0627\u0644\u0641\u064a\u062f\u064a\u0648\u061f",faqA16:"\u062a\u0623\u0643\u062f \u0645\u0646 \u0623\u0646 \u0644\u062f\u064a\u0643 \u0627\u062a\u0635\u0627\u0644 \u0625\u0646\u062a\u0631\u0646\u062a \u0645\u0633\u062a\u0642\u0631 \u0648\u0627\u0633\u062a\u062e\u062f\u0645 \u0645\u062a\u0635\u0641\u062d\u0627\u064b \u0645\u062d\u062f\u062b\u0627\u064b (Chrome \u0623\u0648 Firefox \u0623\u0648 Safari \u0623\u0648 Edge). \u0627\u0645\u0633\u062d \u0630\u0627\u0643\u0631\u0629 \u0627\u0644\u062a\u062e\u0632\u064a\u0646 \u0627\u0644\u0645\u0624\u0642\u062a \u0648\u0645\u0644\u0641\u0627\u062a \u062a\u0639\u0631\u064a\u0641 \u0627\u0644\u0627\u0631\u062a\u0628\u0627\u0637 \u0641\u064a \u0645\u062a\u0635\u0641\u062d\u0643 \u0625\u0630\u0627 \u0627\u0633\u062a\u0645\u0631\u062a \u0627\u0644\u0645\u0634\u0627\u0643\u0644. \u0627\u062a\u0635\u0644 \u0628\u0627\u0644\u062f\u0639\u0645 \u0625\u0630\u0627 \u0627\u0633\u062a\u0645\u0631\u062a \u0627\u0644\u0645\u0634\u0627\u0643\u0644.",faqQ17:"\u0643\u064a\u0641 \u0623\u0642\u0648\u0645 \u0628\u062a\u0646\u0632\u064a\u0644 \u0645\u0648\u0627\u062f \u0627\u0644\u062f\u0648\u0631\u0629\u061f",faqA17:"\u0627\u0646\u062a\u0642\u0644 \u0625\u0644\u0649 \u0635\u0641\u062d\u0629 \u0645\u062d\u062a\u0648\u0649 \u0627\u0644\u062f\u0648\u0631\u0629 \u0648\u0627\u0646\u0642\u0631 \u0639\u0644\u0649 \u0623\u064a\u0642\u0648\u0646\u0629 \u0627\u0644\u062a\u0646\u0632\u064a\u0644 \u0628\u062c\u0648\u0627\u0631 \u0623\u064a \u0645\u0627\u062f\u0629 \u0642\u0627\u0628\u0644\u0629 \u0644\u0644\u062a\u0646\u0632\u064a\u0644 (\u0645\u0644\u0641\u0627\u062a PDF\u060c \u0645\u0644\u0641\u0627\u062a \u0643\u0648\u062f\u060c \u0625\u0644\u062e). \u0633\u064a\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u0645\u0644\u0641\u0627\u062a \u0641\u064a \u0645\u062c\u0644\u062f \u0627\u0644\u062a\u0646\u0632\u064a\u0644\u0627\u062a \u0627\u0644\u0627\u0641\u062a\u0631\u0627\u0636\u064a \u0627\u0644\u062e\u0627\u0635 \u0628\u0643.",faqQ18:"\u0647\u0644 \u064a\u0645\u0643\u0646\u0646\u064a \u0627\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0639\u0644\u0649 \u0627\u0644\u0623\u062c\u0647\u0632\u0629 \u0627\u0644\u0645\u062d\u0645\u0648\u0644\u0629\u061f",faqA18:"\u0646\u0639\u0645! \u0645\u0646\u0635\u062a\u0646\u0627 \u0645\u062a\u062c\u0627\u0648\u0628\u0629 \u0628\u0627\u0644\u0643\u0627\u0645\u0644 \u0648\u062a\u0639\u0645\u0644 \u0639\u0644\u0649 \u0627\u0644\u0647\u0648\u0627\u062a\u0641 \u0627\u0644\u0630\u0643\u064a\u0629 \u0648\u0627\u0644\u0623\u062c\u0647\u0632\u0629 \u0627\u0644\u0644\u0648\u062d\u064a\u0629. \u0627\u0633\u062a\u062e\u062f\u0645 \u0623\u064a \u0645\u062a\u0635\u0641\u062d \u0645\u062d\u0645\u0648\u0644 \u062d\u062f\u064a\u062b \u0644\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u062f\u0648\u0631\u0627\u062a\u0643 \u0623\u062b\u0646\u0627\u0621 \u0627\u0644\u062a\u0646\u0642\u0644.",faqQ19:"\u0645\u0627\u0630\u0627 \u064a\u062c\u0628 \u0623\u0646 \u0623\u0641\u0639\u0644 \u0625\u0630\u0627 \u0648\u0627\u062c\u0647\u062a \u062e\u0637\u0623\u061f",faqA19:"\u0627\u0644\u062a\u0642\u0637 \u0644\u0642\u0637\u0629 \u0634\u0627\u0634\u0629 \u0644\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u062e\u0637\u0623\u060c \u0644\u0627\u062d\u0638 \u0645\u0627 \u0643\u0646\u062a \u062a\u0641\u0639\u0644\u0647 \u0639\u0646\u062f\u0645\u0627 \u062d\u062f\u062b\u060c \u0648\u0627\u062a\u0635\u0644 \u0628\u0641\u0631\u064a\u0642 \u0627\u0644\u062f\u0639\u0645 \u0644\u062f\u064a\u0646\u0627 \u0639\u0628\u0631 \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u0623\u0648 \u0645\u0631\u0643\u0632 \u0627\u0644\u0645\u0633\u0627\u0639\u062f\u0629 \u0645\u0639 \u0647\u0630\u0647 \u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644.",privacyPolicyTitle:"\u0633\u064a\u0627\u0633\u0629 \u0627\u0644\u062e\u0635\u0648\u0635\u064a\u0629",lastUpdated:"\u0622\u062e\u0631 \u062a\u062d\u062f\u064a\u062b",privacyIntro:"\u062e\u0635\u0648\u0635\u064a\u062a\u0643 \u0648\u0623\u0645\u0627\u0646 \u0628\u064a\u0627\u0646\u0627\u062a\u0643 \u0647\u0645\u0627 \u0623\u0648\u0644\u0648\u064a\u062a\u0646\u0627 \u0627\u0644\u0642\u0635\u0648\u0649",introduction:"\u0645\u0642\u062f\u0645\u0629",privacyIntroText:"\u0641\u064a \u0623\u0643\u0627\u062f\u064a\u0645\u064a\u0629 \u0625\u064a\u062f\u0648\u0641\u0644\u0648\u060c \u0646\u062d\u0646 \u0645\u0644\u062a\u0632\u0645\u0648\u0646 \u0628\u062d\u0645\u0627\u064a\u0629 \u0645\u0639\u0644\u0648\u0645\u0627\u062a\u0643 \u0627\u0644\u0634\u062e\u0635\u064a\u0629 \u0648\u062d\u0642\u0643 \u0641\u064a \u0627\u0644\u062e\u0635\u0648\u0635\u064a\u0629. \u062a\u0648\u0636\u062d \u0633\u064a\u0627\u0633\u0629 \u0627\u0644\u062e\u0635\u0648\u0635\u064a\u0629 \u0647\u0630\u0647 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062a\u064a \u0646\u062c\u0645\u0639\u0647\u0627 \u0648\u0643\u064a\u0641\u064a\u0629 \u0627\u0633\u062a\u062e\u062f\u0627\u0645\u0647\u0627 \u0648\u0645\u0627 \u0644\u062f\u064a\u0643 \u0645\u0646 \u062d\u0642\u0648\u0642 \u0641\u064a\u0645\u0627 \u064a\u062a\u0639\u0644\u0642 \u0628\u0647\u0627. \u0628\u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0645\u0646\u0635\u062a\u0646\u0627\u060c \u0641\u0625\u0646\u0643 \u062a\u0648\u0627\u0641\u0642 \u0639\u0644\u0649 \u062c\u0645\u0639 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0648\u0627\u0633\u062a\u062e\u062f\u0627\u0645\u0647\u0627 \u0648\u0641\u0642\u0627\u064b \u0644\u0647\u0630\u0647 \u0627\u0644\u0633\u064a\u0627\u0633\u0629.",informationWeCollect:"\u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062a\u064a \u0646\u062c\u0645\u0639\u0647\u0627",infoCollect1:"\u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0634\u062e\u0635\u064a\u0629 (\u0627\u0644\u0627\u0633\u0645\u060c \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a\u060c \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641) \u0627\u0644\u0645\u0642\u062f\u0645\u0629 \u0623\u062b\u0646\u0627\u0621 \u0627\u0644\u062a\u0633\u062c\u064a\u0644",infoCollect2:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062f\u0641\u0639 \u0644\u0634\u0631\u0627\u0621 \u0627\u0644\u062f\u0648\u0631\u0627\u062a",infoCollect3:"\u0628\u064a\u0627\u0646\u0627\u062a \u062a\u0642\u062f\u0645 \u0627\u0644\u062f\u0648\u0631\u0629 \u0648\u0646\u0634\u0627\u0637 \u0627\u0644\u062a\u0639\u0644\u0645",infoCollect4:"\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0645\u0646 \u062e\u0644\u0627\u0644 \u0646\u0638\u0627\u0645 \u0627\u0644\u0645\u0631\u0627\u0633\u0644\u0629 \u0644\u062f\u064a\u0646\u0627",infoCollect5:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062c\u0647\u0627\u0632 \u0648\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0644\u062a\u062d\u0633\u064a\u0646 \u0627\u0644\u0645\u0646\u0635\u0629",howWeUseInfo:"\u0643\u064a\u0641 \u0646\u0633\u062a\u062e\u062f\u0645 \u0645\u0639\u0644\u0648\u0645\u0627\u062a\u0643",useInfo1:"\u0644\u062a\u0642\u062f\u064a\u0645 \u062e\u062f\u0645\u0627\u062a\u0646\u0627 \u0627\u0644\u062a\u0639\u0644\u064a\u0645\u064a\u0629 \u0648\u0627\u0644\u062d\u0641\u0627\u0638 \u0639\u0644\u064a\u0647\u0627",useInfo2:"\u0644\u0645\u0639\u0627\u0644\u062c\u0629 \u0627\u0644\u0645\u062f\u0641\u0648\u0639\u0627\u062a \u0648\u0645\u0646\u0639 \u0627\u0644\u0627\u062d\u062a\u064a\u0627\u0644",useInfo3:"\u0644\u0625\u0631\u0633\u0627\u0644 \u062a\u062d\u062f\u064a\u062b\u0627\u062a \u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0648\u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a \u0627\u0644\u0645\u0647\u0645\u0629",useInfo4:"\u0644\u062a\u062d\u0633\u064a\u0646 \u0645\u0646\u0635\u062a\u0646\u0627 \u0648\u062a\u062c\u0631\u0628\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",useInfo5:"\u0644\u0644\u0627\u0645\u062a\u062b\u0627\u0644 \u0644\u0644\u0627\u0644\u062a\u0632\u0627\u0645\u0627\u062a \u0627\u0644\u0642\u0627\u0646\u0648\u0646\u064a\u0629",dataSecurity:"\u0643\u064a\u0641 \u0646\u062d\u0645\u064a \u0628\u064a\u0627\u0646\u0627\u062a\u0643",security1:"\u062a\u0634\u0641\u064a\u0631 \u0645\u0639\u064a\u0627\u0631\u064a \u0644\u0644\u0635\u0646\u0627\u0639\u0629 \u0644\u0646\u0642\u0644 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a",security2:"\u062e\u0648\u0627\u062f\u0645 \u0622\u0645\u0646\u0629 \u0645\u0639 \u0639\u0645\u0644\u064a\u0627\u062a \u062a\u062f\u0642\u064a\u0642 \u0623\u0645\u0646\u064a\u0629 \u0645\u0646\u062a\u0638\u0645\u0629",security3:"\u0648\u0635\u0648\u0644 \u0645\u062d\u062f\u0648\u062f \u0644\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0634\u062e\u0635\u064a\u0629 \u0645\u0646 \u0642\u0628\u0644 \u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646 \u0627\u0644\u0645\u0635\u0631\u062d \u0644\u0647\u0645 \u0641\u0642\u0637",security4:"\u0646\u0633\u062e \u0627\u062d\u062a\u064a\u0627\u0637\u064a\u0629 \u0645\u0646\u062a\u0638\u0645\u0629 \u0644\u0645\u0646\u0639 \u0641\u0642\u062f\u0627\u0646 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a",security5:"\u0627\u0644\u0627\u0645\u062a\u062b\u0627\u0644 \u0644\u0644\u0648\u0627\u0626\u062d \u062d\u0645\u0627\u064a\u0629 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u062f\u0648\u0644\u064a\u0629",yourRights:"\u062d\u0642\u0648\u0642\u0643",rights1:"\u0627\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u0628\u064a\u0627\u0646\u0627\u062a\u0643 \u0627\u0644\u0634\u062e\u0635\u064a\u0629 \u0641\u064a \u0623\u064a \u0648\u0642\u062a",rights2:"\u0637\u0644\u0628 \u062a\u0635\u062d\u064a\u062d \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u063a\u064a\u0631 \u0627\u0644\u062f\u0642\u064a\u0642\u0629",rights3:"\u0637\u0644\u0628 \u062d\u0630\u0641 \u062d\u0633\u0627\u0628\u0643 \u0648\u0628\u064a\u0627\u0646\u0627\u062a\u0643",rights4:"\u0625\u0644\u063a\u0627\u0621 \u0627\u0644\u0627\u0634\u062a\u0631\u0627\u0643 \u0641\u064a \u0627\u0644\u0627\u062a\u0635\u0627\u0644\u0627\u062a \u0627\u0644\u062a\u0633\u0648\u064a\u0642\u064a\u0629",rights5:"\u062a\u0635\u062f\u064a\u0631 \u0628\u064a\u0627\u0646\u0627\u062a\u0643 \u0628\u062a\u0646\u0633\u064a\u0642 \u0645\u062d\u0645\u0648\u0644",dataSharing:"\u0645\u0634\u0627\u0631\u0643\u0629 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a",sharing1:"\u0646\u062d\u0646 \u0644\u0627 \u0646\u0628\u064a\u0639 \u0645\u0639\u0644\u0648\u0645\u0627\u062a\u0643 \u0627\u0644\u0634\u062e\u0635\u064a\u0629 \u0644\u0623\u0637\u0631\u0627\u0641 \u062b\u0627\u0644\u062b\u0629",sharing2:"\u0642\u062f \u0646\u0634\u0627\u0631\u0643 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0645\u0639 \u0645\u0639\u0627\u0644\u062c\u0627\u062a \u0627\u0644\u062f\u0641\u0639 \u0644\u0644\u0645\u0639\u0627\u0645\u0644\u0627\u062a",sharing3:"\u0642\u062f \u062a\u062a\u0645 \u0645\u0634\u0627\u0631\u0643\u0629 \u0628\u064a\u0627\u0646\u0627\u062a \u0625\u0643\u0645\u0627\u0644 \u0627\u0644\u062f\u0648\u0631\u0629 \u0645\u0639 \u0627\u0644\u0645\u062f\u0631\u0633\u064a\u0646",sharing4:"\u0642\u062f \u0646\u0643\u0634\u0641 \u0639\u0646 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0625\u0630\u0627 \u0643\u0627\u0646 \u0630\u0644\u0643 \u0645\u0637\u0644\u0648\u0628\u0627\u064b \u0628\u0645\u0648\u062c\u0628 \u0627\u0644\u0642\u0627\u0646\u0648\u0646",sharing5:"\u0642\u062f \u062a\u064f\u0633\u062a\u062e\u062f\u0645 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u062a\u062d\u0644\u064a\u0644\u0627\u062a \u0627\u0644\u0645\u062c\u0647\u0648\u0644\u0629 \u0644\u0644\u0628\u062d\u062b",cookiesAndTracking:"\u0645\u0644\u0641\u0627\u062a \u062a\u0639\u0631\u064a\u0641 \u0627\u0644\u0627\u0631\u062a\u0628\u0627\u0637 \u0648\u0627\u0644\u062a\u062a\u0628\u0639",cookies1:"\u0646\u0633\u062a\u062e\u062f\u0645 \u0645\u0644\u0641\u0627\u062a \u062a\u0639\u0631\u064a\u0641 \u0627\u0644\u0627\u0631\u062a\u0628\u0627\u0637 \u0627\u0644\u0623\u0633\u0627\u0633\u064a\u0629 \u0644\u0648\u0638\u0627\u0626\u0641 \u0627\u0644\u0645\u0646\u0635\u0629",cookies2:"\u062a\u0633\u0627\u0639\u062f\u0646\u0627 \u0645\u0644\u0641\u0627\u062a \u062a\u0639\u0631\u064a\u0641 \u0627\u0644\u0627\u0631\u062a\u0628\u0627\u0637 \u0627\u0644\u062a\u062d\u0644\u064a\u0644\u064a\u0629 \u0639\u0644\u0649 \u062a\u062d\u0633\u064a\u0646 \u062a\u062c\u0631\u0628\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",cookies3:"\u064a\u0645\u0643\u0646\u0643 \u062a\u0639\u0637\u064a\u0644 \u0645\u0644\u0641\u0627\u062a \u062a\u0639\u0631\u064a\u0641 \u0627\u0644\u0627\u0631\u062a\u0628\u0627\u0637 \u0641\u064a \u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0645\u062a\u0635\u0641\u062d",cookies4:"\u0642\u062f \u0644\u0627 \u062a\u0639\u0645\u0644 \u0628\u0639\u0636 \u0627\u0644\u0645\u064a\u0632\u0627\u062a \u0628\u062f\u0648\u0646 \u0645\u0644\u0641\u0627\u062a \u062a\u0639\u0631\u064a\u0641 \u0627\u0644\u0627\u0631\u062a\u0628\u0627\u0637",cookies5:"\u0646\u062d\u0646 \u0644\u0627 \u0646\u0633\u062a\u062e\u062f\u0645 \u0645\u0644\u0641\u0627\u062a \u062a\u0639\u0631\u064a\u0641 \u0627\u0631\u062a\u0628\u0627\u0637 \u0625\u0639\u0644\u0627\u0646\u064a\u0629 \u0645\u0646 \u0637\u0631\u0641 \u062b\u0627\u0644\u062b",contactUsAboutPrivacy:"\u0627\u062a\u0635\u0644 \u0628\u0646\u0627 \u0628\u062e\u0635\u0648\u0635 \u0627\u0644\u062e\u0635\u0648\u0635\u064a\u0629",privacyContactText:"\u0625\u0630\u0627 \u0643\u0627\u0646 \u0644\u062f\u064a\u0643 \u0623\u064a \u0623\u0633\u0626\u0644\u0629 \u0623\u0648 \u0645\u062e\u0627\u0648\u0641 \u0628\u0634\u0623\u0646 \u0633\u064a\u0627\u0633\u0629 \u0627\u0644\u062e\u0635\u0648\u0635\u064a\u0629 \u0627\u0644\u062e\u0627\u0635\u0629 \u0628\u0646\u0627 \u0623\u0648 \u0643\u064a\u0641\u064a\u0629 \u062a\u0639\u0627\u0645\u0644\u0646\u0627 \u0645\u0639 \u0628\u064a\u0627\u0646\u0627\u062a\u0643\u060c \u0641\u0644\u0627 \u062a\u062a\u0631\u062f\u062f \u0641\u064a \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0628\u0646\u0627:",email:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",address:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646",changesToPolicy:"\u0627\u0644\u062a\u063a\u064a\u064a\u0631\u0627\u062a \u0639\u0644\u0649 \u0647\u0630\u0647 \u0627\u0644\u0633\u064a\u0627\u0633\u0629",changesPolicyText:'\u0642\u062f \u0646\u0642\u0648\u0645 \u0628\u062a\u062d\u062f\u064a\u062b \u0633\u064a\u0627\u0633\u0629 \u0627\u0644\u062e\u0635\u0648\u0635\u064a\u0629 \u0627\u0644\u062e\u0627\u0635\u0629 \u0628\u0646\u0627 \u0645\u0646 \u0648\u0642\u062a \u0644\u0622\u062e\u0631. \u0633\u0646\u062e\u0637\u0631\u0643 \u0628\u0623\u064a \u062a\u063a\u064a\u064a\u0631\u0627\u062a \u0645\u0646 \u062e\u0644\u0627\u0644 \u0646\u0634\u0631 \u0633\u064a\u0627\u0633\u0629 \u0627\u0644\u062e\u0635\u0648\u0635\u064a\u0629 \u0627\u0644\u062c\u062f\u064a\u062f\u0629 \u0639\u0644\u0649 \u0647\u0630\u0647 \u0627\u0644\u0635\u0641\u062d\u0629 \u0648\u062a\u062d\u062f\u064a\u062b \u062a\u0627\u0631\u064a\u062e "\u0622\u062e\u0631 \u062a\u062d\u062f\u064a\u062b". \u0646\u0634\u062c\u0639\u0643 \u0639\u0644\u0649 \u0645\u0631\u0627\u062c\u0639\u0629 \u0633\u064a\u0627\u0633\u0629 \u0627\u0644\u062e\u0635\u0648\u0635\u064a\u0629 \u0647\u0630\u0647 \u0628\u0634\u0643\u0644 \u062f\u0648\u0631\u064a \u0644\u0644\u0627\u0637\u0644\u0627\u0639 \u0639\u0644\u0649 \u0623\u064a \u062a\u063a\u064a\u064a\u0631\u0627\u062a.',termsOfServiceTitle:"\u0634\u0631\u0648\u0637 \u0627\u0644\u062e\u062f\u0645\u0629",effectiveDate:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0633\u0631\u064a\u0627\u0646",termsIntro:"\u064a\u0631\u062c\u0649 \u0642\u0631\u0627\u0621\u0629 \u0647\u0630\u0647 \u0627\u0644\u0634\u0631\u0648\u0637 \u0628\u0639\u0646\u0627\u064a\u0629 \u0642\u0628\u0644 \u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0623\u0643\u0627\u062f\u064a\u0645\u064a\u0629 \u0625\u064a\u062f\u0648\u0641\u0644\u0648",agreementToTerms:"\u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u0649 \u0627\u0644\u0634\u0631\u0648\u0637",agreementText:"\u062a\u062d\u0643\u0645 \u0634\u0631\u0648\u0637 \u0627\u0644\u062e\u062f\u0645\u0629 \u0647\u0630\u0647 \u0627\u0633\u062a\u062e\u062f\u0627\u0645\u0643 \u0644\u0623\u0643\u0627\u062f\u064a\u0645\u064a\u0629 \u0625\u064a\u062f\u0648\u0641\u0644\u0648 \u0648\u062a\u0634\u0643\u0644 \u0627\u062a\u0641\u0627\u0642\u064a\u0629 \u0645\u0644\u0632\u0645\u0629 \u0642\u0627\u0646\u0648\u0646\u0627\u064b \u0628\u064a\u0646\u0643 \u0648\u0628\u064a\u0646 \u0623\u0643\u0627\u062f\u064a\u0645\u064a\u0629 \u0625\u064a\u062f\u0648\u0641\u0644\u0648. \u0645\u0646 \u062e\u0644\u0627\u0644 \u0627\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u0645\u0646\u0635\u062a\u0646\u0627 \u0623\u0648 \u0627\u0633\u062a\u062e\u062f\u0627\u0645\u0647\u0627\u060c \u0641\u0625\u0646\u0643 \u062a\u0642\u0631 \u0628\u0623\u0646\u0643 \u0642\u062f \u0642\u0631\u0623\u062a \u0648\u0641\u0647\u0645\u062a \u0648\u0648\u0627\u0641\u0642\u062a \u0639\u0644\u0649 \u0627\u0644\u0627\u0644\u062a\u0632\u0627\u0645 \u0628\u0647\u0630\u0647 \u0627\u0644\u0634\u0631\u0648\u0637. \u0625\u0630\u0627 \u0643\u0646\u062a \u0644\u0627 \u062a\u0648\u0627\u0641\u0642 \u0639\u0644\u0649 \u0647\u0630\u0647 \u0627\u0644\u0634\u0631\u0648\u0637\u060c \u0641\u064a\u062c\u0628 \u0639\u0644\u064a\u0643 \u0639\u062f\u0645 \u0627\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u062e\u062f\u0645\u0627\u062a\u0646\u0627 \u0623\u0648 \u0627\u0633\u062a\u062e\u062f\u0627\u0645\u0647\u0627.",acceptanceOfTerms:"\u0642\u0628\u0648\u0644 \u0627\u0644\u0634\u0631\u0648\u0637",acceptanceContent:"\u0645\u0646 \u062e\u0644\u0627\u0644 \u0627\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u0623\u0643\u0627\u062f\u064a\u0645\u064a\u0629 \u0625\u064a\u062f\u0648\u0641\u0644\u0648 \u0648\u0627\u0633\u062a\u062e\u062f\u0627\u0645\u0647\u0627\u060c \u0641\u0625\u0646\u0643 \u062a\u0642\u0628\u0644 \u0648\u062a\u0648\u0627\u0641\u0642 \u0639\u0644\u0649 \u0627\u0644\u0627\u0644\u062a\u0632\u0627\u0645 \u0628\u0634\u0631\u0648\u0637 \u0627\u0644\u062e\u062f\u0645\u0629 \u0647\u0630\u0647. \u0625\u0630\u0627 \u0643\u0646\u062a \u0644\u0627 \u062a\u0648\u0627\u0641\u0642 \u0639\u0644\u0649 \u0647\u0630\u0647 \u0627\u0644\u0634\u0631\u0648\u0637\u060c \u0641\u064a\u0631\u062c\u0649 \u0639\u062f\u0645 \u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0645\u0646\u0635\u062a\u0646\u0627. \u0646\u062d\u062a\u0641\u0638 \u0628\u0627\u0644\u062d\u0642 \u0641\u064a \u062a\u0639\u062f\u064a\u0644 \u0647\u0630\u0647 \u0627\u0644\u0634\u0631\u0648\u0637 \u0641\u064a \u0623\u064a \u0648\u0642\u062a\u060c \u0648\u0627\u0633\u062a\u0645\u0631\u0627\u0631\u0643 \u0641\u064a \u0627\u0644\u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u064a\u0639\u0646\u064a \u0642\u0628\u0648\u0644 \u0623\u064a \u062a\u063a\u064a\u064a\u0631\u0627\u062a.",userAccounts:"\u062d\u0633\u0627\u0628\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646",userAccountsContent:"\u0623\u0646\u062a \u0645\u0633\u0624\u0648\u0644 \u0639\u0646 \u0627\u0644\u062d\u0641\u0627\u0638 \u0639\u0644\u0649 \u0633\u0631\u064a\u0629 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0639\u062a\u0645\u0627\u062f \u062d\u0633\u0627\u0628\u0643. \u064a\u062c\u0628 \u0639\u0644\u064a\u0643 \u062a\u0642\u062f\u064a\u0645 \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u062f\u0642\u064a\u0642\u0629 \u0648\u0643\u0627\u0645\u0644\u0629 \u0623\u062b\u0646\u0627\u0621 \u0627\u0644\u062a\u0633\u062c\u064a\u0644. \u0623\u0646\u062a \u0645\u0633\u0624\u0648\u0644 \u0639\u0646 \u062c\u0645\u064a\u0639 \u0627\u0644\u0623\u0646\u0634\u0637\u0629 \u0627\u0644\u062a\u064a \u062a\u062d\u062f\u062b \u0641\u064a \u062d\u0633\u0627\u0628\u0643. \u0623\u062e\u0637\u0631\u0646\u0627 \u0641\u0648\u0631\u0627\u064b \u0628\u0623\u064a \u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u063a\u064a\u0631 \u0645\u0635\u0631\u062d \u0628\u0647 \u0644\u062d\u0633\u0627\u0628\u0643.",courseAccess:"\u0627\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0648\u0627\u0644\u0645\u062d\u062a\u0648\u0649",courseAccessContent:"\u0639\u0646\u062f \u0627\u0644\u062a\u0633\u062c\u064a\u0644\u060c \u062a\u062d\u0635\u0644 \u0639\u0644\u0649 \u062a\u0631\u062e\u064a\u0635 \u063a\u064a\u0631 \u062d\u0635\u0631\u064a \u0648\u063a\u064a\u0631 \u0642\u0627\u0628\u0644 \u0644\u0644\u062a\u062d\u0648\u064a\u0644 \u0644\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u0645\u062d\u062a\u0648\u0649 \u0627\u0644\u062f\u0648\u0631\u0629 \u0644\u0644\u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0627\u0644\u0634\u062e\u0635\u064a \u0641\u0642\u0637. \u0645\u062d\u062a\u0648\u0649 \u0627\u0644\u062f\u0648\u0631\u0629 \u0645\u062d\u0645\u064a \u0628\u062d\u0642\u0648\u0642 \u0627\u0644\u0646\u0634\u0631 \u0648\u0644\u0627 \u064a\u0645\u0643\u0646 \u0625\u0639\u0627\u062f\u0629 \u062a\u0648\u0632\u064a\u0639\u0647 \u0623\u0648 \u062a\u0633\u062c\u064a\u0644\u0647 \u0623\u0648 \u0645\u0634\u0627\u0631\u0643\u062a\u0647 \u062f\u0648\u0646 \u0625\u0630\u0646 \u0635\u0631\u064a\u062d. \u0646\u062d\u062a\u0641\u0638 \u0628\u0627\u0644\u062d\u0642 \u0641\u064a \u062a\u0639\u062f\u064a\u0644 \u0623\u0648 \u0625\u0632\u0627\u0644\u0629 \u0645\u062d\u062a\u0648\u0649 \u0627\u0644\u062f\u0648\u0631\u0629 \u0641\u064a \u0623\u064a \u0648\u0642\u062a.",paymentsAndRefunds:"\u0627\u0644\u0645\u062f\u0641\u0648\u0639\u0627\u062a \u0648\u0627\u0644\u0627\u0633\u062a\u0631\u062f\u0627\u062f\u0627\u062a",paymentsContent:"\u064a\u062a\u0645 \u0625\u062f\u0631\u0627\u062c \u062c\u0645\u064a\u0639 \u0623\u0633\u0639\u0627\u0631 \u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0628\u0627\u0644\u0639\u0645\u0644\u0629 \u0627\u0644\u0645\u062d\u062f\u062f\u0629. \u064a\u062c\u0628 \u0633\u062f\u0627\u062f \u0627\u0644\u062f\u0641\u0639 \u0628\u0627\u0644\u0643\u0627\u0645\u0644 \u0642\u0628\u0644 \u0627\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u0627\u0644\u0645\u062d\u062a\u0648\u0649 \u0627\u0644\u0645\u062f\u0641\u0648\u0639. \u0646\u0642\u062f\u0645 \u0636\u0645\u0627\u0646\u0627\u064b \u0644\u0627\u0633\u062a\u0631\u062f\u0627\u062f \u0627\u0644\u0623\u0645\u0648\u0627\u0644 \u0644\u0645\u062f\u0629 30 \u064a\u0648\u0645\u0627\u064b \u0644\u0644\u062f\u0648\u0631\u0627\u062a \u0627\u0644\u0645\u062f\u0641\u0648\u0639\u0629. \u062a\u062a\u0645 \u0645\u0639\u0627\u0644\u062c\u0629 \u0627\u0644\u0645\u0628\u0627\u0644\u063a \u0627\u0644\u0645\u0633\u062a\u0631\u062f\u0629 \u0641\u064a \u063a\u0636\u0648\u0646 7-10 \u0623\u064a\u0627\u0645 \u0639\u0645\u0644. \u0642\u062f \u064a\u062e\u0636\u0639 \u0623\u0647\u0644\u064a\u0629 \u0627\u0644\u0627\u0633\u062a\u0631\u062f\u0627\u062f \u0644\u0644\u0645\u0631\u0627\u062c\u0639\u0629.",prohibitedActivities:"\u0627\u0644\u0633\u0644\u0648\u0643 \u0627\u0644\u0645\u062d\u0638\u0648\u0631",prohibitedContent:"\u0623\u0646\u062a \u062a\u0648\u0627\u0641\u0642 \u0639\u0644\u0649 \u0639\u062f\u0645: \u0645\u0634\u0627\u0631\u0643\u0629 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0639\u062a\u0645\u0627\u062f \u0627\u0644\u062d\u0633\u0627\u0628\u060c \u0625\u0639\u0627\u062f\u0629 \u062a\u0648\u0632\u064a\u0639 \u0645\u062d\u062a\u0648\u0649 \u0627\u0644\u062f\u0648\u0631\u0629\u060c \u0645\u0636\u0627\u064a\u0642\u0629 \u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0623\u0648 \u0645\u062f\u0631\u0633\u064a\u0646 \u0622\u062e\u0631\u064a\u0646\u060c \u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0627\u0644\u0645\u0646\u0635\u0629 \u0644\u0623\u0646\u0634\u0637\u0629 \u063a\u064a\u0631 \u0642\u0627\u0646\u0648\u0646\u064a\u0629\u060c \u0645\u062d\u0627\u0648\u0644\u0629 \u0627\u062e\u062a\u0631\u0627\u0642 \u0623\u0648 \u062a\u0639\u0631\u064a\u0636 \u0623\u0645\u0627\u0646 \u0627\u0644\u0645\u0646\u0635\u0629 \u0644\u0644\u062e\u0637\u0631\u060c \u062a\u0642\u062f\u064a\u0645 \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0643\u0627\u0630\u0628\u0629 \u0623\u0648 \u0645\u0636\u0644\u0644\u0629\u060c \u0623\u0648 \u0627\u0644\u0627\u0646\u062e\u0631\u0627\u0637 \u0641\u064a \u0623\u064a \u0646\u0634\u0627\u0637 \u064a\u062a\u0639\u0627\u0631\u0636 \u0645\u0639 \u0639\u0645\u0644\u064a\u0627\u062a \u0627\u0644\u0645\u0646\u0635\u0629.",intellectualProperty:"\u0627\u0644\u0645\u0644\u0643\u064a\u0629 \u0627\u0644\u0641\u0643\u0631\u064a\u0629",intellectualPropertyContent:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u062d\u062a\u0648\u064a\u0627\u062a \u0641\u064a \u0623\u0643\u0627\u062f\u064a\u0645\u064a\u0629 \u0625\u064a\u062f\u0648\u0641\u0644\u0648\u060c \u0628\u0645\u0627 \u0641\u064a \u0630\u0644\u0643 \u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0648\u0645\u0642\u0627\u0637\u0639 \u0627\u0644\u0641\u064a\u062f\u064a\u0648 \u0648\u0627\u0644\u0646\u0635\u0648\u0635 \u0648\u0627\u0644\u0631\u0633\u0648\u0645\u0627\u062a \u0648\u0627\u0644\u0634\u0639\u0627\u0631\u0627\u062a \u0648\u0627\u0644\u0628\u0631\u0627\u0645\u062c\u060c \u0647\u064a \u0645\u0644\u0643 \u0644\u0623\u0643\u0627\u062f\u064a\u0645\u064a\u0629 \u0625\u064a\u062f\u0648\u0641\u0644\u0648 \u0623\u0648 \u0645\u0648\u0631\u062f\u064a \u0627\u0644\u0645\u062d\u062a\u0648\u0649 \u0627\u0644\u062e\u0627\u0635\u064a\u0646 \u0628\u0647\u0627 \u0648\u0645\u062d\u0645\u064a\u0629 \u0628\u0645\u0648\u062c\u0628 \u062d\u0642\u0648\u0642 \u0627\u0644\u0646\u0634\u0631 \u0648\u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062a \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629 \u0648\u0642\u0648\u0627\u0646\u064a\u0646 \u0627\u0644\u0645\u0644\u0643\u064a\u0629 \u0627\u0644\u0641\u0643\u0631\u064a\u0629 \u0627\u0644\u0623\u062e\u0631\u0649. \u0642\u062f \u064a\u0624\u062f\u064a \u0627\u0644\u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u063a\u064a\u0631 \u0627\u0644\u0645\u0635\u0631\u062d \u0628\u0647 \u0625\u0644\u0649 \u0627\u062a\u062e\u0627\u0630 \u0625\u062c\u0631\u0627\u0621\u0627\u062a \u0642\u0627\u0646\u0648\u0646\u064a\u0629.",studentResponsibilities:"\u0645\u0633\u0624\u0648\u0644\u064a\u0627\u062a \u0627\u0644\u0637\u0644\u0627\u0628",studentResp1:"\u0625\u0643\u0645\u0627\u0644 \u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0628\u0627\u0644\u0633\u0631\u0639\u0629 \u0627\u0644\u062a\u064a \u062a\u0646\u0627\u0633\u0628\u0643 \u062e\u0644\u0627\u0644 \u0641\u062a\u0631\u0629 \u0627\u0644\u0648\u0635\u0648\u0644",studentResp2:"\u062a\u0642\u062f\u064a\u0645 \u0639\u0645\u0644 \u0623\u0635\u0644\u064a \u0644\u0644\u0648\u0627\u062c\u0628\u0627\u062a \u0648\u0627\u0644\u0645\u0634\u0627\u0631\u064a\u0639",studentResp3:"\u0627\u062d\u062a\u0631\u0627\u0645 \u0627\u0644\u0645\u062f\u0631\u0633\u064a\u0646 \u0648\u0627\u0644\u0637\u0644\u0627\u0628 \u0627\u0644\u0622\u062e\u0631\u064a\u0646",studentResp4:"\u062a\u0642\u062f\u064a\u0645 \u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0648\u062a\u0642\u064a\u064a\u0645\u0627\u062a \u0628\u0646\u0627\u0621\u0629",studentResp5:"\u0627\u0644\u062d\u0641\u0627\u0638 \u0639\u0644\u0649 \u0627\u0644\u0646\u0632\u0627\u0647\u0629 \u0627\u0644\u0623\u0643\u0627\u062f\u064a\u0645\u064a\u0629",instructorResponsibilities:"\u0645\u0633\u0624\u0648\u0644\u064a\u0627\u062a \u0627\u0644\u0645\u062f\u0631\u0633\u064a\u0646",instructorResp1:"\u062a\u0642\u062f\u064a\u0645 \u0623\u0648\u0635\u0627\u0641 \u062f\u0642\u064a\u0642\u0629 \u0644\u0644\u062f\u0648\u0631\u0627\u062a \u0648\u0627\u0644\u0645\u062a\u0637\u0644\u0628\u0627\u062a \u0627\u0644\u0623\u0633\u0627\u0633\u064a\u0629",instructorResp2:"\u062a\u0642\u062f\u064a\u0645 \u0645\u062d\u062a\u0648\u0649 \u062a\u0639\u0644\u064a\u0645\u064a \u0639\u0627\u0644\u064a \u0627\u0644\u062c\u0648\u062f\u0629",instructorResp3:"\u0627\u0644\u0631\u062f \u0639\u0644\u0649 \u0623\u0633\u0626\u0644\u0629 \u0627\u0644\u0637\u0644\u0627\u0628 \u0641\u064a \u0627\u0644\u0648\u0642\u062a \u0627\u0644\u0645\u0646\u0627\u0633\u0628",instructorResp4:"\u062a\u0642\u064a\u064a\u0645 \u0627\u0644\u0648\u0627\u062c\u0628\u0627\u062a \u0628\u0634\u0643\u0644 \u0639\u0627\u062f\u0644 \u0648\u062a\u0642\u062f\u064a\u0645 \u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0627\u062a",instructorResp5:"\u0627\u0644\u062d\u0641\u0627\u0638 \u0639\u0644\u0649 \u0645\u062d\u062a\u0648\u0649 \u0627\u0644\u062f\u0648\u0631\u0629 \u0645\u062d\u062f\u062b\u0627\u064b",platformRights:"\u062d\u0642\u0648\u0642 \u0627\u0644\u0645\u0646\u0635\u0629",platformRight1:"\u062a\u0639\u062f\u064a\u0644 \u0623\u0648 \u0625\u064a\u0642\u0627\u0641 \u0627\u0644\u062e\u062f\u0645\u0627\u062a \u0641\u064a \u0623\u064a \u0648\u0642\u062a",platformRight2:"\u062a\u0639\u0644\u064a\u0642 \u0623\u0648 \u0625\u0646\u0647\u0627\u0621 \u0627\u0644\u062d\u0633\u0627\u0628\u0627\u062a \u0644\u0644\u0627\u0646\u062a\u0647\u0627\u0643\u0627\u062a",platformRight3:"\u0645\u0631\u0627\u0642\u0628\u0629 \u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0627\u0644\u0645\u0646\u0635\u0629 \u0644\u0644\u062c\u0648\u062f\u0629 \u0648\u0627\u0644\u0623\u0645\u0627\u0646",platformRight4:"\u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0631\u0633\u0648\u0645 \u0648\u0627\u0644\u0623\u0633\u0639\u0627\u0631 \u0645\u0639 \u0625\u0634\u0639\u0627\u0631",platformRight5:"\u062c\u0645\u0639 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0648\u0627\u0633\u062a\u062e\u062f\u0627\u0645\u0647\u0627 \u062d\u0633\u0628 \u0633\u064a\u0627\u0633\u0629 \u0627\u0644\u062e\u0635\u0648\u0635\u064a\u0629",limitationOfLiability:"\u062d\u062f\u0648\u062f \u0627\u0644\u0645\u0633\u0624\u0648\u0644\u064a\u0629",liabilityText1:'\u064a\u062a\u0645 \u062a\u0648\u0641\u064a\u0631 \u0623\u0643\u0627\u062f\u064a\u0645\u064a\u0629 \u0625\u064a\u062f\u0648\u0641\u0644\u0648 "\u0643\u0645\u0627 \u0647\u064a" \u0628\u062f\u0648\u0646 \u0636\u0645\u0627\u0646\u0627\u062a \u0645\u0646 \u0623\u064a \u0646\u0648\u0639. \u0646\u062d\u0646 \u0644\u0627 \u0646\u0636\u0645\u0646 \u0623\u0646 \u0627\u0644\u0645\u0646\u0635\u0629 \u0633\u062a\u0643\u0648\u0646 \u062e\u0627\u0644\u064a\u0629 \u0645\u0646 \u0627\u0644\u0623\u062e\u0637\u0627\u0621 \u0623\u0648 \u062f\u0648\u0646 \u0627\u0646\u0642\u0637\u0627\u0639. \u0625\u0644\u0649 \u0623\u0642\u0635\u0649 \u062d\u062f \u064a\u0633\u0645\u062d \u0628\u0647 \u0627\u0644\u0642\u0627\u0646\u0648\u0646\u060c \u0644\u0646 \u062a\u0643\u0648\u0646 \u0623\u0643\u0627\u062f\u064a\u0645\u064a\u0629 \u0625\u064a\u062f\u0648\u0641\u0644\u0648 \u0645\u0633\u0624\u0648\u0644\u0629 \u0639\u0646 \u0623\u064a \u0623\u0636\u0631\u0627\u0631 \u063a\u064a\u0631 \u0645\u0628\u0627\u0634\u0631\u0629 \u0623\u0648 \u0639\u0631\u0636\u064a\u0629 \u0623\u0648 \u062e\u0627\u0635\u0629 \u0623\u0648 \u062a\u0628\u0639\u064a\u0629 \u0623\u0648 \u0639\u0642\u0627\u0628\u064a\u0629\u060c \u0628\u0645\u0627 \u0641\u064a \u0630\u0644\u0643 \u0641\u0642\u062f\u0627\u0646 \u0627\u0644\u0623\u0631\u0628\u0627\u062d \u0623\u0648 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0623\u0648 \u0627\u0644\u062e\u0633\u0627\u0626\u0631 \u063a\u064a\u0631 \u0627\u0644\u0645\u0644\u0645\u0648\u0633\u0629 \u0627\u0644\u0623\u062e\u0631\u0649.',liabilityText2:"\u0646\u062d\u0646 \u0644\u0633\u0646\u0627 \u0645\u0633\u0624\u0648\u0644\u064a\u0646 \u0639\u0646 \u0627\u0644\u0645\u062d\u062a\u0648\u0649 \u0627\u0644\u0645\u0642\u062f\u0645 \u0645\u0646 \u0642\u0628\u0644 \u0627\u0644\u0645\u062f\u0631\u0633\u064a\u0646 \u0623\u0648 \u0646\u062a\u0627\u0626\u062c \u062a\u062c\u0631\u0628\u0629 \u0627\u0644\u062a\u0639\u0644\u0645 \u0627\u0644\u062e\u0627\u0635\u0629 \u0628\u0643. \u0625\u0643\u0645\u0627\u0644 \u0627\u0644\u062f\u0648\u0631\u0629 \u0644\u0627 \u064a\u0636\u0645\u0646 \u0627\u0644\u062a\u0648\u0638\u064a\u0641 \u0623\u0648 \u0623\u064a \u0646\u062a\u0627\u0626\u062c \u0645\u062d\u062f\u062f\u0629.",disputeResolution:"\u062d\u0644 \u0627\u0644\u0646\u0632\u0627\u0639\u0627\u062a",disputeText:"\u0633\u064a\u062a\u0645 \u062d\u0644 \u0623\u064a \u0646\u0632\u0627\u0639\u0627\u062a \u062a\u0646\u0634\u0623 \u0639\u0646 \u0647\u0630\u0647 \u0627\u0644\u0634\u0631\u0648\u0637 \u0623\u0648 \u0627\u0633\u062a\u062e\u062f\u0627\u0645\u0643 \u0644\u0623\u0643\u0627\u062f\u064a\u0645\u064a\u0629 \u0625\u064a\u062f\u0648\u0641\u0644\u0648 \u0645\u0646 \u062e\u0644\u0627\u0644 \u0627\u0644\u062a\u062d\u0643\u064a\u0645 \u0627\u0644\u0645\u0644\u0632\u0645 \u0648\u0641\u0642\u0627\u064b \u0644\u0642\u0648\u0627\u0639\u062f \u0627\u0644\u062a\u062d\u0643\u064a\u0645 \u0627\u0644\u062f\u0648\u0644\u064a\u0629. \u0623\u0646\u062a \u062a\u0648\u0627\u0641\u0642 \u0639\u0644\u0649 \u0627\u0644\u062a\u0646\u0627\u0632\u0644 \u0639\u0646 \u0623\u064a \u062d\u0642 \u0641\u064a \u0645\u062d\u0627\u0643\u0645\u0629 \u0623\u0645\u0627\u0645 \u0647\u064a\u0626\u0629 \u0645\u062d\u0644\u0641\u064a\u0646 \u0623\u0648 \u0627\u0644\u0645\u0634\u0627\u0631\u0643\u0629 \u0641\u064a \u062f\u0639\u0648\u0649 \u062c\u0645\u0627\u0639\u064a\u0629.",questionsAboutTerms:"\u0623\u0633\u0626\u0644\u0629 \u062d\u0648\u0644 \u0627\u0644\u0634\u0631\u0648\u0637\u061f",termsContactText:"\u0625\u0630\u0627 \u0643\u0627\u0646 \u0644\u062f\u064a\u0643 \u0623\u064a \u0623\u0633\u0626\u0644\u0629 \u062d\u0648\u0644 \u0634\u0631\u0648\u0637 \u0627\u0644\u062e\u062f\u0645\u0629 \u0647\u0630\u0647\u060c \u064a\u0631\u062c\u0649 \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0628\u0646\u0627:",disclaimers:"\u0625\u062e\u0644\u0627\u0621 \u0627\u0644\u0645\u0633\u0624\u0648\u0644\u064a\u0629",governingLaw:"\u0627\u0644\u0642\u0627\u0646\u0648\u0646 \u0627\u0644\u062d\u0627\u0643\u0645",browseAll:"\u062a\u0635\u0641\u062d \u0627\u0644\u0643\u0644",seeMore:"\u0634\u0627\u0647\u062f \u0627\u0644\u0645\u0632\u064a\u062f",seeLess:"\u0634\u0627\u0647\u062f \u0623\u0642\u0644",loadMore:"\u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0645\u0632\u064a\u062f",showMore:"\u0639\u0631\u0636 \u0627\u0644\u0645\u0632\u064a\u062f",showLess:"\u0639\u0631\u0636 \u0623\u0642\u0644",apply:"\u062a\u0637\u0628\u064a\u0642",reset:"\u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u064a\u064a\u0646",filter:"\u062a\u0635\u0641\u064a\u0629",sort:"\u062a\u0631\u062a\u064a\u0628",search:"\u0628\u062d\u062b",clear:"\u0645\u0633\u062d",confirm:"\u062a\u0623\u0643\u064a\u062f",close:"\u0625\u063a\u0644\u0627\u0642",back:"\u0631\u062c\u0648\u0639",next:"\u0627\u0644\u062a\u0627\u0644\u064a",previous:"\u0627\u0644\u0633\u0627\u0628\u0642",finish:"\u0625\u0646\u0647\u0627\u0621",takeATour:"\u062c\u0648\u0644\u0629 \u0625\u0631\u0634\u0627\u062f\u064a\u0629",tourBack:"\u0631\u062c\u0648\u0639",tourNext:"\u0627\u0644\u062a\u0627\u0644\u064a",tourSkip:"\u062a\u062e\u0637\u064a \u0627\u0644\u062c\u0648\u0644\u0629",tourFinish:"\u0625\u0646\u0647\u0627\u0621",tourClose:"\u0625\u063a\u0644\u0627\u0642",tourStep:"\u062e\u0637\u0648\u0629",tourOf:"\u0645\u0646",tourStepOf:"\u0645\u0646",homeTourWelcomeTitle:"\u0645\u0631\u062d\u0628\u0627\u064b \u0628\u0643 \u0641\u064a \u0625\u064a\u062f\u0648\u0641\u0644\u0648! \ud83c\udf93",homeTourWelcomeContent:"\u0631\u062d\u0644\u062a\u0643 \u0627\u0644\u062a\u0639\u0644\u064a\u0645\u064a\u0629 \u062a\u0628\u062f\u0623 \u0647\u0646\u0627. \u062a\u0635\u0641\u062d \u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0627\u0644\u0645\u0645\u064a\u0632\u0629 \u0648\u0627\u0628\u062f\u0623 \u0627\u0644\u062a\u0639\u0644\u0645 \u0627\u0644\u064a\u0648\u0645. \u0644\u0646\u0628\u062f\u0623 \u062c\u0648\u0644\u0629 \u0633\u0631\u064a\u0639\u0629!",homeTourNavTitle:"\u0634\u0631\u064a\u0637 \u0627\u0644\u062a\u0646\u0642\u0644 \ud83e\udded",homeTourNavContent:"\u0627\u0633\u062a\u062e\u062f\u0645 \u0634\u0631\u064a\u0637 \u0627\u0644\u062a\u0646\u0642\u0644 \u0644\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u0627\u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629 \u0648\u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0648\u0627\u0644\u0645\u062f\u0631\u0633\u064a\u0646 \u0648\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0639\u0646\u0627 \u0648\u0627\u062a\u0635\u0644 \u0628\u0646\u0627.",homeTourCoursesTitle:"\u062a\u0635\u0641\u062d \u0627\u0644\u062f\u0648\u0631\u0627\u062a \ud83d\udcda",homeTourCoursesContent:"\u0627\u0646\u0642\u0631 \u0647\u0646\u0627 \u0644\u0644\u062a\u0645\u0631\u064a\u0631 \u0648\u0627\u0633\u062a\u0643\u0634\u0627\u0641 \u062c\u0645\u064a\u0639 \u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0627\u0644\u0645\u062a\u0627\u062d\u0629 \u0639\u0628\u0631 \u0641\u0626\u0627\u062a \u0648\u0645\u0633\u062a\u0648\u064a\u0627\u062a \u0645\u062e\u062a\u0644\u0641\u0629.",homeTourInstructorsTitle:"\u062a\u0639\u0631\u0641 \u0639\u0644\u0649 \u0645\u062f\u0631\u0633\u064a\u0646\u0627 \ud83d\udc68\u200d\ud83c\udfeb",homeTourInstructorsContent:"\u0634\u0627\u0647\u062f \u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u062f\u0631\u0633\u064a\u0646 \u0648\u062e\u0628\u0631\u0627\u062a\u0647\u0645.",homeTourAboutTitle:"\u0639\u0646\u0651\u0627 \ud83d\udcd6",homeTourAboutContent:"\u062a\u0639\u0631\u0641 \u0623\u0643\u062b\u0631 \u0639\u0644\u0649 \u0623\u0643\u0627\u062f\u064a\u0645\u064a\u0629 \u0625\u064a\u062f\u0648\u0641\u0644\u0648 \u0648\u0645\u0647\u0645\u062a\u0646\u0627 \u0641\u064a \u062c\u0639\u0644 \u0627\u0644\u062a\u0639\u0644\u064a\u0645 \u0645\u062a\u0627\u062d\u0627\u064b \u0644\u0644\u062c\u0645\u064a\u0639.",homeTourContactTitle:"\u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0648\u0627\u0644\u062f\u0639\u0645 \ud83d\udcde",homeTourContactContent:"\u0647\u0644 \u062a\u062d\u062a\u0627\u062c \u0645\u0633\u0627\u0639\u062f\u0629\u061f \u0627\u062a\u0635\u0644 \u0628\u0646\u0627 \u0641\u064a \u0623\u064a \u0648\u0642\u062a \u0644\u0644\u062d\u0635\u0648\u0644 \u0639\u0644\u0649 \u0627\u0644\u062f\u0639\u0645 \u0648\u0627\u0644\u0645\u0633\u0627\u0639\u062f\u0629.",homeTourUserActionsTitle:"\u0625\u062c\u0631\u0627\u0621\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \ud83c\udfaf",homeTourUserActionsContent:"\u0627\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0633\u0645\u0629 \u0648\u062e\u064a\u0627\u0631\u0627\u062a \u0627\u0644\u0644\u063a\u0629 \u0648\u0627\u0644\u0631\u0633\u0627\u0626\u0644 \u0648\u0645\u0644\u0641\u0643 \u0627\u0644\u0634\u062e\u0635\u064a \u0645\u0646 \u0647\u0646\u0627.",homeTourHeroTitle:"\u0627\u0644\u0642\u0633\u0645 \u0627\u0644\u0631\u0626\u064a\u0633\u064a \ud83c\udf1f",homeTourHeroContent:"\u0647\u0630\u0627 \u0647\u0648 \u0627\u0644\u0645\u062d\u062a\u0648\u0649 \u0627\u0644\u0645\u0645\u064a\u0632 \u0627\u0644\u0630\u064a \u064a\u0639\u0631\u0636 \u0645\u0627 \u064a\u062c\u0639\u0644 \u0625\u064a\u062f\u0648\u0641\u0644\u0648 \u0645\u0645\u064a\u0632\u0627\u064b. \u0627\u0643\u062a\u0634\u0641 \u0623\u0641\u0636\u0644 \u062a\u062c\u0631\u0628\u0629 \u062a\u0639\u0644\u064a\u0645\u064a\u0629!",homeTourFeaturedTitle:"\u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0627\u0644\u0645\u0645\u064a\u0632\u0629 \ud83d\udcda",homeTourFeaturedContent:"\u062a\u0635\u0641\u062d \u0645\u062c\u0645\u0648\u0639\u0629 \u062f\u0648\u0631\u0627\u062a\u0646\u0627. \u0642\u0645 \u0628\u0627\u0644\u062a\u0635\u0641\u064a\u0629 \u062d\u0633\u0628 \u0627\u0644\u0641\u0626\u0629 \u0623\u0648 \u0627\u0644\u0645\u0633\u062a\u0648\u0649 \u0623\u0648 \u0627\u0628\u062d\u062b \u0639\u0646 \u0645\u0648\u0627\u0636\u064a\u0639 \u0645\u062d\u062f\u062f\u0629.",courseDetailsTourWelcomeTitle:"\u0635\u0641\u062d\u0629 \u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u062f\u0648\u0631\u0629 \ud83d\udcda",courseDetailsTourWelcomeContent:"\u062a\u0639\u0644\u0645 \u0643\u0644 \u0634\u064a\u0621 \u0639\u0646 \u0647\u0630\u0647 \u0627\u0644\u062f\u0648\u0631\u0629 \u0642\u0628\u0644 \u0627\u0644\u062a\u0633\u062c\u064a\u0644. \u0644\u0646\u0633\u062a\u0643\u0634\u0641 \u0645\u0627 \u0647\u0648 \u0645\u062a\u0627\u062d!",courseDetailsTourInfoTitle:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062f\u0648\u0631\u0629 \u2139\ufe0f",courseDetailsTourInfoContent:"\u0639\u0631\u0636 \u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u062f\u0648\u0631\u0629 \u0648\u0627\u0644\u0648\u0635\u0641 \u0648\u0627\u0644\u0645\u0633\u062a\u0648\u0649 \u0648\u0627\u0644\u0641\u0626\u0629 \u0648\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0645\u062f\u0631\u0633 \u0647\u0646\u0627.",courseDetailsTourSectionsTitle:"\u0623\u0642\u0633\u0627\u0645 \u0627\u0644\u062f\u0648\u0631\u0629 \ud83d\udcd1",courseDetailsTourSectionsContent:"\u0643\u0644 \u062f\u0648\u0631\u0629 \u0645\u0646\u0638\u0645\u0629 \u0641\u064a \u0623\u0642\u0633\u0627\u0645. \u062f\u0627\u062e\u0644 \u0643\u0644 \u0642\u0633\u0645\u060c \u0633\u062a\u062c\u062f: \ud83d\udcf9 \u0645\u062d\u0627\u0636\u0631\u0627\u062a (\u0641\u064a\u062f\u064a\u0648\u0647\u0627\u062a \u0644\u0644\u0645\u0634\u0627\u0647\u062f\u0629)\u060c \ud83d\udcdd \u0648\u0627\u062c\u0628\u0627\u062a (\u0645\u0647\u0627\u0645 \u0644\u0625\u0643\u0645\u0627\u0644\u0647\u0627 \u0648\u062a\u0642\u062f\u064a\u0645\u0647\u0627)\u060c \ud83d\udee0\ufe0f \u0645\u0634\u0627\u0631\u064a\u0639 (\u0623\u0639\u0645\u0627\u0644 \u0639\u0645\u0644\u064a\u0629 \u0644\u0644\u062a\u062d\u0645\u064a\u0644)\u060c \u0648 \u2705 \u0627\u062e\u062a\u0628\u0627\u0631\u0627\u062a \u0646\u0634\u0637\u0629 (\u0627\u062e\u062a\u0628\u0627\u0631\u0627\u062a \u0644\u0644\u062d\u0644). \u0642\u0645 \u0628\u062a\u0648\u0633\u064a\u0639 \u0623\u064a \u0642\u0633\u0645 \u0644\u0631\u0624\u064a\u0629 \u0645\u062d\u062a\u0648\u0627\u0647!",courseDetailsTourCertificateTitle:"\u0634\u0647\u0627\u062f\u0629 \u0627\u0644\u062f\u0648\u0631\u0629 \ud83c\udf93",courseDetailsTourCertificateContent:"\u0639\u0646\u062f\u0645\u0627 \u062a\u0643\u0645\u0644 \u062c\u0645\u064a\u0639 \u0645\u062a\u0637\u0644\u0628\u0627\u062a \u0627\u0644\u062f\u0648\u0631\u0629 (\u0627\u0644\u0645\u062d\u0627\u0636\u0631\u0627\u062a \u0627\u0644\u0645\u0634\u0627\u0647\u062f\u0629\u060c \u0627\u0644\u0648\u0627\u062c\u0628\u0627\u062a \u0627\u0644\u0645\u0642\u062f\u0645\u0629\u060c \u0627\u0644\u0645\u0634\u0627\u0631\u064a\u0639 \u0627\u0644\u0645\u0643\u062a\u0645\u0644\u0629\u060c \u0648\u0627\u0644\u0627\u062e\u062a\u0628\u0627\u0631\u0627\u062a \u0627\u0644\u0645\u062d\u0644\u0648\u0644\u0629)\u060c \u064a\u0645\u0643\u0646\u0643 \u0637\u0644\u0628 \u0634\u0647\u0627\u062f\u0629 \u0625\u062a\u0645\u0627\u0645 \u0627\u0644\u062f\u0648\u0631\u0629 \u0645\u0646 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0623\u0648 \u0639\u0644\u0627\u0645\u0629 \u062a\u0628\u0648\u064a\u0628 \u0627\u0644\u0634\u0647\u0627\u062f\u0627\u062a!",studentDashboardTourWelcomeTitle:"\u0645\u0631\u062d\u0628\u0627\u064b \u0628\u0643 \u0641\u064a \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645! \ud83c\udfaf",studentDashboardTourWelcomeContent:"\u0647\u0630\u0627 \u0647\u0648 \u0645\u0631\u0643\u0632 \u0627\u0644\u062a\u0639\u0644\u0645 \u0627\u0644\u062e\u0627\u0635 \u0628\u0643. \u0644\u0646\u0633\u062a\u0643\u0634\u0641 \u0645\u0627 \u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u0642\u064a\u0627\u0645 \u0628\u0647 \u0647\u0646\u0627 \u0644\u062a\u062d\u0642\u064a\u0642 \u0623\u0642\u0635\u0649 \u0627\u0633\u062a\u0641\u0627\u062f\u0629 \u0645\u0646 \u0627\u0644\u062a\u0639\u0644\u0645!",studentDashboardTourCoursesTitle:"\u062f\u0648\u0631\u0627\u062a\u064a \u0627\u0644\u0645\u0633\u062c\u0644\u0629 \ud83d\udcd6",studentDashboardTourCoursesContent:"\u0639\u0631\u0636 \u062c\u0645\u064a\u0639 \u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0627\u0644\u062a\u064a \u0633\u062c\u0644\u062a \u0628\u0647\u0627. \u0627\u0646\u0642\u0631 \u0639\u0644\u0649 \u0623\u064a \u062f\u0648\u0631\u0629 \u0644\u0645\u062a\u0627\u0628\u0639\u0629 \u0627\u0644\u062a\u0639\u0644\u0645 \u0648\u062a\u062a\u0628\u0639 \u062a\u0642\u062f\u0645\u0643.",studentDashboardTourCardsTitle:"\u0628\u0637\u0627\u0642\u0627\u062a \u0627\u0644\u062f\u0648\u0631\u0627\u062a \ud83c\udfb4",studentDashboardTourCardsContent:"\u0643\u0644 \u0628\u0637\u0627\u0642\u0629 \u062a\u0639\u0631\u0636 \u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u062f\u0648\u0631\u0629 \u0628\u0645\u0627 \u0641\u064a \u0630\u0644\u0643 \u0627\u0644\u062a\u0642\u062f\u0645 \u0648\u0627\u0644\u0645\u062f\u0631\u0633 \u0648\u0627\u0644\u0645\u0633\u062a\u0648\u0649. \u0627\u0646\u0642\u0631 \u0644\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u0645\u062d\u062a\u0648\u0649 \u0627\u0644\u062f\u0648\u0631\u0629.",studentDashboardTourPaymentTitle:"\u0633\u062c\u0644 \u0627\u0644\u062f\u0641\u0639 \ud83d\udcb3",studentDashboardTourPaymentContent:"\u0639\u0631\u0636 \u062c\u0645\u064a\u0639 \u0645\u062f\u0641\u0648\u0639\u0627\u062a \u062f\u0648\u0631\u0627\u062a\u0643 \u0648\u0627\u0644\u0625\u064a\u0635\u0627\u0644\u0627\u062a. \u062a\u062a\u0628\u0639 \u0633\u062c\u0644 \u0627\u0644\u062f\u0641\u0639 \u0648\u062a\u0646\u0632\u064a\u0644 \u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631.",studentDashboardTourDiscoverTitle:"\u0627\u0643\u062a\u0634\u0641 \u062f\u0648\u0631\u0627\u062a \u062c\u062f\u064a\u062f\u0629 \ud83d\udd0d",studentDashboardTourDiscoverContent:"\u0627\u0633\u062a\u0643\u0634\u0641 \u0648\u0633\u062c\u0644 \u0641\u064a \u062f\u0648\u0631\u0627\u062a \u062c\u062f\u064a\u062f\u0629 \u0644\u062a\u0648\u0633\u064a\u0639 \u0645\u0639\u0631\u0641\u062a\u0643. \u0642\u0645 \u0628\u0627\u0644\u062a\u0635\u0641\u064a\u0629 \u062d\u0633\u0628 \u0627\u0644\u0641\u0626\u0629 \u0623\u0648 \u0627\u0644\u0645\u0633\u062a\u0648\u0649.",studentDashboardTourBrowseTitle:"\u062a\u0635\u0641\u062d \u062c\u0645\u064a\u0639 \u0627\u0644\u062f\u0648\u0631\u0627\u062a \ud83c\udf10",studentDashboardTourBrowseContent:"\u0627\u0646\u0642\u0631 \u0647\u0646\u0627 \u0644\u0631\u0624\u064a\u0629 \u062c\u0645\u064a\u0639 \u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0627\u0644\u0645\u062a\u0627\u062d\u0629 \u0648\u0627\u0644\u0639\u062b\u0648\u0631 \u0639\u0644\u0649 \u0645\u063a\u0627\u0645\u0631\u0629 \u0627\u0644\u062a\u0639\u0644\u0645 \u0627\u0644\u0642\u0627\u062f\u0645\u0629!",studentDashboardTourMessagesTitle:"\u0627\u0644\u0631\u0633\u0627\u0626\u0644 \u0648\u0627\u0644\u062f\u0639\u0645 \ud83d\udcac",studentDashboardTourMessagesContent:"\u062a\u0648\u0627\u0635\u0644 \u0645\u0639 \u0627\u0644\u0645\u062f\u0631\u0633\u064a\u0646\u060c \u0627\u062d\u0635\u0644 \u0639\u0644\u0649 \u0627\u0644\u062f\u0639\u0645\u060c \u0648\u0627\u0633\u062a\u0642\u0628\u0644 \u0625\u0634\u0639\u0627\u0631\u0627\u062a \u0645\u0647\u0645\u0629 \u062d\u0648\u0644 \u062f\u0648\u0631\u0627\u062a\u0643.",totalStudents:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0637\u0644\u0627\u0628",totalCourses:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u062f\u0648\u0631\u0627\u062a",totalInstructors:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u062f\u0631\u0628\u064a\u0646",activeEnrollments:"\u0627\u0644\u062a\u0633\u062c\u064a\u0644\u0627\u062a \u0627\u0644\u0646\u0634\u0637\u0629",courseProgress:"\u062a\u0642\u062f\u0645 \u0627\u0644\u062f\u0648\u0631\u0629",overallGrade:"\u0627\u0644\u062f\u0631\u062c\u0629 \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a\u0629",completionRate:"\u0645\u0639\u062f\u0644 \u0627\u0644\u0625\u0646\u062c\u0627\u0632",upcomingDeadlines:"\u0627\u0644\u0645\u0648\u0627\u0639\u064a\u062f \u0627\u0644\u0646\u0647\u0627\u0626\u064a\u0629 \u0627\u0644\u0642\u0627\u062f\u0645\u0629",recentActivity:"\u0627\u0644\u0646\u0634\u0627\u0637 \u0627\u0644\u0623\u062e\u064a\u0631",addSection:"\u0625\u0636\u0627\u0641\u0629 \u0642\u0633\u0645",addContent:"\u0625\u0636\u0627\u0641\u0629 \u0645\u062d\u062a\u0648\u0649",editCourse:"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u062f\u0648\u0631\u0629",deleteCourse:"\u062d\u0630\u0641 \u0627\u0644\u062f\u0648\u0631\u0629",publishCourse:"\u0646\u0634\u0631 \u0627\u0644\u062f\u0648\u0631\u0629",unpublishCourse:"\u0625\u0644\u063a\u0627\u0621 \u0646\u0634\u0631 \u0627\u0644\u062f\u0648\u0631\u0629",courseStructure:"\u0647\u064a\u0643\u0644 \u0627\u0644\u062f\u0648\u0631\u0629",sections:"\u0627\u0644\u0623\u0642\u0633\u0627\u0645",content:"\u0627\u0644\u0645\u062d\u062a\u0648\u0649",students:"\u0627\u0644\u0637\u0644\u0627\u0628",addUser:"\u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u062a\u062e\u062f\u0645",editUser:"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",deleteUser:"\u062d\u0630\u0641 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",activateUser:"\u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",deactivateUser:"\u062a\u0639\u0637\u064a\u0644 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",userDetails:"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",userList:"\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646",contactUs:"\u0627\u062a\u0635\u0644 \u0628\u0646\u0627",getInTouch:"\u062a\u0648\u0627\u0635\u0644 \u0645\u0639\u0646\u0627",sendUs:"\u0623\u0631\u0633\u0644 \u0644\u0646\u0627 \u0631\u0633\u0627\u0644\u0629",yourName:"\u0627\u0633\u0645\u0643",yourEmail:"\u0628\u0631\u064a\u062f\u0643 \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",yourMessage:"\u0631\u0633\u0627\u0644\u062a\u0643",company:"\u0627\u0644\u0634\u0631\u0643\u0629",learning:"\u0627\u0644\u062a\u0639\u0644\u0645",eduflowAcademy:"\u0623\u0643\u0627\u062f\u064a\u0645\u064a\u0629 \u0625\u064a\u062f\u0648\u0641\u0644\u0648",eduflowTagline:"\u0646\u0645\u0643\u0651\u0646 \u0627\u0644\u0645\u062a\u0639\u0644\u0645\u064a\u0646 \u0641\u064a \u062c\u0645\u064a\u0639 \u0623\u0646\u062d\u0627\u0621 \u0627\u0644\u0639\u0627\u0644\u0645 \u0628\u062a\u0639\u0644\u064a\u0645 \u0628\u0631\u0645\u062c\u0629 \u0648\u0644\u063a\u0627\u062a \u0639\u0627\u0644\u064a \u0627\u0644\u062c\u0648\u062f\u0629.",joinThousands:"\u0627\u0646\u0636\u0645 \u0625\u0644\u0649 \u0622\u0644\u0627\u0641 \u0627\u0644\u0637\u0644\u0627\u0628 \u0627\u0644\u0630\u064a\u0646 \u062d\u0648\u0644\u0648\u0627 \u0645\u0633\u064a\u0631\u062a\u0647\u0645 \u0627\u0644\u0645\u0647\u0646\u064a\u0629 \u0645\u0639 \u062f\u0648\u0631\u0627\u062a\u0646\u0627 \u0627\u0644\u062a\u064a \u064a\u0642\u062f\u0645\u0647\u0627 \u062e\u0628\u0631\u0627\u0621.",onlineLearningPlatform:"\u0645\u0646\u0635\u0629 \u0627\u0644\u062a\u0639\u0644\u0645 \u0639\u0628\u0631 \u0627\u0644\u0625\u0646\u062a\u0631\u0646\u062a",availableViaMessage:"\u0645\u062a\u0627\u062d \u0639\u0628\u0631 \u0627\u0644\u0631\u0633\u0627\u0626\u0644",enterSubject:"\u0623\u062f\u062e\u0644 \u0627\u0644\u0645\u0648\u0636\u0648\u0639...",enterYourMessage:"\u0623\u062f\u062e\u0644 \u0631\u0633\u0627\u0644\u062a\u0643...",sending:"\u062c\u0627\u0631\u064a \u0627\u0644\u0625\u0631\u0633\u0627\u0644...",meetOurInstructors:"\u062a\u0639\u0631\u0641 \u0639\u0644\u0649 \u0645\u062f\u0631\u0628\u064a\u0646\u0627",expertInstructorsTeam:"\u062a\u0639\u0644\u0645 \u0645\u0646 \u0645\u062d\u062a\u0631\u0641\u064a\u0646 \u0631\u0627\u0626\u062f\u064a\u0646 \u0641\u064a \u0627\u0644\u0635\u0646\u0627\u0639\u0629",instructorsList:"\u0627\u0644\u0645\u062f\u0631\u0628\u0648\u0646",rating:"\u0627\u0644\u062a\u0642\u064a\u064a\u0645",expertise:"\u0627\u0644\u062e\u0628\u0631\u0629",myProfile:"\u0645\u0644\u0641\u064a \u0627\u0644\u0634\u062e\u0635\u064a",editProfile:"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062e\u0635\u064a",personalInformation:"\u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0634\u062e\u0635\u064a\u0629",fullName:"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644",emailAddress:"\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",phoneNumber:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641",bio:"\u0646\u0628\u0630\u0629 \u062a\u0639\u0631\u064a\u0641\u064a\u0629",updateProfile:"\u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062e\u0635\u064a",profileUpdated:"\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062e\u0635\u064a \u0628\u0646\u062c\u0627\u062d",generalSettings:"\u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0639\u0627\u0645\u0629",notificationSettings:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a",privacySettings:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u062e\u0635\u0648\u0635\u064a\u0629",emailNotifications:"\u0625\u0634\u0639\u0627\u0631\u0627\u062a \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",pushNotifications:"\u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a \u0627\u0644\u0641\u0648\u0631\u064a\u0629",language:"\u0627\u0644\u0644\u063a\u0629",theme:"\u0627\u0644\u0645\u0638\u0647\u0631",darkMode:"\u0627\u0644\u0648\u0636\u0639 \u0627\u0644\u062f\u0627\u0643\u0646",lightMode:"\u0627\u0644\u0648\u0636\u0639 \u0627\u0644\u0641\u0627\u062a\u062d",studentSettings:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0637\u0627\u0644\u0628",manageProfileAndPreferences:"\u0625\u062f\u0627\u0631\u0629 \u0645\u0644\u0641\u0643 \u0627\u0644\u0634\u062e\u0635\u064a \u0648\u062a\u0641\u0636\u064a\u0644\u0627\u062a\u0643",profileInformation:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062e\u0635\u064a",profilePicture:"\u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062e\u0635\u064a",avatarPreview:"\u0645\u0639\u0627\u064a\u0646\u0629 \u0627\u0644\u0635\u0648\u0631\u0629",chooseImage:"\u0627\u062e\u062a\u0631 \u0635\u0648\u0631\u0629",imageRequirements:"JPG\u060c PNG\u060c GIF \u0623\u0648 WEBP. \u0627\u0644\u062d\u062f \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0644\u062d\u062c\u0645: 5 \u0645\u064a\u062c\u0627\u0628\u0627\u064a\u062a",nameCanOnlyBeChanged:"\u0627\u0644\u0627\u0633\u0645 \u064a\u0645\u0643\u0646 \u062a\u063a\u064a\u064a\u0631\u0647 \u0641\u0642\u0637 \u0641\u064a \u0642\u0633\u0645 \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062e\u0635\u064a",phoneCanOnlyBeChanged:"\u0627\u0644\u0647\u0627\u062a\u0641 \u064a\u0645\u0643\u0646 \u062a\u063a\u064a\u064a\u0631\u0647 \u0641\u0642\u0637 \u0641\u064a \u0642\u0633\u0645 \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062e\u0635\u064a",jobRole:"\u0627\u0644\u0645\u0633\u0645\u0649 \u0627\u0644\u0648\u0638\u064a\u0641\u064a",jobRolePlaceholder:"\u0645\u062b\u0627\u0644: \u0645\u0637\u0648\u0631 \u0628\u0631\u0645\u062c\u064a\u0627\u062a\u060c \u0637\u0627\u0644\u0628\u060c \u0645\u0635\u0645\u0645",shortBio:"\u0646\u0628\u0630\u0629 \u0645\u062e\u062a\u0635\u0631\u0629",bioBriefIntro:"\u0645\u0642\u062f\u0645\u0629 \u0645\u062e\u062a\u0635\u0631\u0629...",aboutMeDetailed:"\u0646\u0628\u0630\u0629 \u062a\u0641\u0635\u064a\u0644\u064a\u0629 \u0639\u0646\u064a",shareMoreAboutYourself:"\u0634\u0627\u0631\u0643 \u0627\u0644\u0645\u0632\u064a\u062f \u0639\u0646 \u0646\u0641\u0633\u0643 \u0648\u0631\u062d\u0644\u062a\u0643 \u0627\u0644\u062a\u0639\u0644\u064a\u0645\u064a\u0629 \u0648\u0623\u0647\u062f\u0627\u0641\u0643",saveSettings:"\u062d\u0641\u0638 \u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a",dangerZone:"\u0645\u0646\u0637\u0642\u0629 \u0627\u0644\u062e\u0637\u0631",irreversibleActions:"\u0625\u062c\u0631\u0627\u0621\u0627\u062a \u0644\u0627 \u0631\u062c\u0639\u0629 \u0641\u064a\u0647\u0627 \u0648\u0645\u062f\u0645\u0631\u0629",deleteAccount:"\u062d\u0630\u0641 \u0627\u0644\u062d\u0633\u0627\u0628",permanentlyDeleteAccount:"\u062d\u0630\u0641 \u062d\u0633\u0627\u0628\u0643 \u0648\u062c\u0645\u064a\u0639 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0631\u062a\u0628\u0637\u0629 \u0628\u0647 \u0628\u0634\u0643\u0644 \u062f\u0627\u0626\u0645. \u0647\u0630\u0627 \u0627\u0644\u0625\u062c\u0631\u0627\u0621 \u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0644\u062a\u0631\u0627\u062c\u0639 \u0639\u0646\u0647.",deleteMyAccount:"\u062d\u0630\u0641 \u062d\u0633\u0627\u0628\u064a",deleteAccountConfirmTitle:"\u062d\u0630\u0641 \u0627\u0644\u062d\u0633\u0627\u0628",thisActionPermanent:"\u0647\u0630\u0627 \u0627\u0644\u0625\u062c\u0631\u0627\u0621 \u062f\u0627\u0626\u0645 \u0648\u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0644\u062a\u0631\u0627\u062c\u0639 \u0639\u0646\u0647. \u0633\u062a\u062a\u0645 \u0625\u0632\u0627\u0644\u0629 \u062c\u0645\u064a\u0639 \u0628\u064a\u0627\u0646\u0627\u062a\u0643 \u0628\u0645\u0627 \u0641\u064a \u0630\u0644\u0643:",profileInfo:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062e\u0635\u064a",courseEnrollments:"\u062a\u0633\u062c\u064a\u0644\u0627\u062a \u0627\u0644\u062f\u0648\u0631\u0627\u062a",certificatesData:"\u0627\u0644\u0634\u0647\u0627\u062f\u0627\u062a",progressAndGrades:"\u0627\u0644\u062a\u0642\u062f\u0645 \u0648\u0627\u0644\u062f\u0631\u062c\u0627\u062a",messagesAndNotifications:"\u0627\u0644\u0631\u0633\u0627\u0626\u0644 \u0648\u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a",willBePermanentlyDeleted:"\u0633\u064a\u062a\u0645 \u062d\u0630\u0641\u0647\u0627 \u0646\u0647\u0627\u0626\u064a\u0627\u064b \u0645\u0646 \u062e\u0648\u0627\u062f\u0645\u0646\u0627.",typeToConfirm:"\u0627\u0643\u062a\u0628",deleteMyAccountCaps:"DELETE MY ACCOUNT",toConfirm:"\u0644\u0644\u062a\u0623\u0643\u064a\u062f",deleting:"\u062c\u0627\u0631\u064a \u0627\u0644\u062d\u0630\u0641...",pleaseTypeToConfirm:'\u064a\u0631\u062c\u0649 \u0643\u062a\u0627\u0628\u0629 "DELETE MY ACCOUNT" \u0644\u0644\u062a\u0623\u0643\u064a\u062f',failedToLoadProfile:"\u0641\u0634\u0644 \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062e\u0635\u064a",imageMustBeLess5MB:"\u064a\u062c\u0628 \u0623\u0646 \u062a\u0643\u0648\u0646 \u0627\u0644\u0635\u0648\u0631\u0629 \u0623\u0642\u0644 \u0645\u0646 5 \u0645\u064a\u062c\u0627\u0628\u0627\u064a\u062a",pleaseSelectImage:"\u064a\u0631\u062c\u0649 \u062a\u062d\u062f\u064a\u062f \u0645\u0644\u0641 \u0635\u0648\u0631\u0629",saving:"\u062c\u0627\u0631\u064a \u0627\u0644\u062d\u0641\u0638...",learner:"\u0645\u062a\u0639\u0644\u0645",charactersCount:"\u062d\u0631\u0641",discoverBestCourses:"\u0627\u0643\u062a\u0634\u0641 \u0623\u0641\u0636\u0644 \u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0639\u0628\u0631 \u0627\u0644\u0625\u0646\u062a\u0631\u0646\u062a",transformCareer:"\u062d\u0648\u0651\u0644 \u0645\u0633\u064a\u0631\u062a\u0643 \u0627\u0644\u0645\u0647\u0646\u064a\u0629 \u0645\u0639 \u062f\u0648\u0631\u0627\u062a \u064a\u0642\u0648\u062f\u0647\u0627 \u062e\u0628\u0631\u0627\u0621",exploreNow:"\u0627\u0633\u062a\u0643\u0634\u0641 \u0627\u0644\u0622\u0646",viewDetails:"\u0639\u0631\u0636 \u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644",enrolledStudents:"\u0627\u0644\u0637\u0644\u0627\u0628 \u0627\u0644\u0645\u0633\u062c\u0644\u064a\u0646",viewAll:"\u0639\u0631\u0636 \u0627\u0644\u0643\u0644",seeAllCourses:"\u0645\u0634\u0627\u0647\u062f\u0629 \u062c\u0645\u064a\u0639 \u0627\u0644\u062f\u0648\u0631\u0627\u062a",recentCourses:"\u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0627\u0644\u062d\u062f\u064a\u062b\u0629",discoverMostPopularCourses:"\u0627\u0643\u062a\u0634\u0641 \u062f\u0648\u0631\u0627\u062a\u0646\u0627 \u0627\u0644\u0623\u0643\u062b\u0631 \u0634\u0639\u0628\u064a\u0629",noCoursesFound:"\u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u0639\u062b\u0648\u0631 \u0639\u0644\u0649 \u062f\u0648\u0631\u0627\u062a",tryDifferentFilters:"\u062c\u0631\u0628 \u062a\u0639\u062f\u064a\u0644 \u0628\u062d\u062b\u0643 \u0623\u0648 \u0627\u0644\u0645\u0631\u0634\u062d\u0627\u062a",noCoursesAvailable:"\u0644\u0627 \u062a\u0648\u062c\u062f \u062f\u0648\u0631\u0627\u062a \u0645\u062a\u0627\u062d\u0629 \u0628\u0639\u062f",showMore:"\u0639\u0631\u0636 \u0627\u0644\u0645\u0632\u064a\u062f",compose:"\u0625\u0646\u0634\u0627\u0621",reply:"\u0631\u062f",forward:"\u0625\u0639\u0627\u062f\u0629 \u062a\u0648\u062c\u064a\u0647",markAsRead:"\u0648\u0636\u0639 \u0639\u0644\u0627\u0645\u0629 \u0643\u0645\u0642\u0631\u0648\u0621\u0629",markAsUnread:"\u0648\u0636\u0639 \u0639\u0644\u0627\u0645\u0629 \u0643\u063a\u064a\u0631 \u0645\u0642\u0631\u0648\u0621\u0629",deleteMessage:"\u062d\u0630\u0641 \u0627\u0644\u0631\u0633\u0627\u0644\u0629",active:"\u0646\u0634\u0637",inactive:"\u063a\u064a\u0631 \u0646\u0634\u0637",published:"\u0645\u0646\u0634\u0648\u0631",draft:"\u0645\u0633\u0648\u062f\u0629",approved:"\u0645\u0648\u0627\u0641\u0642 \u0639\u0644\u064a\u0647",rejected:"\u0645\u0631\u0641\u0648\u0636",today:"\u0627\u0644\u064a\u0648\u0645",yesterday:"\u0623\u0645\u0633",lastWeek:"\u0627\u0644\u0623\u0633\u0628\u0648\u0639 \u0627\u0644\u0645\u0627\u0636\u064a",lastMonth:"\u0627\u0644\u0634\u0647\u0631 \u0627\u0644\u0645\u0627\u0636\u064a",thisYear:"\u0647\u0630\u0627 \u0627\u0644\u0639\u0627\u0645",learnFromExperts:"\u062a\u0639\u0644\u0645 \u0645\u0646 \u0627\u0644\u062e\u0628\u0631\u0627\u0621",masterNewSkillsWithIndustryLeading:"\u0623\u062a\u0642\u0646 \u0645\u0647\u0627\u0631\u0627\u062a \u062c\u062f\u064a\u062f\u0629 \u0645\u0639 \u0645\u062f\u0631\u0628\u064a\u0646 \u0631\u0627\u0626\u062f\u064a\u0646 \u0641\u064a \u0627\u0644\u0635\u0646\u0627\u0639\u0629",advanceYourCareer:"\u0637\u0648\u0631 \u0645\u0633\u064a\u0631\u062a\u0643 \u0627\u0644\u0645\u0647\u0646\u064a\u0629",gainInDemandSkillsAndCertificates:"\u0627\u0643\u062a\u0633\u0628 \u0627\u0644\u0645\u0647\u0627\u0631\u0627\u062a \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629 \u0648\u0627\u062d\u0635\u0644 \u0639\u0644\u0649 \u0634\u0647\u0627\u062f\u0627\u062a \u0645\u0639\u062a\u0631\u0641 \u0628\u0647\u0627",paymentMethodsTitle:"\u0637\u0631\u0642 \u0627\u0644\u062f\u0641\u0639",choosePreferredPaymentMethod:"\u0627\u062e\u062a\u0631 \u0637\u0631\u064a\u0642\u0629 \u0627\u0644\u062f\u0641\u0639 \u0627\u0644\u0645\u0641\u0636\u0644\u0629 \u0644\u062f\u064a\u0643 \u0648\u0627\u062a\u0628\u0639 \u0627\u0644\u062a\u0639\u0644\u064a\u0645\u0627\u062a",fouad:"\u0641\u0624\u0627\u062f",haram:"\u0647\u0631\u0645",shamCash:"\u0634\u0627\u0645 \u0643\u0627\u0634",westernUnion:"\u0648\u064a\u0633\u062a\u0631\u0646 \u064a\u0648\u0646\u064a\u0648\u0646",studentsCount:"\u0627\u0644\u0637\u0644\u0627\u0628",coursesCount:"\u0627\u0644\u062f\u0648\u0631\u0627\u062a",instructorsCount:"\u0627\u0644\u0645\u062f\u0631\u0628\u0648\u0646",successRate:"\u0645\u0639\u062f\u0644 \u0627\u0644\u0646\u062c\u0627\u062d",searchCoursesPlaceholder:"\u0627\u0644\u0628\u062d\u062b \u0641\u064a \u0627\u0644\u062f\u0648\u0631\u0627\u062a...",discoverMostPopularCourses:"\u0627\u0643\u062a\u0634\u0641 \u0623\u0643\u062b\u0631 \u062f\u0648\u0631\u0627\u062a\u0646\u0627 \u0634\u0639\u0628\u064a\u0629",experienceBestOnlineEducation:"\u0627\u062e\u062a\u0628\u0631 \u0627\u0644\u0623\u0641\u0636\u0644 \u0641\u064a \u0627\u0644\u062a\u0639\u0644\u064a\u0645 \u0639\u0628\u0631 \u0627\u0644\u0625\u0646\u062a\u0631\u0646\u062a",whyChooseEduFlowAcademy:"\u0644\u0645\u0627\u0630\u0627 \u062a\u062e\u062a\u0627\u0631 \u0623\u0643\u0627\u062f\u064a\u0645\u064a\u0629 \u0625\u064a\u062f\u0648\u0641\u0644\u0648\u061f",certifiedLearning:"\u062a\u0639\u0644\u0645 \u0645\u0639\u062a\u0645\u062f",certifiedLearningDesc:"\u0627\u062d\u0635\u0644 \u0639\u0644\u0649 \u0634\u0647\u0627\u062f\u0627\u062a \u0645\u0639\u062a\u0631\u0641 \u0628\u0647\u0627 \u0639\u0646\u062f \u0625\u062a\u0645\u0627\u0645 \u0627\u0644\u062f\u0648\u0631\u0629",expertInstructorsCard:"\u0645\u062f\u0631\u0628\u0648\u0646 \u062e\u0628\u0631\u0627\u0621",expertInstructorsCardDesc:"\u062a\u0639\u0644\u0645 \u0645\u0646 \u0645\u062d\u062a\u0631\u0641\u064a\u0646 \u0641\u064a \u0627\u0644\u0635\u0646\u0627\u0639\u0629",flexibleSchedule:"\u062c\u062f\u0648\u0644 \u0645\u0631\u0646",flexibleScheduleDesc:"\u0627\u062f\u0631\u0633 \u0628\u0648\u062a\u064a\u0631\u062a\u0643 \u0627\u0644\u062e\u0627\u0635\u0629\u060c \u0641\u064a \u0623\u064a \u0648\u0642\u062a\u060c \u0641\u064a \u0623\u064a \u0645\u0643\u0627\u0646",communitySupport:"\u062f\u0639\u0645 \u0627\u0644\u0645\u062c\u062a\u0645\u0639",communitySupportDesc:"\u062a\u0648\u0627\u0635\u0644 \u0645\u0639 \u0632\u0645\u0644\u0627\u0626\u0643 \u0627\u0644\u0645\u062a\u0639\u0644\u0645\u064a\u0646 \u0648\u0627\u0644\u0645\u062f\u0631\u0628\u064a\u0646",realSuccessStories:"\u0642\u0635\u0635 \u0646\u062c\u0627\u062d \u062d\u0642\u064a\u0642\u064a\u0629 \u0645\u0646 \u0645\u062c\u062a\u0645\u0639 \u0627\u0644\u062a\u0639\u0644\u0645 \u0644\u062f\u064a\u0646\u0627",whatOurStudentsSay:"\u0645\u0627\u0630\u0627 \u064a\u0642\u0648\u0644 \u0637\u0644\u0627\u0628\u0646\u0627",testimonialDescription:"\u0622\u0631\u0627\u0621 \u062d\u0642\u064a\u0642\u064a\u0629 \u0645\u0646 \u0637\u0644\u0627\u0628 \u0623\u0646\u0647\u0648\u0627 \u062f\u0648\u0631\u0627\u062a\u0646\u0627 \u0648\u062d\u0642\u0642\u0648\u0627 \u0623\u0647\u062f\u0627\u0641\u0647\u0645 \u0627\u0644\u062a\u0639\u0644\u064a\u0645\u064a\u0629.",readyToStartLearningJourney:"\u0647\u0644 \u0623\u0646\u062a \u0645\u0633\u062a\u0639\u062f \u0644\u0628\u062f\u0621 \u0631\u062d\u0644\u0629 \u0627\u0644\u062a\u0639\u0644\u0645\u061f",joinThousandsOfStudents:"\u0627\u0646\u0636\u0645 \u0625\u0644\u0649 \u0622\u0644\u0627\u0641 \u0627\u0644\u0637\u0644\u0627\u0628 \u0627\u0644\u0630\u064a\u0646 \u064a\u062a\u0639\u0644\u0645\u0648\u0646 \u0645\u0639\u0646\u0627 \u0628\u0627\u0644\u0641\u0639\u0644",browseCourses:"\u062a\u0635\u0641\u062d \u0627\u0644\u062f\u0648\u0631\u0627\u062a",getStartedFree:"\u0627\u0628\u062f\u0623 \u0645\u062c\u0627\u0646\u0627\u064b",exploreCourses:"\u0627\u0633\u062a\u0643\u0634\u0641 \u0627\u0644\u062f\u0648\u0631\u0627\u062a",viewCourses:"\u0639\u0631\u0636 \u0627\u0644\u062f\u0648\u0631\u0627\u062a",startLearningToday:"\u0627\u0628\u062f\u0623 \u0627\u0644\u062a\u0639\u0644\u0645 \u0627\u0644\u064a\u0648\u0645",instructors:"\u0627\u0644\u0645\u062f\u0631\u0633\u0648\u0646",viewProfile:"\u0639\u0631\u0636 \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062e\u0635\u064a",coursesBy:"\u062f\u0648\u0631\u0627\u062a",noCoursesAvailableYet:"\u0644\u0627 \u062a\u0648\u062c\u062f \u062f\u0648\u0631\u0627\u062a \u0645\u062a\u0627\u062d\u0629 \u0628\u0639\u062f",backToInstructors:"\u0627\u0644\u0639\u0648\u062f\u0629 \u0625\u0644\u0649 \u0627\u0644\u0645\u062f\u0631\u0633\u064a\u0646",eduflow:"\u0625\u064a\u062f\u0648\u0641\u0644\u0648",continueYourLearningJourney:"\u062a\u0627\u0628\u0639 \u0631\u062d\u0644\u0629 \u0627\u0644\u062a\u0639\u0644\u0645 \u0627\u0644\u062e\u0627\u0635\u0629 \u0628\u0643 \u0648\u0627\u0643\u062a\u0634\u0641 \u062f\u0648\u0631\u0627\u062a \u062c\u062f\u064a\u062f\u0629",enrolledCoursesCard:"\u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0627\u0644\u0645\u0633\u062c\u0644\u0629",completedCoursesCard:"\u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0627\u0644\u0645\u0643\u062a\u0645\u0644\u0629",inProgress:"\u0642\u064a\u062f \u0627\u0644\u062a\u0642\u062f\u0645",totalProgress:"\u0627\u0644\u062a\u0642\u062f\u0645 \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a",backToDashboard:"\u0627\u0644\u0639\u0648\u062f\u0629 \u0625\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645",group:"\u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629",joinDiscussionGroup:"\u0627\u0646\u0636\u0645 \u0625\u0644\u0649 \u0645\u062c\u0645\u0648\u0639\u0629 \u0627\u0644\u0646\u0642\u0627\u0634",courseSections:"\u0623\u0642\u0633\u0627\u0645 \u0627\u0644\u062f\u0648\u0631\u0629",lecturesCount:"\u0645\u062d\u0627\u0636\u0631\u0627\u062a",assignmentsCount:"\u0648\u0627\u062c\u0628\u0627\u062a",projectsCount:"\u0645\u0634\u0627\u0631\u064a\u0639",lecture:"\u0645\u062d\u0627\u0636\u0631\u0629",assignment:"\u0648\u0627\u062c\u0628",project:"\u0645\u0634\u0631\u0648\u0639",projectTutorial:"\u0641\u064a\u062f\u064a\u0648 \u062a\u0639\u0644\u064a\u0645\u064a \u0644\u0644\u0645\u0634\u0631\u0648\u0639",watchTutorialToUnderstand:"\u0634\u0627\u0647\u062f \u0627\u0644\u0641\u064a\u062f\u064a\u0648 \u0627\u0644\u062a\u0639\u0644\u064a\u0645\u064a \u0644\u0641\u0647\u0645 \u0645\u062a\u0637\u0644\u0628\u0627\u062a \u0627\u0644\u0645\u0634\u0631\u0648\u0639",watchTutorial:"\u0645\u0634\u0627\u0647\u062f\u0629 \u0627\u0644\u0641\u064a\u062f\u064a\u0648",downloadStarterFiles:"\u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0645\u0644\u0641\u0627\u062a \u0627\u0644\u0623\u0648\u0644\u064a\u0629",updatePassword:"\u062a\u062d\u062f\u064a\u062b \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",themePreference:"\u0627\u0644\u0645\u0638\u0647\u0631",choosePreferredTheme:"\u0627\u062e\u062a\u0631 \u0627\u0644\u0645\u0638\u0647\u0631 \u0627\u0644\u0645\u0641\u0636\u0644 \u0644\u062f\u064a\u0643",switchToLightMode:"\u0627\u0644\u062a\u0628\u062f\u064a\u0644 \u0625\u0644\u0649 \u0627\u0644\u0648\u0636\u0639 \u0627\u0644\u0641\u0627\u062a\u062d",switchToDarkMode:"\u0627\u0644\u062a\u0628\u062f\u064a\u0644 \u0625\u0644\u0649 \u0627\u0644\u0648\u0636\u0639 \u0627\u0644\u062f\u0627\u0643\u0646",languagePreference:"\u0627\u0644\u0644\u063a\u0629",choosePreferredLanguage:"\u0627\u062e\u062a\u0631 \u0627\u0644\u0644\u063a\u0629 \u0627\u0644\u0645\u0641\u0636\u0644\u0629 \u0644\u062f\u064a\u0643",switchToEnglish:"\u0627\u0644\u062a\u0628\u062f\u064a\u0644 \u0625\u0644\u0649 \u0627\u0644\u0625\u0646\u062c\u0644\u064a\u0632\u064a\u0629",switchToArabic:"\u0627\u0644\u062a\u0628\u062f\u064a\u0644 \u0625\u0644\u0649 \u0627\u0644\u0639\u0631\u0628\u064a\u0629",pendingActionsAnimationsLabel:"\u062a\u062d\u0631\u064a\u0643 \u0625\u062c\u0631\u0627\u0621\u0627\u062a \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631",pendingActionsAnimationsDescription:"\u062a\u0641\u0639\u064a\u0644 \u062d\u0631\u0643\u0627\u062a \u0628\u0633\u064a\u0637\u0629 \u0639\u0644\u0649 \u0634\u0631\u064a\u0637 \u0625\u062c\u0631\u0627\u0621\u0627\u062a \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631 \u0641\u064a \u0644\u0648\u062d\u0627\u062a \u0627\u0644\u062a\u062d\u0643\u0645.",pendingActionsAnimationsEnable:"\u062a\u0641\u0639\u064a\u0644",pendingActionsAnimationsDisable:"\u0625\u064a\u0642\u0627\u0641",manageAccountSettingsAndPreferences:"\u0625\u062f\u0627\u0631\u0629 \u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u062d\u0633\u0627\u0628 \u0648\u0627\u0644\u062a\u0641\u0636\u064a\u0644\u0627\u062a",profileInformation:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062e\u0635\u064a",emailCannotBeChanged:"\u0644\u0627 \u064a\u0645\u0643\u0646 \u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",studentSettings:"\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0637\u0627\u0644\u0628",manageProfileAndPreferences:"\u0625\u062f\u0627\u0631\u0629 \u0645\u0644\u0641\u0643 \u0627\u0644\u0634\u062e\u0635\u064a \u0648\u062a\u0641\u0636\u064a\u0644\u0627\u062a\u0643",profilePicture:"\u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062e\u0635\u064a",avatarPreview:"\u0645\u0639\u0627\u064a\u0646\u0629 \u0627\u0644\u0635\u0648\u0631\u0629 \u0627\u0644\u0631\u0645\u0632\u064a\u0629",chooseImage:"\u0627\u062e\u062a\u0631 \u0635\u0648\u0631\u0629",imageRequirements:"JPG\u060c PNG\u060c GIF \u0623\u0648 WEBP. \u0627\u0644\u062d\u062c\u0645 \u0627\u0644\u0623\u0642\u0635\u0649: 5 \u0645\u064a\u062c\u0627\u0628\u0627\u064a\u062a",jobRole:"\u0627\u0644\u0648\u0638\u064a\u0641\u0629",learner:"\u0645\u062a\u0639\u0644\u0645",shortBio:"\u0646\u0628\u0630\u0629 \u0645\u062e\u062a\u0635\u0631\u0629",briefIntroduction:"\u0645\u0642\u062f\u0645\u0629 \u0645\u0648\u062c\u0632\u0629...",charactersCount:"\u062d\u0631\u0641",aboutMeDetailed:"\u0646\u0628\u0630\u0629 \u0645\u0641\u0635\u0644\u0629 \u0639\u0646\u064a",shareMoreAboutYourself:"\u0634\u0627\u0631\u0643 \u0627\u0644\u0645\u0632\u064a\u062f \u0639\u0646 \u0646\u0641\u0633\u0643 \u0648\u0631\u062d\u0644\u0629 \u0627\u0644\u062a\u0639\u0644\u0645 \u0648\u0623\u0647\u062f\u0627\u0641\u0643",saveSettings:"\u062d\u0641\u0638 \u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a",dangerZone:"\u0645\u0646\u0637\u0642\u0629 \u0627\u0644\u062e\u0637\u0631",irreversibleActions:"\u0625\u062c\u0631\u0627\u0621\u0627\u062a \u0644\u0627 \u0631\u062c\u0639\u0629 \u0641\u064a\u0647\u0627 \u0648\u0645\u062f\u0645\u0631\u0629",deleteAccount:"\u062d\u0630\u0641 \u0627\u0644\u062d\u0633\u0627\u0628",permanentlyDeleteAccount:"\u062d\u0630\u0641 \u062d\u0633\u0627\u0628\u0643 \u0648\u062c\u0645\u064a\u0639 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0631\u062a\u0628\u0637\u0629 \u0628\u0647 \u0628\u0634\u0643\u0644 \u062f\u0627\u0626\u0645. \u0647\u0630\u0627 \u0627\u0644\u0625\u062c\u0631\u0627\u0621 \u0644\u0627 \u064a\u0645\u0643\u0646 \u0627\u0644\u062a\u0631\u0627\u062c\u0639 \u0639\u0646\u0647.",deleteMyAccount:"\u062d\u0630\u0641 \u062d\u0633\u0627\u0628\u064a",myCertificates:"\u0634\u0647\u0627\u062f\u0627\u062a\u064a",viewAndRequestCertificates:"\u0639\u0631\u0636 \u0648\u0637\u0644\u0628 \u0627\u0644\u0634\u0647\u0627\u062f\u0627\u062a \u0644\u0644\u062f\u0648\u0631\u0627\u062a \u0627\u0644\u0645\u0643\u062a\u0645\u0644\u0629",issuedCertificates:"\u0627\u0644\u0634\u0647\u0627\u062f\u0627\u062a \u0627\u0644\u0635\u0627\u062f\u0631\u0629",gradeLabel:"\u0627\u0644\u062f\u0631\u062c\u0629:",grade:"\u0627\u0644\u062f\u0631\u062c\u0629",issued:"\u062a\u0645 \u0627\u0644\u0625\u0635\u062f\u0627\u0631",view:"\u0639\u0631\u0636",download:"\u062a\u062d\u0645\u064a\u0644",rateThisCourse:"\u0642\u064a\u0645 \u0647\u0630\u0647 \u0627\u0644\u062f\u0648\u0631\u0629",issuedOn:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u0635\u062f\u0627\u0631",group:"\u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629",requestCertificate:"\u0637\u0644\u0628 \u0627\u0644\u0634\u0647\u0627\u062f\u0629",noCertificatesYet:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0634\u0647\u0627\u062f\u0627\u062a \u0628\u0639\u062f",completeCoursesWith70:"\u0623\u0643\u0645\u0644 \u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0628\u062f\u0631\u062c\u0629 70% \u0623\u0648 \u0623\u0639\u0644\u0649 \u0644\u0637\u0644\u0628 \u0627\u0644\u0634\u0647\u0627\u062f\u0627\u062a",noEligibleCourses:"\u0644\u0627 \u062a\u0648\u062c\u062f \u062f\u0648\u0631\u0627\u062a \u0645\u0624\u0647\u0644\u0629",keepLearningToEarnCertificates:"\u0627\u0633\u062a\u0645\u0631 \u0641\u064a \u0627\u0644\u062a\u0639\u0644\u0645 \u0648\u0623\u0643\u0645\u0644 \u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0628\u062f\u0631\u062c\u0629 70% \u0623\u0648 \u0623\u0639\u0644\u0649 \u0644\u0644\u062d\u0635\u0648\u0644 \u0639\u0644\u0649 \u0627\u0644\u0634\u0647\u0627\u062f\u0627\u062a",requestPending:"\u0637\u0644\u0628 \u0645\u0639\u0644\u0642",requestDenied:"\u0637\u0644\u0628 \u0645\u0631\u0641\u0648\u0636",request:"\u0637\u0644\u0628",requested:"\u062a\u0645 \u0627\u0644\u0637\u0644\u0628",rateCourse:"\u0642\u064a\u0645 \u0627\u0644\u062f\u0648\u0631\u0629",yourRating:"\u062a\u0642\u064a\u064a\u0645\u0643",yourReview:"\u0645\u0631\u0627\u062c\u0639\u062a\u0643 (\u0627\u062e\u062a\u064a\u0627\u0631\u064a)",writeYourReview:"\u0627\u0643\u062a\u0628 \u0645\u0631\u0627\u062c\u0639\u062a\u0643 \u0647\u0646\u0627...",submitRating:"\u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u062a\u0642\u064a\u064a\u0645",cancel:"\u0625\u0644\u063a\u0627\u0621",delivered:"\u062a\u0645 \u0627\u0644\u062a\u0633\u0644\u064a\u0645",pending:"\u0642\u064a\u062f \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631",requestAgain:"\u0637\u0644\u0628 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649",previousRejectionReason:"\u0633\u0628\u0628 \u0627\u0644\u0631\u0641\u0636 \u0627\u0644\u0633\u0627\u0628\u0642",course:"\u0627\u0644\u062f\u0648\u0631\u0629",feedbackHelpsOthers:"\u0645\u0644\u0627\u062d\u0638\u0627\u062a\u0643 \u062a\u0633\u0627\u0639\u062f \u0627\u0644\u0637\u0644\u0627\u0628 \u0627\u0644\u0622\u062e\u0631\u064a\u0646 \u0639\u0644\u0649 \u0627\u062a\u062e\u0627\u0630 \u0642\u0631\u0627\u0631\u0627\u062a \u0645\u0633\u062a\u0646\u064a\u0631\u0629!",rating:"\u0627\u0644\u062a\u0642\u064a\u064a\u0645",star:"\u0646\u062c\u0645\u0629",stars:"\u0646\u062c\u0648\u0645",shareYourExperience:"\u0634\u0627\u0631\u0643 \u062a\u062c\u0631\u0628\u062a\u0643 \u0645\u0639 \u0647\u0630\u0647 \u0627\u0644\u062f\u0648\u0631\u0629...",characters:"\u062d\u0631\u0641",skipForNow:"\u062a\u062e\u0637\u0649 \u0627\u0644\u0622\u0646",helpCenterTitle:"\u0645\u0631\u0643\u0632 \u0627\u0644\u0645\u0633\u0627\u0639\u062f\u0629",howCanWeHelpYou:"\u0643\u064a\u0641 \u064a\u0645\u0643\u0646\u0646\u0627 \u0645\u0633\u0627\u0639\u062f\u062a\u0643\u061f",searchForAnswers:"\u0627\u0628\u062d\u062b \u0639\u0646 \u0627\u0644\u0625\u062c\u0627\u0628\u0627\u062a \u0623\u0648 \u062a\u0635\u0641\u062d \u0627\u0644\u0645\u0642\u0627\u0644\u0627\u062a \u062d\u0633\u0628 \u0627\u0644\u0641\u0626\u0629",searchHelp:"\u0627\u0644\u0628\u062d\u062b \u0641\u064a \u0645\u0642\u0627\u0644\u0627\u062a \u0627\u0644\u0645\u0633\u0627\u0639\u062f\u0629...",browseCategories:"\u062a\u0635\u0641\u062d \u0627\u0644\u0641\u0626\u0627\u062a",popularArticles:"\u0627\u0644\u0645\u0642\u0627\u0644\u0627\u062a \u0627\u0644\u0634\u0627\u0626\u0639\u0629",all:"\u0627\u0644\u0643\u0644",gettingStarted:"\u0627\u0644\u0628\u062f\u0621",coursesAndLearning:"\u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0648\u0627\u0644\u062a\u0639\u0644\u0645",coursesLearning:"\u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0648\u0627\u0644\u062a\u0639\u0644\u0645",instructors:"\u0627\u0644\u0645\u062f\u0631\u0633\u0648\u0646",paymentsAndBilling:"\u0627\u0644\u0645\u062f\u0641\u0648\u0639\u0627\u062a \u0648\u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631",paymentsBilling:"\u0627\u0644\u0645\u062f\u0641\u0648\u0639\u0627\u062a \u0648\u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631",accountManagement:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u062d\u0633\u0627\u0628",troubleshooting:"\u0627\u0633\u062a\u0643\u0634\u0627\u0641 \u0627\u0644\u0623\u062e\u0637\u0627\u0621 \u0648\u0625\u0635\u0644\u0627\u062d\u0647\u0627",allCategories:"\u062c\u0645\u064a\u0639 \u0627\u0644\u0641\u0626\u0627\u062a",helpQ1:"\u0643\u064a\u0641\u064a\u0629 \u0625\u0646\u0634\u0627\u0621 \u062d\u0633\u0627\u0628",helpA1:'\u0625\u0646\u0634\u0627\u0621 \u062d\u0633\u0627\u0628 \u0639\u0644\u0649 \u0625\u064a\u062f\u0648\u0641\u0644\u0648 \u0628\u0633\u064a\u0637:\n    \n1. \u0627\u0646\u0642\u0631 \u0639\u0644\u0649 \u0632\u0631 "\u0625\u0646\u0634\u0627\u0621 \u062d\u0633\u0627\u0628" \u0641\u064a \u0634\u0631\u064a\u0637 \u0627\u0644\u062a\u0646\u0642\u0644 \u0627\u0644\u0639\u0644\u0648\u064a\n2. \u0627\u062e\u062a\u0631 \u062f\u0648\u0631\u0643: \u0637\u0627\u0644\u0628 \u0623\u0648 \u0645\u062f\u0631\u0633\n3. \u0627\u0645\u0644\u0623 \u0628\u064a\u0627\u0646\u0627\u062a\u0643 (\u0627\u0644\u0627\u0633\u0645\u060c \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a\u060c \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631)\n4. \u062a\u062d\u0642\u0642 \u0645\u0646 \u0639\u0646\u0648\u0627\u0646 \u0628\u0631\u064a\u062f\u0643 \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u0628\u0627\u0644\u0646\u0642\u0631 \u0639\u0644\u0649 \u0627\u0644\u0631\u0627\u0628\u0637 \u0627\u0644\u0645\u0631\u0633\u0644 \u0625\u0644\u0649 \u0635\u0646\u062f\u0648\u0642 \u0627\u0644\u0648\u0627\u0631\u062f\n5. \u0623\u0643\u0645\u0644 \u0645\u0644\u0641\u0643 \u0627\u0644\u0634\u062e\u0635\u064a \u0628\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0625\u0636\u0627\u0641\u064a\u0629\n\n\u064a\u0645\u0643\u0646 \u0644\u0644\u0637\u0644\u0627\u0628 \u0627\u0644\u0628\u062f\u0621 \u0641\u064a \u0627\u0644\u062a\u0633\u062c\u064a\u0644 \u0641\u064a \u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0641\u0648\u0631\u0627\u064b \u0628\u0639\u062f \u0627\u0644\u062a\u0633\u062c\u064a\u0644. \u064a\u062d\u062a\u0627\u062c \u0627\u0644\u0645\u062f\u0631\u0633\u0648\u0646 \u0625\u0644\u0649 \u0627\u0646\u062a\u0638\u0627\u0631 \u0645\u0648\u0627\u0641\u0642\u0629 \u0627\u0644\u0645\u0633\u0624\u0648\u0644 \u0642\u0628\u0644 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u062f\u0648\u0631\u0627\u062a.',helpQ2:"\u0627\u0644\u062a\u0633\u062c\u064a\u0644 \u0641\u064a \u0627\u0644\u062f\u0648\u0631\u0627\u062a",helpA2:'\u0644\u0644\u062a\u0633\u062c\u064a\u0644 \u0641\u064a \u062f\u0648\u0631\u0629:\n\n1. \u062a\u0635\u0641\u062d \u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0627\u0644\u0645\u062a\u0627\u062d\u0629 \u0645\u0646 \u0627\u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629 \u0623\u0648 \u0635\u0641\u062d\u0629 \u0627\u0644\u062f\u0648\u0631\u0627\u062a\n2. \u0627\u0646\u0642\u0631 \u0639\u0644\u0649 \u062f\u0648\u0631\u0629 \u0644\u0639\u0631\u0636 \u062a\u0641\u0627\u0635\u064a\u0644\u0647\u0627\n3. \u062a\u062d\u0642\u0642 \u0645\u0646 \u0623\u0642\u0633\u0627\u0645 \u0627\u0644\u062f\u0648\u0631\u0629 - \u0642\u062f \u064a\u0643\u0648\u0646 \u0628\u0639\u0636\u0647\u0627 \u0645\u062c\u0627\u0646\u064a\u0627\u064b \u0648\u0627\u0644\u0628\u0639\u0636 \u0627\u0644\u0622\u062e\u0631 \u0645\u062f\u0641\u0648\u0639\u0627\u064b\n4. \u0627\u0646\u0642\u0631 \u0639\u0644\u0649 "\u062a\u0633\u062c\u064a\u0644" \u0644\u0644\u0623\u0642\u0633\u0627\u0645 \u0627\u0644\u0645\u062c\u0627\u0646\u064a\u0629 \u0623\u0648 "\u0627\u0644\u062f\u0641\u0639 \u0648\u0627\u0644\u062a\u0633\u062c\u064a\u0644" \u0644\u0644\u0623\u0642\u0633\u0627\u0645 \u0627\u0644\u0645\u062f\u0641\u0648\u0639\u0629\n5. \u0628\u0627\u0644\u0646\u0633\u0628\u0629 \u0644\u0644\u0623\u0642\u0633\u0627\u0645 \u0627\u0644\u0645\u062f\u0641\u0648\u0639\u0629\u060c \u0642\u0645 \u0628\u062a\u062d\u0645\u064a\u0644 \u0625\u064a\u0635\u0627\u0644 \u0627\u0644\u062f\u0641\u0639 (\u062f\u0644\u064a\u0644 \u0627\u0644\u062a\u062d\u0648\u064a\u0644 \u0627\u0644\u0628\u0646\u0643\u064a)\n6. \u0627\u0646\u062a\u0638\u0631 \u0645\u0648\u0627\u0641\u0642\u0629 \u0627\u0644\u0645\u062f\u0631\u0633 \u0639\u0644\u0649 \u062f\u0641\u0639\u062a\u0643\n7. \u0628\u0645\u062c\u0631\u062f \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629\u060c \u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u062c\u0645\u064a\u0639 \u0645\u062d\u062a\u0648\u064a\u0627\u062a \u0627\u0644\u062f\u0648\u0631\u0629\n\n\u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u062a\u0633\u062c\u064a\u0644 \u0641\u064a \u0639\u062f\u0629 \u062f\u0648\u0631\u0627\u062a \u0648\u062a\u062a\u0628\u0639 \u062a\u0642\u062f\u0645\u0643 \u0645\u0646 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0627\u0644\u062e\u0627\u0635\u0629 \u0628\u0643.',helpQ3:"\u062f\u0644\u064a\u0644 \u0627\u0644\u062a\u0646\u0642\u0644 \u0641\u064a \u0627\u0644\u0645\u0646\u0635\u0629",helpA3:"\u062f\u0644\u064a\u0644 \u0627\u0644\u062a\u0646\u0642\u0644 \u0641\u064a \u0627\u0644\u0645\u0646\u0635\u0629:\n\n**\u0634\u0631\u064a\u0637 \u0627\u0644\u062a\u0646\u0642\u0644 \u0627\u0644\u0631\u0626\u064a\u0633\u064a:**\n- \u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629: \u0627\u0644\u0639\u0648\u062f\u0629 \u0625\u0644\u0649 \u0627\u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629\n- \u0627\u0644\u062f\u0648\u0631\u0627\u062a: \u062a\u0635\u0641\u062d \u062c\u0645\u064a\u0639 \u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0627\u0644\u0645\u062a\u0627\u062d\u0629\n- \u0627\u0644\u0645\u062f\u0631\u0633\u0648\u0646: \u0639\u0631\u0636 \u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u062f\u0631\u0633\u064a\u0646\n- \u062d\u0648\u0644: \u062a\u0639\u0631\u0641 \u0639\u0644\u0649 \u0625\u064a\u062f\u0648\u0641\u0644\u0648\n- \u0627\u062a\u0635\u0644: \u062a\u0648\u0627\u0635\u0644 \u0645\u0639 \u0627\u0644\u0645\u0633\u0624\u0648\u0644\n\n**\u0644\u0648\u062d\u0629 \u062a\u062d\u0643\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 (\u0628\u0639\u062f \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644):**\n- \u0627\u0644\u0637\u0644\u0627\u0628: \u0639\u0631\u0636 \u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0627\u0644\u0645\u0633\u062c\u0644\u0629\u060c \u062a\u062a\u0628\u0639 \u0627\u0644\u062a\u0642\u062f\u0645\u060c \u062a\u0642\u062f\u064a\u0645 \u0627\u0644\u0648\u0627\u062c\u0628\u0627\u062a\n- \u0627\u0644\u0645\u062f\u0631\u0633\u0648\u0646: \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u062f\u0648\u0631\u0627\u062a \u0648\u0627\u0644\u0623\u0642\u0633\u0627\u0645 \u0648\u0627\u0644\u0645\u062d\u062a\u0648\u0649\u060c \u062a\u0642\u064a\u064a\u0645 \u0627\u0644\u0648\u0627\u062c\u0628\u0627\u062a\n- \u0627\u0644\u0645\u0633\u0624\u0648\u0644: \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646\u060c \u0627\u0644\u062a\u062d\u0642\u0642 \u0645\u0646 \u0627\u0644\u0645\u062f\u0641\u0648\u0639\u0627\u062a\u060c \u0627\u0644\u0625\u0634\u0631\u0627\u0641 \u0639\u0644\u0649 \u0627\u0644\u0645\u0646\u0635\u0629\n\n**\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062e\u0635\u064a (\u0623\u0639\u0644\u0649 \u0627\u0644\u064a\u0645\u064a\u0646):**\n- \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645: \u0627\u0644\u0627\u0646\u062a\u0642\u0627\u0644 \u0625\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645 \u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629\n- \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062e\u0635\u064a: \u0639\u0631\u0636 \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062e\u0635\u064a \u0627\u0644\u0639\u0627\u0645\n- \u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a: \u062a\u062d\u062f\u064a\u062b \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062e\u0635\u064a \u0648\u0627\u0644\u0635\u0648\u0631\u0629\n- \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c: \u0627\u0644\u062e\u0631\u0648\u062c \u0645\u0646 \u062d\u0633\u0627\u0628\u0643",platformNavigation:"\u062f\u0644\u064a\u0644 \u0627\u0644\u062a\u0646\u0642\u0644 \u0641\u064a \u0627\u0644\u0645\u0646\u0635\u0629",profileManagement:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062e\u0635\u064a",accessCourseContent:"\u0627\u0644\u0648\u0635\u0648\u0644 \u0644\u0645\u062d\u062a\u0648\u0649 \u0627\u0644\u062f\u0648\u0631\u0629",progressTracking:"\u062a\u062a\u0628\u0639 \u0627\u0644\u062a\u0642\u062f\u0645",assignmentSubmission:"\u0639\u0645\u0644\u064a\u0629 \u062a\u0633\u0644\u064a\u0645 \u0627\u0644\u0648\u0627\u062c\u0628\u0627\u062a",downloadMaterials:"\u062a\u062d\u0645\u064a\u0644 \u0645\u0648\u0627\u062f \u0627\u0644\u062f\u0648\u0631\u0629",becomeInstructor:"\u0643\u0646 \u0645\u062f\u0631\u0633\u0627\u064b \u0641\u064a \u0625\u064a\u062f\u0648\u0641\u0644\u0648",createCourse:"\u0625\u0646\u0634\u0627\u0621 \u062f\u0648\u0631\u0629 \u062c\u062f\u064a\u062f\u0629",studentManagement:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0637\u0644\u0627\u0628",assignmentGrading:"\u062a\u0642\u064a\u064a\u0645 \u0627\u0644\u0648\u0627\u062c\u0628\u0627\u062a",paymentMethods:"\u0637\u0631\u0642 \u0627\u0644\u062f\u0641\u0639",refundPolicy:"\u0633\u064a\u0627\u0633\u0629 \u0627\u0644\u0627\u0633\u062a\u0631\u062c\u0627\u0639",receiptVerification:"\u0627\u0644\u062a\u062d\u0642\u0642 \u0645\u0646 \u0627\u0644\u0625\u064a\u0635\u0627\u0644\u0627\u062a",paymentIssues:"\u0645\u0634\u0627\u0643\u0644 \u0627\u0644\u062f\u0641\u0639 \u0627\u0644\u0634\u0627\u0626\u0639\u0629",stillNeedHelp:"\u0644\u0627 \u062a\u0632\u0627\u0644 \u0628\u062d\u0627\u062c\u0629 \u0625\u0644\u0649 \u0645\u0633\u0627\u0639\u062f\u0629\u061f",emailSupport:"\u0627\u0644\u062f\u0639\u0645 \u0639\u0628\u0631 \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",helpQ4:"\u0625\u062f\u0627\u0631\u0629 \u0645\u0644\u0641\u0643 \u0627\u0644\u0634\u062e\u0635\u064a",helpA4:'\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062e\u0635\u064a:\n\n1. \u0627\u0646\u0642\u0631 \u0639\u0644\u0649 \u0635\u0648\u0631\u062a\u0643/\u0627\u0633\u0645\u0643 \u0641\u064a \u0627\u0644\u0632\u0627\u0648\u064a\u0629 \u0627\u0644\u0639\u0644\u0648\u064a\u0629 \u0627\u0644\u064a\u0645\u0646\u0649\n2. \u0627\u062e\u062a\u0631 "\u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a" \u0645\u0646 \u0627\u0644\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0646\u0633\u062f\u0644\u0629\n3. \u062d\u062f\u0651\u062b \u0645\u0639\u0644\u0648\u0645\u0627\u062a\u0643:\n   - \u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062e\u0635\u064a: \u062a\u062d\u0645\u064a\u0644 \u0635\u0648\u0631\u0629 (\u0628\u062d\u062f \u0623\u0642\u0635\u0649 5 \u0645\u064a\u062c\u0627\u0628\u0627\u064a\u062a)\n   - \u0627\u0644\u0627\u0633\u0645 \u0648\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a\n   - \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641\n   - \u0646\u0628\u0630\u0629 \u0645\u062e\u062a\u0635\u0631\u0629 (500 \u062d\u0631\u0641)\n   - \u0646\u0628\u0630\u0629 \u062a\u0641\u0635\u064a\u0644\u064a\u0629 (\u0645\u0639 \u062a\u0646\u0633\u064a\u0642 \u0627\u0644\u0646\u0635 \u0627\u0644\u063a\u0646\u064a)\n   - \u0627\u0644\u0645\u0633\u0645\u0649 \u0627\u0644\u0648\u0638\u064a\u0641\u064a (\u0644\u0644\u0637\u0644\u0627\u0628)\n   - \u0627\u0644\u062e\u0628\u0631\u0629 \u0648\u0627\u0644\u0631\u0648\u0627\u0628\u0637 \u0627\u0644\u0627\u062c\u062a\u0645\u0627\u0639\u064a\u0629 (\u0644\u0644\u0645\u062f\u0631\u0633\u064a\u0646)\n4. \u0627\u0646\u0642\u0631 \u0639\u0644\u0649 "\u062d\u0641\u0638 \u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a"\n\n\u0633\u062a\u0638\u0647\u0631 \u0635\u0648\u0631\u062a\u0643 \u0641\u064a \u062c\u0645\u064a\u0639 \u0623\u0646\u062d\u0627\u0621 \u0627\u0644\u0645\u0646\u0635\u0629. \u062a\u0623\u0643\u062f \u0645\u0646 \u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0635\u0648\u0631\u0629 \u0648\u0627\u0636\u062d\u0629 \u0648\u0627\u062d\u062a\u0631\u0627\u0641\u064a\u0629!',helpQ5:"\u0627\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u0645\u062d\u062a\u0648\u0649 \u0627\u0644\u062f\u0648\u0631\u0629",helpA5:"\u0627\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u0645\u062d\u062a\u0648\u0649 \u0627\u0644\u062f\u0648\u0631\u0629:\n\n1. \u0627\u0646\u062a\u0642\u0644 \u0625\u0644\u0649 \u0644\u0648\u062d\u0629 \u062a\u062d\u0643\u0645 \u0627\u0644\u0637\u0627\u0644\u0628\n2. \u0627\u0646\u0642\u0631 \u0639\u0644\u0649 \u0623\u064a \u062f\u0648\u0631\u0629 \u0645\u0633\u062c\u0644 \u0628\u0647\u0627\n3. \u0639\u0631\u0636 \u0647\u064a\u0643\u0644 \u0627\u0644\u062f\u0648\u0631\u0629: \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0627\u062a \u2190 \u0627\u0644\u0623\u0642\u0633\u0627\u0645 \u2190 \u0627\u0644\u0645\u062d\u062a\u0648\u0649\n4. \u0627\u0646\u0642\u0631 \u0639\u0644\u0649 \u0642\u0633\u0645 \u0644\u0639\u0631\u0636 \u0645\u062d\u062a\u0648\u0627\u0647\n5. \u062a\u062a\u0636\u0645\u0646 \u0623\u0646\u0648\u0627\u0639 \u0627\u0644\u0645\u062d\u062a\u0648\u0649:\n   - \u0645\u062d\u0627\u0636\u0631\u0627\u062a \u0627\u0644\u0641\u064a\u062f\u064a\u0648: \u0634\u0627\u0647\u062f \u0648\u062a\u062a\u0628\u0639 \u0627\u0644\u062a\u0642\u062f\u0645\n   - \u0627\u0644\u0648\u0627\u062c\u0628\u0627\u062a: \u062a\u0646\u0632\u064a\u0644 \u0648\u0625\u0643\u0645\u0627\u0644 \u0648\u062a\u0642\u062f\u064a\u0645\n   - \u0627\u0644\u0645\u0634\u0627\u0631\u064a\u0639: \u0645\u0644\u0641\u0627\u062a \u0628\u062f\u0627\u064a\u0629 \u0648\u062a\u0642\u062f\u064a\u0645\n\n**\u0645\u062a\u0637\u0644\u0628\u0627\u062a \u0627\u0644\u0648\u0635\u0648\u0644:**\n- \u0627\u0644\u0623\u0642\u0633\u0627\u0645 \u0627\u0644\u0645\u062c\u0627\u0646\u064a\u0629: \u0645\u062a\u0627\u062d\u0629 \u0641\u0648\u0631\u0627\u064b \u0628\u0639\u062f \u0627\u0644\u062a\u0633\u062c\u064a\u0644\n- \u0627\u0644\u0623\u0642\u0633\u0627\u0645 \u0627\u0644\u0645\u062f\u0641\u0648\u0639\u0629: \u0645\u062a\u0627\u062d\u0629 \u0628\u0639\u062f \u0627\u0644\u062a\u062d\u0642\u0642 \u0645\u0646 \u0627\u0644\u062f\u0641\u0639\n- \u0627\u0644\u0645\u062a\u0637\u0644\u0628\u0627\u062a \u0627\u0644\u0623\u0633\u0627\u0633\u064a\u0629: \u0623\u0643\u0645\u0644 \u0627\u0644\u0623\u0642\u0633\u0627\u0645 \u0627\u0644\u0633\u0627\u0628\u0642\u0629 \u0623\u0648\u0644\u0627\u064b (\u0625\u0630\u0627 \u0644\u0632\u0645 \u0627\u0644\u0623\u0645\u0631)",helpQ6:"\u062a\u062a\u0628\u0639 \u062a\u0642\u062f\u0645\u0643",helpA6:'\u062a\u062a\u0628\u0639 \u0627\u0644\u062a\u0642\u062f\u0645:\n\n\u064a\u062a\u0645 \u062a\u062a\u0628\u0639 \u062a\u0642\u062f\u0645\u0643 \u062a\u0644\u0642\u0627\u0626\u064a\u0627\u064b:\n\n**\u0627\u0644\u0641\u064a\u062f\u064a\u0648\u0647\u0627\u062a:**\n- \u064a\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u062a\u0642\u062f\u0645 \u0623\u062b\u0646\u0627\u0621 \u0627\u0644\u0645\u0634\u0627\u0647\u062f\u0629\n- \u062a\u064f\u0639\u0644\u0651\u0645 \u0643\u0640 "\u062a\u0645\u062a \u0627\u0644\u0645\u0634\u0627\u0647\u062f\u0629" (100\u066a) \u0639\u0646\u062f \u0627\u0644\u0625\u0643\u0645\u0627\u0644\n- \u064a\u0645\u0643\u0646 \u0627\u0644\u0645\u0631\u0627\u062c\u0639\u0629 \u0641\u064a \u0623\u064a \u0648\u0642\u062a\n\n**\u0627\u0644\u0648\u0627\u062c\u0628\u0627\u062a/\u0627\u0644\u0645\u0634\u0627\u0631\u064a\u0639:**\n- \u062a\u0638\u0647\u0631 "\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u062a\u062d\u0645\u064a\u0644" \u0642\u0628\u0644 \u0627\u0644\u062a\u0642\u062f\u064a\u0645\n- \u062a\u0638\u0647\u0631 "\u0642\u064a\u062f \u0627\u0644\u0645\u0631\u0627\u062c\u0639\u0629 (50\u066a)" \u0628\u0639\u062f \u0627\u0644\u062a\u0642\u062f\u064a\u0645\n- \u062a\u0638\u0647\u0631 \u0627\u0644\u062f\u0631\u062c\u0629 \u0627\u0644\u0646\u0647\u0627\u0626\u064a\u0629 (0-100\u066a) \u0628\u0639\u062f \u062a\u0642\u064a\u064a\u0645 \u0627\u0644\u0645\u062f\u0631\u0633\n\n**\u0627\u0644\u062a\u0642\u062f\u0645 \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a:**\n- \u0639\u0631\u0636 \u0646\u0633\u0628\u0629 \u0625\u0643\u0645\u0627\u0644 \u0627\u0644\u0642\u0633\u0645\n- \u062a\u062a\u0628\u0639 \u0627\u0644\u062a\u0642\u062f\u0645 \u0639\u0644\u0649 \u0645\u0633\u062a\u0648\u0649 \u0627\u0644\u062f\u0648\u0631\u0629\n- \u0631\u0624\u064a\u0629 \u0627\u0644\u062f\u0631\u062c\u0627\u062a \u0644\u062c\u0645\u064a\u0639 \u0627\u0644\u062a\u0642\u064a\u064a\u0645\u0627\u062a\n\n\u064a\u062a\u0645 \u062d\u0641\u0638 \u0627\u0644\u062a\u0642\u062f\u0645 \u0641\u064a \u0627\u0644\u0648\u0642\u062a \u0627\u0644\u0641\u0639\u0644\u064a \u0648\u0645\u0632\u0627\u0645\u0646\u062a\u0647 \u0639\u0628\u0631 \u0627\u0644\u0623\u062c\u0647\u0632\u0629.',helpQ7:"\u062a\u0642\u062f\u064a\u0645 \u0627\u0644\u0648\u0627\u062c\u0628\u0627\u062a",helpA7:'\u0639\u0645\u0644\u064a\u0629 \u062a\u0642\u062f\u064a\u0645 \u0627\u0644\u0648\u0627\u062c\u0628:\n\n1. \u0634\u0627\u0647\u062f \u062c\u0645\u064a\u0639 \u0645\u0642\u0627\u0637\u0639 \u0627\u0644\u0641\u064a\u062f\u064a\u0648 \u0627\u0644\u062a\u0639\u0644\u064a\u0645\u064a\u0629 \u0641\u064a \u0627\u0644\u0642\u0633\u0645\n2. \u0642\u0645 \u0628\u062a\u0646\u0632\u064a\u0644 \u0645\u0644\u0641 \u0627\u0644\u0648\u0627\u062c\u0628 (\u0639\u0627\u062f\u0629\u064b \u0628\u062a\u0646\u0633\u064a\u0642 .rar)\n3. \u0623\u0643\u0645\u0644 \u0627\u0644\u0648\u0627\u062c\u0628 \u0648\u0641\u0642\u0627\u064b \u0644\u0644\u062a\u0639\u0644\u064a\u0645\u0627\u062a\n4. \u0627\u0636\u063a\u0637 \u0639\u0645\u0644\u0643 \u0641\u064a \u0645\u0644\u0641 .rar\n5. \u0627\u0646\u0642\u0631 \u0639\u0644\u0649 "\u0627\u062e\u062a\u0631 \u0645\u0644\u0641" \u0648\u062d\u062f\u062f \u0645\u0644\u0641 .rar \u0627\u0644\u062e\u0627\u0635 \u0628\u0643\n6. \u0642\u062f\u0645 \u0627\u0644\u0648\u0627\u062c\u0628\n7. \u0627\u062d\u0635\u0644 \u0639\u0644\u0649 \u062f\u0631\u062c\u0629 \u0623\u0648\u0644\u064a\u0629 50\u066a (\u0642\u064a\u062f \u0627\u0644\u0645\u0631\u0627\u062c\u0639\u0629)\n8. \u0627\u0646\u062a\u0638\u0631 \u062a\u0642\u064a\u064a\u0645 \u0627\u0644\u0645\u062f\u0631\u0633\n9. \u0627\u0639\u0631\u0636 \u0627\u0644\u062f\u0631\u062c\u0629 \u0627\u0644\u0646\u0647\u0627\u0626\u064a\u0629 \u0648\u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0627\u062a\n\n**\u0645\u0647\u0645:**\n- \u064a\u062a\u0645 \u0642\u0628\u0648\u0644 \u0645\u0644\u0641\u0627\u062a .rar \u0641\u0642\u0637\n- \u062d\u062f \u062d\u062c\u0645 \u0627\u0644\u0645\u0644\u0641: 500 \u0645\u064a\u062c\u0627\u0628\u0627\u064a\u062a\n- \u0642\u062f\u0645 \u0642\u0628\u0644 \u0627\u0644\u0645\u0648\u0639\u062f \u0627\u0644\u0646\u0647\u0627\u0626\u064a \u0644\u062a\u062c\u0646\u0628 \u0627\u0644\u0639\u0642\u0648\u0628\u0627\u062a\n- \u064a\u0645\u0643\u0646\u0643 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u062a\u0642\u062f\u064a\u0645 \u0625\u0630\u0627 \u0633\u0645\u062d \u0627\u0644\u0645\u062f\u0631\u0633',helpQ8:"\u062a\u0646\u0632\u064a\u0644 \u0627\u0644\u0645\u0648\u0627\u062f",helpA8:'\u062a\u0646\u0632\u064a\u0644 \u0645\u0648\u0627\u062f \u0627\u0644\u062f\u0648\u0631\u0629:\n\n**\u0644\u062a\u0646\u0632\u064a\u0644 \u0627\u0644\u0645\u0648\u0627\u062f:**\n1. \u0627\u0646\u062a\u0642\u0644 \u0625\u0644\u0649 \u0645\u062d\u062a\u0648\u0649 \u0627\u0644\u0642\u0633\u0645\n2. \u0627\u0628\u062d\u062b \u0639\u0646 \u0632\u0631 "\u062a\u0646\u0632\u064a\u0644" \u0628\u062c\u0648\u0627\u0631 \u0627\u0644\u0648\u0627\u062c\u0628\u0627\u062a/\u0627\u0644\u0645\u0634\u0627\u0631\u064a\u0639\n3. \u0627\u0646\u0642\u0631 \u0644\u062a\u0646\u0632\u064a\u0644 \u0645\u0644\u0641\u0627\u062a \u0627\u0644\u0628\u062f\u0627\u064a\u0629 \u0623\u0648 \u0627\u0644\u0645\u0648\u0627\u0631\u062f \u0623\u0648 \u0627\u0644\u0642\u0648\u0627\u0644\u0628\n4. \u0627\u0644\u0645\u0648\u0627\u062f \u0639\u0627\u062f\u0629\u064b \u0628\u062a\u0646\u0633\u064a\u0642 .rar \u0623\u0648 .zip\n\n**\u0627\u0644\u062a\u0646\u0632\u064a\u0644\u0627\u062a \u0627\u0644\u0645\u062a\u0627\u062d\u0629:**\n- \u0642\u0648\u0627\u0644\u0628 \u0627\u0644\u0648\u0627\u062c\u0628\u0627\u062a \u0648\u0627\u0644\u062a\u0639\u0644\u064a\u0645\u0627\u062a\n- \u0643\u0648\u062f \u0628\u062f\u0627\u064a\u0629 \u0627\u0644\u0645\u0634\u0631\u0648\u0639\n- \u0645\u0648\u0627\u0631\u062f \u062a\u0643\u0645\u064a\u0644\u064a\u0629\n- \u0645\u0648\u0627\u062f \u0645\u0631\u062c\u0639\u064a\u0629\n\n**\u0627\u0633\u062a\u0643\u0634\u0627\u0641 \u0627\u0644\u0623\u062e\u0637\u0627\u0621:**\n- \u0625\u0630\u0627 \u0641\u0634\u0644 \u0627\u0644\u062a\u0646\u0632\u064a\u0644\u060c \u0642\u0645 \u0628\u0627\u0644\u062a\u062d\u062f\u064a\u062b \u0648\u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649\n- \u062a\u0623\u0643\u062f \u0645\u0646 \u0627\u0633\u062a\u0642\u0631\u0627\u0631 \u0627\u062a\u0635\u0627\u0644 \u0627\u0644\u0625\u0646\u062a\u0631\u0646\u062a\n- \u0627\u062a\u0635\u0644 \u0628\u0627\u0644\u0645\u062f\u0631\u0633 \u0625\u0630\u0627 \u0643\u0627\u0646 \u0627\u0644\u0645\u0644\u0641 \u063a\u064a\u0631 \u0645\u062a\u0627\u062d',helpQ9:"\u0623\u0646 \u062a\u0635\u0628\u062d \u0645\u062f\u0631\u0633\u0627\u064b",helpA9:'\u0643\u0646 \u0645\u062f\u0631\u0633\u0627\u064b \u0641\u064a \u0625\u064a\u062f\u0648\u0641\u0644\u0648:\n\n**\u0639\u0645\u0644\u064a\u0629 \u0627\u0644\u062a\u0642\u062f\u064a\u0645:**\n1. \u0633\u062c\u0651\u0644 \u0628\u062f\u0648\u0631 "\u0645\u062f\u0631\u0633"\n2. \u0623\u0643\u0645\u0644 \u0645\u0644\u0641\u0643 \u0627\u0644\u0634\u062e\u0635\u064a \u0628\u0640:\n   - \u0635\u0648\u0631\u0629 \u0627\u062d\u062a\u0631\u0627\u0641\u064a\u0629\n   - \u0633\u064a\u0631\u0629 \u0630\u0627\u062a\u064a\u0629 \u0645\u0641\u0635\u0644\u0629 \u0648\u062e\u0628\u0631\u0629\n   - \u0631\u0648\u0627\u0628\u0637 \u0627\u062c\u062a\u0645\u0627\u0639\u064a\u0629 (LinkedIn\u060c GitHub\u060c \u0625\u0644\u062e)\n3. \u0627\u0646\u062a\u0638\u0631 \u0645\u0648\u0627\u0641\u0642\u0629 \u0627\u0644\u0645\u0633\u0624\u0648\u0644 (\u0639\u0627\u062f\u0629\u064b 24-48 \u0633\u0627\u0639\u0629)\n4. \u0627\u0633\u062a\u0644\u0645 \u0625\u0634\u0639\u0627\u0631 \u0628\u0631\u064a\u062f \u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u0639\u0646\u062f \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629\n\n**\u0627\u0644\u0645\u062a\u0637\u0644\u0628\u0627\u062a:**\n- \u062e\u0628\u0631\u0629 \u0641\u064a \u0645\u062c\u0627\u0644 \u0627\u0644\u062a\u062f\u0631\u064a\u0633 \u0627\u0644\u062e\u0627\u0635 \u0628\u0643\n- \u0645\u0644\u0641 \u0634\u062e\u0635\u064a \u0627\u062d\u062a\u0631\u0627\u0641\u064a\n- \u0627\u0644\u062a\u0632\u0627\u0645 \u0628\u0627\u0644\u062a\u0639\u0644\u064a\u0645 \u0639\u0627\u0644\u064a \u0627\u0644\u062c\u0648\u062f\u0629\n- \u0627\u0644\u0627\u0633\u062a\u062c\u0627\u0628\u0629 \u0644\u0627\u0633\u062a\u0641\u0633\u0627\u0631\u0627\u062a \u0627\u0644\u0637\u0644\u0627\u0628\n\n**\u0628\u0639\u062f \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629:**\n- \u0625\u0646\u0634\u0627\u0621 \u062f\u0648\u0631\u0627\u062a \u063a\u064a\u0631 \u0645\u062d\u062f\u0648\u062f\u0629\n- \u062a\u062d\u062f\u064a\u062f \u0623\u0633\u0639\u0627\u0631\u0643 \u0627\u0644\u062e\u0627\u0635\u0629\n- \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0637\u0644\u0627\u0628 \u0648\u0627\u0644\u0645\u062d\u062a\u0648\u0649\n- \u0627\u0644\u0631\u0628\u062d \u0645\u0646 \u0627\u0644\u0623\u0642\u0633\u0627\u0645 \u0627\u0644\u0645\u062f\u0641\u0648\u0639\u0629',helpQ10:"\u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u062f\u0648\u0631\u0627\u062a",helpA10:'\u0625\u0646\u0634\u0627\u0621 \u062f\u0648\u0631\u0629 \u062c\u062f\u064a\u062f\u0629:\n\n1. \u0627\u0646\u062a\u0642\u0644 \u0625\u0644\u0649 \u0644\u0648\u062d\u0629 \u062a\u062d\u0643\u0645 \u0627\u0644\u0645\u062f\u0631\u0633\n2. \u0627\u0646\u0642\u0631 \u0639\u0644\u0649 "\u0625\u0646\u0634\u0627\u0621 \u062f\u0648\u0631\u0629 \u062c\u062f\u064a\u062f\u0629"\n3. \u0627\u0645\u0644\u0623 \u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u062f\u0648\u0631\u0629:\n   - \u0627\u0644\u0627\u0633\u0645 \u0648\u0627\u0644\u0648\u0635\u0641\n   - \u0627\u0644\u0645\u0633\u062a\u0648\u0649 (\u0645\u0628\u062a\u062f\u0626\u060c \u0645\u062a\u0648\u0633\u0637\u060c \u0645\u062a\u0642\u062f\u0645)\n   - \u0627\u0644\u0645\u062f\u0629 \u0648\u0627\u0644\u0641\u0626\u0629\n   - \u0635\u0648\u0631\u0629 \u0645\u0635\u063a\u0631\u0629 \u0644\u0644\u062f\u0648\u0631\u0629 (\u0627\u062e\u062a\u064a\u0627\u0631\u064a)\n4. \u0627\u062d\u0641\u0638 \u0627\u0644\u062f\u0648\u0631\u0629\n5. \u0623\u0646\u0634\u0626 \u0645\u062c\u0645\u0648\u0639\u0627\u062a (\u062f\u0641\u0639\u0627\u062a \u0627\u0644\u062f\u0648\u0631\u0629)\n6. \u0623\u0636\u0641 \u0623\u0642\u0633\u0627\u0645\u0627\u064b \u0625\u0644\u0649 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0627\u062a\n7. \u062d\u0645\u0651\u0644 \u0627\u0644\u0645\u062d\u062a\u0648\u0649 (\u0641\u064a\u062f\u064a\u0648\u0647\u0627\u062a\u060c \u0648\u0627\u062c\u0628\u0627\u062a\u060c \u0645\u0634\u0627\u0631\u064a\u0639)\n8. \u062d\u062f\u062f \u0627\u0644\u062a\u0633\u0639\u064a\u0631 \u0644\u0643\u0644 \u0642\u0633\u0645\n9. \u0627\u0646\u0634\u0631 \u0639\u0646\u062f\u0645\u0627 \u062a\u0643\u0648\u0646 \u062c\u0627\u0647\u0632\u0627\u064b\n\n**\u0623\u0641\u0636\u0644 \u0627\u0644\u0645\u0645\u0627\u0631\u0633\u0627\u062a:**\n- \u0623\u0647\u062f\u0627\u0641 \u062f\u0648\u0631\u0629 \u0648\u0627\u0636\u062d\u0629\n- \u0645\u062d\u062a\u0648\u0649 \u0645\u0646\u0638\u0645 \u062c\u064a\u062f\u0627\u064b\n- \u0645\u062d\u0627\u0636\u0631\u0627\u062a \u0641\u064a\u062f\u064a\u0648 \u062c\u0630\u0627\u0628\u0629\n- \u0648\u0627\u062c\u0628\u0627\u062a \u0639\u0645\u0644\u064a\u0629\n- \u062f\u0639\u0645 \u0627\u0644\u0637\u0644\u0627\u0628 \u0641\u064a \u0627\u0644\u0648\u0642\u062a \u0627\u0644\u0645\u0646\u0627\u0633\u0628',helpQ11:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0637\u0644\u0627\u0628",helpA11:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0637\u0644\u0627\u0628:\n\n**\u0639\u0631\u0636 \u0627\u0644\u0637\u0644\u0627\u0628 \u0627\u0644\u0645\u0633\u062c\u0644\u064a\u0646:**\n1. \u0627\u0646\u062a\u0642\u0644 \u0625\u0644\u0649 \u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u062f\u0648\u0631\u0629\n2. \u0639\u0631\u0636 \u0627\u0644\u0637\u0644\u0627\u0628 \u0644\u0643\u0644 \u0645\u062c\u0645\u0648\u0639\u0629\n3. \u062a\u062a\u0628\u0639 \u062d\u0627\u0644\u0629 \u0627\u0644\u062a\u0633\u062c\u064a\u0644\n\n**\u0645\u0631\u0627\u0642\u0628\u0629 \u0627\u0644\u062a\u0642\u062f\u0645:**\n- \u0639\u0631\u0636 \u0645\u0639\u062f\u0644\u0627\u062a \u0625\u0643\u0645\u0627\u0644 \u0627\u0644\u0637\u0644\u0627\u0628\n- \u0627\u0644\u062a\u062d\u0642\u0642 \u0645\u0646 \u062a\u0642\u062f\u064a\u0645\u0627\u062a \u0627\u0644\u0648\u0627\u062c\u0628\u0627\u062a\n- \u062a\u062a\u0628\u0639 \u0627\u0644\u062f\u0631\u062c\u0627\u062a \u0648\u0627\u0644\u0623\u062f\u0627\u0621\n\n**\u0627\u0644\u062a\u0648\u0627\u0635\u0644:**\n- \u0625\u0631\u0633\u0627\u0644 \u0631\u0633\u0627\u0626\u0644 \u0644\u0644\u0637\u0644\u0627\u0628 \u0645\u0628\u0627\u0634\u0631\u0629\n- \u0627\u0644\u0631\u062f \u0639\u0644\u0649 \u0627\u0644\u0627\u0633\u062a\u0641\u0633\u0627\u0631\u0627\u062a\n- \u062a\u0642\u062f\u064a\u0645 \u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0639\u0644\u0649 \u0627\u0644\u0648\u0627\u062c\u0628\u0627\u062a\n\n**\u0627\u0644\u062a\u062d\u0642\u0642 \u0645\u0646 \u0627\u0644\u062f\u0641\u0639:**\n- \u0645\u0631\u0627\u062c\u0639\u0629 \u0625\u064a\u0635\u0627\u0644\u0627\u062a \u0627\u0644\u062f\u0641\u0639\n- \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0623\u0648 \u0631\u0641\u0636 \u0627\u0644\u0645\u062f\u0641\u0648\u0639\u0627\u062a\n- \u064a\u062d\u0635\u0644 \u0627\u0644\u0637\u0644\u0627\u0628 \u0639\u0644\u0649 \u0627\u0644\u0648\u0635\u0648\u0644 \u0628\u0639\u062f \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629",helpQ12:"\u062a\u0642\u064a\u064a\u0645 \u0627\u0644\u0648\u0627\u062c\u0628\u0627\u062a",helpA12:'\u0639\u0645\u0644\u064a\u0629 \u062a\u0642\u064a\u064a\u0645 \u0627\u0644\u0648\u0627\u062c\u0628\u0627\u062a:\n\n1. \u0627\u0646\u062a\u0642\u0644 \u0625\u0644\u0649 \u0639\u0644\u0627\u0645\u0629 \u062a\u0628\u0648\u064a\u0628 "\u062a\u0642\u064a\u064a\u0645 \u0627\u0644\u0648\u0627\u062c\u0628\u0627\u062a" \u0641\u064a \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645\n2. \u0639\u0631\u0636 \u0627\u0644\u062a\u0642\u062f\u064a\u0645\u0627\u062a \u0627\u0644\u0645\u0639\u0644\u0642\u0629\n3. \u0642\u0645 \u0628\u062a\u0646\u0632\u064a\u0644 \u0645\u0644\u0641 .rar \u0627\u0644\u062e\u0627\u0635 \u0628\u0627\u0644\u0637\u0627\u0644\u0628\n4. \u0631\u0627\u062c\u0639 \u0627\u0644\u0639\u0645\u0644\n5. \u0623\u062f\u062e\u0644 \u0627\u0644\u062f\u0631\u062c\u0629 (0-100\u066a)\n6. \u0623\u0636\u0641 \u062a\u0639\u0644\u064a\u0642\u0627\u062a \u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0627\u062a\n7. \u0642\u062f\u0645 \u0627\u0644\u062f\u0631\u062c\u0629\n8. \u064a\u062a\u0644\u0642\u0649 \u0627\u0644\u0637\u0627\u0644\u0628 \u0625\u0634\u0639\u0627\u0631\u0627\u064b\n\n**\u0625\u0631\u0634\u0627\u062f\u0627\u062a \u0627\u0644\u062a\u0642\u064a\u064a\u0645:**\n- \u0643\u0646 \u0639\u0627\u062f\u0644\u0627\u064b \u0648\u0645\u062a\u0633\u0642\u0627\u064b\n- \u0642\u062f\u0645 \u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0628\u0646\u0627\u0621\u0629\n- \u0642\u064a\u0651\u0645 \u0641\u064a \u0625\u0637\u0627\u0631 \u0632\u0645\u0646\u064a \u0645\u0639\u0642\u0648\u0644\n- \u0636\u0639 \u0641\u064a \u0627\u0644\u0627\u0639\u062a\u0628\u0627\u0631 \u0627\u0644\u062c\u0647\u062f \u0648\u0627\u0644\u0641\u0647\u0645\n- \u0627\u0633\u062a\u062e\u062f\u0645 \u0645\u0639\u0627\u064a\u064a\u0631 \u0627\u0644\u062a\u0642\u064a\u064a\u0645 \u0644\u0644\u0645\u0648\u0636\u0648\u0639\u064a\u0629\n\n**\u0627\u0644\u062f\u0631\u062c\u0629 \u0627\u0644\u0623\u0648\u0644\u064a\u0629 50\u066a:**\n\u064a\u062d\u0635\u0644 \u0627\u0644\u0637\u0644\u0627\u0628 \u062a\u0644\u0642\u0627\u0626\u064a\u0627\u064b \u0639\u0644\u0649 50\u066a \u0639\u0646\u062f \u0627\u0644\u062a\u0642\u062f\u064a\u0645 \u0643\u062f\u0631\u062c\u0629 "\u0642\u064a\u062f \u0627\u0644\u0645\u0631\u0627\u062c\u0639\u0629". \u062f\u0631\u062c\u062a\u0643 \u0627\u0644\u0646\u0647\u0627\u0626\u064a\u0629 \u062a\u062d\u0644 \u0645\u062d\u0644 \u0647\u0630\u0647.',helpQ13:"\u0637\u0631\u0642 \u0627\u0644\u062f\u0641\u0639",helpA13:'\u0637\u0631\u0642 \u0627\u0644\u062f\u0641\u0639:\n\n**\u0646\u0638\u0627\u0645 \u0627\u0644\u062f\u0641\u0639 \u0627\u0644\u062d\u0627\u0644\u064a:**\n\u062a\u0633\u062a\u062e\u062f\u0645 \u0625\u064a\u062f\u0648\u0641\u0644\u0648 \u0646\u0638\u0627\u0645 \u0627\u0644\u062f\u0641\u0639 \u0639\u0628\u0631 \u0627\u0644\u062a\u062d\u0648\u064a\u0644 \u0627\u0644\u0628\u0646\u0643\u064a:\n\n1. \u0639\u0631\u0636 \u0633\u0639\u0631 \u0627\u0644\u0642\u0633\u0645\n2. \u0627\u0646\u0642\u0631 \u0639\u0644\u0649 "\u0627\u0644\u062f\u0641\u0639 \u0648\u0627\u0644\u062a\u0633\u062c\u064a\u0644"\n3. \u0633\u062a\u0631\u0649 \u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u062a\u062d\u0648\u064a\u0644 \u0627\u0644\u0628\u0646\u0643\u064a\n4. \u0642\u0645 \u0628\u0627\u0644\u062f\u0641\u0639 \u0625\u0644\u0649 \u0627\u0644\u062d\u0633\u0627\u0628 \u0627\u0644\u0645\u062d\u062f\u062f\n5. \u0627\u0644\u062a\u0642\u0637 \u0644\u0642\u0637\u0629 \u0634\u0627\u0634\u0629/\u0635\u0648\u0631\u0629 \u0644\u0644\u0625\u064a\u0635\u0627\u0644\n6. \u062d\u0645\u0651\u0644 \u0627\u0644\u0625\u064a\u0635\u0627\u0644 (JPG\u060c PNG\u060c \u0623\u0648 PDF - \u0628\u062d\u062f \u0623\u0642\u0635\u0649 10 \u0645\u064a\u062c\u0627\u0628\u0627\u064a\u062a)\n7. \u0642\u062f\u0645 \u0644\u0644\u062a\u062d\u0642\u0642\n8. \u0627\u0646\u062a\u0638\u0631 \u0645\u0648\u0627\u0641\u0642\u0629 \u0627\u0644\u0645\u062f\u0631\u0633\n9. \u0627\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u0627\u0644\u0645\u062d\u062a\u0648\u0649 \u0628\u0645\u062c\u0631\u062f \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629\n\n**\u062a\u0646\u0633\u064a\u0642\u0627\u062a \u0627\u0644\u0625\u064a\u0635\u0627\u0644 \u0627\u0644\u0645\u062f\u0639\u0648\u0645\u0629:**\n- \u0635\u0648\u0631\u0629: JPG\u060c JPEG\u060c PNG\n- \u0645\u0633\u062a\u0646\u062f: PDF\n\n**\u0648\u0642\u062a \u0627\u0644\u0645\u0639\u0627\u0644\u062c\u0629:**\n\u0639\u0627\u062f\u0629\u064b 24-48 \u0633\u0627\u0639\u0629 \u0644\u0644\u0645\u0648\u0627\u0641\u0642\u0629.',helpQ14:"\u0633\u064a\u0627\u0633\u0629 \u0627\u0644\u0627\u0633\u062a\u0631\u062f\u0627\u062f",helpA14:"\u0633\u064a\u0627\u0633\u0629 \u0627\u0644\u0627\u0633\u062a\u0631\u062f\u0627\u062f:\n\n**\u0636\u0645\u0627\u0646 \u0627\u0633\u062a\u0631\u062f\u0627\u062f \u0627\u0644\u0623\u0645\u0648\u0627\u0644 \u0644\u0645\u062f\u0629 30 \u064a\u0648\u0645\u0627\u064b:**\n- \u0637\u0644\u0628 \u0627\u0644\u0627\u0633\u062a\u0631\u062f\u0627\u062f \u062e\u0644\u0627\u0644 30 \u064a\u0648\u0645\u0627\u064b \u0645\u0646 \u0627\u0644\u062f\u0641\u0639\n- \u064a\u0646\u0637\u0628\u0642 \u0639\u0644\u0649 \u062c\u0645\u064a\u0639 \u0627\u0644\u0623\u0642\u0633\u0627\u0645 \u0627\u0644\u0645\u062f\u0641\u0648\u0639\u0629\n- \u0628\u062f\u0648\u0646 \u0623\u0633\u0626\u0644\u0629\n\n**\u0639\u0645\u0644\u064a\u0629 \u0627\u0644\u0627\u0633\u062a\u0631\u062f\u0627\u062f:**\n1. \u0627\u062a\u0635\u0644 \u0628\u0627\u0644\u0645\u062f\u0631\u0633 \u0623\u0648 \u0627\u0644\u0645\u0633\u0624\u0648\u0644\n2. \u0642\u062f\u0645 \u0625\u064a\u0635\u0627\u0644 \u0627\u0644\u062f\u0641\u0639 \u0648\u0627\u0644\u0633\u0628\u0628\n3. \u062a\u062a\u0645 \u0645\u0639\u0627\u0644\u062c\u0629 \u0627\u0644\u0627\u0633\u062a\u0631\u062f\u0627\u062f \u0641\u064a \u063a\u0636\u0648\u0646 5-7 \u0623\u064a\u0627\u0645 \u0639\u0645\u0644\n4. \u0625\u0631\u062c\u0627\u0639 \u0627\u0644\u0623\u0645\u0648\u0627\u0644 \u0625\u0644\u0649 \u0637\u0631\u064a\u0642\u0629 \u0627\u0644\u062f\u0641\u0639 \u0627\u0644\u0623\u0635\u0644\u064a\u0629\n\n**\u0627\u0644\u0634\u0631\u0648\u0637:**\n- \u064a\u062c\u0628 \u0627\u0644\u0637\u0644\u0628 \u062e\u0644\u0627\u0644 30 \u064a\u0648\u0645\u0627\u064b\n- \u0645\u0637\u0644\u0648\u0628 \u0625\u064a\u0635\u0627\u0644 \u0623\u0635\u0644\u064a\n- \u0642\u062f \u064a\u062a\u0645 \u062a\u0639\u0644\u064a\u0642 \u0627\u0644\u062d\u0633\u0627\u0628 \u0641\u064a \u062d\u0627\u0644\u0629 \u0625\u0633\u0627\u0621\u0629 \u0627\u0644\u0627\u0633\u062a\u062e\u062f\u0627\u0645\n- \u0644\u0627 \u0627\u0633\u062a\u0631\u062f\u0627\u062f \u0628\u0639\u062f \u0627\u0644\u0625\u0643\u0645\u0627\u0644\n\n**\u0627\u0644\u0627\u062a\u0635\u0627\u0644:** \u0623\u0631\u0633\u0644 \u0631\u0633\u0627\u0644\u0629 \u0639\u0628\u0631 \u0627\u0644\u0645\u0646\u0635\u0629 \u0623\u0648 \u0628\u0631\u064a\u062f \u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u0644\u0644\u062f\u0639\u0645.",helpQ15:"\u0627\u0644\u062a\u062d\u0642\u0642 \u0645\u0646 \u0627\u0644\u0625\u064a\u0635\u0627\u0644",helpA15:"\u0639\u0645\u0644\u064a\u0629 \u0627\u0644\u062a\u062d\u0642\u0642 \u0645\u0646 \u0627\u0644\u0625\u064a\u0635\u0627\u0644:\n\n**\u0644\u0644\u0637\u0644\u0627\u0628:**\n1. \u062d\u0645\u0651\u0644 \u0625\u064a\u0635\u0627\u0644\u0627\u064b \u0648\u0627\u0636\u062d\u0627\u064b \u0628\u0639\u062f \u0627\u0644\u062f\u0641\u0639\n2. \u0627\u0646\u062a\u0638\u0631 \u0645\u0631\u0627\u062c\u0639\u0629 \u0627\u0644\u0645\u062f\u0631\u0633/\u0627\u0644\u0645\u0633\u0624\u0648\u0644\n3. \u0627\u0633\u062a\u0644\u0645 \u0625\u0634\u0639\u0627\u0631 \u0628\u0631\u064a\u062f \u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u0628\u0627\u0644\u062d\u0627\u0644\u0629\n4. \u064a\u064f\u0645\u0646\u062d \u0627\u0644\u0648\u0635\u0648\u0644 \u0639\u0646\u062f \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629\n\n**\u0645\u0639\u0627\u064a\u064a\u0631 \u0627\u0644\u062a\u062d\u0642\u0642:**\n- \u064a\u0638\u0647\u0631 \u0627\u0644\u0625\u064a\u0635\u0627\u0644 \u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u0635\u062d\u064a\u062d\n- \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0629 \u062d\u062f\u064a\u062b\n- \u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u062d\u0633\u0627\u0628 \u0645\u062a\u0637\u0627\u0628\u0642\u0629\n- \u0627\u0644\u0625\u064a\u0635\u0627\u0644 \u0648\u0627\u0636\u062d \u0648\u0623\u0635\u0644\u064a\n\n**\u0625\u0630\u0627 \u062a\u0645 \u0627\u0644\u0631\u0641\u0636:**\n- \u0623\u0639\u062f \u062a\u062d\u0645\u064a\u0644 \u0625\u064a\u0635\u0627\u0644 \u0623\u0648\u0636\u062d\n- \u0627\u062a\u0635\u0644 \u0628\u0627\u0644\u0645\u062f\u0631\u0633 \u0644\u0644\u062a\u0648\u0636\u064a\u062d\n- \u062a\u062d\u0642\u0642 \u0645\u0646 \u062a\u0637\u0627\u0628\u0642 \u0645\u0628\u0644\u063a \u0627\u0644\u062f\u0641\u0639 \u0645\u0639 \u0627\u0644\u0633\u0639\u0631\n\n**\u0648\u0642\u062a \u0627\u0644\u0645\u0639\u0627\u0644\u062c\u0629:**\n- \u0623\u064a\u0627\u0645 \u0627\u0644\u0623\u0633\u0628\u0648\u0639: 24-48 \u0633\u0627\u0639\u0629\n- \u0639\u0637\u0644\u0627\u062a \u0646\u0647\u0627\u064a\u0629 \u0627\u0644\u0623\u0633\u0628\u0648\u0639: \u0642\u062f \u062a\u0633\u062a\u063a\u0631\u0642 \u0648\u0642\u062a\u0627\u064b \u0623\u0637\u0648\u0644\n- \u0639\u0627\u062c\u0644: \u0631\u0627\u0633\u0644 \u0627\u0644\u0645\u062f\u0631\u0633 \u0645\u0628\u0627\u0634\u0631\u0629",helpQ16:"\u0645\u0634\u0627\u0643\u0644 \u0627\u0644\u062f\u0641\u0639",helpA16:'\u0645\u0634\u0627\u0643\u0644 \u0627\u0644\u062f\u0641\u0639 \u0627\u0644\u0634\u0627\u0626\u0639\u0629 \u0648\u0627\u0644\u062d\u0644\u0648\u0644:\n\n**\u0641\u0634\u0644 \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0625\u064a\u0635\u0627\u0644:**\n- \u062a\u062d\u0642\u0642 \u0645\u0646 \u062d\u062c\u0645 \u0627\u0644\u0645\u0644\u0641 (\u0628\u062d\u062f \u0623\u0642\u0635\u0649 10 \u0645\u064a\u062c\u0627\u0628\u0627\u064a\u062a)\n- \u0627\u0633\u062a\u062e\u062f\u0645 \u062a\u0646\u0633\u064a\u0642\u0627\u064b \u0645\u062f\u0639\u0648\u0645\u0627\u064b (JPG\u060c PNG\u060c PDF)\n- \u062a\u0623\u0643\u062f \u0645\u0646 \u0627\u0633\u062a\u0642\u0631\u0627\u0631 \u0627\u062a\u0635\u0627\u0644 \u0627\u0644\u0625\u0646\u062a\u0631\u0646\u062a\n\n**\u0644\u0645 \u062a\u062a\u0645 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u0649 \u0627\u0644\u062f\u0641\u0639:**\n- \u062a\u062d\u0642\u0642 \u0645\u0646 \u062f\u0641\u0639 \u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u0635\u062d\u064a\u062d\n- \u062a\u062d\u0642\u0642 \u0645\u0646 \u0623\u0646 \u0627\u0644\u0625\u064a\u0635\u0627\u0644 \u0648\u0627\u0636\u062d \u0648\u0643\u0627\u0645\u0644\n- \u0627\u062a\u0635\u0644 \u0628\u0627\u0644\u0645\u062f\u0631\u0633 \u0644\u0644\u062a\u0648\u0636\u064a\u062d\n- \u0623\u0639\u062f \u0627\u0644\u062a\u062d\u0645\u064a\u0644 \u0625\u0630\u0627 \u0643\u0627\u0646\u062a \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0627\u0644\u0623\u0648\u0644\u0649 \u063a\u064a\u0631 \u0648\u0627\u0636\u062d\u0629\n\n**\u062a\u0645 \u062f\u0641\u0639 \u0645\u0628\u0644\u063a \u062e\u0627\u0637\u0626:**\n- \u0627\u062a\u0635\u0644 \u0628\u0627\u0644\u0645\u062f\u0631\u0633 \u0641\u0648\u0631\u0627\u064b\n- \u0642\u062f\u0645 \u0625\u062b\u0628\u0627\u062a \u0627\u0644\u062f\u0641\u0639\n- \u064a\u0645\u0643\u0646 \u0644\u0644\u0645\u062f\u0631\u0633 \u0627\u0644\u062a\u0639\u062f\u064a\u0644 \u0623\u0648 \u0637\u0644\u0628 \u0627\u0644\u0641\u0631\u0642\n\n**\u0627\u0644\u062f\u0641\u0639 \u0639\u0627\u0644\u0642 \u0641\u064a \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631:**\n- \u0627\u0646\u062a\u0638\u0631 48 \u0633\u0627\u0639\u0629 \u0644\u0644\u0645\u0631\u0627\u062c\u0639\u0629\n- \u0631\u0627\u0633\u0644 \u0627\u0644\u0645\u062f\u0631\u0633 \u0625\u0630\u0627 \u0643\u0627\u0646 \u0639\u0627\u062c\u0644\u0627\u064b\n- \u062a\u062d\u0642\u0642 \u0645\u0646 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a \u0644\u0644\u062a\u062d\u062f\u064a\u062b\u0627\u062a\n\n**\u0627\u062a\u0635\u0644 \u0628\u0627\u0644\u062f\u0639\u0645:**\n\u0627\u0633\u062a\u062e\u062f\u0645 \u0632\u0631 "\u062a\u0648\u0627\u0635\u0644 \u0645\u0639\u0646\u0627" \u0641\u064a \u0627\u0644\u062a\u0630\u064a\u064a\u0644 \u0644\u0625\u0631\u0633\u0627\u0644 \u0631\u0633\u0627\u0644\u0629 \u0644\u0644\u0645\u0633\u0624\u0648\u0644 \u0645\u0628\u0627\u0634\u0631\u0629.',privacyPolicyTitle:"\u0633\u064a\u0627\u0633\u0629 \u0627\u0644\u062e\u0635\u0648\u0635\u064a\u0629",termsOfServiceTitle:"\u0634\u0631\u0648\u0637 \u0627\u0644\u062e\u062f\u0645\u0629",aboutUsTitle:"\u0639\u0646\u0651\u0627",faqTitle:"\u0627\u0644\u0623\u0633\u0626\u0644\u0629 \u0627\u0644\u0645\u062a\u0643\u0631\u0631\u0629",courseNotFound:"\u0627\u0644\u062f\u0648\u0631\u0629 \u063a\u064a\u0631 \u0645\u0648\u062c\u0648\u062f\u0629",backToHome:"\u0627\u0644\u0639\u0648\u062f\u0629 \u0644\u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629",groups:"\u0645\u062c\u0645\u0648\u0639\u0627\u062a",whatYoullLearn:"\u0645\u0627 \u0633\u0648\u0641 \u062a\u062a\u0639\u0644\u0645\u0647",courseCoversKeyTopics:"\u062a\u063a\u0637\u064a \u0647\u0630\u0647 \u0627\u0644\u062f\u0648\u0631\u0629 \u0627\u0644\u0645\u0648\u0636\u0648\u0639\u0627\u062a \u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629 \u0644\u062a\u062d\u0642\u064a\u0642 \u0627\u0644\u0645\u0633\u062a\u0648\u0649 \u0627\u0644\u0645\u0630\u0643\u0648\u0631. \u062a\u0634\u0645\u0644 \u0627\u0644\u0645\u062d\u0627\u0636\u0631\u0627\u062a \u0648\u0627\u0644\u0648\u0627\u062c\u0628\u0627\u062a \u0648\u0627\u0644\u0645\u0634\u0627\u0631\u064a\u0639.",continueCourse:"\u0645\u062a\u0627\u0628\u0639\u0629 \u0627\u0644\u062f\u0648\u0631\u0629",enrollmentPendingApproval:"\u0627\u0644\u062a\u0633\u062c\u064a\u0644 \u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629",selectGroup:"\u0627\u062e\u062a\u0631 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629",chooseAGroup:"\u0627\u062e\u062a\u0631 \u0645\u062c\u0645\u0648\u0639\u0629",continueToEnrollment:"\u0627\u0644\u0645\u062a\u0627\u0628\u0639\u0629 \u0644\u0644\u062a\u0633\u062c\u064a\u0644",loginAsStudentToEnroll:"\u0633\u062c\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0643\u0637\u0627\u0644\u0628 \u0644\u0644\u062a\u0633\u062c\u064a\u0644",createAccountOrLogin:"\u0623\u0646\u0634\u0626 \u062d\u0633\u0627\u0628\u0627\u064b \u0623\u0648 \u0633\u062c\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0644\u0644\u062a\u0633\u062c\u064a\u0644",studentReviews:"\u062a\u0642\u064a\u064a\u0645\u0627\u062a \u0627\u0644\u0637\u0644\u0627\u0628",noReviewsYet:"\u0644\u0627 \u062a\u0648\u062c\u062f \u062a\u0642\u064a\u064a\u0645\u0627\u062a \u0628\u0639\u062f. \u0643\u0646 \u0623\u0648\u0644 \u0645\u0646 \u064a\u0642\u064a\u0645 \u0647\u0630\u0647 \u0627\u0644\u062f\u0648\u0631\u0629!",completeEnrollment:"\u0625\u062a\u0645\u0627\u0645 \u0627\u0644\u062a\u0633\u062c\u064a\u0644",paymentRequired:"\u0627\u0644\u062f\u0641\u0639 \u0645\u0637\u0644\u0648\u0628",groupRequiresPayment:"\u062a\u062a\u0637\u0644\u0628 \u0647\u0630\u0647 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629",monthly:"\u0634\u0647\u0631\u064a",perSection:"\u0644\u0643\u0644 \u0642\u0633\u0645",paymentOf:"\u062f\u0641\u0639 \u0642\u062f\u0631\u0647",paymentMethod:"\u0637\u0631\u064a\u0642\u0629 \u0627\u0644\u062f\u0641\u0639",selectPaymentMethod:"\u0627\u062e\u062a\u0631 \u0637\u0631\u064a\u0642\u0629 \u0627\u0644\u062f\u0641\u0639",haramHawala:"\u062d\u0648\u0627\u0644\u0629 \u0647\u0631\u0645",fouadHawala:"\u062d\u0648\u0627\u0644\u0629 \u0641\u0624\u0627\u062f",shamCash:"\u0634\u0627\u0645 \u0643\u0627\u0634",westernUnion:"\u0648\u064a\u0633\u062a\u0631\u0646 \u064a\u0648\u0646\u064a\u0648\u0646",paymentReceiptUrl:"\u0631\u0627\u0628\u0637 \u0625\u064a\u0635\u0627\u0644 \u0627\u0644\u062f\u0641\u0639",uploadReceiptInstruction:"\u0642\u0645 \u0628\u062a\u062d\u0645\u064a\u0644 \u0635\u0648\u0631\u0629 \u0627\u0644\u0625\u064a\u0635\u0627\u0644 \u0648\u0627\u0644\u0635\u0642 \u0627\u0644\u0631\u0627\u0628\u0637 \u0647\u0646\u0627\u060c \u0623\u0648 \u0623\u0631\u0633\u0644\u0647 \u0639\u0628\u0631 \u0627\u0644\u0631\u0633\u0627\u0626\u0644 \u0644\u0644\u0645\u0633\u0624\u0648\u0644/\u0627\u0644\u0645\u062f\u0631\u0633 \u0644\u0644\u062a\u062d\u0642\u0642.",canAlsoUploadViaMessages:"\u064a\u0645\u0643\u0646\u0643 \u0623\u064a\u0636\u0627\u064b \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0625\u064a\u0635\u0627\u0644 \u0639\u0628\u0631 \u0635\u0641\u062d\u0629",messagesPage:"\u0627\u0644\u0631\u0633\u0627\u0626\u0644",pageToInstructorOrAdmin:"\u0625\u0644\u0649 \u0627\u0644\u0645\u062f\u0631\u0633 \u0623\u0648 \u0627\u0644\u0645\u0633\u0624\u0648\u0644.",freeGroupEnrollImmediately:"\u0647\u0630\u0647 \u0645\u062c\u0645\u0648\u0639\u0629 \u0645\u062c\u0627\u0646\u064a\u0629. \u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u062a\u0633\u062c\u064a\u0644 \u0641\u0648\u0631\u0627\u064b.",confirmEnrollment:"\u062a\u0623\u0643\u064a\u062f \u0627\u0644\u062a\u0633\u062c\u064a\u0644",enrolling:"\u062c\u0627\u0631\u064d \u0627\u0644\u062a\u0633\u062c\u064a\u0644...",anonymous:"\u0645\u062c\u0647\u0648\u0644",overallGrade:"\u0627\u0644\u062f\u0631\u062c\u0629 \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a\u0629",unlockAllSections:"\u0641\u062a\u062d \u062c\u0645\u064a\u0639 \u0627\u0644\u0623\u0642\u0633\u0627\u0645",payForAllLockedSections:"\u0627\u062f\u0641\u0639 \u0645\u0642\u0627\u0628\u0644 \u062c\u0645\u064a\u0639",lockedSection:"\u0642\u0633\u0645 \u0645\u0642\u0641\u0644",lockedSections:"\u0623\u0642\u0633\u0627\u0645 \u0645\u0642\u0641\u0644\u0629",atOnce:"\u062f\u0641\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",pay:"\u0627\u062f\u0641\u0639",noContentAvailable:"\u0644\u0627 \u064a\u0648\u062c\u062f \u0645\u062d\u062a\u0648\u0649 \u0645\u062a\u0627\u062d",lecturesUppercase:"\u0627\u0644\u0645\u062d\u0627\u0636\u0631\u0627\u062a",assignmentsUppercase:"\u0627\u0644\u0648\u0627\u062c\u0628\u0627\u062a",projectsUppercase:"\u0627\u0644\u0645\u0634\u0627\u0631\u064a\u0639",selectContentFromLeft:"\u0627\u062e\u062a\u0631 \u0645\u062d\u062a\u0648\u0649 \u0645\u0646 \u0627\u0644\u064a\u0633\u0627\u0631 \u0644\u0639\u0631\u0636 \u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644",clickToWatchVideo:"\u0627\u0646\u0642\u0631 \u0644\u0645\u0634\u0627\u0647\u062f\u0629 \u0627\u0644\u0641\u064a\u062f\u064a\u0648",videoWillAutoPlay:"\u0633\u064a\u062a\u0645 \u062a\u0634\u063a\u064a\u0644 \u0627\u0644\u0641\u064a\u062f\u064a\u0648 \u062a\u0644\u0642\u0627\u0626\u064a\u0627\u064b \u0648\u062a\u062a\u0628\u0639 \u062a\u0642\u062f\u0645\u0643",assignmentFile:"\u0645\u0644\u0641 \u0627\u0644\u0648\u0627\u062c\u0628",downloadAssignment:"\u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0648\u0627\u062c\u0628",reviewed:"\u062a\u0645\u062a \u0627\u0644\u0645\u0631\u0627\u062c\u0639\u0629",gradeColon:"\u0627\u0644\u062f\u0631\u062c\u0629:",instructorFeedback:"\u0645\u0644\u0627\u062d\u0638\u0627\u062a \u0627\u0644\u0645\u062f\u0631\u0633:",pendingGrading:"\u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u062a\u0642\u064a\u064a\u0645",assignmentSubmittedSuccessfully:"\u062a\u0645 \u062a\u0642\u062f\u064a\u0645 \u0648\u0627\u062c\u0628\u0643 \u0628\u0646\u062c\u0627\u062d \u0648\u0647\u0648 \u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0645\u0631\u0627\u062c\u0639\u0629 \u0627\u0644\u0645\u062f\u0631\u0633.",currentGrade50Pending:"\u0627\u0644\u062f\u0631\u062c\u0629 \u0627\u0644\u062d\u0627\u0644\u064a\u0629: 50\u066a (\u0633\u064a\u062a\u0645 \u0627\u0644\u062a\u062d\u062f\u064a\u062b \u0628\u0639\u062f \u0627\u0644\u0645\u0631\u0627\u062c\u0639\u0629)",deadlinePassed:"\u0627\u0646\u062a\u0647\u0649 \u0627\u0644\u0645\u0648\u0639\u062f \u0627\u0644\u0646\u0647\u0627\u0626\u064a",assignmentDeadlinePassed:"\u0627\u0646\u062a\u0647\u0649 \u0627\u0644\u0645\u0648\u0639\u062f \u0627\u0644\u0646\u0647\u0627\u0626\u064a \u0644\u0647\u0630\u0627 \u0627\u0644\u0648\u0627\u062c\u0628.",projectDeadlinePassed:"\u0627\u0646\u062a\u0647\u0649 \u0627\u0644\u0645\u0648\u0639\u062f \u0627\u0644\u0646\u0647\u0627\u0626\u064a \u0644\u0647\u0630\u0627 \u0627\u0644\u0645\u0634\u0631\u0648\u0639.",gradeFailed:"\u0627\u0644\u062f\u0631\u062c\u0629: 0\u066a (\u0631\u0627\u0633\u0628)",deadlineWas:"\u0643\u0627\u0646 \u0627\u0644\u0645\u0648\u0639\u062f \u0627\u0644\u0646\u0647\u0627\u0626\u064a:",submitYourWork:"\u0642\u062f\u0645 \u0639\u0645\u0644\u0643",uploadCompletedAssignmentRar:"\u064a\u0631\u062c\u0649 \u062a\u062d\u0645\u064a\u0644 \u0648\u0627\u062c\u0628\u0643 \u0627\u0644\u0645\u0643\u062a\u0645\u0644 \u0643\u0645\u0644\u0641 .rar \u0623\u0648 .zip",deadline:"\u0627\u0644\u0645\u0648\u0639\u062f \u0627\u0644\u0646\u0647\u0627\u0626\u064a:",uploadingAssignment:"\u062c\u0627\u0631\u064d \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0648\u0627\u062c\u0628...",projectTutorialVideo:"\u0641\u064a\u062f\u064a\u0648 \u062a\u0639\u0644\u064a\u0645\u064a \u0644\u0644\u0645\u0634\u0631\u0648\u0639",watchTutorialToUnderstandRequirements:"\u0634\u0627\u0647\u062f \u0627\u0644\u0641\u064a\u062f\u064a\u0648 \u0627\u0644\u062a\u0639\u0644\u064a\u0645\u064a \u0644\u0641\u0647\u0645 \u0645\u062a\u0637\u0644\u0628\u0627\u062a \u0627\u0644\u0645\u0634\u0631\u0648\u0639",watchTutorial:"\u0645\u0634\u0627\u0647\u062f\u0629 \u0627\u0644\u0641\u064a\u062f\u064a\u0648",starterFiles:"\u0627\u0644\u0645\u0644\u0641\u0627\u062a \u0627\u0644\u0623\u0648\u0644\u064a\u0629",downloadStarterFiles:"\u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0645\u0644\u0641\u0627\u062a \u0627\u0644\u0623\u0648\u0644\u064a\u0629",projectSubmittedSuccessfully:"\u062a\u0645 \u062a\u0642\u062f\u064a\u0645 \u0645\u0634\u0631\u0648\u0639\u0643 \u0628\u0646\u062c\u0627\u062d \u0648\u0647\u0648 \u0641\u064a \u0627\u0646\u062a\u0638\u0627\u0631 \u0645\u0631\u0627\u062c\u0639\u0629 \u0627\u0644\u0645\u062f\u0631\u0633.",submitYourProject:"\u0642\u062f\u0645 \u0645\u0634\u0631\u0648\u0639\u0643",uploadCompletedProjectRar:"\u064a\u0631\u062c\u0649 \u062a\u062d\u0645\u064a\u0644 \u0645\u0634\u0631\u0648\u0639\u0643 \u0627\u0644\u0645\u0643\u062a\u0645\u0644 \u0643\u0645\u0644\u0641 .rar",uploadingProject:"\u062c\u0627\u0631\u064d \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0645\u0634\u0631\u0648\u0639...",foundResults:"\u062a\u0645 \u0627\u0644\u0639\u062b\u0648\u0631 \u0639\u0644\u0649",result:"\u0646\u062a\u064a\u062c\u0629",results:"\u0646\u062a\u0627\u0626\u062c",all:"\u0627\u0644\u0643\u0644",noResultsFound:"\u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u0639\u062b\u0648\u0631 \u0639\u0644\u0649 \u0646\u062a\u0627\u0626\u062c",tryDifferentKeywords:"\u062c\u0631\u0628 \u0643\u0644\u0645\u0627\u062a \u0628\u062d\u062b \u0645\u062e\u062a\u0644\u0641\u0629 \u0623\u0648 \u062a\u0635\u0641\u062d \u062c\u0645\u064a\u0639 \u0627\u0644\u0641\u0626\u0627\u062a",stillNeedHelp:"\u0644\u0627 \u062a\u0632\u0627\u0644 \u0628\u062d\u0627\u062c\u0629 \u0625\u0644\u0649 \u0645\u0633\u0627\u0639\u062f\u0629\u061f",ourSupportTeamIsHere:"\u0641\u0631\u064a\u0642 \u0627\u0644\u062f\u0639\u0645 \u0644\u062f\u064a\u0646\u0627 \u0647\u0646\u0627 \u0644\u0645\u0633\u0627\u0639\u062f\u062a\u0643",emailSupport:"\u0627\u0644\u062f\u0639\u0645 \u0639\u0628\u0631 \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",messageAdmin:"\u0631\u0627\u0633\u0644 \u0627\u0644\u0645\u0633\u0624\u0648\u0644",notWatched:"\u0644\u0645 \u062a\u062a\u0645 \u0627\u0644\u0645\u0634\u0627\u0647\u062f\u0629",watched:"\u062a\u0645\u062a \u0627\u0644\u0645\u0634\u0627\u0647\u062f\u0629",notSubmitted:"\u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u062a\u0642\u062f\u064a\u0645",pendingReview:"\u0642\u064a\u062f \u0627\u0644\u0645\u0631\u0627\u062c\u0639\u0629",completed:"\u0645\u0643\u062a\u0645\u0644",gettingStarted:"\u0627\u0644\u0628\u062f\u0621",paymentsAndBilling:"\u0627\u0644\u0645\u062f\u0641\u0648\u0639\u0627\u062a \u0648\u0627\u0644\u0641\u0648\u0627\u062a\u064a\u0631",signup:"\u062a\u0633\u062c\u064a\u0644",enroll:"\u062a\u0633\u062c\u064a\u0644",apply:"\u0627\u0644\u062a\u0642\u062f\u064a\u0645",become:"\u0623\u0646 \u062a\u0635\u0628\u062d",setup:"\u0625\u0639\u062f\u0627\u062f",manage:"\u0625\u062f\u0627\u0631\u0629",monitor:"\u0645\u0631\u0627\u0642\u0628\u0629",grading:"\u0627\u0644\u062a\u0642\u064a\u064a\u0645",evaluation:"\u062a\u0642\u064a\u064a\u0645",marks:"\u0639\u0644\u0627\u0645\u0627\u062a",method:"\u0637\u0631\u064a\u0642\u0629",bank:"\u0628\u0646\u0643",moneyBack:"\u0627\u0633\u062a\u0631\u062f\u0627\u062f \u0627\u0644\u0623\u0645\u0648\u0627\u0644",return:"\u0625\u0631\u062c\u0627\u0639",cancellation:"\u0625\u0644\u063a\u0627\u0621",proof:"\u0625\u062b\u0628\u0627\u062a",issues:"\u0645\u0634\u0627\u0643\u0644",problems:"\u0645\u0634\u0627\u0643\u0644",stuck:"\u0639\u0627\u0644\u0642",error:"\u062e\u0637\u0623",browse:"\u062a\u0635\u0641\u062d",photo:"\u0635\u0648\u0631\u0629",homework:"\u0648\u0627\u062c\u0628 \u0645\u0646\u0632\u0644\u064a"}}},lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1}});const ga=pa,xa=(0,a.createContext)(),fa=e=>{let{children:t}=e;const[r,n]=(0,a.useState)(()=>localStorage.getItem("language")||"en");(0,a.useEffect)(()=>{localStorage.setItem("language",r),ga.changeLanguage(r);const e="ar"===r?"rtl":"ltr";document.documentElement.dir=e,document.documentElement.lang=r,document.body&&(document.body.dir=e)},[r]);const s={language:r,toggleLanguage:()=>{n(e=>"en"===e?"ar":"en")},setLanguage:n};return(0,xr.jsx)(xa.Provider,{value:s,children:t})},ya=()=>{const e=(0,a.useContext)(xa);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e};var va=r(1376);const ba=e=>{let{streak:t=0,compact:r=!1,showLabel:n=!1,className:s="",onClick:i=null,animated:o=!1}=e;const[l,c]=(0,a.useState)(t),[d,u]=(0,a.useState)(!1);(0,a.useEffect)(()=>{if(t!==l){u(!0);const e=setTimeout(()=>{c(t),u(!1)},150);return()=>clearTimeout(e)}},[t,l]);const m=()=>0===t?"text-gray-400 dark:text-gray-500":t>=30?"text-purple-600 dark:text-purple-400":t>=14?"text-blue-600 dark:text-blue-400":t>=7?"text-green-600 dark:text-green-400":t>=3?"text-orange-600 dark:text-orange-400":"text-red-600 dark:text-red-400";return r?(0,xr.jsxs)("div",{className:"flex items-center space-x-1 ".concat(i?"cursor-pointer hover:opacity-80":""," ").concat(s),onClick:i,title:"".concat(t," day").concat(1!==t?"s":""," streak - ").concat(0===t?"Start your streak!":1===t?"Great start!":t>=30?"Legendary streak! \ud83c\udfc6":t>=14?"Amazing dedication! \u2b50":t>=7?"One week strong! \ud83d\udcaa":t>=3?"Building momentum! \ud83d\udd25":"Keep it up! \ud83d\ude80"),children:[(0,xr.jsx)(va.A,{className:"w-5 h-5",animated:o||d,glowing:t>=7}),(0,xr.jsx)(tr.N,{mode:"wait",children:(0,xr.jsx)(rr.P.span,{initial:{opacity:0,scale:.8,y:-2},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:1.2,y:2},transition:{duration:.2},className:"text-sm font-bold ".concat(m()),children:l},l)})]}):(0,xr.jsxs)("div",{className:"flex flex-col items-center space-y-1 ".concat(i?"cursor-pointer hover:opacity-80":""," ").concat(s),onClick:i,children:[(0,xr.jsx)(va.A,{className:"w-8 h-8",animated:o||d,glowing:t>=7}),(0,xr.jsxs)("div",{className:"flex flex-col items-center",children:[(0,xr.jsx)(tr.N,{mode:"wait",children:(0,xr.jsx)(rr.P.span,{initial:{opacity:0,scale:.8,y:-4},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:1.2,y:4},transition:{duration:.3},className:"text-lg font-bold ".concat(m()),children:l},l)}),n&&(0,xr.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:1===t?"day":"days"})]})]})},wa=()=>{var e;const[t,r]=(0,a.useState)(!1),[n,s]=(0,a.useState)(!1),[o,l]=(0,a.useState)(0),[c,d]=(0,a.useState)(null),[u,m]=(0,a.useState)(!1),h=(0,a.useRef)(null),{t:p}=(0,ar.useTranslation)(),{user:g,logout:x}=wr(),{theme:f,toggleTheme:y}=Nr(),{language:v,toggleLanguage:b}=ya(),w=ae();(0,a.useEffect)(()=>{if(g){j(),"student"===g.role&&k();const e=setInterval(()=>{j(),"student"===g.role&&k()},3e4),t=()=>{j()},r=e=>{try{var t;const r=null===e||void 0===e||null===(t=e.detail)||void 0===t?void 0:t.streakDays;"number"===typeof r&&d(e=>(0,Be.A)((0,Be.A)({},e||{}),{},{streakDays:r}))}catch(At){}k()};return window.addEventListener("unreadCountChanged",t),window.addEventListener("streak-updated",r),()=>{clearInterval(e),window.removeEventListener("unreadCountChanged",t),window.removeEventListener("streak-updated",r)}}},[g]),(0,a.useEffect)(()=>{try{if("undefined"!==typeof window&&window.sessionStorage){"true"===sessionStorage.getItem("twofa_warning_dismissed")&&m(!0)}}catch(qe){}},[]),(0,a.useEffect)(()=>{const e=e=>{h.current&&!h.current.contains(e.target)&&s(!1)};return n&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[n]);const j=async()=>{try{const e=localStorage.getItem("token"),t=await i.A.get("/api/messages/unread-count",{headers:{Authorization:"Bearer ".concat(e)}});l(t.data.unreadCount||0)}catch(e){console.error("Error fetching unread count:",e)}},k=async()=>{try{const e=localStorage.getItem("token"),t=await i.A.get("/api/gamification/my-stats",{headers:{Authorization:"Bearer ".concat(e)}});d(t.data.stats)}catch(e){console.error("Error fetching user stats:",e)}},N=()=>{if(!g)return"/";switch(g.role){case"admin":return"/admin";case"instructor":return"/instructor";case"student":return"/student";default:return"/"}},C=[{name:p("home"),path:"/",hash:""},{name:p("courses"),path:"/",hash:"courses"},{name:p("instructors"),path:"/instructors",hash:""},{name:p("about"),path:"/about",hash:""},{name:p("contact"),path:"/",hash:"footer"}],A=a.useMemo(()=>{const e=[...C];return g&&["student","instructor","admin"].includes(g.role)&&e.push({name:p("leaderboard")||"Leaderboard",path:"/student/leaderboard",hash:""}),e},[C,g]),S=a.useMemo(()=>!g||"admin"!==g.role&&"instructor"!==g.role?"text-sm md:text-[0.95rem] lg:text-base":"text-xs md:text-sm lg:text-[0.95rem]",[g]),E=a.useMemo(()=>!g||"admin"!==g.role&&"instructor"!==g.role?"gap-4 lg:gap-6":"gap-3 lg:gap-4",[g]),D=async e=>{if(e.path&&"/"!==e.path)w(e.path);else if(e.hash)if("/"!==window.location.pathname)await w("/"),setTimeout(()=>{const t=document.getElementById(e.hash);t&&t.scrollIntoView({behavior:"smooth"})},50);else{const t=document.getElementById(e.hash);t&&t.scrollIntoView({behavior:"smooth"})}else w("/")};return(0,xr.jsx)("nav",{className:"bg-white dark:bg-gray-800 shadow-lg sticky top-0 z-[1000]",children:(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,xr.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,xr.jsxs)(Oe,{to:"/",className:"flex items-center space-x-2 shrink-0",children:[(0,xr.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-primary-600 to-primary-800 rounded-lg flex items-center justify-center",children:(0,xr.jsx)("span",{className:"text-white font-bold text-lg",children:"E"})}),(0,xr.jsx)("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:p("eduflow")})]}),(0,xr.jsx)("div",{className:"hidden md:flex justify-center items-center flex-1 min-w-0 overflow-x-auto scrollbar-hide whitespace-nowrap px-2 ".concat(E),children:A.map(e=>(0,xr.jsx)("button",{onClick:()=>D(e),className:"text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors duration-200 shrink-0 whitespace-nowrap ".concat(S),children:e.name},e.name))}),(0,xr.jsxs)("div",{className:"flex items-center gap-3 sm:gap-4 shrink-0",children:[(0,xr.jsx)("button",{onClick:y,className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200","aria-label":"Toggle theme",children:"dark"===f?(0,xr.jsx)(sr,{className:"w-5 h-5 text-yellow-500"}):(0,xr.jsx)(ir,{className:"w-5 h-5 text-gray-600"})}),(0,xr.jsxs)("button",{onClick:b,className:"flex flex-col items-center p-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200","aria-label":"Toggle language",children:[(0,xr.jsx)(or,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"}),(0,xr.jsx)("span",{className:"mt-0.5 text-[10px] leading-none text-gray-400 dark:text-gray-400",children:"ar"===v?"\u0639":"EN"})]}),g?(0,xr.jsxs)(xr.Fragment,{children:["student"===g.role&&c&&(0,xr.jsx)("div",{onClick:()=>w("/student/my-stats"),className:"hidden sm:flex items-center justify-center p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer transition-colors duration-200",title:"".concat(c.streakDays||0," day").concat(1!==(c.streakDays||0)?"s":""," streak - Click to view achievements"),children:(0,xr.jsx)(ba,{streak:c.streakDays||0,compact:!0,className:""})}),(0,xr.jsxs)(Oe,{to:"/messages",className:"relative p-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200",children:[(0,xr.jsx)(lr,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"}),o>0&&(0,xr.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold",children:o>9?"9+":o})]}),("admin"===g.role||"instructor"===g.role)&&(0,xr.jsx)(Oe,{to:"/security",className:"hidden md:inline-flex px-3 py-2 rounded-md border border-indigo-200 dark:border-indigo-800 text-indigo-700 dark:text-indigo-300 hover:bg-indigo-50 dark:hover:bg-indigo-900/20",children:"Security"}),"instructor"===g.role&&(0,xr.jsxs)("div",{className:"hidden md:flex items-center gap-1 text-sm text-gray-700 dark:text-gray-200",children:[(0,xr.jsx)(cr,{className:"w-4 h-4 text-yellow-400 fill-current"}),(0,xr.jsx)("span",{children:"number"===typeof g.ratingValue&&g.ratingValue>0?Number(g.ratingValue).toFixed(1):"N/A"})]}),("admin"===g.role||"instructor"===g.role||"student"===g.role)&&(0,xr.jsx)(Oe,{to:N(),className:"hidden md:inline-flex btn-primary px-3 py-2",children:p("dashboard")}),(0,xr.jsxs)("div",{className:"relative",ref:h,children:[(0,xr.jsxs)("button",{onClick:()=>s(!n),className:"flex items-center gap-2 p-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200",children:[g.avatar?(0,xr.jsx)("img",{src:g.avatar,alt:g.name,className:"w-8 h-8 rounded-full object-cover border border-gray-300 dark:border-gray-600"}):(0,xr.jsx)("div",{className:"w-8 h-8 bg-primary-600 rounded-full flex items-center justify-center",children:(0,xr.jsx)("span",{className:"text-white font-medium text-sm",children:null===(e=g.name)||void 0===e?void 0:e.charAt(0).toUpperCase()})}),(0,xr.jsx)("span",{className:"hidden md:block text-gray-700 dark:text-gray-300 font-medium",children:g.name})]}),(0,xr.jsx)(tr.N,{children:n&&(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 mt-2 w-52 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1 z-[1100]",children:[(0,xr.jsxs)(Oe,{to:N(),className:"flex items-center space-x-2 px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200",onClick:()=>s(!1),children:[(0,xr.jsx)(dr,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:p("dashboard")})]}),("admin"===g.role||"instructor"===g.role)&&(0,xr.jsxs)(Oe,{to:"/security",className:"flex items-center space-x-2 px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200",onClick:()=>s(!1),children:[(0,xr.jsx)(ur,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:"Security"})]}),!1,(0,xr.jsxs)(Oe,{to:"/profile",className:"flex items-center space-x-2 px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200",onClick:()=>s(!1),children:[(0,xr.jsx)(dr,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:p("profile")})]}),("admin"===g.role||"instructor"===g.role||"student"===g.role)&&(0,xr.jsxs)(Oe,{to:"admin"===g.role?"/admin/settings":"instructor"===g.role?"/instructor/settings":"/student/settings",className:"flex items-center space-x-2 px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200",onClick:()=>s(!1),children:[(0,xr.jsx)(ur,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:p("settings")})]}),"student"===g.role&&(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsxs)(Oe,{to:"/student/my-stats",className:"flex items-center space-x-2 px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200",onClick:()=>s(!1),children:[(0,xr.jsx)(mr,{className:"w-5 h-5"}),(0,xr.jsx)("span",{children:p("myAchievements")})]}),(0,xr.jsxs)(Oe,{to:"/student/wishlist",className:"flex items-center space-x-2 px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200",onClick:()=>s(!1),children:[(0,xr.jsx)(cr,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:p("wishlist")||"Wishlist"})]}),(0,xr.jsxs)(Oe,{to:"/student/certificates",className:"flex items-center space-x-2 px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200",onClick:()=>s(!1),children:[(0,xr.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})}),(0,xr.jsx)("span",{children:p("certificates")})]})]}),(0,xr.jsxs)("button",{onClick:()=>{x(),s(!1)},className:"flex items-center space-x-2 w-full px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200",children:[(0,xr.jsx)(hr,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:p("logout")})]})]})})]})]}):(0,xr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,xr.jsx)(Oe,{to:"/login",className:"btn-secondary",children:p("login")}),(0,xr.jsx)(Oe,{to:"/register",className:"btn-primary",children:p("register")})]}),(0,xr.jsx)("button",{onClick:()=>r(!t),className:"md:hidden p-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200",children:t?(0,xr.jsx)(pr.A,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"}):(0,xr.jsx)(gr,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})})]})]}),g&&("admin"===g.role||"instructor"===g.role)&&!1===g.twoFactorEnabled&&!u&&(0,xr.jsx)("div",{className:"mt-2 mb-3",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between px-3 py-2 bg-yellow-50 dark:bg-yellow-900/30 border border-yellow-200 dark:border-yellow-800 rounded",children:[(0,xr.jsxs)("div",{className:"flex items-center text-sm text-yellow-800 dark:text-yellow-200",children:[(0,xr.jsx)("span",{className:"mr-2",children:"\u26a0\ufe0f"}),(0,xr.jsx)("span",{children:"Your account is at risk \u2014 please enable 2FA in Security Settings."})]}),(0,xr.jsxs)("div",{className:"flex items-center gap-2 ml-3",children:[(0,xr.jsx)(Oe,{to:"/security",className:"px-3 py-1.5 rounded-md bg-yellow-500 text-white text-xs font-medium hover:bg-yellow-600 dark:bg-yellow-600 dark:hover:bg-yellow-500",children:"Enable 2FA"}),(0,xr.jsx)("button",{type:"button",onClick:()=>{try{"undefined"!==typeof window&&window.sessionStorage&&sessionStorage.setItem("twofa_warning_dismissed","true")}catch(qe){}m(!0)},className:"p-1 rounded-full hover:bg-yellow-100 dark:hover:bg-yellow-800 text-yellow-700 dark:text-yellow-100","aria-label":"Dismiss 2FA warning",children:(0,xr.jsx)(pr.A,{className:"w-4 h-4"})})]})]})}),(0,xr.jsx)(tr.N,{children:t&&(0,xr.jsx)(rr.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden border-t border-gray-200 dark:border-gray-700 py-4",children:A.map(e=>(0,xr.jsx)("button",{className:"block w-full text-left px-4 py-2 text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors duration-200",onClick:()=>{r(!1),D(e)},children:e.name},e.name))})})]})})},ja=(0,nr.A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),ka=(0,nr.A)("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),Na=(0,nr.A)("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]),Ca=(0,nr.A)("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),Aa=()=>{const{t:e,i18n:t}=(0,ar.useTranslation)(),r="ar"===t.language,n=ae(),{user:s}=wr(),[o,l]=a.useState("EduFlow"),[c,d]=a.useState(""),[u,m]=a.useState(""),[h,p]=a.useState({facebookUrl:"",githubUrl:"",linkedinUrl:""}),[g,x]=a.useState(!0),[f,y]=a.useState([]),[v,b]=a.useState(!1),[w,j]=a.useState([]),[k,N]=a.useState(!1),[C,A]=a.useState(!1),[S,E]=a.useState(null),[D,P]=a.useState(!1),[T,_]=a.useState(""),[R,O]=a.useState(""),[F,L]=a.useState(!1);a.useEffect(()=>{let e=!0;return(async()=>{try{var t;x(!0);const r=await i.A.get("/api/admin/settings/public");if(e&&null!==(t=r.data)&&void 0!==t&&t.success&&r.data.data){const e=r.data.data;e.platformName&&l(e.platformName),e.platformEmail&&d(e.platformEmail),"string"===typeof e.platformIntro&&m(e.platformIntro),p({facebookUrl:e.facebookUrl||"",githubUrl:e.githubUrl||"",linkedinUrl:e.linkedinUrl||""})}}catch(r){console.error("Failed to load public settings for footer:",r)}finally{e&&x(!1)}})(),(async()=>{try{var t;b(!0);const e=(null===(t=(await i.A.get("/api/categories")).data)||void 0===t?void 0:t.categories)||[];y(e.slice(0,3))}catch(r){console.error("Failed to load categories for footer:",r),y([])}finally{e&&b(!1)}})(),(async()=>{try{var t;N(!0);const e=(null===(t=(await i.A.get("/api/levels")).data)||void 0===t?void 0:t.levels)||[];j(e.slice(0,3))}catch(r){console.error("Failed to load levels for footer:",r),j([])}finally{e&&N(!1)}})(),()=>{e=!1}},[]);const M=a.useCallback(async()=>{try{var e;P(!0);const t=localStorage.getItem("token");if(!t)return;const r=await i.A.get("/api/messages/contacts",{headers:{Authorization:"Bearer ".concat(t)}}),a=((null===(e=r.data)||void 0===e?void 0:e.contacts)||[]).find(e=>"admin"===e.role);E(a||null)}catch(t){console.error("Failed to load admin contact for footer:",t)}finally{P(!1)}},[]),I=()=>{A(!1),_(""),O("")},B=(new Date).getFullYear(),q=h.facebookUrl||"https://facebook.com",z=h.githubUrl||"https://github.com",U=h.linkedinUrl||"https://linkedin.com",V=o||e("eduflowAcademy")||"EduFlow Academy",Y=u||e("eduflowTagline")||e("footerTagline")||"Empowering learners and instructors with a modern online education platform.";return(0,xr.jsxs)("footer",{className:"bg-gray-50 dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 mt-8",children:[(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:[(0,xr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 lg:grid-cols-5 gap-8 ".concat(r?"text-right":"text-left"),children:[(0,xr.jsxs)("div",{className:"md:col-span-2 lg:col-span-2 space-y-3",children:[(0,xr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:V}),(0,xr.jsx)("p",{className:"text-base text-gray-600 dark:text-gray-400 max-w-md",children:Y}),(0,xr.jsx)("p",{className:"text-base text-gray-600 dark:text-gray-400 max-w-md",children:e("joinThousands")||"Join thousands of students who are actively taking courses and improving their careers."}),c&&(0,xr.jsxs)("p",{className:"mt-2 text-base text-gray-600 dark:text-gray-400 flex items-center gap-2",children:[(0,xr.jsx)(ja,{className:"w-4 h-4 text-primary-600 dark:text-primary-400"}),(0,xr.jsx)("a",{href:"mailto:".concat(c),className:"text-primary-600 dark:text-primary-400 hover:underline break-all",children:c})]}),(0,xr.jsxs)("div",{className:"mt-4",children:[(0,xr.jsx)("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:e("followUs")||"Follow Us"}),(0,xr.jsxs)("div",{className:"mt-2 flex items-center space-x-3 text-gray-400",children:[(0,xr.jsx)("a",{href:q,target:"_blank",rel:"noreferrer","aria-label":"Facebook",className:"hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:(0,xr.jsx)(ka,{className:"w-4 h-4"})}),(0,xr.jsx)("a",{href:z,target:"_blank",rel:"noreferrer","aria-label":"GitHub",className:"hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:(0,xr.jsx)(Na,{className:"w-4 h-4"})}),(0,xr.jsx)("a",{href:U,target:"_blank",rel:"noreferrer","aria-label":"LinkedIn",className:"hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:(0,xr.jsx)(Ca,{className:"w-4 h-4"})})]})]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h3",{className:"text-base font-semibold text-gray-900 dark:text-gray-100 tracking-wide uppercase mb-4",children:e("categories")||"Categories"}),(0,xr.jsxs)("ul",{className:"space-y-2 text-sm",children:[v&&(0,xr.jsx)("li",{className:"text-gray-400 dark:text-gray-500 text-xs",children:e("loading")||"Loading..."}),!v&&f.map(e=>(0,xr.jsx)("li",{children:(0,xr.jsx)(Oe,{to:"/?category=".concat(encodeURIComponent(e.slug)),className:"text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:e.name})},e._id)),!v&&0===f.length&&(0,xr.jsx)("li",{className:"text-gray-400 dark:text-gray-500 text-xs",children:e("noCategoriesYet")||"Categories will appear here once created."})]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 tracking-wide uppercase mb-4",children:e("levels")||"Levels"}),(0,xr.jsxs)("ul",{className:"space-y-2 text-sm",children:[k&&(0,xr.jsx)("li",{className:"text-gray-400 dark:text-gray-500 text-xs",children:e("loading")||"Loading..."}),!k&&w.map(e=>(0,xr.jsx)("li",{children:(0,xr.jsx)(Oe,{to:"/?level=".concat(encodeURIComponent(e.slug)),className:"text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:e.name})},e._id)),!k&&0===w.length&&(0,xr.jsx)("li",{className:"text-gray-400 dark:text-gray-500 text-xs",children:e("noLevelsYet")||"Levels will appear here once created."})]})]}),(0,xr.jsxs)("div",{className:"space-y-6",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h3",{className:"text-base font-semibold text-gray-900 dark:text-gray-100 tracking-wide uppercase mb-3",children:e("legal")||"Legal"}),(0,xr.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,xr.jsx)("li",{children:(0,xr.jsx)(Oe,{to:"/terms",className:"text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors",target:"_blank",rel:"noreferrer",children:e("termsOfService")||"Terms of Service"})}),(0,xr.jsx)("li",{children:(0,xr.jsx)(Oe,{to:"/privacy",className:"text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors",target:"_blank",rel:"noreferrer",children:e("privacyPolicy")||"Privacy Policy"})})]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h3",{className:"text-base font-semibold text-gray-900 dark:text-gray-100 tracking-wide uppercase mb-3",children:e("contactInfo")||"Contact Info"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:e("availableViaMessage")||"Have a question or need help? Our support team is available through the platform messaging system."}),(0,xr.jsx)("button",{type:"button",onClick:async()=>{s?(A(!0),S||D||await M()):n("/login")},disabled:g,className:"inline-flex items-center px-3 py-1.5 rounded-md text-sm font-medium bg-primary-600 text-white hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:e("contactUs")||"Contact Us"})]})]})]}),(0,xr.jsxs)("div",{className:"mt-8 border-t border-gray-200 dark:border-gray-800 pt-4 flex flex-col md:flex-row items-center justify-between space-y-3 md:space-y-0",children:[(0,xr.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-500 text-center md:text-left",children:["\xa9 ",B," ",V,". ",e("allRightsReserved")||"All rights reserved."]}),(0,xr.jsxs)("div",{className:"flex flex-wrap items-center gap-3 text-sm ".concat(r?"md:flex-row-reverse":""),children:[(0,xr.jsx)(Oe,{to:"/faq",className:"text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:e("faq")||"FAQ"}),(0,xr.jsx)(Oe,{to:"/help",className:"text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:e("helpCenter")||"Help Center"}),(0,xr.jsx)(Oe,{to:"/about",className:"text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:e("aboutUsTitle")||"About"}),(0,xr.jsx)(Oe,{to:"/terms",className:"text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:e("termsOfService")||"Terms of Service"}),(0,xr.jsx)(Oe,{to:"/privacy",className:"text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:e("privacyPolicy")||"Privacy Policy"})]})]})]}),C&&(0,xr.jsx)("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/40 px-4",children:(0,xr.jsxs)("div",{className:"w-full max-w-md rounded-lg bg-white dark:bg-gray-900 shadow-xl border border-gray-200 dark:border-gray-800 p-6",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e("contactSupport")||"Contact Support"}),(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:e("contactSupportSubtitle")||"Send a quick message to the platform administrators."})]}),(0,xr.jsx)("button",{type:"button",onClick:I,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300","aria-label":"Close",children:"\xd7"})]}),D&&!S&&(0,xr.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:[e("loading")||"Loading","..."]}),(0,xr.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=T.trim(),r=R.trim();if(t.length<2)er.error("Subject must be at least 2 characters");else if(r.length<10)er.error("Message must be at least 10 characters");else if(s){if(!S)return c?(window.location.href="mailto:".concat(c,"?subject=").concat(encodeURIComponent(t),"&body=").concat(encodeURIComponent(r)),void I()):void er.error("Support is temporarily unavailable. Please try again later.");try{L(!0);const e=localStorage.getItem("token");if(!e)return void er.error("Authentication error. Please log in again.");await i.A.post("/api/messages",{recipient:S._id,subject:t,content:r},{headers:{Authorization:"Bearer ".concat(e)}}),er.success("Your message has been sent to the admin."),I()}catch(m){var a,n,o,l,d,u;console.error("Footer contact message error:",m);const e=(null===(a=m.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message)||(null===(o=m.response)||void 0===o||null===(l=o.data)||void 0===l||null===(d=l.errors)||void 0===d||null===(u=d[0])||void 0===u?void 0:u.msg)||"Failed to send message. Please try again.";er.error(e)}finally{L(!1)}}else er.error("Please sign in to contact support")},className:"space-y-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:e("subject")||"Subject"}),(0,xr.jsx)("input",{type:"text",value:T,onChange:e=>_(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md bg-white dark:bg-gray-800 text-sm text-gray-900 dark:text-white",placeholder:e("contactSubjectPlaceholder")||"How can we help you?"})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:e("message")||"Message"}),(0,xr.jsx)("textarea",{rows:4,value:R,onChange:e=>O(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md bg-white dark:bg-gray-800 text-sm text-gray-900 dark:text-white resize-y",placeholder:e("contactMessagePlaceholder")||"Describe your question or issue in as much detail as possible."})]}),(0,xr.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,xr.jsx)("p",{className:"text-[11px] text-gray-500 dark:text-gray-400 max-w-xs",children:e("contactSupportHint")||"Your message will be delivered to the admin inbox. You may also receive a copy via email."}),(0,xr.jsxs)("button",{type:"submit",disabled:F,className:"inline-flex items-center px-4 py-1.5 rounded-md text-xs font-medium bg-primary-600 text-white hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[F&&(0,xr.jsx)("span",{className:"mr-2 inline-block h-4 w-4 border-2 border-white border-b-transparent rounded-full animate-spin"}),F?e("sending")||"Sending...":e("sendMessage")||"Send message"]})]})]})]})})]})},Sa=e=>{let{size:t="large",text:r="Loading..."}=e;return(0,xr.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,xr.jsx)(rr.P.div,{className:"".concat({small:"w-4 h-4",medium:"w-8 h-8",large:"w-12 h-12"}[t]," border-4 border-gray-200 dark:border-gray-700 border-t-primary-600 rounded-full animate-spin"),animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),r&&(0,xr.jsx)(rr.P.p,{className:"mt-4 text-gray-600 dark:text-gray-400 text-lg font-medium",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:r})]})},Ea=e=>{let{children:t,allowedRoles:r=[]}=e;const{user:a,loading:n}=wr();return n?(0,xr.jsx)(Sa,{}):a?r.length>0&&!r.includes(a.role)?(0,xr.jsx)(ve,{to:"/",replace:!0}):r.includes("instructor")&&"instructor"===a.role&&"approved"!==a.instructorStatus?(0,xr.jsx)(ve,{to:"/instructor/pending",replace:!0}):t:(0,xr.jsx)(ve,{to:"/login",replace:!0})},Da=(0,nr.A)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Pa=(0,nr.A)("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),Ta=e=>{let{show:t,onComplete:r,message:n="Welcome!"}=e;return(0,a.useEffect)(()=>{if(t){const e=setTimeout(()=>{r()},3e3);return()=>clearTimeout(e)}},[t,r]),(0,xr.jsx)(tr.N,{children:t&&(0,xr.jsx)(rr.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:(0,xr.jsxs)(rr.P.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,rotate:180},transition:{type:"spring",duration:.8},className:"relative bg-gradient-to-br from-indigo-600 to-purple-600 rounded-3xl p-12 shadow-2xl max-w-md mx-4",children:[(0,xr.jsx)("div",{className:"absolute inset-0 overflow-hidden rounded-3xl",children:[...Array(20)].map((e,t)=>(0,xr.jsx)(rr.P.div,{initial:{x:100*Math.random()-50,y:100*Math.random()-50,scale:0,opacity:0},animate:{x:400*(Math.random()-.5),y:400*(Math.random()-.5),scale:[0,1,0],opacity:[0,1,0]},transition:{duration:2,repeat:1/0,delay:.1*t,ease:"easeOut"},className:"absolute top-1/2 left-1/2",children:(0,xr.jsx)(Da,{className:"w-6 h-6 text-yellow-300"})},t))}),(0,xr.jsxs)("div",{className:"relative text-center",children:[(0,xr.jsx)(rr.P.div,{initial:{scale:0},animate:{scale:[0,1.2,1]},transition:{duration:.6,delay:.2},className:"w-24 h-24 mx-auto mb-6 bg-white rounded-full flex items-center justify-center",children:(0,xr.jsx)(Pa,{className:"w-16 h-16 text-green-500"})}),(0,xr.jsxs)(rr.P.h2,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"text-3xl font-bold text-white mb-3",children:["\ud83c\udf89 ",n]}),(0,xr.jsx)(rr.P.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},className:"text-indigo-100 text-lg",children:"Let's start your learning journey!"}),[...Array(30)].map((e,t)=>(0,xr.jsx)(rr.P.div,{initial:{x:0,y:0,opacity:1},animate:{x:600*(Math.random()-.5),y:600*Math.random()+200,opacity:0,rotate:720*Math.random()},transition:{duration:2,ease:"easeOut",delay:.5*Math.random()},className:"absolute top-1/2 left-1/2 w-3 h-3 rounded-full",style:{backgroundColor:["#ef4444","#f59e0b","#10b981","#3b82f6","#8b5cf6","#ec4899"][Math.floor(6*Math.random())]}},"confetti-".concat(t)))]})]})})})},_a=(0,nr.A)("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]),Ra=(0,nr.A)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),Oa=(0,nr.A)("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);var Fa={};!function e(t,r,a,n){var s=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),i="function"===typeof Path2D&&"function"===typeof DOMMatrix,o=function(){if(!t.OffscreenCanvas)return!1;try{var e=new OffscreenCanvas(1,1),r=e.getContext("2d");r.fillRect(0,0,1,1);var a=e.transferToImageBitmap();r.createPattern(a,"no-repeat")}catch(qe){return!1}return!0}();function l(){}function c(e){var a=r.exports.Promise,n=void 0!==a?a:t.Promise;return"function"===typeof n?new n(e):(e(l,l),null)}var d,u,m,h=(d=o,u=new Map,{transform:function(e){if(d)return e;if(u.has(e))return u.get(e);var t=new OffscreenCanvas(e.width,e.height);return t.getContext("2d").drawImage(e,0,0),u.set(e,t),t},clear:function(){u.clear()}}),p=function(){var e,t,r=Math.floor(1e3/60),a={},n=0;return"function"===typeof requestAnimationFrame&&"function"===typeof cancelAnimationFrame?(e=function(e){var t=Math.random();return a[t]=requestAnimationFrame(function s(i){n===i||n+r-1<i?(n=i,delete a[t],e()):a[t]=requestAnimationFrame(s)}),t},t=function(e){a[e]&&cancelAnimationFrame(a[e])}):(e=function(e){return setTimeout(e,r)},t=function(e){return clearTimeout(e)}),{frame:e,cancel:t}}(),g=function(){var t,r,n={};return function(){if(t)return t;if(!a&&s){var i=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join("\n");try{t=new Worker(URL.createObjectURL(new Blob([i])))}catch(qe){return"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn("\ud83c\udf8a Could not load worker",qe),null}!function(e){function t(t,r){e.postMessage({options:t||{},callback:r})}e.init=function(t){var r=t.transferControlToOffscreen();e.postMessage({canvas:r},[r])},e.fire=function(a,s,i){if(r)return t(a,null),r;var o=Math.random().toString(36).slice(2);return r=c(function(s){function l(t){t.data.callback===o&&(delete n[o],e.removeEventListener("message",l),r=null,h.clear(),i(),s())}e.addEventListener("message",l),t(a,o),n[o]=l.bind(null,{data:{callback:o}})})},e.reset=function(){for(var t in e.postMessage({reset:!0}),n)n[t](),delete n[t]}}(t)}return t}}(),x={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function f(e,t,r){return function(e,t){return t?t(e):e}(e&&(null!==(a=e[t])&&void 0!==a)?e[t]:x[t],r);var a}function y(e){return e<0?0:Math.floor(e)}function v(e,t){return Math.floor(Math.random()*(t-e))+e}function b(e){return parseInt(e,16)}function w(e){return e.map(j)}function j(e){var t=String(e).replace(/[^0-9a-f]/gi,"");return t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),{r:b(t.substring(0,2)),g:b(t.substring(2,4)),b:b(t.substring(4,6))}}function k(e){e.width=document.documentElement.clientWidth,e.height=document.documentElement.clientHeight}function N(e){var t=e.getBoundingClientRect();e.width=t.width,e.height=t.height}function C(e){var t=e.angle*(Math.PI/180),r=e.spread*(Math.PI/180);return{x:e.x,y:e.y,wobble:10*Math.random(),wobbleSpeed:Math.min(.11,.1*Math.random()+.05),velocity:.5*e.startVelocity+Math.random()*e.startVelocity,angle2D:-t+(.5*r-Math.random()*r),tiltAngle:(.5*Math.random()+.25)*Math.PI,color:e.color,shape:e.shape,tick:0,totalTicks:e.ticks,decay:e.decay,drift:e.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:3*e.gravity,ovalScalar:.6,scalar:e.scalar,flat:e.flat}}function A(e,t){t.x+=Math.cos(t.angle2D)*t.velocity+t.drift,t.y+=Math.sin(t.angle2D)*t.velocity+t.gravity,t.velocity*=t.decay,t.flat?(t.wobble=0,t.wobbleX=t.x+10*t.scalar,t.wobbleY=t.y+10*t.scalar,t.tiltSin=0,t.tiltCos=0,t.random=1):(t.wobble+=t.wobbleSpeed,t.wobbleX=t.x+10*t.scalar*Math.cos(t.wobble),t.wobbleY=t.y+10*t.scalar*Math.sin(t.wobble),t.tiltAngle+=.1,t.tiltSin=Math.sin(t.tiltAngle),t.tiltCos=Math.cos(t.tiltAngle),t.random=Math.random()+2);var r=t.tick++/t.totalTicks,a=t.x+t.random*t.tiltCos,n=t.y+t.random*t.tiltSin,s=t.wobbleX+t.random*t.tiltCos,o=t.wobbleY+t.random*t.tiltSin;if(e.fillStyle="rgba("+t.color.r+", "+t.color.g+", "+t.color.b+", "+(1-r)+")",e.beginPath(),i&&"path"===t.shape.type&&"string"===typeof t.shape.path&&Array.isArray(t.shape.matrix))e.fill(function(e,t,r,a,n,s,i){var o=new Path2D(e),l=new Path2D;l.addPath(o,new DOMMatrix(t));var c=new Path2D;return c.addPath(l,new DOMMatrix([Math.cos(i)*n,Math.sin(i)*n,-Math.sin(i)*s,Math.cos(i)*s,r,a])),c}(t.shape.path,t.shape.matrix,t.x,t.y,.1*Math.abs(s-a),.1*Math.abs(o-n),Math.PI/10*t.wobble));else if("bitmap"===t.shape.type){var l=Math.PI/10*t.wobble,c=.1*Math.abs(s-a),d=.1*Math.abs(o-n),u=t.shape.bitmap.width*t.scalar,m=t.shape.bitmap.height*t.scalar,p=new DOMMatrix([Math.cos(l)*c,Math.sin(l)*c,-Math.sin(l)*d,Math.cos(l)*d,t.x,t.y]);p.multiplySelf(new DOMMatrix(t.shape.matrix));var g=e.createPattern(h.transform(t.shape.bitmap),"no-repeat");g.setTransform(p),e.globalAlpha=1-r,e.fillStyle=g,e.fillRect(t.x-u/2,t.y-m/2,u,m),e.globalAlpha=1}else if("circle"===t.shape)e.ellipse?e.ellipse(t.x,t.y,Math.abs(s-a)*t.ovalScalar,Math.abs(o-n)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI):function(e,t,r,a,n,s,i,o,l){e.save(),e.translate(t,r),e.rotate(s),e.scale(a,n),e.arc(0,0,1,i,o,l),e.restore()}(e,t.x,t.y,Math.abs(s-a)*t.ovalScalar,Math.abs(o-n)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI);else if("star"===t.shape)for(var x=Math.PI/2*3,f=4*t.scalar,y=8*t.scalar,v=t.x,b=t.y,w=5,j=Math.PI/w;w--;)v=t.x+Math.cos(x)*y,b=t.y+Math.sin(x)*y,e.lineTo(v,b),x+=j,v=t.x+Math.cos(x)*f,b=t.y+Math.sin(x)*f,e.lineTo(v,b),x+=j;else e.moveTo(Math.floor(t.x),Math.floor(t.y)),e.lineTo(Math.floor(t.wobbleX),Math.floor(n)),e.lineTo(Math.floor(s),Math.floor(o)),e.lineTo(Math.floor(a),Math.floor(t.wobbleY));return e.closePath(),e.fill(),t.tick<t.totalTicks}function S(e,r){var i,o=!e,l=!!f(r||{},"resize"),d=!1,u=f(r,"disableForReducedMotion",Boolean),m=s&&!!f(r||{},"useWorker")?g():null,x=o?k:N,b=!(!e||!m)&&!!e.__confetti_initialized,j="function"===typeof matchMedia&&matchMedia("(prefers-reduced-motion)").matches;function S(t,r,s){for(var o=f(t,"particleCount",y),l=f(t,"angle",Number),d=f(t,"spread",Number),u=f(t,"startVelocity",Number),m=f(t,"decay",Number),g=f(t,"gravity",Number),b=f(t,"drift",Number),j=f(t,"colors",w),k=f(t,"ticks",Number),N=f(t,"shapes"),S=f(t,"scalar"),E=!!f(t,"flat"),D=function(e){var t=f(e,"origin",Object);return t.x=f(t,"x",Number),t.y=f(t,"y",Number),t}(t),P=o,T=[],_=e.width*D.x,R=e.height*D.y;P--;)T.push(C({x:_,y:R,angle:l,spread:d,startVelocity:u,color:j[P%j.length],shape:N[v(0,N.length)],ticks:k,decay:m,gravity:g,drift:b,scalar:S,flat:E}));return i?i.addFettis(T):(i=function(e,t,r,s,i){var o,l,d=t.slice(),u=e.getContext("2d"),m=c(function(t){function c(){o=l=null,u.clearRect(0,0,s.width,s.height),h.clear(),i(),t()}o=p.frame(function t(){!a||s.width===n.width&&s.height===n.height||(s.width=e.width=n.width,s.height=e.height=n.height),s.width||s.height||(r(e),s.width=e.width,s.height=e.height),u.clearRect(0,0,s.width,s.height),(d=d.filter(function(e){return A(u,e)})).length?o=p.frame(t):c()}),l=c});return{addFettis:function(e){return d=d.concat(e),m},canvas:e,promise:m,reset:function(){o&&p.cancel(o),l&&l()}}}(e,T,x,r,s),i.promise)}function E(r){var a=u||f(r,"disableForReducedMotion",Boolean),n=f(r,"zIndex",Number);if(a&&j)return c(function(e){e()});o&&i?e=i.canvas:o&&!e&&(e=function(e){var t=document.createElement("canvas");return t.style.position="fixed",t.style.top="0px",t.style.left="0px",t.style.pointerEvents="none",t.style.zIndex=e,t}(n),document.body.appendChild(e)),l&&!b&&x(e);var s={width:e.width,height:e.height};function h(){if(m){var t={getBoundingClientRect:function(){if(!o)return e.getBoundingClientRect()}};return x(t),void m.postMessage({resize:{width:t.width,height:t.height}})}s.width=s.height=null}function p(){i=null,l&&(d=!1,t.removeEventListener("resize",h)),o&&e&&(document.body.contains(e)&&document.body.removeChild(e),e=null,b=!1)}return m&&!b&&m.init(e),b=!0,m&&(e.__confetti_initialized=!0),l&&!d&&(d=!0,t.addEventListener("resize",h,!1)),m?m.fire(r,s,p):S(r,s,p)}return E.reset=function(){m&&m.reset(),i&&i.reset()},E}function E(){return m||(m=S(null,{useWorker:!0,resize:!0})),m}r.exports=function(){return E().apply(this,arguments)},r.exports.reset=function(){E().reset()},r.exports.create=S,r.exports.shapeFromPath=function(e){if(!i)throw new Error("path confetti are not supported in this browser");var t,r;"string"===typeof e?t=e:(t=e.path,r=e.matrix);var a=new Path2D(t),n=document.createElement("canvas").getContext("2d");if(!r){for(var s,o,l=1e3,c=l,d=l,u=0,m=0,h=0;h<l;h+=2)for(var p=0;p<l;p+=2)n.isPointInPath(a,h,p,"nonzero")&&(c=Math.min(c,h),d=Math.min(d,p),u=Math.max(u,h),m=Math.max(m,p));s=u-c,o=m-d;var g=Math.min(10/s,10/o);r=[g,0,0,g,-Math.round(s/2+c)*g,-Math.round(o/2+d)*g]}return{type:"path",path:t,matrix:r}},r.exports.shapeFromText=function(e){var t,r=1,a="#000000",n='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';"string"===typeof e?t=e:(t=e.text,r="scalar"in e?e.scalar:r,n="fontFamily"in e?e.fontFamily:n,a="color"in e?e.color:a);var s=10*r,i=s+"px "+n,o=new OffscreenCanvas(s,s),l=o.getContext("2d");l.font=i;var c=l.measureText(t),d=Math.ceil(c.actualBoundingBoxRight+c.actualBoundingBoxLeft),u=Math.ceil(c.actualBoundingBoxAscent+c.actualBoundingBoxDescent),m=c.actualBoundingBoxLeft+2,h=c.actualBoundingBoxAscent+2;d+=4,u+=4,(l=(o=new OffscreenCanvas(d,u)).getContext("2d")).font=i,l.fillStyle=a,l.fillText(t,m,h);var p=1/r;return{type:"bitmap",bitmap:o.transferToImageBitmap(),matrix:[p,0,0,p,-d*p/2,-u*p/2]}}}(function(){return"undefined"!==typeof window?window:"undefined"!==typeof self?self:this||{}}(),Fa,!1);const La=Fa.exports;Fa.exports.create;const Ma=e=>{let{isOpen:t,onClose:r,userRole:n="student",eventType:s,message:i,userName:o,courseName:l,autoCloseDelay:c=5e3}=e;const[d,u]=(0,a.useState)(!1);(0,a.useEffect)(()=>{if(t){u(!0),m(s);const e=setTimeout(()=>{h()},c);return()=>clearTimeout(e)}},[t,c]);const m=e=>{const t=Date.now()+3e3,r={startVelocity:30,spread:360,ticks:60,zIndex:9999},a=(e,t)=>Math.random()*(t-e)+e,n=setInterval(()=>{const s=t-Date.now();if(s<=0)return clearInterval(n);const i=s/3e3*50;"certificateReceived"===e||"courseCompleted"===e?(La((0,Be.A)((0,Be.A)({},r),{},{particleCount:i,origin:{x:a(.1,.3),y:Math.random()-.2},colors:["#FFD700","#FFA500","#FF6347"]})),La((0,Be.A)((0,Be.A)({},r),{},{particleCount:i,origin:{x:a(.7,.9),y:Math.random()-.2},colors:["#FFD700","#FFA500","#FF6347"]}))):La((0,Be.A)((0,Be.A)({},r),{},{particleCount:i,origin:{x:a(.1,.9),y:Math.random()-.2}}))},250)},h=()=>{u(!1),setTimeout(()=>{r()},300)},p=(()=>{const e={signup:{icon:Da,title:"Welcome".concat(o?", ".concat(o):"","!"),subtitle:"student"===n?"Let's start your learning journey \ud83c\udf93":"Your teaching journey begins \ud83d\udc68\u200d\ud83c\udfeb",gradient:"from-blue-500 to-purple-600",iconColor:"text-blue-500"},courseCompleted:{icon:mr,title:"Course Completed! \ud83c\udfc6",subtitle:l?"You've successfully completed ".concat(l):"Amazing achievement!",gradient:"from-green-500 to-emerald-600",iconColor:"text-green-500"},certificateReceived:{icon:_a,title:"Certificate Earned! \ud83c\udf93",subtitle:l?"Your certificate for ".concat(l," is ready"):"Amazing job!",gradient:"from-yellow-500 to-orange-600",iconColor:"text-yellow-500"},courseCreated:{icon:Ra,title:"Course Created! \ud83d\ude80",subtitle:l?"".concat(l," is now live!"):"Let's inspire students!",gradient:"from-indigo-500 to-purple-600",iconColor:"text-indigo-500"},assignmentCompleted:{icon:Oa,title:"Assignment Completed! \u2728",subtitle:"Great work on completing your assignment!",gradient:"from-pink-500 to-rose-600",iconColor:"text-pink-500"},pointsAwarded:{icon:mr,title:"Points Awarded! \u2728",subtitle:i||"Keep going to earn more points!",gradient:"from-green-500 to-teal-600",iconColor:"text-green-500"},badgeUnlocked:{icon:Oa,title:"Badge Unlocked! \ud83c\udfc5",subtitle:i||"New achievement unlocked",gradient:"from-amber-500 to-yellow-600",iconColor:"text-amber-500"},streak:{icon:Da,title:"Daily Streak \ud83d\udd25",subtitle:i||"Keep your streak alive",gradient:"from-orange-500 to-red-600",iconColor:"text-orange-500"},titleUp:{icon:mr,title:"New Title Unlocked \ud83d\udc51",subtitle:i||"Level up! A new title has been assigned to you.",gradient:"from-fuchsia-500 to-purple-600",iconColor:"text-fuchsia-500"}};return e[s]||e.signup})(),g=p.icon;return t?(0,xr.jsx)(tr.N,{children:d&&(0,xr.jsx)(rr.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[9998] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:h,children:(0,xr.jsxs)(rr.P.div,{initial:{scale:.5,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},exit:{scale:.5,opacity:0,y:50},transition:{type:"spring",damping:25,stiffness:300},onClick:e=>e.stopPropagation(),className:"relative max-w-md w-full",children:[(0,xr.jsx)("button",{onClick:h,className:"absolute -top-2 -right-2 z-10 p-2 bg-white dark:bg-gray-800 rounded-full shadow-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:(0,xr.jsx)(pr.A,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})}),(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl overflow-hidden",children:[(0,xr.jsxs)("div",{className:"bg-gradient-to-r ".concat(p.gradient," p-8 text-center"),children:[(0,xr.jsx)(rr.P.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.2,type:"spring",damping:20,stiffness:300},className:"inline-block p-6 bg-white/20 backdrop-blur-sm rounded-full mb-4",children:(0,xr.jsx)(g,{className:"w-16 h-16 text-white"})}),(0,xr.jsx)(rr.P.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-3xl font-bold text-white mb-2",children:p.title})]}),(0,xr.jsxs)("div",{className:"p-8 text-center",children:[(0,xr.jsx)(rr.P.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-lg text-gray-700 dark:text-gray-300 mb-6",children:i||p.subtitle}),(0,xr.jsx)("div",{className:"flex justify-center gap-2 mb-6",children:[...Array(5)].map((e,t)=>(0,xr.jsx)(rr.P.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:.5+.1*t,type:"spring",damping:15},children:(0,xr.jsx)(Da,{className:"w-6 h-6 ".concat(p.iconColor)})},t))}),(0,xr.jsx)(rr.P.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},onClick:h,className:"px-8 py-3 bg-gradient-to-r ".concat(p.gradient," text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200"),children:"Continue"})]})]}),(0,xr.jsx)("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[...Array(8)].map((e,t)=>(0,xr.jsx)(rr.P.div,{initial:{y:"100%",x:"".concat(100*Math.random(),"%"),opacity:0},animate:{y:"-100%",opacity:[0,1,0]},transition:{duration:3+2*Math.random(),delay:2*Math.random(),repeat:1/0,ease:"linear"},className:"absolute w-2 h-2 rounded-full ".concat(p.iconColor," opacity-50")},t))})]})})}):null};let Ia=[],Ba=null,qa=null,za=null,Ua=null;const Va=()=>{const[e,t]=(0,a.useState)(Ia),[r,n]=(0,a.useState)(Ba),[s]=(0,a.useState)(()=>Math.random().toString(36).substr(2,9));(0,a.useEffect)(()=>(console.log("\ud83c\udfaf GamificationNotifier: Component MOUNTED",s),Ua?console.log("\ud83c\udfaf GamificationNotifier: Another component is active, this one will be passive",s):(Ua=s,qa=t,za=n,console.log("\ud83c\udfaf GamificationNotifier: This component is now ACTIVE",s)),()=>{console.log("\ud83c\udfaf GamificationNotifier: Component UNMOUNTED",s),Ua===s&&(Ua=null,qa=null,za=null,console.log("\ud83c\udfaf GamificationNotifier: Active component unmounted",s))}),[s]);const i=(0,a.useCallback)(()=>{if(Ua!==s)return void console.log("\ud83c\udfaf GamificationNotifier: Passive component ignoring close",s);console.log("\ud83c\udfaf GamificationNotifier: Active component closing animation",s,{currentGlobalCurrent:Ba,queueLength:Ia.length}),Ba=null;const[,...e]=Ia;Ia=e,setTimeout(()=>{za&&za(null),qa&&qa([...Ia]),console.log("\ud83c\udfaf GamificationNotifier: State updated after close",{newQueueLength:Ia.length,globalCurrentIsNull:null===Ba})},100)},[s]);return(0,a.useEffect)(()=>{console.log("\ud83c\udfaf GamificationNotifier: Queue processing effect triggered",{componentId:s,isActive:Ua===s,hasGlobalCurrent:!!Ba,queueLength:Ia.length}),Ua===s?Ba?console.log("\ud83c\udfaf GamificationNotifier: Animation already active, skipping",s):Ia.length>0?(console.log("\ud83c\udfaf GamificationNotifier: Processing next animation from queue",s,Ia[0]),Ba=Ia[0],za&&za(Ia[0])):console.log("\ud83c\udfaf GamificationNotifier: Queue is empty, nothing to process",s):console.log("\ud83c\udfaf GamificationNotifier: Not active component, skipping",s)},[e,s]),(0,a.useEffect)(()=>{const t="gamificationNotifierActive";if(window[t])return void console.log("\ud83c\udfaf GamificationNotifier: Another instance is already active, skipping listener setup");window[t]=!0;const a=new Map,n=t=>{const n=t.detail||{},s="".concat(n.eventType||"signup",":").concat(n.message||""),i=Date.now(),o=a.get(s)||0;if(console.log("\ud83c\udfaf GamificationNotifier: Event received",{eventType:n.eventType,message:n.message,key:s,timeSinceLastSame:i-o,willShow:i-o>=2e3,currentQueue:e.length,currentActive:!!r}),i-o<2e3)return void console.log("\ud83d\udeab GamificationNotifier: BLOCKED duplicate event",s);a.set(s,i);const l={eventType:n.eventType||"signup",message:n.message||"",userName:n.userName||null,courseName:n.courseName||null};console.log("\u2705 GamificationNotifier: Adding to global queue",l),Ia=[...Ia,l],qa&&qa([...Ia])};return console.log("\ud83c\udfaf GamificationNotifier: Event listener attached (active instance)"),window.addEventListener("gamification:notify",n),()=>{console.log("\ud83c\udfaf GamificationNotifier: Event listener removed (active instance)"),window.removeEventListener("gamification:notify",n),window[t]&&delete window[t]}},[]),Ua!==s?(console.log("\ud83c\udfaf GamificationNotifier: Passive component not rendering modal",s),null):(0,xr.jsx)(Ma,{isOpen:!!r,onClose:i,eventType:null===r||void 0===r?void 0:r.eventType,message:null===r||void 0===r?void 0:r.message,userName:null===r||void 0===r?void 0:r.userName,courseName:null===r||void 0===r?void 0:r.courseName,userRole:(null===r||void 0===r?void 0:r.userRole)||"student",autoCloseDelay:4500})};var Ya=r(4e3),Wa=r(7115),Ha=r.n(Wa);const Ga=e=>{const[t,r]=(0,a.useState)([]),[n,s]=(0,a.useState)([]),[o,l]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)(!0),[h,p]=(0,a.useState)(null),g=(0,a.useCallback)(async()=>{try{const e=(await i.A.get("/api/courses")).data.courses||[];r(e),p(null)}catch(h){console.error("Error fetching courses:",h),p("Failed to load courses"),r([])}},[]),x=(0,a.useCallback)(async()=>{try{const e="home_categories_v1",t=(e=>{try{const t=localStorage.getItem(e);if(!t)return null;const r=JSON.parse(t);return!r||!r.expiresAt||Date.now()>r.expiresAt?(localStorage.removeItem(e),null):r.data}catch(t){return null}})(e);if(t)s(t);else{const t=(await i.A.get("/api/categories")).data.categories||[];s(t),function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6e5;try{localStorage.setItem(e,JSON.stringify({data:t,expiresAt:Date.now()+r}))}catch(a){}}(e,t)}}catch(h){console.error("Error fetching categories:",h),s([])}},[]),f=(0,a.useCallback)(async()=>{try{const e=(await i.A.get("/api/ratings/featured")).data.ratings||[];l(e)}catch(h){console.error("Error fetching ratings:",h),l([])}},[]),y=(0,a.useCallback)(async()=>{if(e&&"student"===e.role)try{const e=localStorage.getItem("token");if(!e)return void d([]);const t=await i.A.get("/api/courses/enrolled",{headers:{Authorization:"Bearer ".concat(e)}}),r=(t.data.enrolledCourses||[]).map(e=>{if(e.course){const t="object"===typeof e.course?e.course._id:e.course;return String(t)}return null}).filter(Boolean);d(r)}catch(h){console.error("Error fetching enrolled courses:",h),d([])}else d([])},[e]);return(0,a.useEffect)(()=>{(async()=>{m(!0),await Promise.all([g(),x(),f(),y()]),m(!1)})()},[g,x,f,y]),{courses:t,categories:n,featuredRatings:o,enrolledCourseIds:c,loading:u,error:h,refetch:{courses:g,categories:x,ratings:f,enrollments:y}}},Ka={initial:{opacity:0,y:20,scale:.98},animate:{opacity:1,y:0,scale:1,transition:{duration:.5,ease:[.22,1,.36,1]}},exit:{opacity:0,y:-20,scale:.98,transition:{duration:.3,ease:[.22,1,.36,1]}}},Qa=e=>{let{children:t}=e;return(0,xr.jsx)(rr.P.div,{initial:"initial",animate:"animate",exit:"exit",variants:Ka,children:t})};var $a=r(3986);function Xa(e){return t=>typeof t===e}var Ja=Xa("function"),Za=e=>"RegExp"===Object.prototype.toString.call(e).slice(8,-1),en=e=>!tn(e)&&!(e=>null===e)(e)&&(Ja(e)||"object"===typeof e),tn=Xa("undefined");function rn(e,t){if(e===t)return!0;if(e&&en(e)&&t&&en(t)){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)&&Array.isArray(t))return function(e,t){const{length:r}=e;if(r!==t.length)return!1;for(let a=r;0!==a--;)if(!rn(e[a],t[a]))return!1;return!0}(e,t);if(e instanceof Map&&t instanceof Map)return function(e,t){if(e.size!==t.size)return!1;for(const r of e.entries())if(!t.has(r[0]))return!1;for(const r of e.entries())if(!rn(r[1],t.get(r[0])))return!1;return!0}(e,t);if(e instanceof Set&&t instanceof Set)return function(e,t){if(e.size!==t.size)return!1;for(const r of e.entries())if(!t.has(r[0]))return!1;return!0}(e,t);if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return function(e,t){if(e.byteLength!==t.byteLength)return!1;const r=new DataView(e.buffer),a=new DataView(t.buffer);let n=e.byteLength;for(;n--;)if(r.getUint8(n)!==a.getUint8(n))return!1;return!0}(e,t);if(Za(e)&&Za(t))return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(let e=r.length;0!==e--;)if(!Object.prototype.hasOwnProperty.call(t,r[e]))return!1;for(let n=r.length;0!==n--;){const a=r[n];if(("_owner"!==a||!e.$$typeof)&&!rn(e[a],t[a]))return!1}return!0}return!(!Number.isNaN(e)||!Number.isNaN(t))||e===t}var an=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],nn=["bigint","boolean","null","number","string","symbol","undefined"];function sn(e){const t=Object.prototype.toString.call(e).slice(8,-1);return/HTML\w+Element/.test(t)?"HTMLElement":(r=t,an.includes(r)?t:void 0);var r}function on(e){return t=>sn(t)===e}function ln(e){return t=>typeof t===e}var cn=["innerHTML","ownerDocument","style","attributes","nodeValue"];function dn(e){if(null===e)return"null";switch(typeof e){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(dn.array(e))return"Array";if(dn.plainFunction(e))return"Function";const t=sn(e);return t||"Object"}dn.array=Array.isArray,dn.arrayOf=(e,t)=>!(!dn.array(e)&&!dn.function(t))&&e.every(e=>t(e)),dn.asyncGeneratorFunction=e=>"AsyncGeneratorFunction"===sn(e),dn.asyncFunction=on("AsyncFunction"),dn.bigint=ln("bigint"),dn.boolean=e=>!0===e||!1===e,dn.date=on("Date"),dn.defined=e=>!dn.undefined(e),dn.domElement=e=>dn.object(e)&&!dn.plainObject(e)&&1===e.nodeType&&dn.string(e.nodeName)&&cn.every(t=>t in e),dn.empty=e=>dn.string(e)&&0===e.length||dn.array(e)&&0===e.length||dn.object(e)&&!dn.map(e)&&!dn.set(e)&&0===Object.keys(e).length||dn.set(e)&&0===e.size||dn.map(e)&&0===e.size,dn.error=on("Error"),dn.function=ln("function"),dn.generator=e=>dn.iterable(e)&&dn.function(e.next)&&dn.function(e.throw),dn.generatorFunction=on("GeneratorFunction"),dn.instanceOf=(e,t)=>!(!e||!t)&&Object.getPrototypeOf(e)===t.prototype,dn.iterable=e=>!dn.nullOrUndefined(e)&&dn.function(e[Symbol.iterator]),dn.map=on("Map"),dn.nan=e=>Number.isNaN(e),dn.null=e=>null===e,dn.nullOrUndefined=e=>dn.null(e)||dn.undefined(e),dn.number=e=>ln("number")(e)&&!dn.nan(e),dn.numericString=e=>dn.string(e)&&e.length>0&&!Number.isNaN(Number(e)),dn.object=e=>!dn.nullOrUndefined(e)&&(dn.function(e)||"object"===typeof e),dn.oneOf=(e,t)=>!!dn.array(e)&&e.indexOf(t)>-1,dn.plainFunction=on("Function"),dn.plainObject=e=>{if("Object"!==sn(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.getPrototypeOf({})},dn.primitive=e=>{return dn.null(e)||(t=typeof e,nn.includes(t));var t},dn.promise=on("Promise"),dn.propertyOf=(e,t,r)=>{if(!dn.object(e)||!t)return!1;const a=e[t];return dn.function(r)?r(a):dn.defined(a)},dn.regexp=on("RegExp"),dn.set=on("Set"),dn.string=ln("string"),dn.symbol=ln("symbol"),dn.undefined=ln("undefined"),dn.weakMap=on("WeakMap"),dn.weakSet=on("WeakSet");var un=dn;function mn(e,t,r){const{actual:a,key:n,previous:s,type:i}=r,o=bn(e,n),l=bn(t,n);let c=[o,l].every(un.number)&&("increased"===i?o<l:o>l);return un.undefined(a)||(c=c&&l===a),un.undefined(s)||(c=c&&o===s),c}function hn(e,t,r){const{key:a,type:n,value:s}=r,i=bn(e,a),o=bn(t,a),l="added"===n?i:o,c="added"===n?o:i;return un.nullOrUndefined(s)?[i,o].every(un.array)?!c.every(yn(l)):[i,o].every(un.plainObject)?function(e,t){return t.some(t=>!e.includes(t))}(Object.keys(l),Object.keys(c)):![i,o].every(e=>un.primitive(e)&&un.defined(e))&&("added"===n?!un.defined(i)&&un.defined(o):un.defined(i)&&!un.defined(o)):un.defined(l)?!(!un.array(l)&&!un.plainObject(l))&&function(e,t,r){return!!vn(e,t)&&([e,t].every(un.array)?!e.some(xn(r))&&t.some(xn(r)):[e,t].every(un.plainObject)?!Object.entries(e).some(gn(r))&&Object.entries(t).some(gn(r)):t===r)}(l,c,s):rn(c,s)}function pn(e,t){let{key:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=bn(e,r),n=bn(t,r);if(!vn(a,n))throw new TypeError("Inputs have different types");if(!function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.every(e=>un.string(e)||un.array(e)||un.plainObject(e))}(a,n))throw new TypeError("Inputs don't have length");return[a,n].every(un.plainObject)&&(a=Object.keys(a),n=Object.keys(n)),[a,n]}function gn(e){return t=>{let[r,a]=t;return un.array(e)?rn(e,a)||e.some(e=>rn(e,a)||un.array(a)&&yn(a)(e)):un.plainObject(e)&&e[r]?!!e[r]&&rn(e[r],a):rn(e,a)}}function xn(e){return t=>un.array(e)?e.some(e=>rn(e,t)||un.array(t)&&yn(t)(e)):rn(e,t)}function fn(e,t){return un.array(e)?e.some(e=>rn(e,t)):rn(e,t)}function yn(e){return t=>e.some(e=>rn(e,t))}function vn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.every(un.array)||t.every(un.number)||t.every(un.plainObject)||t.every(un.string)}function bn(e,t){if(un.plainObject(e)||un.array(e)){if(un.string(t)){return t.split(".").reduce((e,t)=>e&&e[t],e)}return un.number(t)?e[t]:e}return e}function wn(e,t){if([e,t].some(un.nullOrUndefined))throw new Error("Missing required parameters");if(![e,t].every(e=>un.plainObject(e)||un.array(e)))throw new Error("Expected plain objects or array");return{added:(r,a)=>{try{return hn(e,t,{key:r,type:"added",value:a})}catch(n){return!1}},changed:(r,a,n)=>{try{const s=bn(e,r),i=bn(t,r),o=un.defined(a),l=un.defined(n);if(o||l){const e=l?fn(n,s):!fn(a,s),t=fn(a,i);return e&&t}return[s,i].every(un.array)||[s,i].every(un.plainObject)?!rn(s,i):s!==i}catch(s){return!1}},changedFrom:(r,a,n)=>{if(!un.defined(r))return!1;try{const s=bn(e,r),i=bn(t,r),o=un.defined(n);return fn(a,s)&&(o?fn(n,i):!o)}catch(s){return!1}},decreased:(r,a,n)=>{if(!un.defined(r))return!1;try{return mn(e,t,{key:r,actual:a,previous:n,type:"decreased"})}catch(s){return!1}},emptied:r=>{try{const[a,n]=pn(e,t,{key:r});return!!a.length&&!n.length}catch(a){return!1}},filled:r=>{try{const[a,n]=pn(e,t,{key:r});return!a.length&&!!n.length}catch(a){return!1}},increased:(r,a,n)=>{if(!un.defined(r))return!1;try{return mn(e,t,{key:r,actual:a,previous:n,type:"increased"})}catch(s){return!1}},removed:(r,a)=>{try{return hn(e,t,{key:r,type:"removed",value:a})}catch(n){return!1}}}}var jn=r(3865),kn=r(9496),Nn=r(2861),Cn=r(7789),An=r.n(Cn),Sn=r(5173),En=r.n(Sn),Dn="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,Pn=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(Dn&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var Tn=Dn&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},Pn))}};function _n(e){return e&&"[object Function]"==={}.toString.call(e)}function Rn(e,t){if(1!==e.nodeType)return[];var r=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?r[t]:r}function On(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function Fn(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=Rn(e),r=t.overflow,a=t.overflowX,n=t.overflowY;return/(auto|scroll|overlay)/.test(r+n+a)?e:Fn(On(e))}function Ln(e){return e&&e.referenceNode?e.referenceNode:e}var Mn=Dn&&!(!window.MSInputMethodContext||!document.documentMode),In=Dn&&/MSIE 10/.test(navigator.userAgent);function Bn(e){return 11===e?Mn:10===e?In:Mn||In}function qn(e){if(!e)return document.documentElement;for(var t=Bn(10)?document.body:null,r=e.offsetParent||null;r===t&&e.nextElementSibling;)r=(e=e.nextElementSibling).offsetParent;var a=r&&r.nodeName;return a&&"BODY"!==a&&"HTML"!==a?-1!==["TH","TD","TABLE"].indexOf(r.nodeName)&&"static"===Rn(r,"position")?qn(r):r:e?e.ownerDocument.documentElement:document.documentElement}function zn(e){return null!==e.parentNode?zn(e.parentNode):e}function Un(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var r=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,a=r?e:t,n=r?t:e,s=document.createRange();s.setStart(a,0),s.setEnd(n,0);var i=s.commonAncestorContainer;if(e!==i&&t!==i||a.contains(n))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||qn(e.firstElementChild)===e)}(i)?i:qn(i);var o=zn(e);return o.host?Un(o.host,t):Un(e,zn(t).host)}function Vn(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",r=e.nodeName;if("BODY"===r||"HTML"===r){var a=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||a)[t]}return e[t]}function Yn(e,t){var r="x"===t?"Left":"Top",a="Left"===r?"Right":"Bottom";return parseFloat(e["border"+r+"Width"])+parseFloat(e["border"+a+"Width"])}function Wn(e,t,r,a){return Math.max(t["offset"+e],t["scroll"+e],r["client"+e],r["offset"+e],r["scroll"+e],Bn(10)?parseInt(r["offset"+e])+parseInt(a["margin"+("Height"===e?"Top":"Left")])+parseInt(a["margin"+("Height"===e?"Bottom":"Right")]):0)}function Hn(e){var t=e.body,r=e.documentElement,a=Bn(10)&&getComputedStyle(r);return{height:Wn("Height",t,r,a),width:Wn("Width",t,r,a)}}var Gn=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),Kn=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},Qn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};function $n(e){return Qn({},e,{right:e.left+e.width,bottom:e.top+e.height})}function Xn(e){var t={};try{if(Bn(10)){t=e.getBoundingClientRect();var r=Vn(e,"top"),a=Vn(e,"left");t.top+=r,t.left+=a,t.bottom+=r,t.right+=a}else t=e.getBoundingClientRect()}catch(qe){}var n={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},s="HTML"===e.nodeName?Hn(e.ownerDocument):{},i=s.width||e.clientWidth||n.width,o=s.height||e.clientHeight||n.height,l=e.offsetWidth-i,c=e.offsetHeight-o;if(l||c){var d=Rn(e);l-=Yn(d,"x"),c-=Yn(d,"y"),n.width-=l,n.height-=c}return $n(n)}function Jn(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=Bn(10),n="HTML"===t.nodeName,s=Xn(e),i=Xn(t),o=Fn(e),l=Rn(t),c=parseFloat(l.borderTopWidth),d=parseFloat(l.borderLeftWidth);r&&n&&(i.top=Math.max(i.top,0),i.left=Math.max(i.left,0));var u=$n({top:s.top-i.top-c,left:s.left-i.left-d,width:s.width,height:s.height});if(u.marginTop=0,u.marginLeft=0,!a&&n){var m=parseFloat(l.marginTop),h=parseFloat(l.marginLeft);u.top-=c-m,u.bottom-=c-m,u.left-=d-h,u.right-=d-h,u.marginTop=m,u.marginLeft=h}return(a&&!r?t.contains(o):t===o&&"BODY"!==o.nodeName)&&(u=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=Vn(t,"top"),n=Vn(t,"left"),s=r?-1:1;return e.top+=a*s,e.bottom+=a*s,e.left+=n*s,e.right+=n*s,e}(u,t)),u}function Zn(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===Rn(e,"position"))return!0;var r=On(e);return!!r&&Zn(r)}function es(e){if(!e||!e.parentElement||Bn())return document.documentElement;for(var t=e.parentElement;t&&"none"===Rn(t,"transform");)t=t.parentElement;return t||document.documentElement}function ts(e,t,r,a){var n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s={top:0,left:0},i=n?es(e):Un(e,Ln(t));if("viewport"===a)s=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.ownerDocument.documentElement,a=Jn(e,r),n=Math.max(r.clientWidth,window.innerWidth||0),s=Math.max(r.clientHeight,window.innerHeight||0),i=t?0:Vn(r),o=t?0:Vn(r,"left");return $n({top:i-a.top+a.marginTop,left:o-a.left+a.marginLeft,width:n,height:s})}(i,n);else{var o=void 0;"scrollParent"===a?"BODY"===(o=Fn(On(t))).nodeName&&(o=e.ownerDocument.documentElement):o="window"===a?e.ownerDocument.documentElement:a;var l=Jn(o,i,n);if("HTML"!==o.nodeName||Zn(i))s=l;else{var c=Hn(e.ownerDocument),d=c.height,u=c.width;s.top+=l.top-l.marginTop,s.bottom=d+l.top,s.left+=l.left-l.marginLeft,s.right=u+l.left}}var m="number"===typeof(r=r||0);return s.left+=m?r:r.left||0,s.top+=m?r:r.top||0,s.right-=m?r:r.right||0,s.bottom-=m?r:r.bottom||0,s}function rs(e,t,r,a,n){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var i=ts(r,a,s,n),o={top:{width:i.width,height:t.top-i.top},right:{width:i.right-t.right,height:i.height},bottom:{width:i.width,height:i.bottom-t.bottom},left:{width:t.left-i.left,height:i.height}},l=Object.keys(o).map(function(e){return Qn({key:e},o[e],{area:(t=o[e],t.width*t.height)});var t}).sort(function(e,t){return t.area-e.area}),c=l.filter(function(e){var t=e.width,a=e.height;return t>=r.clientWidth&&a>=r.clientHeight}),d=c.length>0?c[0].key:l[0].key,u=e.split("-")[1];return d+(u?"-"+u:"")}function as(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Jn(r,a?es(t):Un(t,Ln(r)),a)}function ns(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),r=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),a=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+a,height:e.offsetHeight+r}}function ss(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function is(e,t,r){r=r.split("-")[0];var a=ns(e),n={width:a.width,height:a.height},s=-1!==["right","left"].indexOf(r),i=s?"top":"left",o=s?"left":"top",l=s?"height":"width",c=s?"width":"height";return n[i]=t[i]+t[l]/2-a[l]/2,n[o]=r===o?t[o]-a[c]:t[ss(o)],n}function os(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function ls(e,t,r){var a=void 0===r?e:e.slice(0,function(e,t,r){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===r});var a=os(e,function(e){return e[t]===r});return e.indexOf(a)}(e,"name",r));return a.forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var r=e.function||e.fn;e.enabled&&_n(r)&&(t.offsets.popper=$n(t.offsets.popper),t.offsets.reference=$n(t.offsets.reference),t=r(t,e))}),t}function cs(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=as(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=rs(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=is(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=ls(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function ds(e,t){return e.some(function(e){var r=e.name;return e.enabled&&r===t})}function us(e){for(var t=[!1,"ms","Webkit","Moz","O"],r=e.charAt(0).toUpperCase()+e.slice(1),a=0;a<t.length;a++){var n=t[a],s=n?""+n+r:e;if("undefined"!==typeof document.body.style[s])return s}return null}function ms(){return this.state.isDestroyed=!0,ds(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[us("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function hs(e){var t=e.ownerDocument;return t?t.defaultView:window}function ps(e,t,r,a){var n="BODY"===e.nodeName,s=n?e.ownerDocument.defaultView:e;s.addEventListener(t,r,{passive:!0}),n||ps(Fn(s.parentNode),t,r,a),a.push(s)}function gs(e,t,r,a){r.updateBound=a,hs(e).addEventListener("resize",r.updateBound,{passive:!0});var n=Fn(e);return ps(n,"scroll",r.updateBound,r.scrollParents),r.scrollElement=n,r.eventsEnabled=!0,r}function xs(){this.state.eventsEnabled||(this.state=gs(this.reference,this.options,this.state,this.scheduleUpdate))}function fs(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,hs(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function ys(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function vs(e,t){Object.keys(t).forEach(function(r){var a="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&ys(t[r])&&(a="px"),e.style[r]=t[r]+a})}var bs=Dn&&/Firefox/i.test(navigator.userAgent);function ws(e,t,r){var a=os(e,function(e){return e.name===t}),n=!!a&&e.some(function(e){return e.name===r&&e.enabled&&e.order<a.order});if(!n){var s="`"+t+"`",i="`"+r+"`";console.warn(i+" modifier is required by "+s+" modifier in order to work, be sure to include it before "+s+"!")}return n}var js=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],ks=js.slice(3);function Ns(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=ks.indexOf(e),a=ks.slice(r+1).concat(ks.slice(0,r));return t?a.reverse():a}var Cs="flip",As="clockwise",Ss="counterclockwise";function Es(e,t,r,a){var n=[0,0],s=-1!==["right","left"].indexOf(a),i=e.split(/(\+|\-)/).map(function(e){return e.trim()}),o=i.indexOf(os(i,function(e){return-1!==e.search(/,|\s/)}));i[o]&&-1===i[o].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==o?[i.slice(0,o).concat([i[o].split(l)[0]]),[i[o].split(l)[1]].concat(i.slice(o+1))]:[i];return c=c.map(function(e,a){var n=(1===a?!s:s)?"height":"width",i=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,i=!0,e):i?(e[e.length-1]+=t,i=!1,e):e.concat(t)},[]).map(function(e){return function(e,t,r,a){var n=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),s=+n[1],i=n[2];if(!s)return e;if(0===i.indexOf("%")){return $n("%p"===i?r:a)[t]/100*s}if("vh"===i||"vw"===i)return("vh"===i?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*s;return s}(e,n,t,r)})}),c.forEach(function(e,t){e.forEach(function(r,a){ys(r)&&(n[t]+=r*("-"===e[a-1]?-1:1))})}),n}var Ds={shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,r=t.split("-")[0],a=t.split("-")[1];if(a){var n=e.offsets,s=n.reference,i=n.popper,o=-1!==["bottom","top"].indexOf(r),l=o?"left":"top",c=o?"width":"height",d={start:Kn({},l,s[l]),end:Kn({},l,s[l]+s[c]-i[c])};e.offsets.popper=Qn({},i,d[a])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var r=t.offset,a=e.placement,n=e.offsets,s=n.popper,i=n.reference,o=a.split("-")[0],l=void 0;return l=ys(+r)?[+r,0]:Es(r,s,i,o),"left"===o?(s.top+=l[0],s.left-=l[1]):"right"===o?(s.top+=l[0],s.left+=l[1]):"top"===o?(s.left+=l[0],s.top-=l[1]):"bottom"===o&&(s.left+=l[0],s.top+=l[1]),e.popper=s,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var r=t.boundariesElement||qn(e.instance.popper);e.instance.reference===r&&(r=qn(r));var a=us("transform"),n=e.instance.popper.style,s=n.top,i=n.left,o=n[a];n.top="",n.left="",n[a]="";var l=ts(e.instance.popper,e.instance.reference,t.padding,r,e.positionFixed);n.top=s,n.left=i,n[a]=o,t.boundaries=l;var c=t.priority,d=e.offsets.popper,u={primary:function(e){var r=d[e];return d[e]<l[e]&&!t.escapeWithReference&&(r=Math.max(d[e],l[e])),Kn({},e,r)},secondary:function(e){var r="right"===e?"left":"top",a=d[r];return d[e]>l[e]&&!t.escapeWithReference&&(a=Math.min(d[r],l[e]-("right"===e?d.width:d.height))),Kn({},r,a)}};return c.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";d=Qn({},d,u[t](e))}),e.offsets.popper=d,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,r=t.popper,a=t.reference,n=e.placement.split("-")[0],s=Math.floor,i=-1!==["top","bottom"].indexOf(n),o=i?"right":"bottom",l=i?"left":"top",c=i?"width":"height";return r[o]<s(a[l])&&(e.offsets.popper[l]=s(a[l])-r[c]),r[l]>s(a[o])&&(e.offsets.popper[l]=s(a[o])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var r;if(!ws(e.instance.modifiers,"arrow","keepTogether"))return e;var a=t.element;if("string"===typeof a){if(!(a=e.instance.popper.querySelector(a)))return e}else if(!e.instance.popper.contains(a))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var n=e.placement.split("-")[0],s=e.offsets,i=s.popper,o=s.reference,l=-1!==["left","right"].indexOf(n),c=l?"height":"width",d=l?"Top":"Left",u=d.toLowerCase(),m=l?"left":"top",h=l?"bottom":"right",p=ns(a)[c];o[h]-p<i[u]&&(e.offsets.popper[u]-=i[u]-(o[h]-p)),o[u]+p>i[h]&&(e.offsets.popper[u]+=o[u]+p-i[h]),e.offsets.popper=$n(e.offsets.popper);var g=o[u]+o[c]/2-p/2,x=Rn(e.instance.popper),f=parseFloat(x["margin"+d]),y=parseFloat(x["border"+d+"Width"]),v=g-e.offsets.popper[u]-f-y;return v=Math.max(Math.min(i[c]-p,v),0),e.arrowElement=a,e.offsets.arrow=(Kn(r={},u,Math.round(v)),Kn(r,m,""),r),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(ds(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var r=ts(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),a=e.placement.split("-")[0],n=ss(a),s=e.placement.split("-")[1]||"",i=[];switch(t.behavior){case Cs:i=[a,n];break;case As:i=Ns(a);break;case Ss:i=Ns(a,!0);break;default:i=t.behavior}return i.forEach(function(o,l){if(a!==o||i.length===l+1)return e;a=e.placement.split("-")[0],n=ss(a);var c=e.offsets.popper,d=e.offsets.reference,u=Math.floor,m="left"===a&&u(c.right)>u(d.left)||"right"===a&&u(c.left)<u(d.right)||"top"===a&&u(c.bottom)>u(d.top)||"bottom"===a&&u(c.top)<u(d.bottom),h=u(c.left)<u(r.left),p=u(c.right)>u(r.right),g=u(c.top)<u(r.top),x=u(c.bottom)>u(r.bottom),f="left"===a&&h||"right"===a&&p||"top"===a&&g||"bottom"===a&&x,y=-1!==["top","bottom"].indexOf(a),v=!!t.flipVariations&&(y&&"start"===s&&h||y&&"end"===s&&p||!y&&"start"===s&&g||!y&&"end"===s&&x),b=!!t.flipVariationsByContent&&(y&&"start"===s&&p||y&&"end"===s&&h||!y&&"start"===s&&x||!y&&"end"===s&&g),w=v||b;(m||f||w)&&(e.flipped=!0,(m||f)&&(a=i[l+1]),w&&(s=function(e){return"end"===e?"start":"start"===e?"end":e}(s)),e.placement=a+(s?"-"+s:""),e.offsets.popper=Qn({},e.offsets.popper,is(e.instance.popper,e.offsets.reference,e.placement)),e=ls(e.instance.modifiers,e,"flip"))}),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,r=t.split("-")[0],a=e.offsets,n=a.popper,s=a.reference,i=-1!==["left","right"].indexOf(r),o=-1===["top","left"].indexOf(r);return n[i?"left":"top"]=s[r]-(o?n[i?"width":"height"]:0),e.placement=ss(t),e.offsets.popper=$n(n),e}},hide:{order:800,enabled:!0,fn:function(e){if(!ws(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,r=os(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<r.top||t.left>r.right||t.top>r.bottom||t.right<r.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var r=t.x,a=t.y,n=e.offsets.popper,s=os(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==s&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var i=void 0!==s?s:t.gpuAcceleration,o=qn(e.instance.popper),l=Xn(o),c={position:n.position},d=function(e,t){var r=e.offsets,a=r.popper,n=r.reference,s=Math.round,i=Math.floor,o=function(e){return e},l=s(n.width),c=s(a.width),d=-1!==["left","right"].indexOf(e.placement),u=-1!==e.placement.indexOf("-"),m=t?d||u||l%2===c%2?s:i:o,h=t?s:o;return{left:m(l%2===1&&c%2===1&&!u&&t?a.left-1:a.left),top:h(a.top),bottom:h(a.bottom),right:m(a.right)}}(e,window.devicePixelRatio<2||!bs),u="bottom"===r?"top":"bottom",m="right"===a?"left":"right",h=us("transform"),p=void 0,g=void 0;if(g="bottom"===u?"HTML"===o.nodeName?-o.clientHeight+d.bottom:-l.height+d.bottom:d.top,p="right"===m?"HTML"===o.nodeName?-o.clientWidth+d.right:-l.width+d.right:d.left,i&&h)c[h]="translate3d("+p+"px, "+g+"px, 0)",c[u]=0,c[m]=0,c.willChange="transform";else{var x="bottom"===u?-1:1,f="right"===m?-1:1;c[u]=g*x,c[m]=p*f,c.willChange=u+", "+m}var y={"x-placement":e.placement};return e.attributes=Qn({},y,e.attributes),e.styles=Qn({},c,e.styles),e.arrowStyles=Qn({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,r;return vs(e.instance.popper,e.styles),t=e.instance.popper,r=e.attributes,Object.keys(r).forEach(function(e){!1!==r[e]?t.setAttribute(e,r[e]):t.removeAttribute(e)}),e.arrowElement&&Object.keys(e.arrowStyles).length&&vs(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,r,a,n){var s=as(n,t,e,r.positionFixed),i=rs(r.placement,s,t,e,r.modifiers.flip.boundariesElement,r.modifiers.flip.padding);return t.setAttribute("x-placement",i),vs(t,{position:r.positionFixed?"fixed":"absolute"}),r},gpuAcceleration:void 0}},Ps={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:Ds},Ts=function(){function e(t,r){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(a.update)},this.update=Tn(this.update.bind(this)),this.options=Qn({},e.Defaults,n),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=r&&r.jquery?r[0]:r,this.options.modifiers={},Object.keys(Qn({},e.Defaults.modifiers,n.modifiers)).forEach(function(t){a.options.modifiers[t]=Qn({},e.Defaults.modifiers[t]||{},n.modifiers?n.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return Qn({name:e},a.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&_n(e.onLoad)&&e.onLoad(a.reference,a.popper,a.options,e,a.state)}),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return Gn(e,[{key:"update",value:function(){return cs.call(this)}},{key:"destroy",value:function(){return ms.call(this)}},{key:"enableEventListeners",value:function(){return xs.call(this)}},{key:"disableEventListeners",value:function(){return fs.call(this)}}]),e}();Ts.Utils=("undefined"!==typeof window?window:r.g).PopperUtils,Ts.placements=js,Ts.Defaults=Ps;const _s=Ts;var Rs=["innerHTML","ownerDocument","style","attributes","nodeValue"],Os=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],Fs=["bigint","boolean","null","number","string","symbol","undefined"];function Ls(e){var t,r=Object.prototype.toString.call(e).slice(8,-1);return/HTML\w+Element/.test(r)?"HTMLElement":(t=r,Os.includes(t)?r:void 0)}function Ms(e){return function(t){return Ls(t)===e}}function Is(e){return function(t){return typeof t===e}}function Bs(e){if(null===e)return"null";switch(typeof e){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(Bs.array(e))return"Array";if(Bs.plainFunction(e))return"Function";var t=Ls(e);return t||"Object"}Bs.array=Array.isArray,Bs.arrayOf=function(e,t){return!(!Bs.array(e)&&!Bs.function(t))&&e.every(function(e){return t(e)})},Bs.asyncGeneratorFunction=function(e){return"AsyncGeneratorFunction"===Ls(e)},Bs.asyncFunction=Ms("AsyncFunction"),Bs.bigint=Is("bigint"),Bs.boolean=function(e){return!0===e||!1===e},Bs.date=Ms("Date"),Bs.defined=function(e){return!Bs.undefined(e)},Bs.domElement=function(e){return Bs.object(e)&&!Bs.plainObject(e)&&1===e.nodeType&&Bs.string(e.nodeName)&&Rs.every(function(t){return t in e})},Bs.empty=function(e){return Bs.string(e)&&0===e.length||Bs.array(e)&&0===e.length||Bs.object(e)&&!Bs.map(e)&&!Bs.set(e)&&0===Object.keys(e).length||Bs.set(e)&&0===e.size||Bs.map(e)&&0===e.size},Bs.error=Ms("Error"),Bs.function=Is("function"),Bs.generator=function(e){return Bs.iterable(e)&&Bs.function(e.next)&&Bs.function(e.throw)},Bs.generatorFunction=Ms("GeneratorFunction"),Bs.instanceOf=function(e,t){return!(!e||!t)&&Object.getPrototypeOf(e)===t.prototype},Bs.iterable=function(e){return!Bs.nullOrUndefined(e)&&Bs.function(e[Symbol.iterator])},Bs.map=Ms("Map"),Bs.nan=function(e){return Number.isNaN(e)},Bs.null=function(e){return null===e},Bs.nullOrUndefined=function(e){return Bs.null(e)||Bs.undefined(e)},Bs.number=function(e){return Is("number")(e)&&!Bs.nan(e)},Bs.numericString=function(e){return Bs.string(e)&&e.length>0&&!Number.isNaN(Number(e))},Bs.object=function(e){return!Bs.nullOrUndefined(e)&&(Bs.function(e)||"object"===typeof e)},Bs.oneOf=function(e,t){return!!Bs.array(e)&&e.indexOf(t)>-1},Bs.plainFunction=Ms("Function"),Bs.plainObject=function(e){if("Object"!==Ls(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.getPrototypeOf({})},Bs.primitive=function(e){return Bs.null(e)||(t=typeof e,Fs.includes(t));var t},Bs.promise=Ms("Promise"),Bs.propertyOf=function(e,t,r){if(!Bs.object(e)||!t)return!1;var a=e[t];return Bs.function(r)?r(a):Bs.defined(a)},Bs.regexp=Ms("RegExp"),Bs.set=Ms("Set"),Bs.string=Is("string"),Bs.symbol=Is("symbol"),Bs.undefined=Is("undefined"),Bs.weakMap=Ms("WeakMap"),Bs.weakSet=Ms("WeakSet");const qs=Bs;function zs(e){return function(t){return typeof t===e}}var Us=zs("function"),Vs=function(e){return"RegExp"===Object.prototype.toString.call(e).slice(8,-1)},Ys=function(e){return!Ws(e)&&!function(e){return null===e}(e)&&(Us(e)||"object"===typeof e)},Ws=zs("undefined"),Hs=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],a=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function Gs(e,t){if(e===t)return!0;if(e&&Ys(e)&&t&&Ys(t)){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)&&Array.isArray(t))return function(e,t){var r=e.length;if(r!==t.length)return!1;for(var a=r;0!==a--;)if(!Gs(e[a],t[a]))return!1;return!0}(e,t);if(e instanceof Map&&t instanceof Map)return function(e,t){var r,a,n,s;if(e.size!==t.size)return!1;try{for(var i=Hs(e.entries()),o=i.next();!o.done;o=i.next()){var l=o.value;if(!t.has(l[0]))return!1}}catch(u){r={error:u}}finally{try{o&&!o.done&&(a=i.return)&&a.call(i)}finally{if(r)throw r.error}}try{for(var c=Hs(e.entries()),d=c.next();!d.done;d=c.next())if(!Gs((l=d.value)[1],t.get(l[0])))return!1}catch(m){n={error:m}}finally{try{d&&!d.done&&(s=c.return)&&s.call(c)}finally{if(n)throw n.error}}return!0}(e,t);if(e instanceof Set&&t instanceof Set)return function(e,t){var r,a;if(e.size!==t.size)return!1;try{for(var n=Hs(e.entries()),s=n.next();!s.done;s=n.next()){var i=s.value;if(!t.has(i[0]))return!1}}catch(o){r={error:o}}finally{try{s&&!s.done&&(a=n.return)&&a.call(n)}finally{if(r)throw r.error}}return!0}(e,t);if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return function(e,t){if(e.byteLength!==t.byteLength)return!1;for(var r=new DataView(e.buffer),a=new DataView(t.buffer),n=e.byteLength;n--;)if(r.getUint8(n)!==a.getUint8(n))return!1;return!0}(e,t);if(Vs(e)&&Vs(t))return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(var n=r.length;0!==n--;)if(!Object.prototype.hasOwnProperty.call(t,r[n]))return!1;for(n=r.length;0!==n--;){var s=r[n];if(("_owner"!==s||!e.$$typeof)&&!Gs(e[s],t[s]))return!1}return!0}return!(!Number.isNaN(e)||!Number.isNaN(t))||e===t}function Ks(e,t,r){var a=r.actual,n=r.key,s=r.previous,i=r.type,o=ri(e,n),l=ri(t,n),c=[o,l].every(qs.number)&&("increased"===i?o<l:o>l);return qs.undefined(a)||(c=c&&l===a),qs.undefined(s)||(c=c&&o===s),c}function Qs(e,t,r){var a=r.key,n=r.type,s=r.value,i=ri(e,a),o=ri(t,a),l="added"===n?i:o,c="added"===n?o:i;return qs.nullOrUndefined(s)?[i,o].every(qs.array)?!c.every(ei(l)):[i,o].every(qs.plainObject)?function(e,t){return t.some(function(t){return!e.includes(t)})}(Object.keys(l),Object.keys(c)):![i,o].every(function(e){return qs.primitive(e)&&qs.defined(e)})&&("added"===n?!qs.defined(i)&&qs.defined(o):qs.defined(i)&&!qs.defined(o)):qs.defined(l)?!(!qs.array(l)&&!qs.plainObject(l))&&function(e,t,r){return!!ti(e,t)&&([e,t].every(qs.array)?!e.some(Js(r))&&t.some(Js(r)):[e,t].every(qs.plainObject)?!Object.entries(e).some(Xs(r))&&Object.entries(t).some(Xs(r)):t===r)}(l,c,s):Gs(c,s)}function $s(e,t,r){var a=(void 0===r?{}:r).key,n=ri(e,a),s=ri(t,a);if(!ti(n,s))throw new TypeError("Inputs have different types");if(!function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every(function(e){return qs.string(e)||qs.array(e)||qs.plainObject(e)})}(n,s))throw new TypeError("Inputs don't have length");return[n,s].every(qs.plainObject)&&(n=Object.keys(n),s=Object.keys(s)),[n,s]}function Xs(e){return function(t){var r=t[0],a=t[1];return qs.array(e)?Gs(e,a)||e.some(function(e){return Gs(e,a)||qs.array(a)&&ei(a)(e)}):qs.plainObject(e)&&e[r]?!!e[r]&&Gs(e[r],a):Gs(e,a)}}function Js(e){return function(t){return qs.array(e)?e.some(function(e){return Gs(e,t)||qs.array(t)&&ei(t)(e)}):Gs(e,t)}}function Zs(e,t){return qs.array(e)?e.some(function(e){return Gs(e,t)}):Gs(e,t)}function ei(e){return function(t){return e.some(function(e){return Gs(e,t)})}}function ti(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every(qs.array)||e.every(qs.number)||e.every(qs.plainObject)||e.every(qs.string)}function ri(e,t){return qs.plainObject(e)||qs.array(e)?qs.string(t)?t.split(".").reduce(function(e,t){return e&&e[t]},e):qs.number(t)?e[t]:e:e}function ai(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function ni(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ai(Object(r),!0).forEach(function(t){li(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ai(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function si(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ii(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,gi(a.key),a)}}function oi(e,t,r){return t&&ii(e.prototype,t),r&&ii(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function li(e,t,r){return(t=gi(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ci(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ui(e,t)}function di(e){return di=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},di(e)}function ui(e,t){return ui=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ui(e,t)}function mi(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},s=Object.keys(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function hi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pi(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(qe){return!1}}();return function(){var r,a=di(e);if(t){var n=di(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return hi(e)}(this,r)}}function gi(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!==typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var xi={flip:{padding:20},preventOverflow:{padding:10}};function fi(e,t,r){return function(e,t){if("function"!==typeof e)throw new TypeError("The typeValidator argument must be a function with the signature function(props, propName, componentName).");if(Boolean(t)&&"string"!==typeof t)throw new TypeError("The error message is optional, but must be a string if provided.")}(e,r),function(a,n,s){for(var i=arguments.length,o=new Array(i>3?i-3:0),l=3;l<i;l++)o[l-3]=arguments[l];return function(e,t,r,a){return"boolean"===typeof e?e:"function"===typeof e?e(t,r,a):!0===Boolean(e)&&Boolean(e)}(t,a,n,s)?function(e,t){return Object.hasOwnProperty.call(e,t)}(a,n)?e.apply(void 0,[a,n,s].concat(o)):function(e,t,r,a){return a?new Error(a):new Error("Required ".concat(e[t]," `").concat(t,"` was not specified in `").concat(r,"`."))}(a,n,s,r):e.apply(void 0,[a,n,s].concat(o))}}var yi={INIT:"init",IDLE:"idle",OPENING:"opening",OPEN:"open",CLOSING:"closing",ERROR:"error"},vi=void 0!==Ne.createPortal;function bi(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}function wi(){return"ontouchstart"in window&&/Mobi/.test(navigator.userAgent)}function ji(e){var t=e.title,r=e.data,a=e.warn,n=void 0!==a&&a,s=e.debug,i=void 0!==s&&s,o=n?console.warn||console.error:console.log;i&&t&&r&&(console.groupCollapsed("%creact-floater: ".concat(t),"color: #9b00ff; font-weight: bold; font-size: 12px;"),Array.isArray(r)?r.forEach(function(e){qs.plainObject(e)&&e.key?o.apply(console,[e.key,e.value]):o.apply(console,[e])}):o.apply(console,[r]),console.groupEnd())}function ki(){}var Ni=function(e){ci(r,e);var t=pi(r);function r(){return si(this,r),t.apply(this,arguments)}return oi(r,[{key:"componentDidMount",value:function(){bi()&&(this.node||this.appendNode(),vi||this.renderPortal())}},{key:"componentDidUpdate",value:function(){bi()&&(vi||this.renderPortal())}},{key:"componentWillUnmount",value:function(){bi()&&this.node&&(vi||Ne.unmountComponentAtNode(this.node),this.node&&this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=void 0))}},{key:"appendNode",value:function(){var e=this.props,t=e.id,r=e.zIndex;this.node||(this.node=document.createElement("div"),t&&(this.node.id=t),r&&(this.node.style.zIndex=r),document.body.appendChild(this.node))}},{key:"renderPortal",value:function(){if(!bi())return null;var e=this.props,t=e.children,r=e.setRef;return this.node||this.appendNode(),vi?Ne.createPortal(t,this.node):(r(Ne.unstable_renderSubtreeIntoContainer(this,t.length>1?a.createElement("div",null,t):t[0],this.node)),null)}},{key:"renderReact16",value:function(){var e=this.props,t=e.hasChildren,r=e.placement,a=e.target;return t||a||"center"===r?this.renderPortal():null}},{key:"render",value:function(){return vi?this.renderReact16():null}}]),r}(a.Component);li(Ni,"propTypes",{children:En().oneOfType([En().element,En().array]),hasChildren:En().bool,id:En().oneOfType([En().string,En().number]),placement:En().string,setRef:En().func.isRequired,target:En().oneOfType([En().object,En().string]),zIndex:En().number});var Ci=function(e){ci(r,e);var t=pi(r);function r(){return si(this,r),t.apply(this,arguments)}return oi(r,[{key:"parentStyle",get:function(){var e=this.props,t=e.placement,r=e.styles.arrow.length,a={pointerEvents:"none",position:"absolute",width:"100%"};return t.startsWith("top")?(a.bottom=0,a.left=0,a.right=0,a.height=r):t.startsWith("bottom")?(a.left=0,a.right=0,a.top=0,a.height=r):t.startsWith("left")?(a.right=0,a.top=0,a.bottom=0):t.startsWith("right")&&(a.left=0,a.top=0),a}},{key:"render",value:function(){var e,t=this.props,r=t.placement,n=t.setArrowRef,s=t.styles.arrow,i=s.color,o=s.display,l=s.length,c=s.margin,d=s.position,u=s.spread,m={display:o,position:d},h=u,p=l;return r.startsWith("top")?(e="0,0 ".concat(h/2,",").concat(p," ").concat(h,",0"),m.bottom=0,m.marginLeft=c,m.marginRight=c):r.startsWith("bottom")?(e="".concat(h,",").concat(p," ").concat(h/2,",0 0,").concat(p),m.top=0,m.marginLeft=c,m.marginRight=c):r.startsWith("left")?(p=u,e="0,0 ".concat(h=l,",").concat(p/2," 0,").concat(p),m.right=0,m.marginTop=c,m.marginBottom=c):r.startsWith("right")&&(p=u,e="".concat(h=l,",").concat(p," ").concat(h,",0 0,").concat(p/2),m.left=0,m.marginTop=c,m.marginBottom=c),a.createElement("div",{className:"__floater__arrow",style:this.parentStyle},a.createElement("span",{ref:n,style:m},a.createElement("svg",{width:h,height:p,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},a.createElement("polygon",{points:e,fill:i}))))}}]),r}(a.Component);li(Ci,"propTypes",{placement:En().string.isRequired,setArrowRef:En().func.isRequired,styles:En().object.isRequired});var Ai=["color","height","width"];function Si(e){var t=e.handleClick,r=e.styles,n=r.color,s=r.height,i=r.width,o=mi(r,Ai);return a.createElement("button",{"aria-label":"close",onClick:t,style:o,type:"button"},a.createElement("svg",{width:"".concat(i,"px"),height:"".concat(s,"px"),viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},a.createElement("g",null,a.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:n}))))}function Ei(e){var t=e.content,r=e.footer,n=e.handleClick,s=e.open,i=e.positionWrapper,o=e.showCloseButton,l=e.title,c=e.styles,d={content:a.isValidElement(t)?t:a.createElement("div",{className:"__floater__content",style:c.content},t)};return l&&(d.title=a.isValidElement(l)?l:a.createElement("div",{className:"__floater__title",style:c.title},l)),r&&(d.footer=a.isValidElement(r)?r:a.createElement("div",{className:"__floater__footer",style:c.footer},r)),!o&&!i||qs.boolean(s)||(d.close=a.createElement(Si,{styles:c.close,handleClick:n})),a.createElement("div",{className:"__floater__container",style:c.container},d.close,d.title,d.content,d.footer)}Si.propTypes={handleClick:En().func.isRequired,styles:En().object.isRequired},Ei.propTypes={content:En().node.isRequired,footer:En().node,handleClick:En().func.isRequired,open:En().bool,positionWrapper:En().bool.isRequired,showCloseButton:En().bool.isRequired,styles:En().object.isRequired,title:En().node};var Di=function(e){ci(r,e);var t=pi(r);function r(){return si(this,r),t.apply(this,arguments)}return oi(r,[{key:"style",get:function(){var e=this.props,t=e.disableAnimation,r=e.component,a=e.placement,n=e.hideArrow,s=e.status,i=e.styles,o=i.arrow.length,l=i.floater,c=i.floaterCentered,d=i.floaterClosing,u=i.floaterOpening,m=i.floaterWithAnimation,h=i.floaterWithComponent,p={};return n||(a.startsWith("top")?p.padding="0 0 ".concat(o,"px"):a.startsWith("bottom")?p.padding="".concat(o,"px 0 0"):a.startsWith("left")?p.padding="0 ".concat(o,"px 0 0"):a.startsWith("right")&&(p.padding="0 0 0 ".concat(o,"px"))),-1!==[yi.OPENING,yi.OPEN].indexOf(s)&&(p=ni(ni({},p),u)),s===yi.CLOSING&&(p=ni(ni({},p),d)),s!==yi.OPEN||t||(p=ni(ni({},p),m)),"center"===a&&(p=ni(ni({},p),c)),r&&(p=ni(ni({},p),h)),ni(ni({},l),p)}},{key:"render",value:function(){var e=this.props,t=e.component,r=e.handleClick,n=e.hideArrow,s=e.setFloaterRef,i=e.status,o={},l=["__floater"];return o.content=t?a.isValidElement(t)?a.cloneElement(t,{closeFn:r}):t({closeFn:r}):a.createElement(Ei,this.props),i===yi.OPEN&&l.push("__floater__open"),n||(o.arrow=a.createElement(Ci,this.props)),a.createElement("div",{ref:s,className:l.join(" "),style:this.style},a.createElement("div",{className:"__floater__body"},o.content,o.arrow))}}]),r}(a.Component);li(Di,"propTypes",{component:En().oneOfType([En().func,En().element]),content:En().node,disableAnimation:En().bool.isRequired,footer:En().node,handleClick:En().func.isRequired,hideArrow:En().bool.isRequired,open:En().bool,placement:En().string.isRequired,positionWrapper:En().bool.isRequired,setArrowRef:En().func.isRequired,setFloaterRef:En().func.isRequired,showCloseButton:En().bool,status:En().string.isRequired,styles:En().object.isRequired,title:En().node});var Pi=function(e){ci(r,e);var t=pi(r);function r(){return si(this,r),t.apply(this,arguments)}return oi(r,[{key:"render",value:function(){var e,t=this.props,r=t.children,n=t.handleClick,s=t.handleMouseEnter,i=t.handleMouseLeave,o=t.setChildRef,l=t.setWrapperRef,c=t.style,d=t.styles;if(r)if(1===a.Children.count(r))if(a.isValidElement(r)){var u=qs.function(r.type)?"innerRef":"ref";e=a.cloneElement(a.Children.only(r),li({},u,o))}else e=a.createElement("span",null,r);else e=r;return e?a.createElement("span",{ref:l,style:ni(ni({},d),c),onClick:n,onMouseEnter:s,onMouseLeave:i},e):null}}]),r}(a.Component);li(Pi,"propTypes",{children:En().node,handleClick:En().func.isRequired,handleMouseEnter:En().func.isRequired,handleMouseLeave:En().func.isRequired,setChildRef:En().func.isRequired,setWrapperRef:En().func.isRequired,style:En().object,styles:En().object.isRequired});var Ti={zIndex:100};var _i=["arrow","flip","offset"],Ri=["position","top","right","bottom","left"],Oi=function(e){ci(r,e);var t=pi(r);function r(e){var a;return si(this,r),li(hi(a=t.call(this,e)),"setArrowRef",function(e){a.arrowRef=e}),li(hi(a),"setChildRef",function(e){a.childRef=e}),li(hi(a),"setFloaterRef",function(e){a.floaterRef=e}),li(hi(a),"setWrapperRef",function(e){a.wrapperRef=e}),li(hi(a),"handleTransitionEnd",function(){var e=a.state.status,t=a.props.callback;a.wrapperPopper&&a.wrapperPopper.instance.update(),a.setState({status:e===yi.OPENING?yi.OPEN:yi.IDLE},function(){var e=a.state.status;t(e===yi.OPEN?"open":"close",a.props)})}),li(hi(a),"handleClick",function(){var e=a.props,t=e.event,r=e.open;if(!qs.boolean(r)){var n=a.state,s=n.positionWrapper,i=n.status;("click"===a.event||"hover"===a.event&&s)&&(ji({title:"click",data:[{event:t,status:i===yi.OPEN?"closing":"opening"}],debug:a.debug}),a.toggle())}}),li(hi(a),"handleMouseEnter",function(){var e=a.props,t=e.event,r=e.open;if(!qs.boolean(r)&&!wi()){var n=a.state.status;"hover"===a.event&&n===yi.IDLE&&(ji({title:"mouseEnter",data:[{key:"originalEvent",value:t}],debug:a.debug}),clearTimeout(a.eventDelayTimeout),a.toggle())}}),li(hi(a),"handleMouseLeave",function(){var e=a.props,t=e.event,r=e.eventDelay,n=e.open;if(!qs.boolean(n)&&!wi()){var s=a.state,i=s.status,o=s.positionWrapper;"hover"===a.event&&(ji({title:"mouseLeave",data:[{key:"originalEvent",value:t}],debug:a.debug}),r?-1===[yi.OPENING,yi.OPEN].indexOf(i)||o||a.eventDelayTimeout||(a.eventDelayTimeout=setTimeout(function(){delete a.eventDelayTimeout,a.toggle()},1e3*r)):a.toggle(yi.IDLE))}}),a.state={currentPlacement:e.placement,needsUpdate:!1,positionWrapper:e.wrapperOptions.position&&!!e.target,status:yi.INIT,statusWrapper:yi.INIT},a._isMounted=!1,a.hasMounted=!1,bi()&&window.addEventListener("load",function(){a.popper&&a.popper.instance.update(),a.wrapperPopper&&a.wrapperPopper.instance.update()}),a}return oi(r,[{key:"componentDidMount",value:function(){if(bi()){var e=this.state.positionWrapper,t=this.props,r=t.children,a=t.open,n=t.target;this._isMounted=!0,ji({title:"init",data:{hasChildren:!!r,hasTarget:!!n,isControlled:qs.boolean(a),positionWrapper:e,target:this.target,floater:this.floaterRef},debug:this.debug}),this.hasMounted||(this.initPopper(),this.hasMounted=!0),!r&&n&&qs.boolean(a)}}},{key:"componentDidUpdate",value:function(e,t){if(bi()){var r,a=this.props,n=a.autoOpen,s=a.open,i=a.target,o=a.wrapperOptions,l=function(e,t){if([e,t].some(qs.nullOrUndefined))throw new Error("Missing required parameters");if(![e,t].every(function(e){return qs.plainObject(e)||qs.array(e)}))throw new Error("Expected plain objects or array");var r=function(r,a,n){try{var s=ri(e,r),i=ri(t,r),o=qs.defined(a),l=qs.defined(n);if(o||l){var c=l?Zs(n,s):!Zs(a,s),d=Zs(a,i);return c&&d}return[s,i].every(qs.array)||[s,i].every(qs.plainObject)?!Gs(s,i):s!==i}catch(u){return!1}};return{added:function(r,a){try{return Qs(e,t,{key:r,type:"added",value:a})}catch(n){return!1}},changed:r,changedFrom:function(r,a,n){if(!qs.defined(r))return!1;try{var s=ri(e,r),i=ri(t,r),o=qs.defined(n);return Zs(a,s)&&(o?Zs(n,i):!o)}catch(l){return!1}},changedTo:function(e,t){return!!qs.defined(e)&&r(e,t)},decreased:function(r,a,n){if(!qs.defined(r))return!1;try{return Ks(e,t,{key:r,actual:a,previous:n,type:"decreased"})}catch(s){return!1}},emptied:function(r){try{var a=$s(e,t,{key:r}),n=a[0],s=a[1];return!!n.length&&!s.length}catch(i){return!1}},filled:function(r){try{var a=$s(e,t,{key:r}),n=a[0],s=a[1];return!n.length&&!!s.length}catch(i){return!1}},increased:function(r,a,n){if(!qs.defined(r))return!1;try{return Ks(e,t,{key:r,actual:a,previous:n,type:"increased"})}catch(s){return!1}},removed:function(r,a){try{return Qs(e,t,{key:r,type:"removed",value:a})}catch(n){return!1}}}}(t,this.state),c=l.changedFrom,d=l.changed;if(e.open!==s)qs.boolean(s)&&(r=s?yi.OPENING:yi.CLOSING),this.toggle(r);e.wrapperOptions.position===o.position&&e.target===i||this.changeWrapperPosition(this.props),(d("status",yi.IDLE)&&s||c("status",yi.INIT,yi.IDLE)&&n)&&this.toggle(yi.OPEN),this.popper&&d("status",yi.OPENING)&&this.popper.instance.update(),this.floaterRef&&(d("status",yi.OPENING)||d("status",yi.CLOSING))&&function(e,t,r){var a;a=function(n){r(n),function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.removeEventListener(t,r,a)}(e,t,a)},function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.addEventListener(t,r,a)}(e,t,a,arguments.length>3&&void 0!==arguments[3]&&arguments[3])}(this.floaterRef,"transitionend",this.handleTransitionEnd),d("needsUpdate",!0)&&this.rebuildPopper()}}},{key:"componentWillUnmount",value:function(){bi()&&(this._isMounted=!1,this.popper&&this.popper.instance.destroy(),this.wrapperPopper&&this.wrapperPopper.instance.destroy())}},{key:"initPopper",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.target,r=this.state.positionWrapper,a=this.props,n=a.disableFlip,s=a.getPopper,i=a.hideArrow,o=a.offset,l=a.placement,c=a.wrapperOptions,d="top"===l||"bottom"===l?"flip":["right","bottom-end","top-end","left","top-start","bottom-start"];if("center"===l)this.setState({status:yi.IDLE});else if(t&&this.floaterRef){var u=this.options,m=u.arrow,h=u.flip,p=u.offset,g=mi(u,_i);new _s(t,this.floaterRef,{placement:l,modifiers:ni({arrow:ni({enabled:!i,element:this.arrowRef},m),flip:ni({enabled:!n,behavior:d},h),offset:ni({offset:"0, ".concat(o,"px")},p)},g),onCreate:function(t){var r;e.popper=t,null!==(r=e.floaterRef)&&void 0!==r&&r.isConnected?(s(t,"floater"),e._isMounted&&e.setState({currentPlacement:t.placement,status:yi.IDLE}),l!==t.placement&&setTimeout(function(){t.instance.update()},1)):e.setState({needsUpdate:!0})},onUpdate:function(t){e.popper=t;var r=e.state.currentPlacement;e._isMounted&&t.placement!==r&&e.setState({currentPlacement:t.placement})}})}if(r){var x=qs.undefined(c.offset)?0:c.offset;new _s(this.target,this.wrapperRef,{placement:c.placement||l,modifiers:{arrow:{enabled:!1},offset:{offset:"0, ".concat(x,"px")},flip:{enabled:!1}},onCreate:function(t){e.wrapperPopper=t,e._isMounted&&e.setState({statusWrapper:yi.IDLE}),s(t,"wrapper"),l!==t.placement&&setTimeout(function(){t.instance.update()},1)}})}}},{key:"rebuildPopper",value:function(){var e=this;this.floaterRefInterval=setInterval(function(){var t;null!==(t=e.floaterRef)&&void 0!==t&&t.isConnected&&(clearInterval(e.floaterRefInterval),e.setState({needsUpdate:!1}),e.initPopper())},50)}},{key:"changeWrapperPosition",value:function(e){var t=e.target,r=e.wrapperOptions;this.setState({positionWrapper:r.position&&!!t})}},{key:"toggle",value:function(e){var t=this.state.status===yi.OPEN?yi.CLOSING:yi.OPENING;qs.undefined(e)||(t=e),this.setState({status:t})}},{key:"debug",get:function(){return this.props.debug||bi()&&"ReactFloaterDebug"in window&&!!window.ReactFloaterDebug}},{key:"event",get:function(){var e=this.props,t=e.disableHoverToClick,r=e.event;return"hover"===r&&wi()&&!t?"click":r}},{key:"options",get:function(){var e=this.props.options;return An()(xi,e||{})}},{key:"styles",get:function(){var e,t=this,r=this.state,a=r.status,n=r.positionWrapper,s=r.statusWrapper,i=this.props.styles,o=An()(function(e){var t=An()(Ti,e.options||{});return{wrapper:{cursor:"help",display:"inline-flex",flexDirection:"column",zIndex:t.zIndex},wrapperPosition:{left:-1e3,position:"absolute",top:-1e3,visibility:"hidden"},floater:{display:"inline-block",filter:"drop-shadow(0 0 3px rgba(0, 0, 0, 0.3))",maxWidth:300,opacity:0,position:"relative",transition:"opacity 0.3s",visibility:"hidden",zIndex:t.zIndex},floaterOpening:{opacity:1,visibility:"visible"},floaterWithAnimation:{opacity:1,transition:"opacity 0.3s, transform 0.2s",visibility:"visible"},floaterWithComponent:{maxWidth:"100%"},floaterClosing:{opacity:0,visibility:"visible"},floaterCentered:{left:"50%",position:"fixed",top:"50%",transform:"translate(-50%, -50%)"},container:{backgroundColor:"#fff",color:"#666",minHeight:60,minWidth:200,padding:20,position:"relative",zIndex:10},title:{borderBottom:"1px solid #555",color:"#555",fontSize:18,marginBottom:5,paddingBottom:6,paddingRight:18},content:{fontSize:15},close:{backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",fontSize:0,height:15,outline:"none",padding:10,position:"absolute",right:0,top:0,width:15,WebkitAppearance:"none"},footer:{borderTop:"1px solid #ccc",fontSize:13,marginTop:10,paddingTop:5},arrow:{color:"#fff",display:"inline-flex",length:16,margin:8,position:"absolute",spread:32},options:t}}(i),i);n&&(e=-1===[yi.IDLE].indexOf(a)||-1===[yi.IDLE].indexOf(s)?o.wrapperPosition:this.wrapperPopper.styles,o.wrapper=ni(ni({},o.wrapper),e));if(this.target){var l=window.getComputedStyle(this.target);this.wrapperStyles?o.wrapper=ni(ni({},o.wrapper),this.wrapperStyles):-1===["relative","static"].indexOf(l.position)&&(this.wrapperStyles={},n||(Ri.forEach(function(e){t.wrapperStyles[e]=l[e]}),o.wrapper=ni(ni({},o.wrapper),this.wrapperStyles),this.target.style.position="relative",this.target.style.top="auto",this.target.style.right="auto",this.target.style.bottom="auto",this.target.style.left="auto"))}return o}},{key:"target",get:function(){if(!bi())return null;var e=this.props.target;return e?qs.domElement(e)?e:document.querySelector(e):this.childRef||this.wrapperRef}},{key:"render",value:function(){var e=this.state,t=e.currentPlacement,r=e.positionWrapper,n=e.status,s=this.props,i=s.children,o=s.component,l=s.content,c=s.disableAnimation,d=s.footer,u=s.hideArrow,m=s.id,h=s.open,p=s.showCloseButton,g=s.style,x=s.target,f=s.title,y=a.createElement(Pi,{handleClick:this.handleClick,handleMouseEnter:this.handleMouseEnter,handleMouseLeave:this.handleMouseLeave,setChildRef:this.setChildRef,setWrapperRef:this.setWrapperRef,style:g,styles:this.styles.wrapper},i),v={};return r?v.wrapperInPortal=y:v.wrapperAsChildren=y,a.createElement("span",null,a.createElement(Ni,{hasChildren:!!i,id:m,placement:t,setRef:this.setFloaterRef,target:x,zIndex:this.styles.options.zIndex},a.createElement(Di,{component:o,content:l,disableAnimation:c,footer:d,handleClick:this.handleClick,hideArrow:u||"center"===t,open:h,placement:t,positionWrapper:r,setArrowRef:this.setArrowRef,setFloaterRef:this.setFloaterRef,showCloseButton:p,status:n,styles:this.styles,title:f}),v.wrapperInPortal),v.wrapperAsChildren)}}]),r}(a.Component);li(Oi,"propTypes",{autoOpen:En().bool,callback:En().func,children:En().node,component:fi(En().oneOfType([En().func,En().element]),function(e){return!e.content}),content:fi(En().node,function(e){return!e.component}),debug:En().bool,disableAnimation:En().bool,disableFlip:En().bool,disableHoverToClick:En().bool,event:En().oneOf(["hover","click"]),eventDelay:En().number,footer:En().node,getPopper:En().func,hideArrow:En().bool,id:En().oneOfType([En().string,En().number]),offset:En().number,open:En().bool,options:En().object,placement:En().oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto","center"]),showCloseButton:En().bool,style:En().object,styles:En().object,target:En().oneOfType([En().object,En().string]),title:En().node,wrapperOptions:En().shape({offset:En().number,placement:En().oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto"]),position:En().bool})}),li(Oi,"defaultProps",{autoOpen:!1,callback:ki,debug:!1,disableAnimation:!1,disableFlip:!1,disableHoverToClick:!1,event:"click",eventDelay:.4,getPopper:ki,hideArrow:!1,offset:15,placement:"bottom",showCloseButton:!1,styles:{},target:null,wrapperOptions:{position:!1}});const Fi=["mixBlendMode","zIndex"],Li=["styles"],Mi=["color","height","width"],Ii=["beaconComponent","tooltipComponent"];var Bi=Object.defineProperty,qi=(e,t,r)=>((e,t,r)=>t in e?Bi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!==typeof t?t+"":t,r),zi="init",Ui="start",Vi="stop",Yi="reset",Wi="prev",Hi="next",Gi="go",Ki="close",Qi="skip",$i="update",Xi="tour:start",Ji="step:before",Zi="beacon",eo="tooltip",to="step:after",ro="tour:end",ao="tour:status",no="error:target_not_found",so={INIT:"init",READY:"ready",BEACON:"beacon",TOOLTIP:"tooltip",COMPLETE:"complete",ERROR:"error"},io={IDLE:"idle",READY:"ready",WAITING:"waiting",RUNNING:"running",PAUSED:"paused",SKIPPED:"skipped",FINISHED:"finished",ERROR:"error"};function oo(){var e;return!("undefined"===typeof window||!(null==(e=window.document)?void 0:e.createElement))}function lo(e){return e?e.getBoundingClientRect():null}function co(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{body:t,documentElement:r}=document;if(!t||!r)return 0;if(e){const e=[t.scrollHeight,t.offsetHeight,r.clientHeight,r.scrollHeight,r.offsetHeight].sort((e,t)=>e-t),a=Math.floor(e.length/2);return e.length%2===0?(e[a-1]+e[a])/2:e[a]}return Math.max(t.scrollHeight,t.offsetHeight,r.clientHeight,r.scrollHeight,r.offsetHeight)}function uo(e){if("string"===typeof e)try{return document.querySelector(e)}catch(t){return null}return e}function mo(e,t,r){if(!e)return xo();const a=kn(e);if(a){if(a.isSameNode(xo()))return r?document:xo();if(!(a.scrollHeight>a.offsetHeight)&&!t)return a.style.overflow="initial",xo()}return a}function ho(e,t){if(!e)return!1;const r=mo(e,t);return!!r&&!r.isSameNode(xo())}function po(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fixed";if(!e||!(e instanceof HTMLElement))return!1;const{nodeName:r}=e,a=function(e){return e&&1===e.nodeType?getComputedStyle(e):null}(e);return"BODY"!==r&&"HTML"!==r&&(!(!a||a.position!==t)||!!e.parentNode&&po(e.parentNode,t))}function go(e,t,r){var a;if(!e)return 0;const{offsetTop:n=0,scrollTop:s=0}=null!=(a=kn(e))?a:{};let i=e.getBoundingClientRect().top+s;n&&(ho(e,r)||function(e){return e.offsetParent!==document.body}(e))&&(i-=n);const o=Math.floor(i-t);return o<0?0:o}function xo(){var e;return null!=(e=document.scrollingElement)?e:document.documentElement}var fo=void 0!==Ne.createPortal;function yo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.userAgent,t=e;return"undefined"===typeof window?t="node":document.documentMode?t="ie":/Edge/.test(e)?t="edge":Boolean(window.opera)||e.includes(" OPR/")?t="opera":"undefined"!==typeof window.InstallTrigger?t="firefox":window.chrome?t="chrome":/(Version\/([\d._]+).*Safari|CriOS|FxiOS| Mobile\/)/.test(e)&&(t="safari"),t}function vo(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function bo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{defaultValue:r,step:n,steps:s}=t;let i=Nn(e);if(i)(i.includes("{step}")||i.includes("{steps}"))&&n&&s&&(i=i.replace("{step}",n.toString()).replace("{steps}",s.toString()));else if((0,a.isValidElement)(e)&&!Object.values(e.props).length&&"function"===vo(e.type)){i=bo(e.type({}),t)}else i=Nn(r);return i}function wo(e){const t=e.replace(/^#?([\da-f])([\da-f])([\da-f])$/i,(e,t,r,a)=>t+t+r+r+a+a),r=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(t);return r?[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)]:[]}function jo(e){return e.disableBeacon||"center"===e.placement}function ko(){return!["chrome","safari","firefox","opera"].includes(yo())}function No(e){let{data:t,debug:r=!1,title:a,warn:n=!1}=e;const s=n?console.warn||console.error:console.log;r&&(a&&t?(console.groupCollapsed("%creact-joyride: ".concat(a),"color: #ff0044; font-weight: bold; font-size: 12px;"),Array.isArray(t)?t.forEach(e=>{un.plainObject(e)&&e.key?s.apply(console,[e.key,e.value]):s.apply(console,[e])}):s.apply(console,[t]),console.groupEnd()):console.error("Missing title or data props"))}function Co(e){if(!un.plainObject(e))throw new TypeError("Expected an object");const t={};for(var r=arguments.length,a=new Array(r>1?r-1:0),n=1;n<r;n++)a[n-1]=arguments[n];for(const s in e)({}).hasOwnProperty.call(e,s)&&(a.includes(s)||(t[s]=e[s]));return t}function Ao(e,t,r){const n=e=>e.replace("{step}",String(t)).replace("{steps}",String(r));if("string"===vo(e))return n(e);if(!(0,a.isValidElement)(e))return e;const{children:s}=e.props;if("string"===vo(s)&&s.includes("{step}"))return(0,a.cloneElement)(e,{children:n(s)});if(Array.isArray(s))return(0,a.cloneElement)(e,{children:s.map(e=>"string"===typeof e?n(e):Ao(e,t,r))});if("function"===vo(e.type)&&!Object.values(e.props).length){return Ao(e.type({}),t,r)}return e}var So={options:{preventOverflow:{boundariesElement:"scrollParent"}},wrapperOptions:{offset:-18,position:!0}},Eo={back:"Back",close:"Close",last:"Last",next:"Next",nextLabelWithProgress:"Next (Step {step} of {steps})",open:"Open the dialog",skip:"Skip"},Do={event:"click",placement:"bottom",offset:10,disableBeacon:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrollParentFix:!1,disableScrolling:!1,hideBackButton:!1,hideCloseButton:!1,hideFooter:!1,isFixed:!1,locale:Eo,showProgress:!1,showSkipButton:!1,spotlightClicks:!1,spotlightPadding:10},Po={continuous:!1,debug:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrolling:!1,disableScrollParentFix:!1,getHelpers:void 0,hideBackButton:!1,run:!0,scrollOffset:20,scrollDuration:300,scrollToFirstStep:!1,showSkipButton:!1,showProgress:!1,spotlightClicks:!1,spotlightPadding:10,steps:[]},To={arrowColor:"#fff",backgroundColor:"#fff",beaconSize:36,overlayColor:"rgba(0, 0, 0, 0.5)",primaryColor:"#f04",spotlightShadow:"0 0 15px rgba(0, 0, 0, 0.5)",textColor:"#333",width:380,zIndex:100},_o={backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",cursor:"pointer",fontSize:16,lineHeight:1,padding:8,WebkitAppearance:"none"},Ro={borderRadius:4,position:"absolute"};function Oo(e){return function(e){if(!un.plainObject(e))throw new TypeError("Expected an object");for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];if(!r.length)return e;const n={};for(const s in e)({}).hasOwnProperty.call(e,s)&&r.includes(s)&&(n[s]=e[s]);return n}(e,"beaconComponent","disableCloseOnEsc","disableOverlay","disableOverlayClose","disableScrolling","disableScrollParentFix","floaterProps","hideBackButton","hideCloseButton","locale","showProgress","showSkipButton","spotlightClicks","spotlightPadding","styles","tooltipComponent")}function Fo(e,t){var r,a,n,s,i,o;const l=null!=t?t:{},c=Cn.all([Do,Oo(e),l],{isMergeableObject:un.plainObject}),d=function(e,t){var r,a,n,s,i;const{floaterProps:o,styles:l}=e,c=Cn(null!=(r=t.floaterProps)?r:{},null!=o?o:{}),d=Cn(null!=l?l:{},null!=(a=t.styles)?a:{}),u=Cn(To,d.options||{}),m="center"===t.placement||t.disableBeacon;let{width:h}=u;window.innerWidth>480&&(h=380),"width"in u&&(h="number"===typeof u.width&&window.innerWidth<u.width?window.innerWidth-30:u.width);const p={bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0,zIndex:u.zIndex},g={beacon:(0,Be.A)((0,Be.A)({},_o),{},{display:m?"none":"inline-block",height:u.beaconSize,position:"relative",width:u.beaconSize,zIndex:u.zIndex}),beaconInner:{animation:"joyride-beacon-inner 1.2s infinite ease-in-out",backgroundColor:u.primaryColor,borderRadius:"50%",display:"block",height:"50%",left:"50%",opacity:.7,position:"absolute",top:"50%",transform:"translate(-50%, -50%)",width:"50%"},beaconOuter:{animation:"joyride-beacon-outer 1.2s infinite ease-in-out",backgroundColor:"rgba(".concat(wo(u.primaryColor).join(","),", 0.2)"),border:"2px solid ".concat(u.primaryColor),borderRadius:"50%",boxSizing:"border-box",display:"block",height:"100%",left:0,opacity:.9,position:"absolute",top:0,transformOrigin:"center",width:"100%"},tooltip:{backgroundColor:u.backgroundColor,borderRadius:5,boxSizing:"border-box",color:u.textColor,fontSize:16,maxWidth:"100%",padding:15,position:"relative",width:h},tooltipContainer:{lineHeight:1.4,textAlign:"center"},tooltipTitle:{fontSize:18,margin:0},tooltipContent:{padding:"20px 10px"},tooltipFooter:{alignItems:"center",display:"flex",justifyContent:"flex-end",marginTop:15},tooltipFooterSpacer:{flex:1},buttonNext:(0,Be.A)((0,Be.A)({},_o),{},{backgroundColor:u.primaryColor,borderRadius:4,color:"#fff"}),buttonBack:(0,Be.A)((0,Be.A)({},_o),{},{color:u.primaryColor,marginLeft:"auto",marginRight:5}),buttonClose:(0,Be.A)((0,Be.A)({},_o),{},{color:u.textColor,height:14,padding:15,position:"absolute",right:0,top:0,width:14}),buttonSkip:(0,Be.A)((0,Be.A)({},_o),{},{color:u.textColor,fontSize:14}),overlay:(0,Be.A)((0,Be.A)({},p),{},{backgroundColor:u.overlayColor,mixBlendMode:"hard-light"}),overlayLegacy:(0,Be.A)({},p),overlayLegacyCenter:(0,Be.A)((0,Be.A)({},p),{},{backgroundColor:u.overlayColor}),spotlight:(0,Be.A)((0,Be.A)({},Ro),{},{backgroundColor:"gray"}),spotlightLegacy:(0,Be.A)((0,Be.A)({},Ro),{},{boxShadow:"0 0 0 9999px ".concat(u.overlayColor,", ").concat(u.spotlightShadow)}),floaterStyles:{arrow:{color:null!=(i=null==(s=null==(n=null==c?void 0:c.styles)?void 0:n.arrow)?void 0:s.color)?i:u.arrowColor},options:{zIndex:u.zIndex+100}},options:u};return Cn(g,d)}(e,c),u=ho(uo(c.target),c.disableScrollParentFix),m=Cn.all([So,null!=(r=e.floaterProps)?r:{},null!=(a=c.floaterProps)?a:{}]);return m.offset=c.offset,m.styles=Cn(null!=(n=m.styles)?n:{},d.floaterStyles),m.offset+=null!=(i=null!=(s=e.spotlightPadding)?s:c.spotlightPadding)?i:0,c.placementBeacon&&m.wrapperOptions&&(m.wrapperOptions.placement=c.placementBeacon),u&&m.options.preventOverflow&&(m.options.preventOverflow.boundariesElement="window"),(0,Be.A)((0,Be.A)({},c),{},{locale:Cn.all([Eo,null!=(o=e.locale)?o:{},c.locale||{}]),floaterProps:m,styles:Co(d,"floaterStyles")})}function Lo(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return un.plainObject(e)?!!e.target||(No({title:"validateStep",data:"target is missing from the step",warn:!0,debug:t}),!1):(No({title:"validateStep",data:"step must be an object",warn:!0,debug:t}),!1)}function Mo(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return un.array(e)?e.every(e=>Lo(e,t)):(No({title:"validateSteps",data:"steps must be an array",warn:!0,debug:t}),!1)}var Io,Bo={action:"init",controlled:!1,index:0,lifecycle:so.INIT,origin:null,size:0,status:io.IDLE},qo=(Io=Co(Bo,"controlled","size"),Object.keys(Io)),zo=class{constructor(e){var t=this;qi(this,"beaconPopper"),qi(this,"tooltipPopper"),qi(this,"data",new Map),qi(this,"listener"),qi(this,"store",new Map),qi(this,"addListener",e=>{this.listener=e}),qi(this,"setSteps",e=>{const{size:t,status:r}=this.getState(),a={size:e.length,status:r};this.data.set("steps",e),r===io.WAITING&&!t&&e.length&&(a.status=io.RUNNING),this.setState(a)}),qi(this,"getPopper",e=>"beacon"===e?this.beaconPopper:this.tooltipPopper),qi(this,"setPopper",(e,t)=>{"beacon"===e?this.beaconPopper=t:this.tooltipPopper=t}),qi(this,"cleanupPoppers",()=>{this.beaconPopper=null,this.tooltipPopper=null}),qi(this,"close",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const{index:r,status:a}=t.getState();a===io.RUNNING&&t.setState((0,Be.A)({},t.getNextState({action:Ki,index:r+1,origin:e})))}),qi(this,"go",e=>{const{controlled:t,status:r}=this.getState();if(t||r!==io.RUNNING)return;const a=this.getSteps()[e];this.setState((0,Be.A)((0,Be.A)({},this.getNextState({action:Gi,index:e})),{},{status:a?r:io.FINISHED}))}),qi(this,"info",()=>this.getState()),qi(this,"next",()=>{const{index:e,status:t}=this.getState();t===io.RUNNING&&this.setState(this.getNextState({action:Hi,index:e+1}))}),qi(this,"open",()=>{const{status:e}=this.getState();e===io.RUNNING&&this.setState((0,Be.A)({},this.getNextState({action:$i,lifecycle:so.TOOLTIP})))}),qi(this,"prev",()=>{const{index:e,status:t}=this.getState();t===io.RUNNING&&this.setState((0,Be.A)({},this.getNextState({action:Wi,index:e-1})))}),qi(this,"reset",function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{controlled:r}=t.getState();r||t.setState((0,Be.A)((0,Be.A)({},t.getNextState({action:Yi,index:0})),{},{status:e?io.RUNNING:io.READY}))}),qi(this,"skip",()=>{const{status:e}=this.getState();e===io.RUNNING&&this.setState({action:Qi,lifecycle:so.INIT,status:io.SKIPPED})}),qi(this,"start",e=>{const{index:t,size:r}=this.getState();this.setState((0,Be.A)((0,Be.A)({},this.getNextState({action:Ui,index:un.number(e)?e:t},!0)),{},{status:r?io.RUNNING:io.WAITING}))}),qi(this,"stop",function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{index:r,status:a}=t.getState();[io.FINISHED,io.SKIPPED].includes(a)||t.setState((0,Be.A)((0,Be.A)({},t.getNextState({action:Vi,index:r+(e?1:0)})),{},{status:io.PAUSED}))}),qi(this,"update",e=>{var t,r,a,n;if(a=e,n=qo,!(un.plainObject(a)&&un.array(n)&&Object.keys(a).every(e=>n.includes(e))))throw new Error("State is not valid. Valid keys: ".concat(qo.join(", ")));this.setState((0,Be.A)({},this.getNextState((0,Be.A)((0,Be.A)((0,Be.A)({},this.getState()),e),{},{action:null!=(t=e.action)?t:$i,origin:null!=(r=e.origin)?r:null}),!0)))});const{continuous:r=!1,stepIndex:a,steps:n=[]}=null!=e?e:{};this.setState({action:zi,controlled:un.number(a),continuous:r,index:un.number(a)?a:0,lifecycle:so.INIT,origin:null,status:n.length?io.READY:io.IDLE},!0),this.beaconPopper=null,this.tooltipPopper=null,this.listener=null,this.setSteps(n)}getState(){return this.store.size?{action:this.store.get("action")||"",controlled:this.store.get("controlled")||!1,index:parseInt(this.store.get("index"),10),lifecycle:this.store.get("lifecycle")||"",origin:this.store.get("origin")||null,size:this.store.get("size")||0,status:this.store.get("status")||""}:(0,Be.A)({},Bo)}getNextState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var r,a,n,s,i;const{action:o,controlled:l,index:c,size:d,status:u}=this.getState(),m=un.number(e.index)?e.index:c,h=l&&!t?c:Math.min(Math.max(m,0),d);return{action:null!=(r=e.action)?r:o,controlled:l,index:h,lifecycle:null!=(a=e.lifecycle)?a:so.INIT,origin:null!=(n=e.origin)?n:null,size:null!=(s=e.size)?s:d,status:h===d?io.FINISHED:null!=(i=e.status)?i:u}}getSteps(){const e=this.data.get("steps");return Array.isArray(e)?e:[]}hasUpdatedState(e){return JSON.stringify(e)!==JSON.stringify(this.getState())}setState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=this.getState(),{action:a,index:n,lifecycle:s,origin:i=null,size:o,status:l}=(0,Be.A)((0,Be.A)({},r),e);this.store.set("action",a),this.store.set("index",n),this.store.set("lifecycle",s),this.store.set("origin",i),this.store.set("size",o),this.store.set("status",l),t&&(this.store.set("controlled",e.controlled),this.store.set("continuous",e.continuous)),this.listener&&this.hasUpdatedState(r)&&this.listener(this.getState())}getHelpers(){return{close:this.close,go:this.go,info:this.info,next:this.next,open:this.open,prev:this.prev,reset:this.reset,skip:this.skip}}};var Uo=function(e){let{styles:t}=e;return a.createElement("div",{key:"JoyrideSpotlight",className:"react-joyride__spotlight","data-test-id":"spotlight",style:t})},Vo=class extends a.Component{constructor(){super(...arguments),qi(this,"isActive",!1),qi(this,"resizeTimeout"),qi(this,"scrollTimeout"),qi(this,"scrollParent"),qi(this,"state",{isScrolling:!1,mouseOverSpotlight:!1,showSpotlight:!0}),qi(this,"hideSpotlight",()=>{const{continuous:e,disableOverlay:t,lifecycle:r}=this.props,a=[so.INIT,so.BEACON,so.COMPLETE,so.ERROR];return t||(e?a.includes(r):r!==so.TOOLTIP)}),qi(this,"handleMouseMove",e=>{const{mouseOverSpotlight:t}=this.state,{height:r,left:a,position:n,top:s,width:i}=this.spotlightStyles,o="fixed"===n?e.clientY:e.pageY,l="fixed"===n?e.clientX:e.pageX,c=l>=a&&l<=a+i&&(o>=s&&o<=s+r);c!==t&&this.updateState({mouseOverSpotlight:c})}),qi(this,"handleScroll",()=>{const{target:e}=this.props,t=uo(e);if(this.scrollParent!==document){const{isScrolling:e}=this.state;e||this.updateState({isScrolling:!0,showSpotlight:!1}),clearTimeout(this.scrollTimeout),this.scrollTimeout=window.setTimeout(()=>{this.updateState({isScrolling:!1,showSpotlight:!0})},50)}else po(t,"sticky")&&this.updateState({})}),qi(this,"handleResize",()=>{clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(()=>{this.isActive&&this.forceUpdate()},100)})}componentDidMount(){const{debug:e,disableScrolling:t,disableScrollParentFix:r=!1,target:a}=this.props,n=uo(a);this.scrollParent=mo(null!=n?n:document.body,r,!0),this.isActive=!0,window.addEventListener("resize",this.handleResize)}componentDidUpdate(e){var t;const{disableScrollParentFix:r,lifecycle:a,spotlightClicks:n,target:s}=this.props,{changed:i}=wn(e,this.props);if(i("target")||i("disableScrollParentFix")){const e=uo(s);this.scrollParent=mo(null!=e?e:document.body,r,!0)}i("lifecycle",so.TOOLTIP)&&(null==(t=this.scrollParent)||t.addEventListener("scroll",this.handleScroll,{passive:!0}),setTimeout(()=>{const{isScrolling:e}=this.state;e||this.updateState({showSpotlight:!0})},100)),(i("spotlightClicks")||i("disableOverlay")||i("lifecycle"))&&(n&&a===so.TOOLTIP?window.addEventListener("mousemove",this.handleMouseMove,!1):a!==so.TOOLTIP&&window.removeEventListener("mousemove",this.handleMouseMove))}componentWillUnmount(){var e;this.isActive=!1,window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("resize",this.handleResize),clearTimeout(this.resizeTimeout),clearTimeout(this.scrollTimeout),null==(e=this.scrollParent)||e.removeEventListener("scroll",this.handleScroll)}get overlayStyles(){const{mouseOverSpotlight:e}=this.state,{disableOverlayClose:t,placement:r,styles:a}=this.props;let n=a.overlay;return ko()&&(n="center"===r?a.overlayLegacyCenter:a.overlayLegacy),(0,Be.A)({cursor:t?"default":"pointer",height:co(),pointerEvents:e?"none":"auto"},n)}get spotlightStyles(){var e,t,r;const{showSpotlight:a}=this.state,{disableScrollParentFix:n=!1,spotlightClicks:s,spotlightPadding:i=0,styles:o,target:l}=this.props,c=uo(l),d=lo(c),u=po(c),m=function(e,t,r){var a,n,s;const i=lo(e),o=mo(e,r),l=ho(e,r),c=po(e);let d=0,u=null!=(a=null==i?void 0:i.top)?a:0;l&&c?u=(null!=(n=null==e?void 0:e.offsetTop)?n:0)-(null!=(s=null==o?void 0:o.scrollTop)?s:0):o instanceof HTMLElement&&(d=o.scrollTop,l||po(e)||(u+=d),o.isSameNode(xo())||(u+=xo().scrollTop));return Math.floor(u-t)}(c,i,n);return(0,Be.A)((0,Be.A)({},ko()?o.spotlightLegacy:o.spotlight),{},{height:Math.round((null!=(e=null==d?void 0:d.height)?e:0)+2*i),left:Math.round((null!=(t=null==d?void 0:d.left)?t:0)-i),opacity:a?1:0,pointerEvents:s?"none":"auto",position:u?"fixed":"absolute",top:m,transition:"opacity 0.2s",width:Math.round((null!=(r=null==d?void 0:d.width)?r:0)+2*i)})}updateState(e){this.isActive&&this.setState(t=>(0,Be.A)((0,Be.A)({},t),e))}render(){const{showSpotlight:e}=this.state,{onClickOverlay:t,placement:r}=this.props,{hideSpotlight:n,overlayStyles:s,spotlightStyles:i}=this;if(n())return null;let o="center"!==r&&e&&a.createElement(Uo,{styles:i});if("safari"===yo()){const{mixBlendMode:e,zIndex:t}=s,r=(0,$a.A)(s,Fi);o=a.createElement("div",{style:(0,Be.A)({},r)},o),delete s.backgroundColor}return a.createElement("div",{className:"react-joyride__overlay","data-test-id":"overlay",onClick:t,role:"presentation",style:s},o)}},Yo=class extends a.Component{constructor(){super(...arguments),qi(this,"node",null)}componentDidMount(){const{id:e}=this.props;oo()&&(this.node=document.createElement("div"),this.node.id=e,document.body.appendChild(this.node),fo||this.renderReact15())}componentDidUpdate(){oo()&&(fo||this.renderReact15())}componentWillUnmount(){oo()&&this.node&&(fo||Ne.unmountComponentAtNode(this.node),this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=null))}renderReact15(){if(!oo())return;const{children:e}=this.props;this.node&&Ne.unstable_renderSubtreeIntoContainer(this,e,this.node)}renderReact16(){if(!oo()||!fo)return null;const{children:e}=this.props;return this.node?Ne.createPortal(e,this.node):null}render(){return fo?this.renderReact16():null}},Wo=class{constructor(e,t){if(qi(this,"element"),qi(this,"options"),qi(this,"canBeTabbed",e=>{const{tabIndex:t}=e;return!(null===t||t<0)&&this.canHaveFocus(e)}),qi(this,"canHaveFocus",e=>{const t=e.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(t)&&!e.getAttribute("disabled")||"a"===t&&!!e.getAttribute("href"))&&this.isVisible(e)}),qi(this,"findValidTabElements",()=>[].slice.call(this.element.querySelectorAll("*"),0).filter(this.canBeTabbed)),qi(this,"handleKeyDown",e=>{const{code:t="Tab"}=this.options;e.code===t&&this.interceptTab(e)}),qi(this,"interceptTab",e=>{e.preventDefault();const t=this.findValidTabElements(),{shiftKey:r}=e;if(!t.length)return;let a=document.activeElement?t.indexOf(document.activeElement):0;-1===a||!r&&a+1===t.length?a=0:r&&0===a?a=t.length-1:a+=r?-1:1,t[a].focus()}),qi(this,"isHidden",e=>{const t=e.offsetWidth<=0&&e.offsetHeight<=0,r=window.getComputedStyle(e);return!(!t||e.innerHTML)||(t&&"visible"!==r.getPropertyValue("overflow")||"none"===r.getPropertyValue("display"))}),qi(this,"isVisible",e=>{let t=e;for(;t;)if(t instanceof HTMLElement){if(t===document.body)break;if(this.isHidden(t))return!1;t=t.parentNode}return!0}),qi(this,"removeScope",()=>{window.removeEventListener("keydown",this.handleKeyDown)}),qi(this,"checkFocus",e=>{document.activeElement!==e&&(e.focus(),window.requestAnimationFrame(()=>this.checkFocus(e)))}),qi(this,"setFocus",()=>{const{selector:e}=this.options;if(!e)return;const t=this.element.querySelector(e);t&&window.requestAnimationFrame(()=>this.checkFocus(t))}),!(e instanceof HTMLElement))throw new TypeError("Invalid parameter: element must be an HTMLElement");this.element=e,this.options=t,window.addEventListener("keydown",this.handleKeyDown,!1),this.setFocus()}},Ho=class extends a.Component{constructor(e){if(super(e),qi(this,"beacon",null),qi(this,"setBeaconRef",e=>{this.beacon=e}),e.beaconComponent)return;const t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.id="joyride-beacon-animation",e.nonce&&r.setAttribute("nonce",e.nonce);r.appendChild(document.createTextNode("\n        @keyframes joyride-beacon-inner {\n          20% {\n            opacity: 0.9;\n          }\n        \n          90% {\n            opacity: 0.7;\n          }\n        }\n        \n        @keyframes joyride-beacon-outer {\n          0% {\n            transform: scale(1);\n          }\n        \n          45% {\n            opacity: 0.7;\n            transform: scale(0.75);\n          }\n        \n          100% {\n            opacity: 0.9;\n            transform: scale(1);\n          }\n        }\n      ")),t.appendChild(r)}componentDidMount(){const{shouldFocus:e}=this.props;setTimeout(()=>{un.domElement(this.beacon)&&e&&this.beacon.focus()},0)}componentWillUnmount(){const e=document.getElementById("joyride-beacon-animation");(null==e?void 0:e.parentNode)&&e.parentNode.removeChild(e)}render(){const{beaconComponent:e,continuous:t,index:r,isLastStep:n,locale:s,onClickOrHover:i,size:o,step:l,styles:c}=this.props,d=bo(s.open),u={"aria-label":d,onClick:i,onMouseEnter:i,ref:this.setBeaconRef,title:d};let m;if(e){const s=e;m=a.createElement(s,(0,Be.A)({continuous:t,index:r,isLastStep:n,size:o,step:l},u))}else m=a.createElement("button",(0,Be.A)({key:"JoyrideBeacon",className:"react-joyride__beacon","data-test-id":"button-beacon",style:c.beacon,type:"button"},u),a.createElement("span",{style:c.beaconInner}),a.createElement("span",{style:c.beaconOuter}));return m}};var Go=function(e){let{styles:t}=e,r=(0,$a.A)(e,Li);const{color:n,height:s,width:i}=t,o=(0,$a.A)(t,Mi);return a.createElement("button",(0,Be.A)({style:o,type:"button"},r),a.createElement("svg",{height:"number"===typeof s?"".concat(s,"px"):s,preserveAspectRatio:"xMidYMid",version:"1.1",viewBox:"0 0 18 18",width:"number"===typeof i?"".concat(i,"px"):i,xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",null,a.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:n}))))};var Ko=function(e){const{backProps:t,closeProps:r,index:n,isLastStep:s,primaryProps:i,skipProps:o,step:l,tooltipProps:c}=e,{content:d,hideBackButton:u,hideCloseButton:m,hideFooter:h,showSkipButton:p,styles:g,title:x}=l,f={};return f.primary=a.createElement("button",(0,Be.A)({"data-test-id":"button-primary",style:g.buttonNext,type:"button"},i)),p&&!s&&(f.skip=a.createElement("button",(0,Be.A)({"aria-live":"off","data-test-id":"button-skip",style:g.buttonSkip,type:"button"},o))),!u&&n>0&&(f.back=a.createElement("button",(0,Be.A)({"data-test-id":"button-back",style:g.buttonBack,type:"button"},t))),f.close=!m&&a.createElement(Go,(0,Be.A)({"data-test-id":"button-close",styles:g.buttonClose},r)),a.createElement("div",(0,Be.A)({key:"JoyrideTooltip","aria-label":bo(null!=x?x:d),className:"react-joyride__tooltip",style:g.tooltip},c),a.createElement("div",{style:g.tooltipContainer},x&&a.createElement("h1",{"aria-label":bo(x),style:g.tooltipTitle},x),a.createElement("div",{style:g.tooltipContent},d)),!h&&a.createElement("div",{style:g.tooltipFooter},a.createElement("div",{style:g.tooltipFooterSpacer},f.skip),f.back,f.primary),f.close)},Qo=class extends a.Component{constructor(){super(...arguments),qi(this,"handleClickBack",e=>{e.preventDefault();const{helpers:t}=this.props;t.prev()}),qi(this,"handleClickClose",e=>{e.preventDefault();const{helpers:t}=this.props;t.close("button_close")}),qi(this,"handleClickPrimary",e=>{e.preventDefault();const{continuous:t,helpers:r}=this.props;t?r.next():r.close("button_primary")}),qi(this,"handleClickSkip",e=>{e.preventDefault();const{helpers:t}=this.props;t.skip()}),qi(this,"getElementsProps",()=>{const{continuous:e,index:t,isLastStep:r,setTooltipRef:a,size:n,step:s}=this.props,{back:i,close:o,last:l,next:c,nextLabelWithProgress:d,skip:u}=s.locale,m=bo(i),h=bo(o),p=bo(l),g=bo(c),x=bo(u);let f=o,y=h;if(e){if(f=c,y=g,s.showProgress&&!r){const e=bo(d,{step:t+1,steps:n});f=Ao(d,t+1,n),y=e}r&&(f=l,y=p)}return{backProps:{"aria-label":m,children:i,"data-action":"back",onClick:this.handleClickBack,role:"button",title:m},closeProps:{"aria-label":h,children:o,"data-action":"close",onClick:this.handleClickClose,role:"button",title:h},primaryProps:{"aria-label":y,children:f,"data-action":"primary",onClick:this.handleClickPrimary,role:"button",title:y},skipProps:{"aria-label":x,children:u,"data-action":"skip",onClick:this.handleClickSkip,role:"button",title:x},tooltipProps:{"aria-modal":!0,ref:a,role:"alertdialog"}}})}render(){const{continuous:e,index:t,isLastStep:r,setTooltipRef:n,size:s,step:i}=this.props,{beaconComponent:o,tooltipComponent:l}=i,c=(0,$a.A)(i,Ii);let d;if(l){const i=(0,Be.A)((0,Be.A)({},this.getElementsProps()),{},{continuous:e,index:t,isLastStep:r,size:s,step:c,setTooltipRef:n}),o=l;d=a.createElement(o,(0,Be.A)({},i))}else d=a.createElement(Ko,(0,Be.A)((0,Be.A)({},this.getElementsProps()),{},{continuous:e,index:t,isLastStep:r,size:s,step:i}));return d}},$o=class extends a.Component{constructor(){super(...arguments),qi(this,"scope",null),qi(this,"tooltip",null),qi(this,"handleClickHoverBeacon",e=>{const{step:t,store:r}=this.props;"mouseenter"===e.type&&"hover"!==t.event||r.update({lifecycle:so.TOOLTIP})}),qi(this,"setTooltipRef",e=>{this.tooltip=e}),qi(this,"setPopper",(e,t)=>{var r;const{action:a,lifecycle:n,step:s,store:i}=this.props;"wrapper"===t?i.setPopper("beacon",e):i.setPopper("tooltip",e),i.getPopper("beacon")&&(i.getPopper("tooltip")||"center"===s.placement)&&n===so.INIT&&i.update({action:a,lifecycle:so.READY}),(null==(r=s.floaterProps)?void 0:r.getPopper)&&s.floaterProps.getPopper(e,t)}),qi(this,"renderTooltip",e=>{const{continuous:t,helpers:r,index:n,size:s,step:i}=this.props;return a.createElement(Qo,(0,Be.A)({continuous:t,helpers:r,index:n,isLastStep:n+1===s,setTooltipRef:this.setTooltipRef,size:s,step:i},e))})}componentDidMount(){const{debug:e,index:t}=this.props;No({title:"step:".concat(t),data:[{key:"props",value:this.props}],debug:e})}componentDidUpdate(e){var t;const{action:r,callback:a,continuous:n,controlled:s,debug:i,helpers:o,index:l,lifecycle:c,shouldScroll:d,status:u,step:m,store:h}=this.props,{changed:p,changedFrom:g}=wn(e,this.props),x=o.info(),f=n&&r!==Ki&&(l>0||r===Wi),y=p("action")||p("index")||p("lifecycle")||p("status"),v=g("lifecycle",[so.TOOLTIP,so.INIT],so.INIT),b=p("action",[Hi,Wi,Qi,Ki]),w=s&&l===e.index;if(b&&(v||w)&&a((0,Be.A)((0,Be.A)({},x),{},{index:e.index,lifecycle:so.COMPLETE,step:e.step,type:to})),"center"===m.placement&&u===io.RUNNING&&p("index")&&r!==Ui&&c===so.INIT&&h.update({lifecycle:so.READY}),y){const e=uo(m.target),t=!!e,n=t&&function(e){var t;if(!e)return!1;let r=e;for(;r&&r!==document.body;){if(r instanceof HTMLElement){const{display:e,visibility:t}=getComputedStyle(r);if("none"===e||"hidden"===t)return!1}r=null!=(t=r.parentElement)?t:null}return!0}(e);n?(g("status",io.READY,io.RUNNING)||g("lifecycle",so.INIT,so.READY))&&a((0,Be.A)((0,Be.A)({},x),{},{step:m,type:Ji})):(console.warn(t?"Target not visible":"Target not mounted",m),a((0,Be.A)((0,Be.A)({},x),{},{type:no,step:m})),s||h.update({index:l+(r===Wi?-1:1)}))}g("lifecycle",so.INIT,so.READY)&&h.update({lifecycle:jo(m)||f?so.TOOLTIP:so.BEACON}),p("index")&&No({title:"step:".concat(c),data:[{key:"props",value:this.props}],debug:i}),p("lifecycle",so.BEACON)&&a((0,Be.A)((0,Be.A)({},x),{},{step:m,type:Zi})),p("lifecycle",so.TOOLTIP)&&(a((0,Be.A)((0,Be.A)({},x),{},{step:m,type:eo})),d&&this.tooltip&&(this.scope=new Wo(this.tooltip,{selector:"[data-action=primary]"}),this.scope.setFocus())),g("lifecycle",[so.TOOLTIP,so.INIT],so.INIT)&&(null==(t=this.scope)||t.removeScope(),h.cleanupPoppers())}componentWillUnmount(){var e;null==(e=this.scope)||e.removeScope()}get open(){const{lifecycle:e,step:t}=this.props;return jo(t)||e===so.TOOLTIP}render(){const{continuous:e,debug:t,index:r,nonce:n,shouldScroll:s,size:i,step:o}=this.props,l=uo(o.target);return Lo(o)&&un.domElement(l)?a.createElement("div",{key:"JoyrideStep-".concat(r),className:"react-joyride__step"},a.createElement(Oi,(0,Be.A)((0,Be.A)({},o.floaterProps),{},{component:this.renderTooltip,debug:t,getPopper:this.setPopper,id:"react-joyride-step-".concat(r),open:this.open,placement:o.placement,target:o.target}),a.createElement(Ho,{beaconComponent:o.beaconComponent,continuous:e,index:r,isLastStep:r+1===i,locale:o.locale,nonce:n,onClickOrHover:this.handleClickHoverBeacon,shouldFocus:s,size:i,step:o,styles:o.styles}))):null}},Xo=class extends a.Component{constructor(e){super(e),qi(this,"helpers"),qi(this,"store"),qi(this,"callback",e=>{const{callback:t}=this.props;un.function(t)&&t(e)}),qi(this,"handleKeyboard",e=>{const{index:t,lifecycle:r}=this.state,{steps:a}=this.props,n=a[t];r===so.TOOLTIP&&"Escape"===e.code&&n&&!n.disableCloseOnEsc&&this.store.close("keyboard")}),qi(this,"handleClickOverlay",()=>{const{index:e}=this.state,{steps:t}=this.props;Fo(this.props,t[e]).disableOverlayClose||this.helpers.close("overlay")}),qi(this,"syncState",e=>{this.setState(e)});const{debug:t,getHelpers:r,run:a=!0,stepIndex:n}=e;var s;this.store=(s=(0,Be.A)((0,Be.A)({},e),{},{controlled:a&&un.number(n)}),new zo(s)),this.helpers=this.store.getHelpers();const{addListener:i}=this.store;No({title:"init",data:[{key:"props",value:this.props},{key:"state",value:this.state}],debug:t}),i(this.syncState),r&&r(this.helpers),this.state=this.store.getState()}componentDidMount(){if(!oo())return;const{debug:e,disableCloseOnEsc:t,run:r,steps:a}=this.props,{start:n}=this.store;Mo(a,e)&&r&&n(),t||document.body.addEventListener("keydown",this.handleKeyboard,{passive:!0})}componentDidUpdate(e,t){if(!oo())return;const{action:r,controlled:a,index:n,status:s}=this.state,{debug:i,run:o,stepIndex:l,steps:c}=this.props,{stepIndex:d,steps:u}=e,{reset:m,setSteps:h,start:p,stop:g,update:x}=this.store,{changed:f}=wn(e,this.props),{changed:y,changedFrom:v}=wn(t,this.state),b=Fo(this.props,c[n]),w=!rn(u,c),j=un.number(l)&&f("stepIndex"),k=uo(b.target);if(w&&(Mo(c,i)?h(c):console.warn("Steps are not valid",c)),f("run")&&(o?p(l):g()),j){let e=un.number(d)&&d<l?Hi:Wi;r===Vi&&(e=Ui),[io.FINISHED,io.SKIPPED].includes(s)||x({action:r===Ki?Ki:e,index:l,lifecycle:so.INIT})}a||s!==io.RUNNING||0!==n||k||(this.store.update({index:n+1}),this.callback((0,Be.A)((0,Be.A)({},this.state),{},{type:no,step:b})));const N=(0,Be.A)((0,Be.A)({},this.state),{},{index:n,step:b});if(y("action",[Hi,Wi,Qi,Ki])&&y("status",io.PAUSED)){const e=Fo(this.props,c[t.index]);this.callback((0,Be.A)((0,Be.A)({},N),{},{index:t.index,lifecycle:so.COMPLETE,step:e,type:to}))}if(y("status",[io.FINISHED,io.SKIPPED])){const e=Fo(this.props,c[t.index]);a||this.callback((0,Be.A)((0,Be.A)({},N),{},{index:t.index,lifecycle:so.COMPLETE,step:e,type:to})),this.callback((0,Be.A)((0,Be.A)({},N),{},{type:ro,step:e,index:t.index})),m()}else v("status",[io.IDLE,io.READY],io.RUNNING)?this.callback((0,Be.A)((0,Be.A)({},N),{},{type:Xi})):(y("status")||y("action",Yi))&&this.callback((0,Be.A)((0,Be.A)({},N),{},{type:ao}));this.scrollToStep(t)}componentWillUnmount(){const{disableCloseOnEsc:e}=this.props;e||document.body.removeEventListener("keydown",this.handleKeyboard)}scrollToStep(e){const{index:t,lifecycle:r,status:a}=this.state,{debug:n,disableScrollParentFix:s=!1,scrollDuration:i,scrollOffset:o=20,scrollToFirstStep:l=!1,steps:c}=this.props,d=Fo(this.props,c[t]),u=uo(d.target),m=function(e){const{isFirstStep:t,lifecycle:r,previousLifecycle:a,scrollToFirstStep:n,step:s,target:i}=e;return!s.disableScrolling&&(!t||n||r===so.TOOLTIP)&&"center"!==s.placement&&(!s.isFixed||!po(i))&&a!==r&&[so.BEACON,so.TOOLTIP].includes(r)}({isFirstStep:0===t,lifecycle:r,previousLifecycle:e.lifecycle,scrollToFirstStep:l,step:d,target:u});if(a===io.RUNNING&&m){const e=ho(u,s),l=mo(u,s);let c=Math.floor(go(u,o,s))||0;No({title:"scrollToStep",data:[{key:"index",value:t},{key:"lifecycle",value:r},{key:"status",value:a}],debug:n});const m=this.store.getPopper("beacon"),h=this.store.getPopper("tooltip");if(r===so.BEACON&&m){const{offsets:t,placement:r}=m;["bottom"].includes(r)||e||(c=Math.floor(t.popper.top-o))}else if(r===so.TOOLTIP&&h){const{flipped:t,offsets:r,placement:a}=h;!["top","right","left"].includes(a)||t||e?c-=d.spotlightPadding:c=Math.floor(r.popper.top-o)}c=c>=0?c:0,a===io.RUNNING&&function(e,t){const{duration:r,element:a}=t;return new Promise((t,n)=>{const{scrollTop:s}=a,i=e>s?e-s:s-e;jn.top(a,e,{duration:i<100?50:r},e=>e&&"Element already at target scroll position"!==e.message?n(e):t())})}(c,{element:l,duration:i}).then(()=>{setTimeout(()=>{var e;null==(e=this.store.getPopper("tooltip"))||e.instance.update()},10)})}}render(){if(!oo())return null;const{index:e,lifecycle:t,status:r}=this.state,{continuous:n=!1,debug:s=!1,nonce:i,scrollToFirstStep:o=!1,steps:l}=this.props,c={};if(r===io.RUNNING&&l[e]){const r=Fo(this.props,l[e]);c.step=a.createElement($o,(0,Be.A)((0,Be.A)({},this.state),{},{callback:this.callback,continuous:n,debug:s,helpers:this.helpers,nonce:i,shouldScroll:!r.disableScrolling&&(0!==e||o),step:r,store:this.store})),c.overlay=a.createElement(Yo,{id:"react-joyride-portal"},a.createElement(Vo,(0,Be.A)((0,Be.A)({},r),{},{continuous:n,debug:s,lifecycle:t,onClickOverlay:this.handleClickOverlay})))}return a.createElement("div",{className:"react-joyride"},c.step,c.overlay)}};qi(Xo,"defaultProps",Po);var Jo=Xo;const Zo=(0,nr.A)("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),el=e=>{let{continuous:t,index:r,step:a,backProps:n,closeProps:s,primaryProps:i,skipProps:o,tooltipProps:l,isLastStep:c,size:d,t:u,isRTL:m}=e;const h=document.documentElement.classList.contains("dark"),p=h?"#1F2937":"#ffffff",g=h?"#F9FAFB":"#111827",x=h?"#D1D5DB":"#374151";return(0,xr.jsxs)("div",(0,Be.A)((0,Be.A)({},l),{},{style:(0,Be.A)((0,Be.A)({},l.style),{},{maxWidth:420,backgroundColor:p,borderRadius:"16px",padding:"24px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"}),children:[a.title&&(0,xr.jsx)("div",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"8px",color:g,textAlign:m?"right":"left"},children:a.title}),(0,xr.jsx)("div",{style:{fontSize:"15px",lineHeight:"1.7",color:x,padding:"8px 0",textAlign:m?"right":"left"},children:a.content}),(0,xr.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"16px",direction:m?"rtl":"ltr"},children:[(0,xr.jsx)("div",{style:{display:"flex",gap:"8px",flex:1},children:r>0&&(0,xr.jsx)("button",(0,Be.A)((0,Be.A)({},n),{},{style:{color:"#6B7280",padding:"10px 20px",borderRadius:"8px",fontSize:"14px",fontWeight:"500",background:"transparent",border:"none",cursor:"pointer"},children:u("tourBack")}))}),(0,xr.jsx)("div",{style:{fontSize:"13px",color:"#9CA3AF",fontWeight:"500",margin:"0 12px"},children:m?(0,xr.jsxs)("span",{children:[d," ",u("tourStepOf")," ",r+1," ",u("tourStep")]}):(0,xr.jsxs)("span",{children:[u("tourStep")," ",r+1," ",u("tourOf")," ",d]})}),(0,xr.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[!c&&(0,xr.jsx)("button",(0,Be.A)((0,Be.A)({},o),{},{style:{color:"#9CA3AF",fontSize:"14px",fontWeight:"500",background:"transparent",border:"none",cursor:"pointer",padding:"10px 16px"},children:u("tourSkip")})),(0,xr.jsx)("button",(0,Be.A)((0,Be.A)({},i),{},{style:{backgroundColor:"#6366F1",borderRadius:"8px",padding:"10px 20px",fontSize:"14px",fontWeight:"600",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)",transition:"all 0.2s",color:"white",border:"none",cursor:"pointer"},children:u(c?"tourFinish":"tourNext")}))]})]})]}))},tl=e=>{let{steps:t,tourKey:r,autoStart:n=!1,showButton:s=!0,bindStartToWindowKey:i}=e;const{t:o,i18n:l}=(0,ar.useTranslation)(),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(0),h="ar"===l.language;(0,a.useEffect)(()=>{const e=localStorage.getItem("tour_".concat(r,"_completed"));n&&!e&&setTimeout(()=>{d(!0)},1e3)},[n,r]),(0,a.useEffect)(()=>{if(!i||"undefined"===typeof window)return;const e=()=>{m(0),d(!0)};return window[i]=e,()=>{window[i]===e&&delete window[i]}},[i]);const p=()=>{m(0),d(!0)};return(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)(Jo,{steps:t,run:c,stepIndex:u,continuous:!0,showProgress:!0,showSkipButton:!0,scrollToFirstStep:!0,disableScrolling:!1,callback:e=>{const{action:a,index:n,status:s,type:i,step:o}=e;if(console.log("[Tour ".concat(r,"] Step ").concat(n+1,"/").concat(t.length,":"),{type:i,status:s,action:a,target:null===o||void 0===o?void 0:o.target}),i===to){const e=n+(a===Wi?-1:1);console.log("[Tour ".concat(r,"] Moving to step ").concat(e+1)),m(e)}else if(i===no){console.warn("[Tour ".concat(r,"] Target not found for step ").concat(n+1,": ").concat(null===o||void 0===o?void 0:o.target));const e=n+1;e<t.length?(console.log("[Tour ".concat(r,"] Skipping to step ").concat(e+1)),m(e)):(console.log("[Tour ".concat(r,"] No more steps, finishing tour")),d(!1),m(0),localStorage.setItem("tour_".concat(r,"_completed"),"true"))}else[io.FINISHED,io.SKIPPED].includes(s)&&(console.log("[Tour ".concat(r,"] Tour ").concat(s)),d(!1),m(0),localStorage.setItem("tour_".concat(r,"_completed"),"true"))},tooltipComponent:e=>(0,xr.jsx)(el,(0,Be.A)((0,Be.A)({},e),{},{t:o,isRTL:h})),styles:{options:{primaryColor:"#6366F1",textColor:"#1F2937",backgroundColor:"#ffffff",overlayColor:"rgba(0, 0, 0, 0.6)",arrowColor:"#ffffff",zIndex:1e4},tooltip:{borderRadius:"16px",padding:"24px",fontSize:"15px",lineHeight:"1.6",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",direction:h?"rtl":"ltr"},tooltipContainer:{textAlign:h?"right":"left"},tooltipTitle:{fontSize:"18px",fontWeight:"600",marginBottom:"8px",color:"#111827"},tooltipContent:{fontSize:"15px",lineHeight:"1.7",color:"#374151",padding:"8px 0"},buttonNext:{backgroundColor:"#6366F1",borderRadius:"8px",padding:"10px 20px",fontSize:"14px",fontWeight:"600",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)",transition:"all 0.2s"},buttonBack:{color:"#6B7280",marginRight:"12px",padding:"10px 20px",borderRadius:"8px",fontSize:"14px",fontWeight:"500"},buttonSkip:{color:"#9CA3AF",fontSize:"14px",fontWeight:"500"},beacon:{offsetX:0,offsetY:0},beaconInner:{backgroundColor:"#6366F1"},beaconOuter:{backgroundColor:"rgba(99, 102, 241, 0.2)",border:"2px solid #6366F1"}},locale:{back:o("tourBack"),close:o("tourClose"),last:o("tourFinish"),next:o("tourNext"),skip:o("tourSkip")}}),s&&(0,xr.jsxs)("button",{onClick:p,className:"fixed bottom-6 ".concat(h?"left-6":"right-6"," z-50 flex items-center gap-2 px-4 py-3 bg-indigo-600 text-white rounded-full shadow-lg hover:bg-indigo-700 transition-all hover:scale-105"),title:o("takeATour"),dir:h?"rtl":"ltr",children:[(0,xr.jsx)(Zo,{className:"w-5 h-5"}),(0,xr.jsx)("span",{className:"font-medium",children:o("takeATour")})]})]})};function rl(e){return null!==e&&"object"===typeof e&&"constructor"in e&&e.constructor===Object}function al(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=["__proto__","constructor","prototype"];Object.keys(t).filter(e=>r.indexOf(e)<0).forEach(r=>{"undefined"===typeof e[r]?e[r]=t[r]:rl(t[r])&&rl(e[r])&&Object.keys(t[r]).length>0&&al(e[r],t[r])})}const nl={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function sl(){const e="undefined"!==typeof document?document:{};return al(e,nl),e}const il={document:nl,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:e=>"undefined"===typeof setTimeout?(e(),null):setTimeout(e,0),cancelAnimationFrame(e){"undefined"!==typeof setTimeout&&clearTimeout(e)}};function ol(){const e="undefined"!==typeof window?window:{};return al(e,il),e}function ll(e){return setTimeout(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)}function cl(){return Date.now()}function dl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const r=ol();let a,n,s;const i=function(e){const t=ol();let r;return t.getComputedStyle&&(r=t.getComputedStyle(e,null)),!r&&e.currentStyle&&(r=e.currentStyle),r||(r=e.style),r}(e);return r.WebKitCSSMatrix?(n=i.transform||i.webkitTransform,n.split(",").length>6&&(n=n.split(", ").map(e=>e.replace(",",".")).join(", ")),s=new r.WebKitCSSMatrix("none"===n?"":n)):(s=i.MozTransform||i.OTransform||i.MsTransform||i.msTransform||i.transform||i.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),a=s.toString().split(",")),"x"===t&&(n=r.WebKitCSSMatrix?s.m41:16===a.length?parseFloat(a[12]):parseFloat(a[4])),"y"===t&&(n=r.WebKitCSSMatrix?s.m42:16===a.length?parseFloat(a[13]):parseFloat(a[5])),n||0}function ul(e){return"object"===typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function ml(e){return"undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement?e instanceof HTMLElement:e&&(1===e.nodeType||11===e.nodeType)}function hl(){const e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let r=1;r<arguments.length;r+=1){const a=r<0||arguments.length<=r?void 0:arguments[r];if(void 0!==a&&null!==a&&!ml(a)){const r=Object.keys(Object(a)).filter(e=>t.indexOf(e)<0);for(let t=0,n=r.length;t<n;t+=1){const n=r[t],s=Object.getOwnPropertyDescriptor(a,n);void 0!==s&&s.enumerable&&(ul(e[n])&&ul(a[n])?a[n].__swiper__?e[n]=a[n]:hl(e[n],a[n]):!ul(e[n])&&ul(a[n])?(e[n]={},a[n].__swiper__?e[n]=a[n]:hl(e[n],a[n])):e[n]=a[n])}}}return e}function pl(e,t,r){e.style.setProperty(t,r)}function gl(e){let{swiper:t,targetPosition:r,side:a}=e;const n=ol(),s=-t.translate;let i,o=null;const l=t.params.speed;t.wrapperEl.style.scrollSnapType="none",n.cancelAnimationFrame(t.cssModeFrameID);const c=r>s?"next":"prev",d=(e,t)=>"next"===c&&e>=t||"prev"===c&&e<=t,u=()=>{i=(new Date).getTime(),null===o&&(o=i);const e=Math.max(Math.min((i-o)/l,1),0),c=.5-Math.cos(e*Math.PI)/2;let m=s+c*(r-s);if(d(m,r)&&(m=r),t.wrapperEl.scrollTo({[a]:m}),d(m,r))return t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[a]:m})}),void n.cancelAnimationFrame(t.cssModeFrameID);t.cssModeFrameID=n.requestAnimationFrame(u)};u()}function xl(e){return e.querySelector(".swiper-slide-transform")||e.shadowRoot&&e.shadowRoot.querySelector(".swiper-slide-transform")||e}function fl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const r=ol(),a=[...e.children];return r.HTMLSlotElement&&e instanceof HTMLSlotElement&&a.push(...e.assignedElements()),t?a.filter(e=>e.matches(t)):a}function yl(e){try{return void console.warn(e)}catch(t){}}function vl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r=document.createElement(e);return r.classList.add(...Array.isArray(t)?t:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").trim().split(" ").filter(e=>!!e.trim())}(t)),r}function bl(e,t){return ol().getComputedStyle(e,null).getPropertyValue(t)}function wl(e){let t,r=e;if(r){for(t=0;null!==(r=r.previousSibling);)1===r.nodeType&&(t+=1);return t}}function jl(e,t){const r=[];let a=e.parentElement;for(;a;)t?a.matches(t)&&r.push(a):r.push(a),a=a.parentElement;return r}function kl(e,t,r){const a=ol();return r?e["width"===t?"offsetWidth":"offsetHeight"]+parseFloat(a.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-right":"margin-top"))+parseFloat(a.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-left":"margin-bottom")):e.offsetWidth}function Nl(e){return(Array.isArray(e)?e:[e]).filter(e=>!!e)}function Cl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";"undefined"!==typeof trustedTypes?e.innerHTML=trustedTypes.createPolicy("html",{createHTML:e=>e}).createHTML(t):e.innerHTML=t}let Al,Sl,El;function Dl(){return Al||(Al=function(){const e=ol(),t=sl();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}()),Al}function Pl(){return Sl||(Sl=function(){let{userAgent:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Dl(),r=ol(),a=r.navigator.platform,n=e||r.navigator.userAgent,s={ios:!1,android:!1},i=r.screen.width,o=r.screen.height,l=n.match(/(Android);?[\s\/]+([\d.]+)?/);let c=n.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const d=n.match(/(iPod)(.*OS\s([\d_]+))?/),u=!c&&n.match(/(iPhone\sOS|iOS)\s([\d_]+)/),m="Win32"===a;let h="MacIntel"===a;return!c&&h&&t.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf("".concat(i,"x").concat(o))>=0&&(c=n.match(/(Version)\/([\d.]+)/),c||(c=[0,1,"13_0_0"]),h=!1),l&&!m&&(s.os="android",s.android=!0),(c||u||d)&&(s.os="ios",s.ios=!0),s}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})),Sl}function Tl(){return El||(El=function(){const e=ol(),t=Pl();let r=!1;function a(){const t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}if(a()){const t=String(e.navigator.userAgent);if(t.includes("Version/")){const[e,a]=t.split("Version/")[1].split(" ")[0].split(".").map(e=>Number(e));r=e<16||16===e&&a<2}}const n=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent),s=a();return{isSafari:r||s,needPerspectiveFix:r,need3dFix:s||n&&t.ios,isWebView:n}}()),El}var _l={on(e,t,r){const a=this;if(!a.eventsListeners||a.destroyed)return a;if("function"!==typeof t)return a;const n=r?"unshift":"push";return e.split(" ").forEach(e=>{a.eventsListeners[e]||(a.eventsListeners[e]=[]),a.eventsListeners[e][n](t)}),a},once(e,t,r){const a=this;if(!a.eventsListeners||a.destroyed)return a;if("function"!==typeof t)return a;function n(){a.off(e,n),n.__emitterProxy&&delete n.__emitterProxy;for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];t.apply(a,s)}return n.__emitterProxy=t,a.on(e,n,r)},onAny(e,t){const r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!==typeof e)return r;const a=t?"unshift":"push";return r.eventsAnyListeners.indexOf(e)<0&&r.eventsAnyListeners[a](e),r},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsAnyListeners)return t;const r=t.eventsAnyListeners.indexOf(e);return r>=0&&t.eventsAnyListeners.splice(r,1),t},off(e,t){const r=this;return!r.eventsListeners||r.destroyed?r:r.eventsListeners?(e.split(" ").forEach(e=>{"undefined"===typeof t?r.eventsListeners[e]=[]:r.eventsListeners[e]&&r.eventsListeners[e].forEach((a,n)=>{(a===t||a.__emitterProxy&&a.__emitterProxy===t)&&r.eventsListeners[e].splice(n,1)})}),r):r},emit(){const e=this;if(!e.eventsListeners||e.destroyed)return e;if(!e.eventsListeners)return e;let t,r,a;for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];"string"===typeof s[0]||Array.isArray(s[0])?(t=s[0],r=s.slice(1,s.length),a=e):(t=s[0].events,r=s[0].data,a=s[0].context||e),r.unshift(a);return(Array.isArray(t)?t:t.split(" ")).forEach(t=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(e=>{e.apply(a,[t,...r])}),e.eventsListeners&&e.eventsListeners[t]&&e.eventsListeners[t].forEach(e=>{e.apply(a,r)})}),e}};const Rl=(e,t,r)=>{t&&!e.classList.contains(r)?e.classList.add(r):!t&&e.classList.contains(r)&&e.classList.remove(r)};const Ol=(e,t,r)=>{t&&!e.classList.contains(r)?e.classList.add(r):!t&&e.classList.contains(r)&&e.classList.remove(r)};const Fl=(e,t)=>{if(!e||e.destroyed||!e.params)return;const r=t.closest(e.isElement?"swiper-slide":".".concat(e.params.slideClass));if(r){let t=r.querySelector(".".concat(e.params.lazyPreloaderClass));!t&&e.isElement&&(r.shadowRoot?t=r.shadowRoot.querySelector(".".concat(e.params.lazyPreloaderClass)):requestAnimationFrame(()=>{r.shadowRoot&&(t=r.shadowRoot.querySelector(".".concat(e.params.lazyPreloaderClass)),t&&t.remove())})),t&&t.remove()}},Ll=(e,t)=>{if(!e.slides[t])return;const r=e.slides[t].querySelector('[loading="lazy"]');r&&r.removeAttribute("loading")},Ml=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const r=e.slides.length;if(!r||!t||t<0)return;t=Math.min(t,r);const a="auto"===e.params.slidesPerView?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),n=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){const r=n,s=[r-t];return s.push(...Array.from({length:t}).map((e,t)=>r+a+t)),void e.slides.forEach((t,r)=>{s.includes(t.column)&&Ll(e,r)})}const s=n+a-1;if(e.params.rewind||e.params.loop)for(let i=n-t;i<=s+t;i+=1){const t=(i%r+r)%r;(t<n||t>s)&&Ll(e,t)}else for(let i=Math.max(n-t,0);i<=Math.min(s+t,r-1);i+=1)i!==n&&(i>s||i<n)&&Ll(e,i)};var Il={updateSize:function(){const e=this;let t,r;const a=e.el;t="undefined"!==typeof e.params.width&&null!==e.params.width?e.params.width:a.clientWidth,r="undefined"!==typeof e.params.height&&null!==e.params.height?e.params.height:a.clientHeight,0===t&&e.isHorizontal()||0===r&&e.isVertical()||(t=t-parseInt(bl(a,"padding-left")||0,10)-parseInt(bl(a,"padding-right")||0,10),r=r-parseInt(bl(a,"padding-top")||0,10)-parseInt(bl(a,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(r)&&(r=0),Object.assign(e,{width:t,height:r,size:e.isHorizontal()?t:r}))},updateSlides:function(){const e=this;function t(t,r){return parseFloat(t.getPropertyValue(e.getDirectionLabel(r))||0)}const r=e.params,{wrapperEl:a,slidesEl:n,rtlTranslate:s,wrongRTL:i}=e,o=e.virtual&&r.virtual.enabled,l=o?e.virtual.slides.length:e.slides.length,c=fl(n,".".concat(e.params.slideClass,", swiper-slide")),d=o?e.virtual.slides.length:c.length;let u=[];const m=[],h=[];let p=r.slidesOffsetBefore;"function"===typeof p&&(p=r.slidesOffsetBefore.call(e));let g=r.slidesOffsetAfter;"function"===typeof g&&(g=r.slidesOffsetAfter.call(e));const x=e.snapGrid.length,f=e.slidesGrid.length,y=e.size-p-g;let v=r.spaceBetween,b=-p,w=0,j=0;if("undefined"===typeof y)return;"string"===typeof v&&v.indexOf("%")>=0?v=parseFloat(v.replace("%",""))/100*y:"string"===typeof v&&(v=parseFloat(v)),e.virtualSize=-v-p-g,c.forEach(e=>{s?e.style.marginLeft="":e.style.marginRight="",e.style.marginBottom="",e.style.marginTop=""}),r.centeredSlides&&r.cssMode&&(pl(a,"--swiper-centered-offset-before",""),pl(a,"--swiper-centered-offset-after",""));const k=r.grid&&r.grid.rows>1&&e.grid;let N;k?e.grid.initSlides(c):e.grid&&e.grid.unsetSlides();const C="auto"===r.slidesPerView&&r.breakpoints&&Object.keys(r.breakpoints).filter(e=>"undefined"!==typeof r.breakpoints[e].slidesPerView).length>0;for(let A=0;A<d;A+=1){N=0;const a=c[A];if(!a||(k&&e.grid.updateSlide(A,a,c),"none"!==bl(a,"display"))){if(o&&"auto"===r.slidesPerView)r.virtual.slidesPerViewAutoSlideSize&&(N=r.virtual.slidesPerViewAutoSlideSize),N&&a&&(r.roundLengths&&(N=Math.floor(N)),a.style[e.getDirectionLabel("width")]="".concat(N,"px"));else if("auto"===r.slidesPerView){C&&(a.style[e.getDirectionLabel("width")]="");const n=getComputedStyle(a),s=a.style.transform,i=a.style.webkitTransform;if(s&&(a.style.transform="none"),i&&(a.style.webkitTransform="none"),r.roundLengths)N=e.isHorizontal()?kl(a,"width",!0):kl(a,"height",!0);else{const e=t(n,"width"),r=t(n,"padding-left"),s=t(n,"padding-right"),i=t(n,"margin-left"),o=t(n,"margin-right"),l=n.getPropertyValue("box-sizing");if(l&&"border-box"===l)N=e+i+o;else{const{clientWidth:t,offsetWidth:n}=a;N=e+r+s+i+o+(n-t)}}s&&(a.style.transform=s),i&&(a.style.webkitTransform=i),r.roundLengths&&(N=Math.floor(N))}else N=(y-(r.slidesPerView-1)*v)/r.slidesPerView,r.roundLengths&&(N=Math.floor(N)),a&&(a.style[e.getDirectionLabel("width")]="".concat(N,"px"));a&&(a.swiperSlideSize=N),h.push(N),r.centeredSlides?(b=b+N/2+w/2+v,0===w&&0!==A&&(b=b-y/2-v),0===A&&(b=b-y/2-v),Math.abs(b)<.001&&(b=0),r.roundLengths&&(b=Math.floor(b)),j%r.slidesPerGroup===0&&u.push(b),m.push(b)):(r.roundLengths&&(b=Math.floor(b)),(j-Math.min(e.params.slidesPerGroupSkip,j))%e.params.slidesPerGroup===0&&u.push(b),m.push(b),b=b+N+v),e.virtualSize+=N+v,w=N,j+=1}}if(e.virtualSize=Math.max(e.virtualSize,y)+g,s&&i&&("slide"===r.effect||"coverflow"===r.effect)&&(a.style.width="".concat(e.virtualSize+v,"px")),r.setWrapperSize&&(a.style[e.getDirectionLabel("width")]="".concat(e.virtualSize+v,"px")),k&&e.grid.updateWrapperSize(N,u),!r.centeredSlides){const t=[];for(let a=0;a<u.length;a+=1){let n=u[a];r.roundLengths&&(n=Math.floor(n)),u[a]<=e.virtualSize-y&&t.push(n)}u=t,Math.floor(e.virtualSize-y)-Math.floor(u[u.length-1])>1&&u.push(e.virtualSize-y)}if(o&&r.loop){const t=h[0]+v;if(r.slidesPerGroup>1){const a=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/r.slidesPerGroup),n=t*r.slidesPerGroup;for(let e=0;e<a;e+=1)u.push(u[u.length-1]+n)}for(let a=0;a<e.virtual.slidesBefore+e.virtual.slidesAfter;a+=1)1===r.slidesPerGroup&&u.push(u[u.length-1]+t),m.push(m[m.length-1]+t),e.virtualSize+=t}if(0===u.length&&(u=[0]),0!==v){const t=e.isHorizontal()&&s?"marginLeft":e.getDirectionLabel("marginRight");c.filter((e,t)=>!(r.cssMode&&!r.loop)||t!==c.length-1).forEach(e=>{e.style[t]="".concat(v,"px")})}if(r.centeredSlides&&r.centeredSlidesBounds){let e=0;h.forEach(t=>{e+=t+(v||0)}),e-=v;const t=e>y?e-y:0;u=u.map(e=>e<=0?-p:e>t?t+g:e)}if(r.centerInsufficientSlides){let e=0;h.forEach(t=>{e+=t+(v||0)}),e-=v;const t=(p||0)+(g||0);if(e+t<y){const r=(y-e-t)/2;u.forEach((e,t)=>{u[t]=e-r}),m.forEach((e,t)=>{m[t]=e+r})}}if(Object.assign(e,{slides:c,snapGrid:u,slidesGrid:m,slidesSizesGrid:h}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){pl(a,"--swiper-centered-offset-before","".concat(-u[0],"px")),pl(a,"--swiper-centered-offset-after","".concat(e.size/2-h[h.length-1]/2,"px"));const t=-e.snapGrid[0],r=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(e=>e+t),e.slidesGrid=e.slidesGrid.map(e=>e+r)}if(d!==l&&e.emit("slidesLengthChange"),u.length!==x&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),m.length!==f&&e.emit("slidesGridLengthChange"),r.watchSlidesProgress&&e.updateSlidesOffset(),e.emit("slidesUpdated"),!o&&!r.cssMode&&("slide"===r.effect||"fade"===r.effect)){const t="".concat(r.containerModifierClass,"backface-hidden"),a=e.el.classList.contains(t);d<=r.maxBackfaceHiddenSlides?a||e.el.classList.add(t):a&&e.el.classList.remove(t)}},updateAutoHeight:function(e){const t=this,r=[],a=t.virtual&&t.params.virtual.enabled;let n,s=0;"number"===typeof e?t.setTransition(e):!0===e&&t.setTransition(t.params.speed);const i=e=>a?t.slides[t.getSlideIndexByData(e)]:t.slides[e];if("auto"!==t.params.slidesPerView&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(e=>{r.push(e)});else for(n=0;n<Math.ceil(t.params.slidesPerView);n+=1){const e=t.activeIndex+n;if(e>t.slides.length&&!a)break;r.push(i(e))}else r.push(i(t.activeIndex));for(n=0;n<r.length;n+=1)if("undefined"!==typeof r[n]){const e=r[n].offsetHeight;s=e>s?e:s}(s||0===s)&&(t.wrapperEl.style.height="".concat(s,"px"))},updateSlidesOffset:function(){const e=this,t=e.slides,r=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let a=0;a<t.length;a+=1)t[a].swiperSlideOffset=(e.isHorizontal()?t[a].offsetLeft:t[a].offsetTop)-r-e.cssOverflowAdjustment()},updateSlidesProgress:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this&&this.translate||0;const t=this,r=t.params,{slides:a,rtlTranslate:n,snapGrid:s}=t;if(0===a.length)return;"undefined"===typeof a[0].swiperSlideOffset&&t.updateSlidesOffset();let i=-e;n&&(i=e),t.visibleSlidesIndexes=[],t.visibleSlides=[];let o=r.spaceBetween;"string"===typeof o&&o.indexOf("%")>=0?o=parseFloat(o.replace("%",""))/100*t.size:"string"===typeof o&&(o=parseFloat(o));for(let l=0;l<a.length;l+=1){const e=a[l];let c=e.swiperSlideOffset;r.cssMode&&r.centeredSlides&&(c-=a[0].swiperSlideOffset);const d=(i+(r.centeredSlides?t.minTranslate():0)-c)/(e.swiperSlideSize+o),u=(i-s[0]+(r.centeredSlides?t.minTranslate():0)-c)/(e.swiperSlideSize+o),m=-(i-c),h=m+t.slidesSizesGrid[l],p=m>=0&&m<=t.size-t.slidesSizesGrid[l],g=m>=0&&m<t.size-1||h>1&&h<=t.size||m<=0&&h>=t.size;g&&(t.visibleSlides.push(e),t.visibleSlidesIndexes.push(l)),Rl(e,g,r.slideVisibleClass),Rl(e,p,r.slideFullyVisibleClass),e.progress=n?-d:d,e.originalProgress=n?-u:u}},updateProgress:function(e){const t=this;if("undefined"===typeof e){const r=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*r||0}const r=t.params,a=t.maxTranslate()-t.minTranslate();let{progress:n,isBeginning:s,isEnd:i,progressLoop:o}=t;const l=s,c=i;if(0===a)n=0,s=!0,i=!0;else{n=(e-t.minTranslate())/a;const r=Math.abs(e-t.minTranslate())<1,o=Math.abs(e-t.maxTranslate())<1;s=r||n<=0,i=o||n>=1,r&&(n=0),o&&(n=1)}if(r.loop){const r=t.getSlideIndexByData(0),a=t.getSlideIndexByData(t.slides.length-1),n=t.slidesGrid[r],s=t.slidesGrid[a],i=t.slidesGrid[t.slidesGrid.length-1],l=Math.abs(e);o=l>=n?(l-n)/i:(l+i-s)/i,o>1&&(o-=1)}Object.assign(t,{progress:n,progressLoop:o,isBeginning:s,isEnd:i}),(r.watchSlidesProgress||r.centeredSlides&&r.autoHeight)&&t.updateSlidesProgress(e),s&&!l&&t.emit("reachBeginning toEdge"),i&&!c&&t.emit("reachEnd toEdge"),(l&&!s||c&&!i)&&t.emit("fromEdge"),t.emit("progress",n)},updateSlidesClasses:function(){const e=this,{slides:t,params:r,slidesEl:a,activeIndex:n}=e,s=e.virtual&&r.virtual.enabled,i=e.grid&&r.grid&&r.grid.rows>1,o=e=>fl(a,".".concat(r.slideClass).concat(e,", swiper-slide").concat(e))[0];let l,c,d;if(s)if(r.loop){let t=n-e.virtual.slidesBefore;t<0&&(t=e.virtual.slides.length+t),t>=e.virtual.slides.length&&(t-=e.virtual.slides.length),l=o('[data-swiper-slide-index="'.concat(t,'"]'))}else l=o('[data-swiper-slide-index="'.concat(n,'"]'));else i?(l=t.find(e=>e.column===n),d=t.find(e=>e.column===n+1),c=t.find(e=>e.column===n-1)):l=t[n];l&&(i||(d=function(e,t){const r=[];for(;e.nextElementSibling;){const a=e.nextElementSibling;t?a.matches(t)&&r.push(a):r.push(a),e=a}return r}(l,".".concat(r.slideClass,", swiper-slide"))[0],r.loop&&!d&&(d=t[0]),c=function(e,t){const r=[];for(;e.previousElementSibling;){const a=e.previousElementSibling;t?a.matches(t)&&r.push(a):r.push(a),e=a}return r}(l,".".concat(r.slideClass,", swiper-slide"))[0],r.loop&&0===!c&&(c=t[t.length-1]))),t.forEach(e=>{Ol(e,e===l,r.slideActiveClass),Ol(e,e===d,r.slideNextClass),Ol(e,e===c,r.slidePrevClass)}),e.emitSlidesClasses()},updateActiveIndex:function(e){const t=this,r=t.rtlTranslate?t.translate:-t.translate,{snapGrid:a,params:n,activeIndex:s,realIndex:i,snapIndex:o}=t;let l,c=e;const d=e=>{let r=e-t.virtual.slidesBefore;return r<0&&(r=t.virtual.slides.length+r),r>=t.virtual.slides.length&&(r-=t.virtual.slides.length),r};if("undefined"===typeof c&&(c=function(e){const{slidesGrid:t,params:r}=e,a=e.rtlTranslate?e.translate:-e.translate;let n;for(let s=0;s<t.length;s+=1)"undefined"!==typeof t[s+1]?a>=t[s]&&a<t[s+1]-(t[s+1]-t[s])/2?n=s:a>=t[s]&&a<t[s+1]&&(n=s+1):a>=t[s]&&(n=s);return r.normalizeSlideIndex&&(n<0||"undefined"===typeof n)&&(n=0),n}(t)),a.indexOf(r)>=0)l=a.indexOf(r);else{const e=Math.min(n.slidesPerGroupSkip,c);l=e+Math.floor((c-e)/n.slidesPerGroup)}if(l>=a.length&&(l=a.length-1),c===s&&!t.params.loop)return void(l!==o&&(t.snapIndex=l,t.emit("snapIndexChange")));if(c===s&&t.params.loop&&t.virtual&&t.params.virtual.enabled)return void(t.realIndex=d(c));const u=t.grid&&n.grid&&n.grid.rows>1;let m;if(t.virtual&&n.virtual.enabled&&n.loop)m=d(c);else if(u){const e=t.slides.find(e=>e.column===c);let r=parseInt(e.getAttribute("data-swiper-slide-index"),10);Number.isNaN(r)&&(r=Math.max(t.slides.indexOf(e),0)),m=Math.floor(r/n.grid.rows)}else if(t.slides[c]){const e=t.slides[c].getAttribute("data-swiper-slide-index");m=e?parseInt(e,10):c}else m=c;Object.assign(t,{previousSnapIndex:o,snapIndex:l,previousRealIndex:i,realIndex:m,previousIndex:s,activeIndex:c}),t.initialized&&Ml(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(i!==m&&t.emit("realIndexChange"),t.emit("slideChange"))},updateClickedSlide:function(e,t){const r=this,a=r.params;let n=e.closest(".".concat(a.slideClass,", swiper-slide"));!n&&r.isElement&&t&&t.length>1&&t.includes(e)&&[...t.slice(t.indexOf(e)+1,t.length)].forEach(e=>{!n&&e.matches&&e.matches(".".concat(a.slideClass,", swiper-slide"))&&(n=e)});let s,i=!1;if(n)for(let o=0;o<r.slides.length;o+=1)if(r.slides[o]===n){i=!0,s=o;break}if(!n||!i)return r.clickedSlide=void 0,void(r.clickedIndex=void 0);r.clickedSlide=n,r.virtual&&r.params.virtual.enabled?r.clickedIndex=parseInt(n.getAttribute("data-swiper-slide-index"),10):r.clickedIndex=s,a.slideToClickedSlide&&void 0!==r.clickedIndex&&r.clickedIndex!==r.activeIndex&&r.slideToClickedSlide()}};var Bl={getTranslate:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.isHorizontal()?"x":"y";const{params:t,rtlTranslate:r,translate:a,wrapperEl:n}=this;if(t.virtualTranslate)return r?-a:a;if(t.cssMode)return a;let s=dl(n,e);return s+=this.cssOverflowAdjustment(),r&&(s=-s),s||0},setTranslate:function(e,t){const r=this,{rtlTranslate:a,params:n,wrapperEl:s,progress:i}=r;let o,l=0,c=0;r.isHorizontal()?l=a?-e:e:c=e,n.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),r.previousTranslate=r.translate,r.translate=r.isHorizontal()?l:c,n.cssMode?s[r.isHorizontal()?"scrollLeft":"scrollTop"]=r.isHorizontal()?-l:-c:n.virtualTranslate||(r.isHorizontal()?l-=r.cssOverflowAdjustment():c-=r.cssOverflowAdjustment(),s.style.transform="translate3d(".concat(l,"px, ").concat(c,"px, ").concat(0,"px)"));const d=r.maxTranslate()-r.minTranslate();o=0===d?0:(e-r.minTranslate())/d,o!==i&&r.updateProgress(e),r.emit("setTranslate",r.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.params.speed,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=arguments.length>4?arguments[4]:void 0;const s=this,{params:i,wrapperEl:o}=s;if(s.animating&&i.preventInteractionOnTransition)return!1;const l=s.minTranslate(),c=s.maxTranslate();let d;if(d=a&&e>l?l:a&&e<c?c:e,s.updateProgress(d),i.cssMode){const e=s.isHorizontal();if(0===t)o[e?"scrollLeft":"scrollTop"]=-d;else{if(!s.support.smoothScroll)return gl({swiper:s,targetPosition:-d,side:e?"left":"top"}),!0;o.scrollTo({[e?"left":"top"]:-d,behavior:"smooth"})}return!0}return 0===t?(s.setTransition(0),s.setTranslate(d),r&&(s.emit("beforeTransitionStart",t,n),s.emit("transitionEnd"))):(s.setTransition(t),s.setTranslate(d),r&&(s.emit("beforeTransitionStart",t,n),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(e){s&&!s.destroyed&&e.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,r&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}};function ql(e){let{swiper:t,runCallbacks:r,direction:a,step:n}=e;const{activeIndex:s,previousIndex:i}=t;let o=a;o||(o=s>i?"next":s<i?"prev":"reset"),t.emit("transition".concat(n)),r&&"reset"===o?t.emit("slideResetTransition".concat(n)):r&&s!==i&&(t.emit("slideChangeTransition".concat(n)),"next"===o?t.emit("slideNextTransition".concat(n)):t.emit("slidePrevTransition".concat(n)))}var zl={setTransition:function(e,t){const r=this;r.params.cssMode||(r.wrapperEl.style.transitionDuration="".concat(e,"ms"),r.wrapperEl.style.transitionDelay=0===e?"0ms":""),r.emit("setTransition",e,t)},transitionStart:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;const r=this,{params:a}=r;a.cssMode||(a.autoHeight&&r.updateAutoHeight(),ql({swiper:r,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;const r=this,{params:a}=r;r.animating=!1,a.cssMode||(r.setTransition(0),ql({swiper:r,runCallbacks:e,direction:t,step:"End"}))}};var Ul={slideTo:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments.length>3?arguments[3]:void 0,n=arguments.length>4?arguments[4]:void 0;"string"===typeof e&&(e=parseInt(e,10));const s=this;let i=e;i<0&&(i=0);const{params:o,snapGrid:l,slidesGrid:c,previousIndex:d,activeIndex:u,rtlTranslate:m,wrapperEl:h,enabled:p}=s;if(!p&&!a&&!n||s.destroyed||s.animating&&o.preventInteractionOnTransition)return!1;"undefined"===typeof t&&(t=s.params.speed);const g=Math.min(s.params.slidesPerGroupSkip,i);let x=g+Math.floor((i-g)/s.params.slidesPerGroup);x>=l.length&&(x=l.length-1);const f=-l[x];if(o.normalizeSlideIndex)for(let w=0;w<c.length;w+=1){const e=-Math.floor(100*f),t=Math.floor(100*c[w]),r=Math.floor(100*c[w+1]);"undefined"!==typeof c[w+1]?e>=t&&e<r-(r-t)/2?i=w:e>=t&&e<r&&(i=w+1):e>=t&&(i=w)}if(s.initialized&&i!==u){if(!s.allowSlideNext&&(m?f>s.translate&&f>s.minTranslate():f<s.translate&&f<s.minTranslate()))return!1;if(!s.allowSlidePrev&&f>s.translate&&f>s.maxTranslate()&&(u||0)!==i)return!1}let y;i!==(d||0)&&r&&s.emit("beforeSlideChangeStart"),s.updateProgress(f),y=i>u?"next":i<u?"prev":"reset";const v=s.virtual&&s.params.virtual.enabled;if(!(v&&n)&&(m&&-f===s.translate||!m&&f===s.translate))return s.updateActiveIndex(i),o.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),"slide"!==o.effect&&s.setTranslate(f),"reset"!==y&&(s.transitionStart(r,y),s.transitionEnd(r,y)),!1;if(o.cssMode){const e=s.isHorizontal(),r=m?f:-f;if(0===t)v&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),v&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{h[e?"scrollLeft":"scrollTop"]=r})):h[e?"scrollLeft":"scrollTop"]=r,v&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return gl({swiper:s,targetPosition:r,side:e?"left":"top"}),!0;h.scrollTo({[e?"left":"top"]:r,behavior:"smooth"})}return!0}const b=Tl().isSafari;return v&&!n&&b&&s.isElement&&s.virtual.update(!1,!1,i),s.setTransition(t),s.setTranslate(f),s.updateActiveIndex(i),s.updateSlidesClasses(),s.emit("beforeTransitionStart",t,a),s.transitionStart(r,y),0===t?s.transitionEnd(r,y):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(e){s&&!s.destroyed&&e.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(r,y))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments.length>3?arguments[3]:void 0;if("string"===typeof e){e=parseInt(e,10)}const n=this;if(n.destroyed)return;"undefined"===typeof t&&(t=n.params.speed);const s=n.grid&&n.params.grid&&n.params.grid.rows>1;let i=e;if(n.params.loop)if(n.virtual&&n.params.virtual.enabled)i+=n.virtual.slidesBefore;else{let e;if(s){const t=i*n.params.grid.rows;e=n.slides.find(e=>1*e.getAttribute("data-swiper-slide-index")===t).column}else e=n.getSlideIndexByData(i);const t=s?Math.ceil(n.slides.length/n.params.grid.rows):n.slides.length,{centeredSlides:r,slidesOffsetBefore:o,slidesOffsetAfter:l}=n.params,c=r||!!o||!!l;let d=n.params.slidesPerView;"auto"===d?d=n.slidesPerViewDynamic():(d=Math.ceil(parseFloat(n.params.slidesPerView,10)),c&&d%2===0&&(d+=1));let u=t-e<d;if(c&&(u=u||e<Math.ceil(d/2)),a&&c&&"auto"!==n.params.slidesPerView&&!s&&(u=!1),u){const r=c?e<n.activeIndex?"prev":"next":e-n.activeIndex-1<n.params.slidesPerView?"next":"prev";n.loopFix({direction:r,slideTo:!0,activeSlideIndex:"next"===r?e+1:e-t+1,slideRealIndex:"next"===r?n.realIndex:void 0})}if(s){const e=i*n.params.grid.rows;i=n.slides.find(t=>1*t.getAttribute("data-swiper-slide-index")===e).column}else i=n.getSlideIndexByData(i)}return requestAnimationFrame(()=>{n.slideTo(i,t,r,a)}),n},slideNext:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0;const a=this,{enabled:n,params:s,animating:i}=a;if(!n||a.destroyed)return a;"undefined"===typeof e&&(e=a.params.speed);let o=s.slidesPerGroup;"auto"===s.slidesPerView&&1===s.slidesPerGroup&&s.slidesPerGroupAuto&&(o=Math.max(a.slidesPerViewDynamic("current",!0),1));const l=a.activeIndex<s.slidesPerGroupSkip?1:o,c=a.virtual&&s.virtual.enabled;if(s.loop){if(i&&!c&&s.loopPreventsSliding)return!1;if(a.loopFix({direction:"next"}),a._clientLeft=a.wrapperEl.clientLeft,a.activeIndex===a.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{a.slideTo(a.activeIndex+l,e,t,r)}),!0}return s.rewind&&a.isEnd?a.slideTo(0,e,t,r):a.slideTo(a.activeIndex+l,e,t,r)},slidePrev:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0;const a=this,{params:n,snapGrid:s,slidesGrid:i,rtlTranslate:o,enabled:l,animating:c}=a;if(!l||a.destroyed)return a;"undefined"===typeof e&&(e=a.params.speed);const d=a.virtual&&n.virtual.enabled;if(n.loop){if(c&&!d&&n.loopPreventsSliding)return!1;a.loopFix({direction:"prev"}),a._clientLeft=a.wrapperEl.clientLeft}function u(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}const m=u(o?a.translate:-a.translate),h=s.map(e=>u(e)),p=n.freeMode&&n.freeMode.enabled;let g=s[h.indexOf(m)-1];if("undefined"===typeof g&&(n.cssMode||p)){let e;s.forEach((t,r)=>{m>=t&&(e=r)}),"undefined"!==typeof e&&(g=p?s[e]:s[e>0?e-1:e])}let x=0;if("undefined"!==typeof g&&(x=i.indexOf(g),x<0&&(x=a.activeIndex-1),"auto"===n.slidesPerView&&1===n.slidesPerGroup&&n.slidesPerGroupAuto&&(x=x-a.slidesPerViewDynamic("previous",!0)+1,x=Math.max(x,0))),n.rewind&&a.isBeginning){const n=a.params.virtual&&a.params.virtual.enabled&&a.virtual?a.virtual.slides.length-1:a.slides.length-1;return a.slideTo(n,e,t,r)}return n.loop&&0===a.activeIndex&&n.cssMode?(requestAnimationFrame(()=>{a.slideTo(x,e,t,r)}),!0):a.slideTo(x,e,t,r)},slideReset:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0;const a=this;if(!a.destroyed)return"undefined"===typeof e&&(e=a.params.speed),a.slideTo(a.activeIndex,e,t,r)},slideToClosest:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;const n=this;if(n.destroyed)return;"undefined"===typeof e&&(e=n.params.speed);let s=n.activeIndex;const i=Math.min(n.params.slidesPerGroupSkip,s),o=i+Math.floor((s-i)/n.params.slidesPerGroup),l=n.rtlTranslate?n.translate:-n.translate;if(l>=n.snapGrid[o]){const e=n.snapGrid[o];l-e>(n.snapGrid[o+1]-e)*a&&(s+=n.params.slidesPerGroup)}else{const e=n.snapGrid[o-1];l-e<=(n.snapGrid[o]-e)*a&&(s-=n.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,n.slidesGrid.length-1),n.slideTo(s,e,t,r)},slideToClickedSlide:function(){const e=this;if(e.destroyed)return;const{params:t,slidesEl:r}=e,a="auto"===t.slidesPerView?e.slidesPerViewDynamic():t.slidesPerView;let n,s=e.getSlideIndexWhenGrid(e.clickedIndex);const i=e.isElement?"swiper-slide":".".concat(t.slideClass),o=e.grid&&e.params.grid&&e.params.grid.rows>1;if(t.loop){if(e.animating)return;n=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?e.slideToLoop(n):s>(o?(e.slides.length-a)/2-(e.params.grid.rows-1):e.slides.length-a)?(e.loopFix(),s=e.getSlideIndex(fl(r,"".concat(i,'[data-swiper-slide-index="').concat(n,'"]'))[0]),ll(()=>{e.slideTo(s)})):e.slideTo(s)}else e.slideTo(s)}};var Vl={loopCreate:function(e,t){const r=this,{params:a,slidesEl:n}=r;if(!a.loop||r.virtual&&r.params.virtual.enabled)return;const s=()=>{fl(n,".".concat(a.slideClass,", swiper-slide")).forEach((e,t)=>{e.setAttribute("data-swiper-slide-index",t)})},i=r.grid&&a.grid&&a.grid.rows>1;a.loopAddBlankSlides&&(a.slidesPerGroup>1||i)&&(()=>{const e=fl(n,".".concat(a.slideBlankClass));e.forEach(e=>{e.remove()}),e.length>0&&(r.recalcSlides(),r.updateSlides())})();const o=a.slidesPerGroup*(i?a.grid.rows:1),l=r.slides.length%o!==0,c=i&&r.slides.length%a.grid.rows!==0,d=e=>{for(let t=0;t<e;t+=1){const e=r.isElement?vl("swiper-slide",[a.slideBlankClass]):vl("div",[a.slideClass,a.slideBlankClass]);r.slidesEl.append(e)}};if(l){if(a.loopAddBlankSlides){d(o-r.slides.length%o),r.recalcSlides(),r.updateSlides()}else yl("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(c){if(a.loopAddBlankSlides){d(a.grid.rows-r.slides.length%a.grid.rows),r.recalcSlides(),r.updateSlides()}else yl("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();const u=a.centeredSlides||!!a.slidesOffsetBefore||!!a.slidesOffsetAfter;r.loopFix({slideRealIndex:e,direction:u?void 0:"next",initial:t})},loopFix:function(){let{slideRealIndex:e,slideTo:t=!0,direction:r,setTranslate:a,activeSlideIndex:n,initial:s,byController:i,byMousewheel:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:c,allowSlidePrev:d,allowSlideNext:u,slidesEl:m,params:h}=l,{centeredSlides:p,slidesOffsetBefore:g,slidesOffsetAfter:x,initialSlide:f}=h,y=p||!!g||!!x;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&h.virtual.enabled)return t&&(y||0!==l.snapIndex?y&&l.snapIndex<h.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0):l.slideTo(l.virtual.slides.length,0,!1,!0)),l.allowSlidePrev=d,l.allowSlideNext=u,void l.emit("loopFix");let v=h.slidesPerView;"auto"===v?v=l.slidesPerViewDynamic():(v=Math.ceil(parseFloat(h.slidesPerView,10)),y&&v%2===0&&(v+=1));const b=h.slidesPerGroupAuto?v:h.slidesPerGroup;let w=y?Math.max(b,Math.ceil(v/2)):b;w%b!==0&&(w+=b-w%b),w+=h.loopAdditionalSlides,l.loopedSlides=w;const j=l.grid&&h.grid&&h.grid.rows>1;c.length<v+w||"cards"===l.params.effect&&c.length<v+2*w?yl("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):j&&"row"===h.grid.fill&&yl("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const k=[],N=[],C=j?Math.ceil(c.length/h.grid.rows):c.length,A=s&&C-f<v&&!y;let S=A?f:l.activeIndex;"undefined"===typeof n?n=l.getSlideIndex(c.find(e=>e.classList.contains(h.slideActiveClass))):S=n;const E="next"===r||!r,D="prev"===r||!r;let P=0,T=0;const _=(j?c[n].column:n)+(y&&"undefined"===typeof a?-v/2+.5:0);if(_<w){P=Math.max(w-_,b);for(let e=0;e<w-_;e+=1){const t=e-Math.floor(e/C)*C;if(j){const e=C-t-1;for(let t=c.length-1;t>=0;t-=1)c[t].column===e&&k.push(t)}else k.push(C-t-1)}}else if(_+v>C-w){T=Math.max(_-(C-2*w),b),A&&(T=Math.max(T,v-C+f+1));for(let e=0;e<T;e+=1){const t=e-Math.floor(e/C)*C;j?c.forEach((e,r)=>{e.column===t&&N.push(r)}):N.push(t)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),"cards"===l.params.effect&&c.length<v+2*w&&(N.includes(n)&&N.splice(N.indexOf(n),1),k.includes(n)&&k.splice(k.indexOf(n),1)),D&&k.forEach(e=>{c[e].swiperLoopMoveDOM=!0,m.prepend(c[e]),c[e].swiperLoopMoveDOM=!1}),E&&N.forEach(e=>{c[e].swiperLoopMoveDOM=!0,m.append(c[e]),c[e].swiperLoopMoveDOM=!1}),l.recalcSlides(),"auto"===h.slidesPerView?l.updateSlides():j&&(k.length>0&&D||N.length>0&&E)&&l.slides.forEach((e,t)=>{l.grid.updateSlide(t,e,l.slides)}),h.watchSlidesProgress&&l.updateSlidesOffset(),t)if(k.length>0&&D){if("undefined"===typeof e){const e=l.slidesGrid[S],t=l.slidesGrid[S+P]-e;o?l.setTranslate(l.translate-t):(l.slideTo(S+Math.ceil(P),0,!1,!0),a&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-t,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-t))}else if(a){const e=j?k.length/h.grid.rows:k.length;l.slideTo(l.activeIndex+e,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(N.length>0&&E)if("undefined"===typeof e){const e=l.slidesGrid[S],t=l.slidesGrid[S-T]-e;o?l.setTranslate(l.translate-t):(l.slideTo(S-T,0,!1,!0),a&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-t,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-t))}else{const e=j?N.length/h.grid.rows:N.length;l.slideTo(l.activeIndex-e,0,!1,!0)}if(l.allowSlidePrev=d,l.allowSlideNext=u,l.controller&&l.controller.control&&!i){const s={slideRealIndex:e,direction:r,setTranslate:a,activeSlideIndex:n,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(e=>{!e.destroyed&&e.params.loop&&e.loopFix((0,Be.A)((0,Be.A)({},s),{},{slideTo:e.params.slidesPerView===h.slidesPerView&&t}))}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix((0,Be.A)((0,Be.A)({},s),{},{slideTo:l.controller.control.params.slidesPerView===h.slidesPerView&&t}))}l.emit("loopFix")},loopDestroy:function(){const e=this,{params:t,slidesEl:r}=e;if(!t.loop||!r||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const a=[];e.slides.forEach(e=>{const t="undefined"===typeof e.swiperSlideIndex?1*e.getAttribute("data-swiper-slide-index"):e.swiperSlideIndex;a[t]=e}),e.slides.forEach(e=>{e.removeAttribute("data-swiper-slide-index")}),a.forEach(e=>{r.append(e)}),e.recalcSlides(),e.slideTo(e.realIndex,0)}};var Yl={setGrabCursor:function(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const r="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),r.style.cursor="move",r.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})},unsetGrabCursor:function(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}};function Wl(e,t,r){const a=ol(),{params:n}=e,s=n.edgeSwipeDetection,i=n.edgeSwipeThreshold;return!s||!(r<=i||r>=a.innerWidth-i)||"prevent"===s&&(t.preventDefault(),!0)}function Hl(e){const t=this,r=sl();let a=e;a.originalEvent&&(a=a.originalEvent);const n=t.touchEventsData;if("pointerdown"===a.type){if(null!==n.pointerId&&n.pointerId!==a.pointerId)return;n.pointerId=a.pointerId}else"touchstart"===a.type&&1===a.targetTouches.length&&(n.touchId=a.targetTouches[0].identifier);if("touchstart"===a.type)return void Wl(t,a,a.targetTouches[0].pageX);const{params:s,touches:i,enabled:o}=t;if(!o)return;if(!s.simulateTouch&&"mouse"===a.pointerType)return;if(t.animating&&s.preventInteractionOnTransition)return;!t.animating&&s.cssMode&&s.loop&&t.loopFix();let l=a.target;if("wrapper"===s.touchEventsTarget&&!function(e,t){const r=ol();let a=t.contains(e);!a&&r.HTMLSlotElement&&t instanceof HTMLSlotElement&&(a=[...t.assignedElements()].includes(e),a||(a=function(e,t){const r=[t];for(;r.length>0;){const t=r.shift();if(e===t)return!0;r.push(...t.children,...t.shadowRoot?t.shadowRoot.children:[],...t.assignedElements?t.assignedElements():[])}}(e,t)));return a}(l,t.wrapperEl))return;if("which"in a&&3===a.which)return;if("button"in a&&a.button>0)return;if(n.isTouched&&n.isMoved)return;const c=!!s.noSwipingClass&&""!==s.noSwipingClass,d=a.composedPath?a.composedPath():a.path;c&&a.target&&a.target.shadowRoot&&d&&(l=d[0]);const u=s.noSwipingSelector?s.noSwipingSelector:".".concat(s.noSwipingClass),m=!(!a.target||!a.target.shadowRoot);if(s.noSwiping&&(m?function(e){return function t(r){if(!r||r===sl()||r===ol())return null;r.assignedSlot&&(r=r.assignedSlot);const a=r.closest(e);return a||r.getRootNode?a||t(r.getRootNode().host):null}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this)}(u,l):l.closest(u)))return void(t.allowClick=!0);if(s.swipeHandler&&!l.closest(s.swipeHandler))return;i.currentX=a.pageX,i.currentY=a.pageY;const h=i.currentX,p=i.currentY;if(!Wl(t,a,h))return;Object.assign(n,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),i.startX=h,i.startY=p,n.touchStartTime=cl(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,s.threshold>0&&(n.allowThresholdMove=!1);let g=!0;l.matches(n.focusableElements)&&(g=!1,"SELECT"===l.nodeName&&(n.isTouched=!1)),r.activeElement&&r.activeElement.matches(n.focusableElements)&&r.activeElement!==l&&("mouse"===a.pointerType||"mouse"!==a.pointerType&&!l.matches(n.focusableElements))&&r.activeElement.blur();const x=g&&t.allowTouchMove&&s.touchStartPreventDefault;!s.touchStartForcePreventDefault&&!x||l.isContentEditable||a.preventDefault(),s.freeMode&&s.freeMode.enabled&&t.freeMode&&t.animating&&!s.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",a)}function Gl(e){const t=sl(),r=this,a=r.touchEventsData,{params:n,touches:s,rtlTranslate:i,enabled:o}=r;if(!o)return;if(!n.simulateTouch&&"mouse"===e.pointerType)return;let l,c=e;if(c.originalEvent&&(c=c.originalEvent),"pointermove"===c.type){if(null!==a.touchId)return;if(c.pointerId!==a.pointerId)return}if("touchmove"===c.type){if(l=[...c.changedTouches].find(e=>e.identifier===a.touchId),!l||l.identifier!==a.touchId)return}else l=c;if(!a.isTouched)return void(a.startMoving&&a.isScrolling&&r.emit("touchMoveOpposite",c));const d=l.pageX,u=l.pageY;if(c.preventedByNestedSwiper)return s.startX=d,void(s.startY=u);if(!r.allowTouchMove)return c.target.matches(a.focusableElements)||(r.allowClick=!1),void(a.isTouched&&(Object.assign(s,{startX:d,startY:u,currentX:d,currentY:u}),a.touchStartTime=cl()));if(n.touchReleaseOnEdges&&!n.loop)if(r.isVertical()){if(u<s.startY&&r.translate<=r.maxTranslate()||u>s.startY&&r.translate>=r.minTranslate())return a.isTouched=!1,void(a.isMoved=!1)}else{if(i&&(d>s.startX&&-r.translate<=r.maxTranslate()||d<s.startX&&-r.translate>=r.minTranslate()))return;if(!i&&(d<s.startX&&r.translate<=r.maxTranslate()||d>s.startX&&r.translate>=r.minTranslate()))return}if(t.activeElement&&t.activeElement.matches(a.focusableElements)&&t.activeElement!==c.target&&"mouse"!==c.pointerType&&t.activeElement.blur(),t.activeElement&&c.target===t.activeElement&&c.target.matches(a.focusableElements))return a.isMoved=!0,void(r.allowClick=!1);a.allowTouchCallbacks&&r.emit("touchMove",c),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=d,s.currentY=u;const m=s.currentX-s.startX,h=s.currentY-s.startY;if(r.params.threshold&&Math.sqrt(m**2+h**2)<r.params.threshold)return;if("undefined"===typeof a.isScrolling){let e;r.isHorizontal()&&s.currentY===s.startY||r.isVertical()&&s.currentX===s.startX?a.isScrolling=!1:m*m+h*h>=25&&(e=180*Math.atan2(Math.abs(h),Math.abs(m))/Math.PI,a.isScrolling=r.isHorizontal()?e>n.touchAngle:90-e>n.touchAngle)}if(a.isScrolling&&r.emit("touchMoveOpposite",c),"undefined"===typeof a.startMoving&&(s.currentX===s.startX&&s.currentY===s.startY||(a.startMoving=!0)),a.isScrolling||"touchmove"===c.type&&a.preventTouchMoveFromPointerMove)return void(a.isTouched=!1);if(!a.startMoving)return;r.allowClick=!1,!n.cssMode&&c.cancelable&&c.preventDefault(),n.touchMoveStopPropagation&&!n.nested&&c.stopPropagation();let p=r.isHorizontal()?m:h,g=r.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;n.oneWayMovement&&(p=Math.abs(p)*(i?1:-1),g=Math.abs(g)*(i?1:-1)),s.diff=p,p*=n.touchRatio,i&&(p=-p,g=-g);const x=r.touchesDirection;r.swipeDirection=p>0?"prev":"next",r.touchesDirection=g>0?"prev":"next";const f=r.params.loop&&!n.cssMode,y="next"===r.touchesDirection&&r.allowSlideNext||"prev"===r.touchesDirection&&r.allowSlidePrev;if(!a.isMoved){if(f&&y&&r.loopFix({direction:r.swipeDirection}),a.startTranslate=r.getTranslate(),r.setTransition(0),r.animating){const e=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});r.wrapperEl.dispatchEvent(e)}a.allowMomentumBounce=!1,!n.grabCursor||!0!==r.allowSlideNext&&!0!==r.allowSlidePrev||r.setGrabCursor(!0),r.emit("sliderFirstMove",c)}if((new Date).getTime(),!1!==n._loopSwapReset&&a.isMoved&&a.allowThresholdMove&&x!==r.touchesDirection&&f&&y&&Math.abs(p)>=1)return Object.assign(s,{startX:d,startY:u,currentX:d,currentY:u,startTranslate:a.currentTranslate}),a.loopSwapReset=!0,void(a.startTranslate=a.currentTranslate);r.emit("sliderMove",c),a.isMoved=!0,a.currentTranslate=p+a.startTranslate;let v=!0,b=n.resistanceRatio;if(n.touchReleaseOnEdges&&(b=0),p>0?(f&&y&&a.allowThresholdMove&&a.currentTranslate>(n.centeredSlides?r.minTranslate()-r.slidesSizesGrid[r.activeIndex+1]-("auto"!==n.slidesPerView&&r.slides.length-n.slidesPerView>=2?r.slidesSizesGrid[r.activeIndex+1]+r.params.spaceBetween:0)-r.params.spaceBetween:r.minTranslate())&&r.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),a.currentTranslate>r.minTranslate()&&(v=!1,n.resistance&&(a.currentTranslate=r.minTranslate()-1+(-r.minTranslate()+a.startTranslate+p)**b))):p<0&&(f&&y&&a.allowThresholdMove&&a.currentTranslate<(n.centeredSlides?r.maxTranslate()+r.slidesSizesGrid[r.slidesSizesGrid.length-1]+r.params.spaceBetween+("auto"!==n.slidesPerView&&r.slides.length-n.slidesPerView>=2?r.slidesSizesGrid[r.slidesSizesGrid.length-1]+r.params.spaceBetween:0):r.maxTranslate())&&r.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:r.slides.length-("auto"===n.slidesPerView?r.slidesPerViewDynamic():Math.ceil(parseFloat(n.slidesPerView,10)))}),a.currentTranslate<r.maxTranslate()&&(v=!1,n.resistance&&(a.currentTranslate=r.maxTranslate()+1-(r.maxTranslate()-a.startTranslate-p)**b))),v&&(c.preventedByNestedSwiper=!0),!r.allowSlideNext&&"next"===r.swipeDirection&&a.currentTranslate<a.startTranslate&&(a.currentTranslate=a.startTranslate),!r.allowSlidePrev&&"prev"===r.swipeDirection&&a.currentTranslate>a.startTranslate&&(a.currentTranslate=a.startTranslate),r.allowSlidePrev||r.allowSlideNext||(a.currentTranslate=a.startTranslate),n.threshold>0){if(!(Math.abs(p)>n.threshold||a.allowThresholdMove))return void(a.currentTranslate=a.startTranslate);if(!a.allowThresholdMove)return a.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,a.currentTranslate=a.startTranslate,void(s.diff=r.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY)}n.followFinger&&!n.cssMode&&((n.freeMode&&n.freeMode.enabled&&r.freeMode||n.watchSlidesProgress)&&(r.updateActiveIndex(),r.updateSlidesClasses()),n.freeMode&&n.freeMode.enabled&&r.freeMode&&r.freeMode.onTouchMove(),r.updateProgress(a.currentTranslate),r.setTranslate(a.currentTranslate))}function Kl(e){const t=this,r=t.touchEventsData;let a,n=e;n.originalEvent&&(n=n.originalEvent);if("touchend"===n.type||"touchcancel"===n.type){if(a=[...n.changedTouches].find(e=>e.identifier===r.touchId),!a||a.identifier!==r.touchId)return}else{if(null!==r.touchId)return;if(n.pointerId!==r.pointerId)return;a=n}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(n.type)){if(!(["pointercancel","contextmenu"].includes(n.type)&&(t.browser.isSafari||t.browser.isWebView)))return}r.pointerId=null,r.touchId=null;const{params:s,touches:i,rtlTranslate:o,slidesGrid:l,enabled:c}=t;if(!c)return;if(!s.simulateTouch&&"mouse"===n.pointerType)return;if(r.allowTouchCallbacks&&t.emit("touchEnd",n),r.allowTouchCallbacks=!1,!r.isTouched)return r.isMoved&&s.grabCursor&&t.setGrabCursor(!1),r.isMoved=!1,void(r.startMoving=!1);s.grabCursor&&r.isMoved&&r.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);const d=cl(),u=d-r.touchStartTime;if(t.allowClick){const e=n.path||n.composedPath&&n.composedPath();t.updateClickedSlide(e&&e[0]||n.target,e),t.emit("tap click",n),u<300&&d-r.lastClickTime<300&&t.emit("doubleTap doubleClick",n)}if(r.lastClickTime=cl(),ll(()=>{t.destroyed||(t.allowClick=!0)}),!r.isTouched||!r.isMoved||!t.swipeDirection||0===i.diff&&!r.loopSwapReset||r.currentTranslate===r.startTranslate&&!r.loopSwapReset)return r.isTouched=!1,r.isMoved=!1,void(r.startMoving=!1);let m;if(r.isTouched=!1,r.isMoved=!1,r.startMoving=!1,m=s.followFinger?o?t.translate:-t.translate:-r.currentTranslate,s.cssMode)return;if(s.freeMode&&s.freeMode.enabled)return void t.freeMode.onTouchEnd({currentPos:m});const h=m>=-t.maxTranslate()&&!t.params.loop;let p=0,g=t.slidesSizesGrid[0];for(let b=0;b<l.length;b+=b<s.slidesPerGroupSkip?1:s.slidesPerGroup){const e=b<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;"undefined"!==typeof l[b+e]?(h||m>=l[b]&&m<l[b+e])&&(p=b,g=l[b+e]-l[b]):(h||m>=l[b])&&(p=b,g=l[l.length-1]-l[l.length-2])}let x=null,f=null;s.rewind&&(t.isBeginning?f=s.virtual&&s.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(x=0));const y=(m-l[p])/g,v=p<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;if(u>s.longSwipesMs){if(!s.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(y>=s.longSwipesRatio?t.slideTo(s.rewind&&t.isEnd?x:p+v):t.slideTo(p)),"prev"===t.swipeDirection&&(y>1-s.longSwipesRatio?t.slideTo(p+v):null!==f&&y<0&&Math.abs(y)>s.longSwipesRatio?t.slideTo(f):t.slideTo(p))}else{if(!s.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(n.target===t.navigation.nextEl||n.target===t.navigation.prevEl)?n.target===t.navigation.nextEl?t.slideTo(p+v):t.slideTo(p):("next"===t.swipeDirection&&t.slideTo(null!==x?x:p+v),"prev"===t.swipeDirection&&t.slideTo(null!==f?f:p))}}function Ql(){const e=this,{params:t,el:r}=e;if(r&&0===r.offsetWidth)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:a,allowSlidePrev:n,snapGrid:s}=e,i=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const o=i&&t.loop;!("auto"===t.slidesPerView||t.slidesPerView>1)||!e.isEnd||e.isBeginning||e.params.centeredSlides||o?e.params.loop&&!i?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0):e.slideTo(e.slides.length-1,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=n,e.allowSlideNext=a,e.params.watchOverflow&&s!==e.snapGrid&&e.checkOverflow()}function $l(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function Xl(){const e=this,{wrapperEl:t,rtlTranslate:r,enabled:a}=e;if(!a)return;let n;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();const s=e.maxTranslate()-e.minTranslate();n=0===s?0:(e.translate-e.minTranslate())/s,n!==e.progress&&e.updateProgress(r?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function Jl(e){const t=this;Fl(t,e.target),t.params.cssMode||"auto"!==t.params.slidesPerView&&!t.params.autoHeight||t.update()}function Zl(){const e=this;e.documentTouchHandlerProceeded||(e.documentTouchHandlerProceeded=!0,e.params.touchReleaseOnEdges&&(e.el.style.touchAction="auto"))}const ec=(e,t)=>{const r=sl(),{params:a,el:n,wrapperEl:s,device:i}=e,o=!!a.nested,l="on"===t?"addEventListener":"removeEventListener",c=t;n&&"string"!==typeof n&&(r[l]("touchstart",e.onDocumentTouchStart,{passive:!1,capture:o}),n[l]("touchstart",e.onTouchStart,{passive:!1}),n[l]("pointerdown",e.onTouchStart,{passive:!1}),r[l]("touchmove",e.onTouchMove,{passive:!1,capture:o}),r[l]("pointermove",e.onTouchMove,{passive:!1,capture:o}),r[l]("touchend",e.onTouchEnd,{passive:!0}),r[l]("pointerup",e.onTouchEnd,{passive:!0}),r[l]("pointercancel",e.onTouchEnd,{passive:!0}),r[l]("touchcancel",e.onTouchEnd,{passive:!0}),r[l]("pointerout",e.onTouchEnd,{passive:!0}),r[l]("pointerleave",e.onTouchEnd,{passive:!0}),r[l]("contextmenu",e.onTouchEnd,{passive:!0}),(a.preventClicks||a.preventClicksPropagation)&&n[l]("click",e.onClick,!0),a.cssMode&&s[l]("scroll",e.onScroll),a.updateOnWindowResize?e[c](i.ios||i.android?"resize orientationchange observerUpdate":"resize observerUpdate",Ql,!0):e[c]("observerUpdate",Ql,!0),n[l]("load",e.onLoad,{capture:!0}))};var tc={attachEvents:function(){const e=this,{params:t}=e;e.onTouchStart=Hl.bind(e),e.onTouchMove=Gl.bind(e),e.onTouchEnd=Kl.bind(e),e.onDocumentTouchStart=Zl.bind(e),t.cssMode&&(e.onScroll=Xl.bind(e)),e.onClick=$l.bind(e),e.onLoad=Jl.bind(e),ec(e,"on")},detachEvents:function(){ec(this,"off")}};const rc=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;var ac={setBreakpoint:function(){const e=this,{realIndex:t,initialized:r,params:a,el:n}=e,s=a.breakpoints;if(!s||s&&0===Object.keys(s).length)return;const i=sl(),o="window"!==a.breakpointsBase&&a.breakpointsBase?"container":a.breakpointsBase,l=["window","container"].includes(a.breakpointsBase)||!a.breakpointsBase?e.el:i.querySelector(a.breakpointsBase),c=e.getBreakpoint(s,o,l);if(!c||e.currentBreakpoint===c)return;const d=(c in s?s[c]:void 0)||e.originalParams,u=rc(e,a),m=rc(e,d),h=e.params.grabCursor,p=d.grabCursor,g=a.enabled;u&&!m?(n.classList.remove("".concat(a.containerModifierClass,"grid"),"".concat(a.containerModifierClass,"grid-column")),e.emitContainerClasses()):!u&&m&&(n.classList.add("".concat(a.containerModifierClass,"grid")),(d.grid.fill&&"column"===d.grid.fill||!d.grid.fill&&"column"===a.grid.fill)&&n.classList.add("".concat(a.containerModifierClass,"grid-column")),e.emitContainerClasses()),h&&!p?e.unsetGrabCursor():!h&&p&&e.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(t=>{if("undefined"===typeof d[t])return;const r=a[t]&&a[t].enabled,n=d[t]&&d[t].enabled;r&&!n&&e[t].disable(),!r&&n&&e[t].enable()});const x=d.direction&&d.direction!==a.direction,f=a.loop&&(d.slidesPerView!==a.slidesPerView||x),y=a.loop;x&&r&&e.changeDirection(),hl(e.params,d);const v=e.params.enabled,b=e.params.loop;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),g&&!v?e.disable():!g&&v&&e.enable(),e.currentBreakpoint=c,e.emit("_beforeBreakpoint",d),r&&(f?(e.loopDestroy(),e.loopCreate(t),e.updateSlides()):!y&&b?(e.loopCreate(t),e.updateSlides()):y&&!b&&e.loopDestroy()),e.emit("breakpoint",d)},getBreakpoint:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"window",r=arguments.length>2?arguments[2]:void 0;if(!e||"container"===t&&!r)return;let a=!1;const n=ol(),s="window"===t?n.innerHeight:r.clientHeight,i=Object.keys(e).map(e=>{if("string"===typeof e&&0===e.indexOf("@")){const t=parseFloat(e.substr(1));return{value:s*t,point:e}}return{value:e,point:e}});i.sort((e,t)=>parseInt(e.value,10)-parseInt(t.value,10));for(let o=0;o<i.length;o+=1){const{point:e,value:s}=i[o];"window"===t?n.matchMedia("(min-width: ".concat(s,"px)")).matches&&(a=e):s<=r.clientWidth&&(a=e)}return a||"max"}};var nc={addClasses:function(){const e=this,{classNames:t,params:r,rtl:a,el:n,device:s}=e,i=function(e,t){const r=[];return e.forEach(e=>{"object"===typeof e?Object.keys(e).forEach(a=>{e[a]&&r.push(t+a)}):"string"===typeof e&&r.push(t+e)}),r}(["initialized",r.direction,{"free-mode":e.params.freeMode&&r.freeMode.enabled},{autoheight:r.autoHeight},{rtl:a},{grid:r.grid&&r.grid.rows>1},{"grid-column":r.grid&&r.grid.rows>1&&"column"===r.grid.fill},{android:s.android},{ios:s.ios},{"css-mode":r.cssMode},{centered:r.cssMode&&r.centeredSlides},{"watch-progress":r.watchSlidesProgress}],r.containerModifierClass);t.push(...i),n.classList.add(...t),e.emitContainerClasses()},removeClasses:function(){const{el:e,classNames:t}=this;e&&"string"!==typeof e&&(e.classList.remove(...t),this.emitContainerClasses())}};var sc={checkOverflow:function(){const e=this,{isLocked:t,params:r}=e,{slidesOffsetBefore:a}=r;if(a){const t=e.slides.length-1,r=e.slidesGrid[t]+e.slidesSizesGrid[t]+2*a;e.isLocked=e.size>r}else e.isLocked=1===e.snapGrid.length;!0===r.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===r.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},ic={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function oc(e,t){return function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=Object.keys(r)[0],n=r[a];"object"===typeof n&&null!==n?(!0===e[a]&&(e[a]={enabled:!0}),"navigation"===a&&e[a]&&e[a].enabled&&!e[a].prevEl&&!e[a].nextEl&&(e[a].auto=!0),["pagination","scrollbar"].indexOf(a)>=0&&e[a]&&e[a].enabled&&!e[a].el&&(e[a].auto=!0),a in e&&"enabled"in n?("object"!==typeof e[a]||"enabled"in e[a]||(e[a].enabled=!0),e[a]||(e[a]={enabled:!1}),hl(t,r)):hl(t,r)):hl(t,r)}}const lc={eventsEmitter:_l,update:Il,translate:Bl,transition:zl,slide:Ul,loop:Vl,grabCursor:Yl,events:tc,breakpoints:ac,checkOverflow:sc,classes:nc},cc={};class dc{constructor(){let e,t;for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];1===a.length&&a[0].constructor&&"Object"===Object.prototype.toString.call(a[0]).slice(8,-1)?t=a[0]:[e,t]=a,t||(t={}),t=hl({},t),e&&!t.el&&(t.el=e);const s=sl();if(t.el&&"string"===typeof t.el&&s.querySelectorAll(t.el).length>1){const e=[];return s.querySelectorAll(t.el).forEach(r=>{const a=hl({},t,{el:r});e.push(new dc(a))}),e}const i=this;i.__swiper__=!0,i.support=Dl(),i.device=Pl({userAgent:t.userAgent}),i.browser=Tl(),i.eventsListeners={},i.eventsAnyListeners=[],i.modules=[...i.__modules__],t.modules&&Array.isArray(t.modules)&&i.modules.push(...t.modules);const o={};i.modules.forEach(e=>{e({params:t,swiper:i,extendParams:oc(t,o),on:i.on.bind(i),once:i.once.bind(i),off:i.off.bind(i),emit:i.emit.bind(i)})});const l=hl({},ic,o);return i.params=hl({},l,cc,t),i.originalParams=hl({},i.params),i.passedParams=hl({},t),i.params&&i.params.on&&Object.keys(i.params.on).forEach(e=>{i.on(e,i.params.on[e])}),i.params&&i.params.onAny&&i.onAny(i.params.onAny),Object.assign(i,{enabled:i.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===i.params.direction,isVertical:()=>"vertical"===i.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:i.params.allowSlideNext,allowSlidePrev:i.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:i.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:i.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),i.emit("_swiper"),i.params.init&&i.init(),i}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:r}=this,a=wl(fl(t,".".concat(r.slideClass,", swiper-slide"))[0]);return wl(e)-a}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>1*t.getAttribute("data-swiper-slide-index")===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&("column"===this.params.grid.fill?e=Math.floor(e/this.params.grid.rows):"row"===this.params.grid.fill&&(e%=Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const{slidesEl:e,params:t}=this;this.slides=fl(e,".".concat(t.slideClass,", swiper-slide"))}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const a=r.minTranslate(),n=(r.maxTranslate()-a)*e+a;r.translateTo(n,"undefined"===typeof t?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(t=>0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(e=>0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass)).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(r=>{const a=e.getSlideClasses(r);t.push({slideEl:r,classNames:a}),e.emit("_slideClass",r,a)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"current",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{params:r,slides:a,slidesGrid:n,slidesSizesGrid:s,size:i,activeIndex:o}=this;let l=1;if("number"===typeof r.slidesPerView)return r.slidesPerView;if(r.centeredSlides){let e,t=a[o]?Math.ceil(a[o].swiperSlideSize):0;for(let r=o+1;r<a.length;r+=1)a[r]&&!e&&(t+=Math.ceil(a[r].swiperSlideSize),l+=1,t>i&&(e=!0));for(let r=o-1;r>=0;r-=1)a[r]&&!e&&(t+=a[r].swiperSlideSize,l+=1,t>i&&(e=!0))}else if("current"===e)for(let c=o+1;c<a.length;c+=1){(t?n[c]+s[c]-n[o]<i:n[c]-n[o]<i)&&(l+=1)}else for(let c=o-1;c>=0;c-=1){n[o]-n[c]<i&&(l+=1)}return l}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;function a(){const t=e.rtlTranslate?-1*e.translate:e.translate,r=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(r),e.updateActiveIndex(),e.updateSlidesClasses()}let n;if(r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(t=>{t.complete&&Fl(e,t)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),r.freeMode&&r.freeMode.enabled&&!r.cssMode)a(),r.autoHeight&&e.updateAutoHeight();else{if(("auto"===r.slidesPerView||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const t=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;n=e.slideTo(t.length-1,0,!1,!0)}else n=e.slideTo(e.activeIndex,0,!1,!0);n||a()}r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=this,a=r.params.direction;return e||(e="horizontal"===a?"vertical":"horizontal"),e===a||"horizontal"!==e&&"vertical"!==e||(r.el.classList.remove("".concat(r.params.containerModifierClass).concat(a)),r.el.classList.add("".concat(r.params.containerModifierClass).concat(e)),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(t=>{"vertical"===e?t.style.width="":t.style.height=""}),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){const t=this;t.rtl&&"rtl"===e||!t.rtl&&"ltr"===e||(t.rtl="rtl"===e,t.rtlTranslate="horizontal"===t.params.direction&&t.rtl,t.rtl?(t.el.classList.add("".concat(t.params.containerModifierClass,"rtl")),t.el.dir="rtl"):(t.el.classList.remove("".concat(t.params.containerModifierClass,"rtl")),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let r=e||t.params.el;if("string"===typeof r&&(r=document.querySelector(r)),!r)return!1;r.swiper=t,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const a=()=>".".concat((t.params.wrapperClass||"").trim().split(" ").join("."));let n=(()=>{if(r&&r.shadowRoot&&r.shadowRoot.querySelector){return r.shadowRoot.querySelector(a())}return fl(r,a())[0]})();return!n&&t.params.createElements&&(n=vl("div",t.params.wrapperClass),r.append(n),fl(r,".".concat(t.params.slideClass)).forEach(e=>{n.append(e)})),Object.assign(t,{el:r,wrapperEl:n,slidesEl:t.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:n,hostEl:t.isElement?r.parentNode.host:r,mounted:!0,rtl:"rtl"===r.dir.toLowerCase()||"rtl"===bl(r,"direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===r.dir.toLowerCase()||"rtl"===bl(r,"direction")),wrongRTL:"-webkit-box"===bl(n,"display")}),!0}init(e){const t=this;if(t.initialized)return t;if(!1===t.mount(e))return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const r=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&r.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach(e=>{e.complete?Fl(t,e):e.addEventListener("load",e=>{Fl(t,e.target)})}),Ml(t),t.initialized=!0,Ml(t),t.emit("init"),t.emit("afterInit"),t}destroy(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=this,{params:a,el:n,wrapperEl:s,slides:i}=r;return"undefined"===typeof r.params||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),a.loop&&r.loopDestroy(),t&&(r.removeClasses(),n&&"string"!==typeof n&&n.removeAttribute("style"),s&&s.removeAttribute("style"),i&&i.length&&i.forEach(e=>{e.classList.remove(a.slideVisibleClass,a.slideFullyVisibleClass,a.slideActiveClass,a.slideNextClass,a.slidePrevClass),e.removeAttribute("style"),e.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(e=>{r.off(e)}),!1!==e&&(r.el&&"string"!==typeof r.el&&(r.el.swiper=null),function(e){const t=e;Object.keys(t).forEach(e=>{try{t[e]=null}catch(qe){}try{delete t[e]}catch(qe){}})}(r)),r.destroyed=!0),null}static extendDefaults(e){hl(cc,e)}static get extendedDefaults(){return cc}static get defaults(){return ic}static installModule(e){dc.prototype.__modules__||(dc.prototype.__modules__=[]);const t=dc.prototype.__modules__;"function"===typeof e&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(e=>dc.installModule(e)),dc):(dc.installModule(e),dc)}}Object.keys(lc).forEach(e=>{Object.keys(lc[e]).forEach(t=>{dc.prototype[t]=lc[e][t]})}),dc.use([function(e){let{swiper:t,on:r,emit:a}=e;const n=ol();let s=null,i=null;const o=()=>{t&&!t.destroyed&&t.initialized&&(a("beforeResize"),a("resize"))},l=()=>{t&&!t.destroyed&&t.initialized&&a("orientationchange")};r("init",()=>{t.params.resizeObserver&&"undefined"!==typeof n.ResizeObserver?t&&!t.destroyed&&t.initialized&&(s=new ResizeObserver(e=>{i=n.requestAnimationFrame(()=>{const{width:r,height:a}=t;let n=r,s=a;e.forEach(e=>{let{contentBoxSize:r,contentRect:a,target:i}=e;i&&i!==t.el||(n=a?a.width:(r[0]||r).inlineSize,s=a?a.height:(r[0]||r).blockSize)}),n===r&&s===a||o()})}),s.observe(t.el)):(n.addEventListener("resize",o),n.addEventListener("orientationchange",l))}),r("destroy",()=>{i&&n.cancelAnimationFrame(i),s&&s.unobserve&&t.el&&(s.unobserve(t.el),s=null),n.removeEventListener("resize",o),n.removeEventListener("orientationchange",l)})},function(e){let{swiper:t,extendParams:r,on:a,emit:n}=e;const s=[],i=ol(),o=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=new(i.MutationObserver||i.WebkitMutationObserver)(e=>{if(t.__preventObserver__)return;if(1===e.length)return void n("observerUpdate",e[0]);const r=function(){n("observerUpdate",e[0])};i.requestAnimationFrame?i.requestAnimationFrame(r):i.setTimeout(r,0)});a.observe(e,{attributes:"undefined"===typeof r.attributes||r.attributes,childList:t.isElement||("undefined"===typeof r.childList||r).childList,characterData:"undefined"===typeof r.characterData||r.characterData}),s.push(a)};r({observer:!1,observeParents:!1,observeSlideChildren:!1}),a("init",()=>{if(t.params.observer){if(t.params.observeParents){const e=jl(t.hostEl);for(let t=0;t<e.length;t+=1)o(e[t])}o(t.hostEl,{childList:t.params.observeSlideChildren}),o(t.wrapperEl,{attributes:!1})}}),a("destroy",()=>{s.forEach(e=>{e.disconnect()}),s.splice(0,s.length)})}]);const uc=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function mc(e){return"object"===typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)&&!e.__swiper__}function hc(e,t){const r=["__proto__","constructor","prototype"];Object.keys(t).filter(e=>r.indexOf(e)<0).forEach(r=>{"undefined"===typeof e[r]?e[r]=t[r]:mc(t[r])&&mc(e[r])&&Object.keys(t[r]).length>0?t[r].__swiper__?e[r]=t[r]:hc(e[r],t[r]):e[r]=t[r]})}function pc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.navigation&&"undefined"===typeof e.navigation.nextEl&&"undefined"===typeof e.navigation.prevEl}function gc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.pagination&&"undefined"===typeof e.pagination.el}function xc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.scrollbar&&"undefined"===typeof e.scrollbar.el}function fc(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(" ").map(e=>e.trim()).filter(e=>!!e),t=[];return e.forEach(e=>{t.indexOf(e)<0&&t.push(e)}),t.join(" ")}function yc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?e.includes("swiper-wrapper")?e:"swiper-wrapper ".concat(e):"swiper-wrapper"}const vc=["className","tag","wrapperTag","children","onSwiper"],bc=["tag","children","className","swiper","zoom","lazy","virtualIndex","swiperSlideIndex"];function wc(){return wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},wc.apply(this,arguments)}function jc(e){return e.type&&e.type.displayName&&e.type.displayName.includes("SwiperSlide")}function kc(e){const t=[];return a.Children.toArray(e).forEach(e=>{jc(e)?t.push(e):e.props&&e.props.children&&kc(e.props.children).forEach(e=>t.push(e))}),t}function Nc(e){const t=[],r={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return a.Children.toArray(e).forEach(e=>{if(jc(e))t.push(e);else if(e.props&&e.props.slot&&r[e.props.slot])r[e.props.slot].push(e);else if(e.props&&e.props.children){const a=kc(e.props.children);a.length>0?a.forEach(e=>t.push(e)):r["container-end"].push(e)}else r["container-end"].push(e)}),{slides:t,slots:r}}function Cc(e,t){return"undefined"===typeof window?(0,a.useEffect)(e,t):(0,a.useLayoutEffect)(e,t)}const Ac=(0,a.createContext)(null),Sc=(0,a.createContext)(null),Ec=(0,a.forwardRef)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{className:t,tag:r="div",wrapperTag:n="div",children:s,onSwiper:i}=e,o=(0,$a.A)(e,vc),l=arguments.length>1?arguments[1]:void 0,c=!1;const[d,u]=(0,a.useState)("swiper"),[m,h]=(0,a.useState)(null),[p,g]=(0,a.useState)(!1),x=(0,a.useRef)(!1),f=(0,a.useRef)(null),y=(0,a.useRef)(null),v=(0,a.useRef)(null),b=(0,a.useRef)(null),w=(0,a.useRef)(null),j=(0,a.useRef)(null),k=(0,a.useRef)(null),N=(0,a.useRef)(null),{params:C,passedParams:A,rest:S,events:E}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r={on:{}},a={},n={};hc(r,ic),r._emitClasses=!0,r.init=!1;const s={},i=uc.map(e=>e.replace(/_/,"")),o=Object.assign({},e);return Object.keys(o).forEach(o=>{"undefined"!==typeof e[o]&&(i.indexOf(o)>=0?mc(e[o])?(r[o]={},n[o]={},hc(r[o],e[o]),hc(n[o],e[o])):(r[o]=e[o],n[o]=e[o]):0===o.search(/on[A-Z]/)&&"function"===typeof e[o]?t?a["".concat(o[2].toLowerCase()).concat(o.substr(3))]=e[o]:r.on["".concat(o[2].toLowerCase()).concat(o.substr(3))]=e[o]:s[o]=e[o])}),["navigation","pagination","scrollbar"].forEach(e=>{!0===r[e]&&(r[e]={}),!1===r[e]&&delete r[e]}),{params:r,passedParams:n,rest:s,events:a}}(o),{slides:D,slots:P}=Nc(s),T=()=>{g(!p)};Object.assign(C.on,{_containerClasses(e,t){u(t)}});const _=()=>{Object.assign(C.on,E),c=!0;const e=(0,Be.A)({},C);if(delete e.wrapperClass,y.current=new dc(e),y.current.virtual&&y.current.params.virtual.enabled){y.current.virtual.slides=D;const e={cache:!1,slides:D,renderExternal:h,renderExternalUpdate:!1};hc(y.current.params.virtual,e),hc(y.current.originalParams.virtual,e)}};f.current||_(),y.current&&y.current.on("_beforeBreakpoint",T);return(0,a.useEffect)(()=>()=>{y.current&&y.current.off("_beforeBreakpoint",T)}),(0,a.useEffect)(()=>{!x.current&&y.current&&(y.current.emitSlidesClasses(),x.current=!0)}),Cc(()=>{if(l&&(l.current=f.current),f.current)return y.current.destroyed&&_(),function(e,t){let{el:r,nextEl:a,prevEl:n,paginationEl:s,scrollbarEl:i,swiper:o}=e;pc(t)&&a&&n&&(o.params.navigation.nextEl=a,o.originalParams.navigation.nextEl=a,o.params.navigation.prevEl=n,o.originalParams.navigation.prevEl=n),gc(t)&&s&&(o.params.pagination.el=s,o.originalParams.pagination.el=s),xc(t)&&i&&(o.params.scrollbar.el=i,o.originalParams.scrollbar.el=i),o.init(r)}({el:f.current,nextEl:w.current,prevEl:j.current,paginationEl:k.current,scrollbarEl:N.current,swiper:y.current},C),i&&!y.current.destroyed&&i(y.current),()=>{y.current&&!y.current.destroyed&&y.current.destroy(!0,!1)}},[]),Cc(()=>{!c&&E&&y.current&&Object.keys(E).forEach(e=>{y.current.on(e,E[e])});const e=function(e,t,r,a,n){const s=[];if(!t)return s;const i=e=>{s.indexOf(e)<0&&s.push(e)};if(r&&a){const e=a.map(n),t=r.map(n);e.join("")!==t.join("")&&i("children"),a.length!==r.length&&i("children")}const o=uc.filter(e=>"_"===e[0]).map(e=>e.replace(/_/,""));return o.forEach(r=>{if(r in e&&r in t)if(mc(e[r])&&mc(t[r])){const a=Object.keys(e[r]),n=Object.keys(t[r]);a.length!==n.length?i(r):(a.forEach(a=>{e[r][a]!==t[r][a]&&i(r)}),n.forEach(a=>{e[r][a]!==t[r][a]&&i(r)}))}else e[r]!==t[r]&&i(r)}),s}(A,v.current,D,b.current,e=>e.key);return v.current=A,b.current=D,e.length&&y.current&&!y.current.destroyed&&function(e){let{swiper:t,slides:r,passedParams:a,changedParams:n,nextEl:s,prevEl:i,scrollbarEl:o,paginationEl:l}=e;const c=n.filter(e=>"children"!==e&&"direction"!==e&&"wrapperClass"!==e),{params:d,pagination:u,navigation:m,scrollbar:h,virtual:p,thumbs:g}=t;let x,f,y,v,b,w,j,k;n.includes("thumbs")&&a.thumbs&&a.thumbs.swiper&&!a.thumbs.swiper.destroyed&&d.thumbs&&(!d.thumbs.swiper||d.thumbs.swiper.destroyed)&&(x=!0),n.includes("controller")&&a.controller&&a.controller.control&&d.controller&&!d.controller.control&&(f=!0),n.includes("pagination")&&a.pagination&&(a.pagination.el||l)&&(d.pagination||!1===d.pagination)&&u&&!u.el&&(y=!0),n.includes("scrollbar")&&a.scrollbar&&(a.scrollbar.el||o)&&(d.scrollbar||!1===d.scrollbar)&&h&&!h.el&&(v=!0),n.includes("navigation")&&a.navigation&&(a.navigation.prevEl||i)&&(a.navigation.nextEl||s)&&(d.navigation||!1===d.navigation)&&m&&!m.prevEl&&!m.nextEl&&(b=!0);const N=e=>{t[e]&&(t[e].destroy(),"navigation"===e?(t.isElement&&(t[e].prevEl.remove(),t[e].nextEl.remove()),d[e].prevEl=void 0,d[e].nextEl=void 0,t[e].prevEl=void 0,t[e].nextEl=void 0):(t.isElement&&t[e].el.remove(),d[e].el=void 0,t[e].el=void 0))};n.includes("loop")&&t.isElement&&(d.loop&&!a.loop?w=!0:!d.loop&&a.loop?j=!0:k=!0),c.forEach(e=>{if(mc(d[e])&&mc(a[e]))Object.assign(d[e],a[e]),"navigation"!==e&&"pagination"!==e&&"scrollbar"!==e||!("enabled"in a[e])||a[e].enabled||N(e);else{const t=a[e];!0!==t&&!1!==t||"navigation"!==e&&"pagination"!==e&&"scrollbar"!==e?d[e]=a[e]:!1===t&&N(e)}}),c.includes("controller")&&!f&&t.controller&&t.controller.control&&d.controller&&d.controller.control&&(t.controller.control=d.controller.control),n.includes("children")&&r&&p&&d.virtual.enabled?(p.slides=r,p.update(!0)):n.includes("virtual")&&p&&d.virtual.enabled&&(r&&(p.slides=r),p.update(!0)),n.includes("children")&&r&&d.loop&&(k=!0),x&&g.init()&&g.update(!0);f&&(t.controller.control=d.controller.control),y&&(!t.isElement||l&&"string"!==typeof l||(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),t.el.appendChild(l)),l&&(d.pagination.el=l),u.init(),u.render(),u.update()),v&&(!t.isElement||o&&"string"!==typeof o||(o=document.createElement("div"),o.classList.add("swiper-scrollbar"),o.part.add("scrollbar"),t.el.appendChild(o)),o&&(d.scrollbar.el=o),h.init(),h.updateSize(),h.setTranslate()),b&&(t.isElement&&(s&&"string"!==typeof s||(s=document.createElement("div"),s.classList.add("swiper-button-next"),Cl(s,t.navigation.arrowSvg),s.part.add("button-next"),t.el.appendChild(s)),i&&"string"!==typeof i||(i=document.createElement("div"),i.classList.add("swiper-button-prev"),Cl(i,t.navigation.arrowSvg),i.part.add("button-prev"),t.el.appendChild(i))),s&&(d.navigation.nextEl=s),i&&(d.navigation.prevEl=i),m.init(),m.update()),n.includes("allowSlideNext")&&(t.allowSlideNext=a.allowSlideNext),n.includes("allowSlidePrev")&&(t.allowSlidePrev=a.allowSlidePrev),n.includes("direction")&&t.changeDirection(a.direction,!1),(w||k)&&t.loopDestroy(),(j||k)&&t.loopCreate(),t.update()}({swiper:y.current,slides:D,passedParams:A,changedParams:e,nextEl:w.current,prevEl:j.current,scrollbarEl:N.current,paginationEl:k.current}),()=>{E&&y.current&&Object.keys(E).forEach(e=>{y.current.off(e,E[e])})}}),Cc(()=>{(e=>{!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.emit("_virtualUpdated"),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())})(y.current)},[m]),a.createElement(r,wc({ref:f,className:fc("".concat(d).concat(t?" ".concat(t):""))},S),a.createElement(Sc.Provider,{value:y.current},P["container-start"],a.createElement(n,{className:yc(C.wrapperClass)},P["wrapper-start"],C.virtual?function(e,t,r){if(!r)return null;const n=e=>{let r=e;return e<0?r=t.length+e:r>=t.length&&(r-=t.length),r},s=e.isHorizontal()?{[e.rtlTranslate?"right":"left"]:"".concat(r.offset,"px")}:{top:"".concat(r.offset,"px")},{from:i,to:o}=r,l=e.params.loop?-t.length:0,c=e.params.loop?2*t.length:t.length,d=[];for(let a=l;a<c;a+=1)a>=i&&a<=o&&d.push(t[n(a)]);return d.map((t,r)=>a.cloneElement(t,{swiper:e,style:s,key:t.props.virtualIndex||t.key||"slide-".concat(r)}))}(y.current,D,m):D.map((e,t)=>a.cloneElement(e,{swiper:y.current,swiperSlideIndex:t})),P["wrapper-end"]),pc(C)&&a.createElement(a.Fragment,null,a.createElement("div",{ref:j,className:"swiper-button-prev"}),a.createElement("div",{ref:w,className:"swiper-button-next"})),xc(C)&&a.createElement("div",{ref:N,className:"swiper-scrollbar"}),gc(C)&&a.createElement("div",{ref:k,className:"swiper-pagination"}),P["container-end"]))});Ec.displayName="Swiper";const Dc=(0,a.forwardRef)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{tag:t="div",children:r,className:n="",swiper:s,zoom:i,lazy:o,virtualIndex:l,swiperSlideIndex:c}=e,d=(0,$a.A)(e,bc),u=arguments.length>1?arguments[1]:void 0;const m=(0,a.useRef)(null),[h,p]=(0,a.useState)("swiper-slide"),[g,x]=(0,a.useState)(!1);function f(e,t,r){t===m.current&&p(r)}Cc(()=>{if("undefined"!==typeof c&&(m.current.swiperSlideIndex=c),u&&(u.current=m.current),m.current&&s){if(!s.destroyed)return s.on("_slideClass",f),()=>{s&&s.off("_slideClass",f)};"swiper-slide"!==h&&p("swiper-slide")}}),Cc(()=>{s&&m.current&&!s.destroyed&&p(s.getSlideClasses(m.current))},[s]);const y={isActive:h.indexOf("swiper-slide-active")>=0,isVisible:h.indexOf("swiper-slide-visible")>=0,isPrev:h.indexOf("swiper-slide-prev")>=0,isNext:h.indexOf("swiper-slide-next")>=0},v=()=>"function"===typeof r?r(y):r;return a.createElement(t,wc({ref:m,className:fc("".concat(h).concat(n?" ".concat(n):"")),"data-swiper-slide-index":l,onLoad:()=>{x(!0)}},d),i&&a.createElement(Ac.Provider,{value:y},a.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":"number"===typeof i?i:void 0},v(),o&&!g&&a.createElement("div",{className:"swiper-lazy-preloader"}))),!i&&a.createElement(Ac.Provider,{value:y},v(),o&&!g&&a.createElement("div",{className:"swiper-lazy-preloader"})))});function Pc(e,t,r,a){return e.params.createElements&&Object.keys(a).forEach(n=>{if(!r[n]&&!0===r.auto){let s=fl(e.el,".".concat(a[n]))[0];s||(s=vl("div",a[n]),s.className=a[n],e.el.append(s)),r[n]=s,t[n]=s}}),r}Dc.displayName="SwiperSlide";const Tc='<svg class="swiper-navigation-icon" width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>';function _c(e){let{swiper:t,extendParams:r,on:a,emit:n}=e;function s(e){let r;return e&&"string"===typeof e&&t.isElement&&(r=t.el.querySelector(e)||t.hostEl.querySelector(e),r)?r:(e&&("string"===typeof e&&(r=[...document.querySelectorAll(e)]),t.params.uniqueNavElements&&"string"===typeof e&&r&&r.length>1&&1===t.el.querySelectorAll(e).length?r=t.el.querySelector(e):r&&1===r.length&&(r=r[0])),e&&!r?e:r)}function i(e,r){const a=t.params.navigation;(e=Nl(e)).forEach(e=>{e&&(e.classList[r?"add":"remove"](...a.disabledClass.split(" ")),"BUTTON"===e.tagName&&(e.disabled=r),t.params.watchOverflow&&t.enabled&&e.classList[t.isLocked?"add":"remove"](a.lockClass))})}function o(){const{nextEl:e,prevEl:r}=t.navigation;if(t.params.loop)return i(r,!1),void i(e,!1);i(r,t.isBeginning&&!t.params.rewind),i(e,t.isEnd&&!t.params.rewind)}function l(e){e.preventDefault(),(!t.isBeginning||t.params.loop||t.params.rewind)&&(t.slidePrev(),n("navigationPrev"))}function c(e){e.preventDefault(),(!t.isEnd||t.params.loop||t.params.rewind)&&(t.slideNext(),n("navigationNext"))}function d(){const e=t.params.navigation;if(t.params.navigation=Pc(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!e.nextEl&&!e.prevEl)return;let r=s(e.nextEl),a=s(e.prevEl);Object.assign(t.navigation,{nextEl:r,prevEl:a}),r=Nl(r),a=Nl(a);const n=(r,a)=>{if(r){if(e.addIcons&&r.matches(".swiper-button-next,.swiper-button-prev")&&!r.querySelector("svg")){const e=document.createElement("div");Cl(e,Tc),r.appendChild(e.querySelector("svg")),e.remove()}r.addEventListener("click","next"===a?c:l)}!t.enabled&&r&&r.classList.add(...e.lockClass.split(" "))};r.forEach(e=>n(e,"next")),a.forEach(e=>n(e,"prev"))}function u(){let{nextEl:e,prevEl:r}=t.navigation;e=Nl(e),r=Nl(r);const a=(e,r)=>{e.removeEventListener("click","next"===r?c:l),e.classList.remove(...t.params.navigation.disabledClass.split(" "))};e.forEach(e=>a(e,"next")),r.forEach(e=>a(e,"prev"))}r({navigation:{nextEl:null,prevEl:null,addIcons:!0,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null,arrowSvg:Tc},a("init",()=>{!1===t.params.navigation.enabled?m():(d(),o())}),a("toEdge fromEdge lock unlock",()=>{o()}),a("destroy",()=>{u()}),a("enable disable",()=>{let{nextEl:e,prevEl:r}=t.navigation;e=Nl(e),r=Nl(r),t.enabled?o():[...e,...r].filter(e=>!!e).forEach(e=>e.classList.add(t.params.navigation.lockClass))}),a("click",(e,r)=>{let{nextEl:a,prevEl:s}=t.navigation;a=Nl(a),s=Nl(s);const i=r.target;let o=s.includes(i)||a.includes(i);if(t.isElement&&!o){const e=r.path||r.composedPath&&r.composedPath();e&&(o=e.find(e=>a.includes(e)||s.includes(e)))}if(t.params.navigation.hideOnClick&&!o){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===i||t.pagination.el.contains(i)))return;let e;a.length?e=a[0].classList.contains(t.params.navigation.hiddenClass):s.length&&(e=s[0].classList.contains(t.params.navigation.hiddenClass)),n(!0===e?"navigationShow":"navigationHide"),[...a,...s].filter(e=>!!e).forEach(e=>e.classList.toggle(t.params.navigation.hiddenClass))}});const m=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),u()};Object.assign(t.navigation,{enable:()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),d(),o()},disable:m,update:o,init:d,destroy:u})}function Rc(){return".".concat((arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,"."))}function Oc(e){let{swiper:t,extendParams:r,on:a,emit:n}=e;const s="swiper-pagination";let i;r({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:e=>e,formatFractionTotal:e=>e,bulletClass:"".concat(s,"-bullet"),bulletActiveClass:"".concat(s,"-bullet-active"),modifierClass:"".concat(s,"-"),currentClass:"".concat(s,"-current"),totalClass:"".concat(s,"-total"),hiddenClass:"".concat(s,"-hidden"),progressbarFillClass:"".concat(s,"-progressbar-fill"),progressbarOppositeClass:"".concat(s,"-progressbar-opposite"),clickableClass:"".concat(s,"-clickable"),lockClass:"".concat(s,"-lock"),horizontalClass:"".concat(s,"-horizontal"),verticalClass:"".concat(s,"-vertical"),paginationDisabledClass:"".concat(s,"-disabled")}}),t.pagination={el:null,bullets:[]};let o=0;function l(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&0===t.pagination.el.length}function c(e,r){const{bulletActiveClass:a}=t.params.pagination;e&&(e=e["".concat("prev"===r?"previous":"next","ElementSibling")])&&(e.classList.add("".concat(a,"-").concat(r)),(e=e["".concat("prev"===r?"previous":"next","ElementSibling")])&&e.classList.add("".concat(a,"-").concat(r,"-").concat(r)))}function d(e){const r=e.target.closest(Rc(t.params.pagination.bulletClass));if(!r)return;e.preventDefault();const a=wl(r)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===a)return;const e=(n=t.realIndex,s=a,i=t.slides.length,(s%=i)===1+(n%=i)?"next":s===n-1?"previous":void 0);"next"===e?t.slideNext():"previous"===e?t.slidePrev():t.slideToLoop(a)}else t.slideTo(a);var n,s,i}function u(){const e=t.rtl,r=t.params.pagination;if(l())return;let a,s,d=t.pagination.el;d=Nl(d);const u=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,m=t.params.loop?Math.ceil(u/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(s=t.previousRealIndex||0,a=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):"undefined"!==typeof t.snapIndex?(a=t.snapIndex,s=t.previousSnapIndex):(s=t.previousIndex||0,a=t.activeIndex||0),"bullets"===r.type&&t.pagination.bullets&&t.pagination.bullets.length>0){const n=t.pagination.bullets;let l,u,m;if(r.dynamicBullets&&(i=kl(n[0],t.isHorizontal()?"width":"height",!0),d.forEach(e=>{e.style[t.isHorizontal()?"width":"height"]="".concat(i*(r.dynamicMainBullets+4),"px")}),r.dynamicMainBullets>1&&void 0!==s&&(o+=a-(s||0),o>r.dynamicMainBullets-1?o=r.dynamicMainBullets-1:o<0&&(o=0)),l=Math.max(a-o,0),u=l+(Math.min(n.length,r.dynamicMainBullets)-1),m=(u+l)/2),n.forEach(e=>{const t=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(e=>"".concat(r.bulletActiveClass).concat(e))].map(e=>"string"===typeof e&&e.includes(" ")?e.split(" "):e).flat();e.classList.remove(...t)}),d.length>1)n.forEach(e=>{const n=wl(e);n===a?e.classList.add(...r.bulletActiveClass.split(" ")):t.isElement&&e.setAttribute("part","bullet"),r.dynamicBullets&&(n>=l&&n<=u&&e.classList.add(..."".concat(r.bulletActiveClass,"-main").split(" ")),n===l&&c(e,"prev"),n===u&&c(e,"next"))});else{const e=n[a];if(e&&e.classList.add(...r.bulletActiveClass.split(" ")),t.isElement&&n.forEach((e,t)=>{e.setAttribute("part",t===a?"bullet-active":"bullet")}),r.dynamicBullets){const e=n[l],t=n[u];for(let a=l;a<=u;a+=1)n[a]&&n[a].classList.add(..."".concat(r.bulletActiveClass,"-main").split(" "));c(e,"prev"),c(t,"next")}}if(r.dynamicBullets){const a=Math.min(n.length,r.dynamicMainBullets+4),s=(i*a-i)/2-m*i,o=e?"right":"left";n.forEach(e=>{e.style[t.isHorizontal()?o:"top"]="".concat(s,"px")})}}d.forEach((e,s)=>{if("fraction"===r.type&&(e.querySelectorAll(Rc(r.currentClass)).forEach(e=>{e.textContent=r.formatFractionCurrent(a+1)}),e.querySelectorAll(Rc(r.totalClass)).forEach(e=>{e.textContent=r.formatFractionTotal(m)})),"progressbar"===r.type){let n;n=r.progressbarOpposite?t.isHorizontal()?"vertical":"horizontal":t.isHorizontal()?"horizontal":"vertical";const s=(a+1)/m;let i=1,o=1;"horizontal"===n?i=s:o=s,e.querySelectorAll(Rc(r.progressbarFillClass)).forEach(e=>{e.style.transform="translate3d(0,0,0) scaleX(".concat(i,") scaleY(").concat(o,")"),e.style.transitionDuration="".concat(t.params.speed,"ms")})}"custom"===r.type&&r.renderCustom?(Cl(e,r.renderCustom(t,a+1,m)),0===s&&n("paginationRender",e)):(0===s&&n("paginationRender",e),n("paginationUpdate",e)),t.params.watchOverflow&&t.enabled&&e.classList[t.isLocked?"add":"remove"](r.lockClass)})}function m(){const e=t.params.pagination;if(l())return;const r=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.grid&&t.params.grid.rows>1?t.slides.length/Math.ceil(t.params.grid.rows):t.slides.length;let a=t.pagination.el;a=Nl(a);let s="";if("bullets"===e.type){let a=t.params.loop?Math.ceil(r/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&a>r&&(a=r);for(let r=0;r<a;r+=1)e.renderBullet?s+=e.renderBullet.call(t,r,e.bulletClass):s+="<".concat(e.bulletElement," ").concat(t.isElement?'part="bullet"':"",' class="').concat(e.bulletClass,'"></').concat(e.bulletElement,">")}"fraction"===e.type&&(s=e.renderFraction?e.renderFraction.call(t,e.currentClass,e.totalClass):'<span class="'.concat(e.currentClass,'"></span>')+" / "+'<span class="'.concat(e.totalClass,'"></span>')),"progressbar"===e.type&&(s=e.renderProgressbar?e.renderProgressbar.call(t,e.progressbarFillClass):'<span class="'.concat(e.progressbarFillClass,'"></span>')),t.pagination.bullets=[],a.forEach(r=>{"custom"!==e.type&&Cl(r,s||""),"bullets"===e.type&&t.pagination.bullets.push(...r.querySelectorAll(Rc(e.bulletClass)))}),"custom"!==e.type&&n("paginationRender",a[0])}function h(){t.params.pagination=Pc(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const e=t.params.pagination;if(!e.el)return;let r;"string"===typeof e.el&&t.isElement&&(r=t.el.querySelector(e.el)),r||"string"!==typeof e.el||(r=[...document.querySelectorAll(e.el)]),r||(r=e.el),r&&0!==r.length&&(t.params.uniqueNavElements&&"string"===typeof e.el&&Array.isArray(r)&&r.length>1&&(r=[...t.el.querySelectorAll(e.el)],r.length>1&&(r=r.find(e=>jl(e,".swiper")[0]===t.el))),Array.isArray(r)&&1===r.length&&(r=r[0]),Object.assign(t.pagination,{el:r}),r=Nl(r),r.forEach(r=>{"bullets"===e.type&&e.clickable&&r.classList.add(...(e.clickableClass||"").split(" ")),r.classList.add(e.modifierClass+e.type),r.classList.add(t.isHorizontal()?e.horizontalClass:e.verticalClass),"bullets"===e.type&&e.dynamicBullets&&(r.classList.add("".concat(e.modifierClass).concat(e.type,"-dynamic")),o=0,e.dynamicMainBullets<1&&(e.dynamicMainBullets=1)),"progressbar"===e.type&&e.progressbarOpposite&&r.classList.add(e.progressbarOppositeClass),e.clickable&&r.addEventListener("click",d),t.enabled||r.classList.add(e.lockClass)}))}function p(){const e=t.params.pagination;if(l())return;let r=t.pagination.el;r&&(r=Nl(r),r.forEach(r=>{r.classList.remove(e.hiddenClass),r.classList.remove(e.modifierClass+e.type),r.classList.remove(t.isHorizontal()?e.horizontalClass:e.verticalClass),e.clickable&&(r.classList.remove(...(e.clickableClass||"").split(" ")),r.removeEventListener("click",d))})),t.pagination.bullets&&t.pagination.bullets.forEach(t=>t.classList.remove(...e.bulletActiveClass.split(" ")))}a("changeDirection",()=>{if(!t.pagination||!t.pagination.el)return;const e=t.params.pagination;let{el:r}=t.pagination;r=Nl(r),r.forEach(r=>{r.classList.remove(e.horizontalClass,e.verticalClass),r.classList.add(t.isHorizontal()?e.horizontalClass:e.verticalClass)})}),a("init",()=>{!1===t.params.pagination.enabled?g():(h(),m(),u())}),a("activeIndexChange",()=>{"undefined"===typeof t.snapIndex&&u()}),a("snapIndexChange",()=>{u()}),a("snapGridLengthChange",()=>{m(),u()}),a("destroy",()=>{p()}),a("enable disable",()=>{let{el:e}=t.pagination;e&&(e=Nl(e),e.forEach(e=>e.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass)))}),a("lock unlock",()=>{u()}),a("click",(e,r)=>{const a=r.target,s=Nl(t.pagination.el);if(t.params.pagination.el&&t.params.pagination.hideOnClick&&s&&s.length>0&&!a.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&a===t.navigation.nextEl||t.navigation.prevEl&&a===t.navigation.prevEl))return;const e=s[0].classList.contains(t.params.pagination.hiddenClass);n(!0===e?"paginationShow":"paginationHide"),s.forEach(e=>e.classList.toggle(t.params.pagination.hiddenClass))}});const g=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:e}=t.pagination;e&&(e=Nl(e),e.forEach(e=>e.classList.add(t.params.pagination.paginationDisabledClass))),p()};Object.assign(t.pagination,{enable:()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:e}=t.pagination;e&&(e=Nl(e),e.forEach(e=>e.classList.remove(t.params.pagination.paginationDisabledClass))),h(),m(),u()},disable:g,render:m,update:u,init:h,destroy:p})}function Fc(e){let t,r,{swiper:a,extendParams:n,on:s,emit:i,params:o}=e;a.autoplay={running:!1,paused:!1,timeLeft:0},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let l,c,d,u,m,h,p,g,x=o&&o.autoplay?o.autoplay.delay:3e3,f=o&&o.autoplay?o.autoplay.delay:3e3,y=(new Date).getTime();function v(e){a&&!a.destroyed&&a.wrapperEl&&e.target===a.wrapperEl&&(a.wrapperEl.removeEventListener("transitionend",v),g||e.detail&&e.detail.bySwiperTouchMove||C())}const b=()=>{if(a.destroyed||!a.autoplay.running)return;a.autoplay.paused?c=!0:c&&(f=l,c=!1);const e=a.autoplay.paused?l:y+f-(new Date).getTime();a.autoplay.timeLeft=e,i("autoplayTimeLeft",e,e/x),r=requestAnimationFrame(()=>{b()})},w=e=>{if(a.destroyed||!a.autoplay.running)return;cancelAnimationFrame(r),b();let n="undefined"===typeof e?a.params.autoplay.delay:e;x=a.params.autoplay.delay,f=a.params.autoplay.delay;const s=(()=>{let e;if(e=a.virtual&&a.params.virtual.enabled?a.slides.find(e=>e.classList.contains("swiper-slide-active")):a.slides[a.activeIndex],!e)return;return parseInt(e.getAttribute("data-swiper-autoplay"),10)})();!Number.isNaN(s)&&s>0&&"undefined"===typeof e&&(n=s,x=s,f=s),l=n;const o=a.params.speed,c=()=>{a&&!a.destroyed&&(a.params.autoplay.reverseDirection?!a.isBeginning||a.params.loop||a.params.rewind?(a.slidePrev(o,!0,!0),i("autoplay")):a.params.autoplay.stopOnLastSlide||(a.slideTo(a.slides.length-1,o,!0,!0),i("autoplay")):!a.isEnd||a.params.loop||a.params.rewind?(a.slideNext(o,!0,!0),i("autoplay")):a.params.autoplay.stopOnLastSlide||(a.slideTo(0,o,!0,!0),i("autoplay")),a.params.cssMode&&(y=(new Date).getTime(),requestAnimationFrame(()=>{w()})))};return n>0?(clearTimeout(t),t=setTimeout(()=>{c()},n)):requestAnimationFrame(()=>{c()}),n},j=()=>{y=(new Date).getTime(),a.autoplay.running=!0,w(),i("autoplayStart")},k=()=>{a.autoplay.running=!1,clearTimeout(t),cancelAnimationFrame(r),i("autoplayStop")},N=(e,r)=>{if(a.destroyed||!a.autoplay.running)return;clearTimeout(t),e||(p=!0);const n=()=>{i("autoplayPause"),a.params.autoplay.waitForTransition?a.wrapperEl.addEventListener("transitionend",v):C()};if(a.autoplay.paused=!0,r)return h&&(l=a.params.autoplay.delay),h=!1,void n();const s=l||a.params.autoplay.delay;l=s-((new Date).getTime()-y),a.isEnd&&l<0&&!a.params.loop||(l<0&&(l=0),n())},C=()=>{a.isEnd&&l<0&&!a.params.loop||a.destroyed||!a.autoplay.running||(y=(new Date).getTime(),p?(p=!1,w(l)):w(),a.autoplay.paused=!1,i("autoplayResume"))},A=()=>{if(a.destroyed||!a.autoplay.running)return;const e=sl();"hidden"===e.visibilityState&&(p=!0,N(!0)),"visible"===e.visibilityState&&C()},S=e=>{"mouse"===e.pointerType&&(p=!0,g=!0,a.animating||a.autoplay.paused||N(!0))},E=e=>{"mouse"===e.pointerType&&(g=!1,a.autoplay.paused&&C())};s("init",()=>{a.params.autoplay.enabled&&(a.params.autoplay.pauseOnMouseEnter&&(a.el.addEventListener("pointerenter",S),a.el.addEventListener("pointerleave",E)),sl().addEventListener("visibilitychange",A),j())}),s("destroy",()=>{a.el&&"string"!==typeof a.el&&(a.el.removeEventListener("pointerenter",S),a.el.removeEventListener("pointerleave",E)),sl().removeEventListener("visibilitychange",A),a.autoplay.running&&k()}),s("_freeModeStaticRelease",()=>{(u||p)&&C()}),s("_freeModeNoMomentumRelease",()=>{a.params.autoplay.disableOnInteraction?k():N(!0,!0)}),s("beforeTransitionStart",(e,t,r)=>{!a.destroyed&&a.autoplay.running&&(r||!a.params.autoplay.disableOnInteraction?N(!0,!0):k())}),s("sliderFirstMove",()=>{!a.destroyed&&a.autoplay.running&&(a.params.autoplay.disableOnInteraction?k():(d=!0,u=!1,p=!1,m=setTimeout(()=>{p=!0,u=!0,N(!0)},200)))}),s("touchEnd",()=>{if(!a.destroyed&&a.autoplay.running&&d){if(clearTimeout(m),clearTimeout(t),a.params.autoplay.disableOnInteraction)return u=!1,void(d=!1);u&&a.params.cssMode&&C(),u=!1,d=!1}}),s("slideChange",()=>{!a.destroyed&&a.autoplay.running&&(h=!0)}),Object.assign(a.autoplay,{start:j,stop:k,pause:N,resume:C})}function Lc(e,t){const r=xl(t);return r!==t&&(r.style.backfaceVisibility="hidden",r.style["-webkit-backface-visibility"]="hidden"),r}function Mc(e){let{swiper:t,duration:r,transformElements:a,allSlides:n}=e;const{activeIndex:s}=t;if(t.params.virtualTranslate&&0!==r){let e,r=!1;e=n?a:a.filter(e=>{const r=e.classList.contains("swiper-slide-transform")?(e=>{if(!e.parentElement)return t.slides.find(t=>t.shadowRoot&&t.shadowRoot===e.parentNode);return e.parentElement})(e):e;return t.getSlideIndex(r)===s}),e.forEach(e=>{!function(e,t){t&&e.addEventListener("transitionend",function r(a){a.target===e&&(t.call(e,a),e.removeEventListener("transitionend",r))})}(e,()=>{if(r)return;if(!t||t.destroyed)return;r=!0,t.animating=!1;const e=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});t.wrapperEl.dispatchEvent(e)})})}}function Ic(e){let{swiper:t,extendParams:r,on:a}=e;r({fadeEffect:{crossFade:!1}});!function(e){const{effect:t,swiper:r,on:a,setTranslate:n,setTransition:s,overwriteParams:i,perspective:o,recreateShadows:l,getEffectParams:c}=e;let d;a("beforeInit",()=>{if(r.params.effect!==t)return;r.classNames.push("".concat(r.params.containerModifierClass).concat(t)),o&&o()&&r.classNames.push("".concat(r.params.containerModifierClass,"3d"));const e=i?i():{};Object.assign(r.params,e),Object.assign(r.originalParams,e)}),a("setTranslate _virtualUpdated",()=>{r.params.effect===t&&n()}),a("setTransition",(e,a)=>{r.params.effect===t&&s(a)}),a("transitionEnd",()=>{if(r.params.effect===t&&l){if(!c||!c().slideShadows)return;r.slides.forEach(e=>{e.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(e=>e.remove())}),l()}}),a("virtualUpdate",()=>{r.params.effect===t&&(r.slides.length||(d=!0),requestAnimationFrame(()=>{d&&r.slides&&r.slides.length&&(n(),d=!1)}))})}({effect:"fade",swiper:t,on:a,setTranslate:()=>{const{slides:e}=t;t.params.fadeEffect;for(let r=0;r<e.length;r+=1){const e=t.slides[r];let a=-e.swiperSlideOffset;t.params.virtualTranslate||(a-=t.translate);let n=0;t.isHorizontal()||(n=a,a=0);const s=t.params.fadeEffect.crossFade?Math.max(1-Math.abs(e.progress),0):1+Math.min(Math.max(e.progress,-1),0),i=Lc(0,e);i.style.opacity=s,i.style.transform="translate3d(".concat(a,"px, ").concat(n,"px, 0px)")}},setTransition:e=>{const r=t.slides.map(e=>xl(e));r.forEach(t=>{t.style.transitionDuration="".concat(e,"ms")}),Mc({swiper:t,duration:e,transformElements:r,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})}const Bc=(0,nr.A)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),qc=(0,nr.A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),zc=e=>{let{onScrollToCourses:t,user:r,t:a}=e;const n=[{id:1,title:a("welcomeTitle"),subtitle:a("welcomeSubtitle"),image:"https://images.unsplash.com/photo-1543269865-cbf427effbad?q=80&w=1920&auto=format&fit=crop",fallbackGradient:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",buttons:"primary"},{id:2,icon:Oa,title:a("learnFromExperts"),subtitle:a("masterNewSkillsWithIndustryLeading"),image:"https://images.unsplash.com/photo-1523240795612-9a054b0db644?q=80&w=1920&auto=format&fit=crop",fallbackGradient:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",buttons:"explore"},{id:3,icon:Bc,title:a("advanceYourCareer"),subtitle:a("gainInDemandSkillsAndCertificates"),image:"https://images.unsplash.com/photo-1523580494863-6f3031224c94?q=80&w=1920&auto=format&fit=crop",fallbackGradient:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",buttons:r?"explore":"register"}];return(0,xr.jsx)("section",{className:"relative h-[600px] md:h-[700px] overflow-hidden",children:(0,xr.jsx)(Ec,{modules:[_c,Oc,Fc,Ic],effect:"fade",navigation:!0,pagination:{clickable:!0},autoplay:{delay:5e3,disableOnInteraction:!1},loop:!0,className:"h-full w-full",children:n.map((e,n)=>{const s=e.icon,i=0===n?{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:1,delay:.2}}:1===n?{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:1}}:{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:1}};return(0,xr.jsx)(Dc,{children:(0,xr.jsxs)("div",{className:"relative h-full w-full",children:[(0,xr.jsx)("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url('".concat(e.image,"'), ").concat(e.fallbackGradient)},onError:t=>{t.target.style.backgroundImage=e.fallbackGradient}}),(0,xr.jsx)("div",{className:"absolute inset-0 bg-black/40"}),(0,xr.jsx)("div",{className:"relative h-full flex items-center justify-center",children:(0,xr.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:(0,xr.jsxs)(rr.P.div,(0,Be.A)((0,Be.A)({},i),{},{children:[s&&(0,xr.jsx)(s,{className:"w-20 h-20 mx-auto mb-6 text-white"}),(0,xr.jsx)("h1",{className:"text-5xl md:text-7xl font-bold text-white mb-6 leading-tight",children:e.title}),(0,xr.jsx)("p",{className:"text-xl md:text-2xl text-white/90 mb-8 max-w-3xl mx-auto",children:e.subtitle}),(0,xr.jsx)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:"primary"===e.buttons&&r?(0,xr.jsx)(Oe,{to:"admin"===r.role?"/admin":"instructor"===r.role?"/instructor":"/student",className:"btn-primary bg-white text-primary-600 hover:bg-gray-100 text-lg px-8 py-4 shadow-xl hover:shadow-2xl transform hover:scale-105 transition-all inline-flex items-center justify-center gap-2",children:a("dashboard")}):"primary"!==e.buttons||r?"explore"===e.buttons?(0,xr.jsxs)("button",{onClick:t,className:"btn-primary bg-white text-indigo-600 hover:bg-gray-100 text-lg px-8 py-4 shadow-xl inline-flex items-center gap-2 cursor-pointer",children:[(0,xr.jsx)("span",{children:2===e.id?a("viewCourses"):a("exploreCourses")}),(0,xr.jsx)(qc,{className:"w-5 h-5"})]}):"register"===e.buttons?(0,xr.jsxs)(Oe,{to:"/register",className:"btn-primary bg-white text-purple-600 hover:bg-gray-100 text-lg px-8 py-4 shadow-xl inline-flex items-center gap-2",children:[(0,xr.jsx)("span",{children:a("startLearningToday")}),(0,xr.jsx)(qc,{className:"w-5 h-5"})]}):null:(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)(Oe,{to:"/register",className:"btn-primary bg-white text-primary-600 hover:bg-gray-100 text-lg px-8 py-4 shadow-xl hover:shadow-2xl transform hover:scale-105 transition-all inline-flex items-center justify-center gap-2",children:a("getStarted")}),(0,xr.jsx)("button",{onClick:t,className:"btn-outline border-2 border-white text-white hover:bg-white hover:text-primary-600 text-lg px-8 py-4 backdrop-blur-sm cursor-pointer inline-flex items-center justify-center gap-2",children:a("exploreCourses")})]})})]}))})})]})},e.id)})})})};var Uc=r(8129);const Vc={some:0,all:1};function Yc(e,t){let{root:r,margin:a,amount:n="some"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=function(e,t,r){var a;if("string"===typeof e){let n=document;t&&((0,Uc.V)(Boolean(t.current),"Scope provided, but no element detected."),n=t.current),r?(null!==(a=r[e])&&void 0!==a||(r[e]=n.querySelectorAll(e)),e=r[e]):e=n.querySelectorAll(e)}else e instanceof Element&&(e=[e]);return Array.from(e||[])}(e),i=new WeakMap,o=new IntersectionObserver(e=>{e.forEach(e=>{const r=i.get(e.target);if(e.isIntersecting!==Boolean(r))if(e.isIntersecting){const r=t(e);"function"===typeof r?i.set(e.target,r):o.unobserve(e.target)}else r&&(r(e),i.delete(e.target))})},{root:r,rootMargin:a,threshold:"number"===typeof n?n:Vc[n]});return s.forEach(e=>o.observe(e)),()=>o.disconnect()}var Wc=r(5193),Hc=r(7070);function Gc(){let e=!1;const t=new Set,r={subscribe:e=>(t.add(e),()=>{t.delete(e)}),start(r,a){(0,Uc.V)(e,"controls.start() should only be called after a component has mounted. Consider calling within a useEffect hook.");const n=[];return t.forEach(e=>{n.push((0,Hc._)(e,r,{transitionOverride:a}))}),Promise.all(n)},set:r=>((0,Uc.V)(e,"controls.set() should only be called after a component has mounted. Consider calling within a useEffect hook."),t.forEach(e=>{(0,Wc.VI)(e,r)})),stop(){t.forEach(e=>{!function(e){e.values.forEach(e=>e.stop())}(e)})},mount:()=>(e=!0,()=>{e=!1,r.stop()})};return r}var Kc=r(4930),Qc=r(293);const $c=function(){const e=(0,Kc.M)(Gc);return(0,Qc.E)(e.mount,[]),e},Xc=(0,nr.A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Jc=(0,nr.A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Zc=(0,nr.A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),ed=(0,nr.A)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),td=e=>{let{t:t}=e;const r=(0,a.useRef)(null),n=function(e){let{root:t,margin:r,amount:n,once:s=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const[i,o]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{if(!e.current||s&&i)return;const a={root:t&&t.current||void 0,margin:r,amount:n};return Yc(e.current,()=>(o(!0),s?void 0:()=>o(!1)),a)},[t,e,r,s,n]),i}(r,{once:!0,margin:"-100px"}),s=$c(),[i,o]=(0,a.useState)(null);(0,a.useEffect)(()=>{n&&s.start("visible")},[n,s]);const l=[{icon:_a,title:t("expertInstructors"),description:t("learnFromIndustryExperts"),color:"from-blue-500 to-cyan-500",delay:.1},{icon:Oa,title:t("certificatesAwarded"),description:t("earnRecognizedCertificates"),color:"from-purple-500 to-pink-500",delay:.2},{icon:Xc,title:t("interactiveLearning"),description:t("engageWithPeers"),color:"from-green-500 to-emerald-500",delay:.3},{icon:Jc,title:t("careerGrowth"),description:t("advanceYourCareerPath"),color:"from-orange-500 to-red-500",delay:.4},{icon:Zc,title:t("flexibleSchedule"),description:t("learnAtYourOwnPace"),color:"from-indigo-500 to-blue-500",delay:.5},{icon:or,title:t("globalCommunity"),description:t("joinLearnersWorldwide"),color:"from-teal-500 to-cyan-500",delay:.6},{icon:Ra,title:t("richContent"),description:t("accessComprehensiveMaterials"),color:"from-yellow-500 to-orange-500",delay:.7},{icon:ed,title:t("goalOriented"),description:t("achieveYourLearningGoals"),color:"from-rose-500 to-pink-500",delay:.8}],c={hidden:{opacity:0,y:50,scale:.8},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:100,damping:15}}},d={y:[0,-10,0],transition:{duration:3,repeat:1/0,ease:"easeInOut"}};return(0,xr.jsxs)("section",{ref:r,className:"relative py-20 bg-gradient-to-b from-gray-50 to-white dark:from-gray-900 dark:to-gray-800 overflow-hidden",children:[(0,xr.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,xr.jsx)(rr.P.div,{animate:{scale:[1,1.2,1],rotate:[0,90,0],opacity:[.03,.05,.03]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute -top-1/2 -left-1/2 w-full h-full bg-gradient-to-br from-indigo-500 to-purple-500 rounded-full blur-3xl"}),(0,xr.jsx)(rr.P.div,{animate:{scale:[1.2,1,1.2],rotate:[90,0,90],opacity:[.03,.05,.03]},transition:{duration:25,repeat:1/0,ease:"linear"},className:"absolute -bottom-1/2 -right-1/2 w-full h-full bg-gradient-to-tl from-blue-500 to-cyan-500 rounded-full blur-3xl"})]}),(0,xr.jsxs)("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:-30},animate:n?{opacity:1,y:0}:{},transition:{duration:.8},className:"text-center mb-16",children:[(0,xr.jsx)(rr.P.div,{animate:d,className:"inline-block mb-4",children:(0,xr.jsx)("div",{className:"w-16 h-16 mx-auto bg-gradient-to-br from-indigo-600 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg",children:(0,xr.jsx)(_a,{className:"w-8 h-8 text-white"})})}),(0,xr.jsx)("h2",{className:"font-fun text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-4",children:t("whyChooseUs")}),(0,xr.jsx)("p",{className:"font-fun text-xl text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:t("discoverBenefits")})]}),(0,xr.jsx)(rr.P.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},initial:"hidden",animate:s,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:l.map((e,t)=>{const r=e.icon,a=i===t;return(0,xr.jsx)(rr.P.div,{variants:c,onHoverStart:()=>o(t),onHoverEnd:()=>o(null),className:"group relative",children:(0,xr.jsxs)(rr.P.div,{whileHover:{y:-8,scale:1.02},transition:{type:"spring",stiffness:300,damping:20},className:"relative h-full p-6 bg-white dark:bg-gray-800 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100 dark:border-gray-700 overflow-hidden",children:[(0,xr.jsx)(rr.P.div,{initial:{opacity:0,scale:0},animate:{opacity:a?.1:0,scale:a?1:0},transition:{duration:.3},className:"absolute inset-0 bg-gradient-to-br ".concat(e.color)}),(0,xr.jsx)(rr.P.div,{animate:{rotate:a?[0,-10,10,-10,0]:0},transition:{duration:.5},className:"relative mb-4",children:(0,xr.jsx)("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br ".concat(e.color," flex items-center justify-center shadow-md"),children:(0,xr.jsx)(r,{className:"w-7 h-7 text-white"})})}),(0,xr.jsxs)("div",{className:"relative",children:[(0,xr.jsx)("h3",{className:"font-fun text-lg font-bold text-gray-900 dark:text-white mb-2",children:e.title}),(0,xr.jsx)("p",{className:"font-fun text-sm text-gray-600 dark:text-gray-400 leading-relaxed",children:e.description})]}),(0,xr.jsx)(rr.P.div,{initial:{width:0},animate:{width:a?"100%":0},transition:{duration:.3},className:"absolute bottom-0 left-0 h-1 bg-gradient-to-r ".concat(e.color)})]})},t)})}),(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:30},animate:n?{opacity:1,y:0}:{},transition:{duration:.8,delay:1},className:"text-center mt-16",children:(0,xr.jsxs)(rr.P.p,{animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"font-fun text-lg text-gray-700 dark:text-gray-300 font-medium",children:["\u2728 ",t("joinThousandsOfLearners")]})})]})]})},rd=e=>{let{t:t}=e;const[r,n]=(0,a.useState)({students:120,courses:15,instructors:10,successRate:92});(0,a.useEffect)(()=>{(async()=>{try{const e=await i.A.get("/api/stats");e.data.success&&n(e.data.stats)}catch(e){console.error("Error fetching stats:",e)}})()},[]);const s=e=>e>=1e3?"".concat(Math.floor(e/1e3)).concat(e%1e3===0?",000":",".concat(e%1e3),"+"):"".concat(e,"+"),o=[{icon:Xc,value:s(r.students),label:t("studentsCount"),color:"text-primary-600 dark:text-primary-400",bgColor:"bg-primary-100 dark:bg-primary-900"},{icon:Ra,value:s(r.courses),label:t("coursesCount"),color:"text-primary-600 dark:text-primary-400",bgColor:"bg-primary-100 dark:bg-primary-900"},{icon:Oa,value:s(r.instructors),label:t("instructorsCount"),color:"text-primary-600 dark:text-primary-400",bgColor:"bg-primary-100 dark:bg-primary-900"},{icon:Jc,value:"".concat(r.successRate,"%"),label:t("successRate"),color:"text-primary-600 dark:text-primary-400",bgColor:"bg-primary-100 dark:bg-primary-900"}];return(0,xr.jsx)("section",{className:"py-12 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:(0,xr.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,xr.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:o.map((e,t)=>{const r=e.icon;return(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1*t},className:"text-center",children:[(0,xr.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full ".concat(e.bgColor," mb-3"),children:(0,xr.jsx)(r,{className:"w-8 h-8 ".concat(e.color)})}),(0,xr.jsx)("div",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-1",children:e.value}),(0,xr.jsx)("div",{className:"text-gray-600 dark:text-gray-400",children:e.label})]},t)})})})})},ad=(0,nr.A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),nd=e=>{let{searchTerm:t,setSearchTerm:r,selectedCategory:a,setSelectedCategory:n,selectedLevel:s,setSelectedLevel:i,hasSearched:o,categories:l,levels:c=[],searching:d,onSearch:u,onClearSearch:m,t:h}=e;return(0,xr.jsx)("section",{className:"py-12 bg-gray-50 dark:bg-gray-900","data-aos":"fade-up",children:(0,xr.jsx)("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,xr.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-stretch",children:[(0,xr.jsxs)("div",{className:"flex-1 relative",children:[(0,xr.jsx)(ad,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,xr.jsx)("input",{type:"text",placeholder:h("searchCoursesPlaceholder"),value:t,onChange:e=>r(e.target.value),className:"input-field pl-10","aria-label":"Search courses"})]}),(0,xr.jsxs)("select",{value:a,onChange:e=>n(e.target.value),className:"input-field md:w-48","aria-label":"Filter by category",children:[(0,xr.jsx)("option",{value:"",children:h("category")}),l.map(e=>(0,xr.jsx)("option",{value:e.slug,children:e.name},e._id))]}),(0,xr.jsxs)("select",{value:s,onChange:e=>i(e.target.value),className:"input-field md:w-48","aria-label":"Filter by level",children:[(0,xr.jsx)("option",{value:"",children:h("level")}),c.map(e=>(0,xr.jsx)("option",{value:e.slug,children:e.name},e._id))]}),(0,xr.jsx)("button",{onClick:u,className:"btn-primary whitespace-nowrap px-6",disabled:d,children:d?h("loading")||"Searching...":h("search")}),o&&(0,xr.jsx)("button",{onClick:m,className:"btn-secondary whitespace-nowrap px-6",children:h("allCourses")})]})})})},sd=e=>{let{endDate:t,onExpire:r,className:n=""}=e;const[s,i]=(0,a.useState)({days:0,hours:0,minutes:0,seconds:0,expired:!1});return(0,a.useEffect)(()=>{const e=()=>{const e=new Date(t)-new Date;if(e<=0)return i({days:0,hours:0,minutes:0,seconds:0,expired:!0}),void(r&&r());const a=Math.floor(e/864e5),n=Math.floor(e/36e5%24),s=Math.floor(e/1e3/60%60),o=Math.floor(e/1e3%60);i({days:a,hours:n,minutes:s,seconds:o,expired:!1})};e();const a=setInterval(e,1e3);return()=>clearInterval(a)},[t,r]),s.expired?(0,xr.jsxs)("div",{className:"flex items-center gap-2 text-gray-500 ".concat(n),children:[(0,xr.jsx)(Zc,{className:"w-4 h-4"}),(0,xr.jsx)("span",{className:"text-sm",children:"Offer expired"})]}):(0,xr.jsxs)("div",{className:"flex items-center gap-2 ".concat(n),children:[(0,xr.jsx)(Zc,{className:"w-4 h-4 text-red-500"}),(0,xr.jsxs)("div",{className:"flex items-center gap-1 text-sm font-semibold",children:[s.days>0&&(0,xr.jsxs)("span",{className:"text-red-600",children:[s.days,"d"," "]}),(0,xr.jsxs)("span",{className:"text-red-600",children:[String(s.hours).padStart(2,"0"),":",String(s.minutes).padStart(2,"0"),":",String(s.seconds).padStart(2,"0")]})]})]})},id=e=>{var t,r,a;let{course:n,showTimer:s=!0,className:i=""}=e;if("approved"===(null===n||void 0===n||null===(t=n.discount)||void 0===t?void 0:t.status)&&(null===n||void 0===n||null===(r=n.discount)||void 0===r?void 0:r.endDate)&&new Date(n.discount.endDate)>new Date){const e=n.originalCost||n.cost,t=n.cost;return(0,xr.jsxs)("div",{className:"space-y-1 ".concat(i),children:[(0,xr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,xr.jsxs)("span",{className:"text-lg text-gray-500 dark:text-gray-400 line-through",children:[null===e||void 0===e?void 0:e.toLocaleString()," SYP"]}),(0,xr.jsxs)("span",{className:"px-2 py-0.5 bg-red-500 text-white text-xs font-bold rounded",children:["SAVE ",n.discount.percentage,"%"]})]}),(0,xr.jsxs)("div",{className:"text-2xl font-bold text-red-600 dark:text-red-500",children:[null===t||void 0===t?void 0:t.toLocaleString()," SYP"]}),s&&(0,xr.jsx)(sd,{endDate:n.discount.endDate,className:"text-sm"})]})}return(0,xr.jsxs)("div",{className:"text-xl font-semibold ".concat(i),children:[null===(a=n.cost)||void 0===a?void 0:a.toLocaleString()," SYP"]})};const od=e=>{let{rating:t=0,totalRatings:r=0,size:a="md",showCount:n=!0,showLabel:s=!0,className:i=""}=e;const o={sm:{star:"w-3 h-3",text:"text-xs",rating:"text-sm"},md:{star:"w-4 h-4",text:"text-sm",rating:"text-sm"},lg:{star:"w-5 h-5",text:"text-base",rating:"text-lg"},xl:{star:"w-6 h-6",text:"text-lg",rating:"text-xl"}},l=o[a]||o.md,c=t>0&&r>0,d=c?Number(t).toFixed(1):"0.0";return(0,xr.jsx)("div",{className:"flex items-center gap-1 ".concat(i),children:c?(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)(cr,{className:"".concat(l.star," text-yellow-400 fill-current flex-shrink-0")}),(0,xr.jsx)("span",{className:"".concat(l.rating," font-semibold text-gray-700 dark:text-gray-300"),children:d}),n&&r>0&&(0,xr.jsxs)("span",{className:"".concat(l.text," text-gray-500 dark:text-gray-400"),children:["(",r.toLocaleString(),")"]})]}):(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)(cr,{className:"".concat(l.star," text-gray-300 dark:text-gray-600 flex-shrink-0")}),s&&(0,xr.jsx)("span",{className:"".concat(l.text," text-gray-400 dark:text-gray-500"),children:"No ratings yet"})]})})};!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}(':root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\n');var ld=e=>"number"==typeof e&&!isNaN(e),cd=e=>"string"==typeof e,dd=e=>"function"==typeof e,ud=e=>(0,a.isValidElement)(e)||cd(e)||dd(e)||ld(e);function md(e){let{enter:t,exit:r,appendPosition:n=!1,collapse:s=!0,collapseDuration:i=300}=e;return function(e){let{children:o,position:l,preventExitTransition:c,done:d,nodeRef:u,isIn:m,playToast:h}=e,p=n?"".concat(t,"--").concat(l):t,g=n?"".concat(r,"--").concat(l):r,x=(0,a.useRef)(0);return(0,a.useLayoutEffect)(()=>{let e=u.current,t=p.split(" "),r=a=>{a.target===u.current&&(h(),e.removeEventListener("animationend",r),e.removeEventListener("animationcancel",r),0===x.current&&"animationcancel"!==a.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",r),e.addEventListener("animationcancel",r)},[]),(0,a.useEffect)(()=>{let e=u.current,t=()=>{e.removeEventListener("animationend",t),s?function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,{scrollHeight:a,style:n}=e;requestAnimationFrame(()=>{n.minHeight="initial",n.height=a+"px",n.transition="all ".concat(r,"ms"),requestAnimationFrame(()=>{n.height="0",n.padding="0",n.margin="0",setTimeout(t,r)})})}(e,d,i):d()};m||(c?t():(x.current=1,e.className+=" ".concat(g),e.addEventListener("animationend",t)))},[m]),a.createElement(a.Fragment,null,o)}}var hd=1,pd=()=>"".concat(hd++);var gd=new Map,xd=[],fd=new Set,yd=()=>gd.size>0;function vd(e,t){var r;if(t)return!(null==(r=gd.get(t))||!r.isToastActive(e));let a=!1;return gd.forEach(t=>{t.isToastActive(e)&&(a=!0)}),a}function bd(e){if(yd()){if(null==e||(e=>cd(e)||ld(e))(e))gd.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=gd.get(e.containerId);t?t.removeToast(e.id):gd.forEach(t=>{t.removeToast(e.id)})}}else xd=xd.filter(t=>null!=e&&t.options.toastId!==e)}function wd(e,t){ud(e)&&(yd()||xd.push({content:e,options:t}),gd.forEach(r=>{r.buildToast(e,t)}))}function jd(e,t){gd.forEach(r=>{(null==t||null==t||!t.containerId||(null==t?void 0:t.containerId)===r.id)&&r.toggle(e,null==t?void 0:t.id)})}function kd(e){return e&&(cd(e.toastId)||ld(e.toastId))?e.toastId:pd()}function Nd(e,t){return wd(e,t),t.toastId}function Cd(e,t){return(0,Be.A)((0,Be.A)({},t),{},{type:t&&t.type||e,toastId:kd(t)})}function Ad(e){return(t,r)=>Nd(t,Cd(e,r))}function Sd(e,t){return Nd(e,Cd("default",t))}Sd.loading=(e,t)=>Nd(e,Cd("default",(0,Be.A)({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t))),Sd.promise=function(e,t,r){let a,{pending:n,error:s,success:i}=t;n&&(a=cd(n)?Sd.loading(n,r):Sd.loading(n.render,(0,Be.A)((0,Be.A)({},r),n)));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,n)=>{if(null==t)return void Sd.dismiss(a);let s=(0,Be.A)((0,Be.A)((0,Be.A)({type:e},o),r),{},{data:n}),i=cd(t)?{render:t}:t;return a?Sd.update(a,(0,Be.A)((0,Be.A)({},s),i)):Sd(i.render,(0,Be.A)((0,Be.A)({},s),i)),n},c=dd(e)?e():e;return c.then(e=>l("success",i,e)).catch(e=>l("error",s,e)),c},Sd.success=Ad("success"),Sd.info=Ad("info"),Sd.error=Ad("error"),Sd.warning=Ad("warning"),Sd.warn=Sd.warning,Sd.dark=(e,t)=>Nd(e,Cd("default",(0,Be.A)({theme:"dark"},t))),Sd.dismiss=function(e){bd(e)},Sd.clearWaitingQueue=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};gd.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})},Sd.isActive=vd,Sd.update=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=((e,t)=>{let{containerId:r}=t;var a;return null==(a=gd.get(r||1))?void 0:a.toasts.get(e)})(e,t);if(r){let{props:a,content:n}=r,s=(0,Be.A)((0,Be.A)((0,Be.A)({delay:100},a),t),{},{toastId:t.toastId||e,updateId:pd()});s.toastId!==e&&(s.staleId=e);let i=s.render||n;delete s.render,Nd(i,s)}},Sd.done=e=>{Sd.update(e,{progress:1})},Sd.onChange=function(e){return fd.add(e),()=>{fd.delete(e)}},Sd.play=e=>jd(!0,e),Sd.pause=e=>jd(!1,e);"undefined"!=typeof window?a.useLayoutEffect:a.useEffect;var Ed=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}};md(Ed("bounce",!0)),md(Ed("slide",!0)),md(Ed("zoom")),md(Ed("flip"));const Dd=e=>{let{courseId:t,className:r=""}=e;const{user:n}=wr(),[s,o]=(0,a.useState)(!1),[l,c]=(0,a.useState)(!1);(0,a.useEffect)(()=>{n&&"student"===n.role&&d()},[t,n]);const d=async()=>{try{const e=await i.A.get("/api/wishlist/check/".concat(t));o(e.data.isInWishlist)}catch(e){console.error("Error checking wishlist:",e)}};return n&&"student"===n.role?(0,xr.jsx)("button",{onClick:async e=>{if(e.preventDefault(),e.stopPropagation(),n){if("student"===n.role){c(!0);try{s?(await i.A.delete("/api/wishlist/".concat(t)),o(!1),Sd.success("Removed from wishlist")):(await i.A.post("/api/wishlist/".concat(t)),o(!0),Sd.success("Added to wishlist"))}catch(l){var r,a;console.error("Error toggling wishlist:",l),Sd.error((null===(r=l.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Failed to update wishlist")}finally{c(!1)}}}else Sd.error("Please login to add courses to wishlist")},disabled:l,className:"p-2 rounded-full transition-all duration-200 ".concat(s?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-600 dark:text-yellow-400 hover:bg-yellow-200 dark:hover:bg-yellow-900/50":"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500 hover:bg-gray-200 dark:hover:bg-gray-600"," ").concat(l?"opacity-50 cursor-not-allowed":"hover:scale-110"," ").concat(r),title:s?"Remove from wishlist":"Add to wishlist",children:(0,xr.jsx)(cr,{className:"w-5 h-5 ".concat(s?"fill-current":"")})}):null},Pd=e=>{var t,r,a,n;let{course:s,isEnrolled:i,user:o,index:l,t:c}=e;return(0,xr.jsxs)(rr.P.div,{"data-aos":"fade-up","data-aos-delay":100*l,whileHover:{y:-8,scale:1.02},transition:{duration:.3},className:"card hover:shadow-2xl transition-all duration-300 group",children:[(0,xr.jsxs)("div",{className:"relative mb-4 overflow-hidden rounded-lg",children:[(0,xr.jsx)("div",{className:"w-full h-48 bg-gradient-to-br from-primary-100 to-primary-200 dark:from-primary-900 dark:to-primary-800 flex items-center justify-center group-hover:scale-110 transition-transform duration-500",children:s.image?(0,xr.jsx)("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover",loading:"lazy",onError:e=>{e.target.style.display="none";const t=document.createElement("div");t.innerHTML='<svg class="w-16 h-16 text-primary-600 dark:text-primary-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg>',e.target.parentElement.appendChild(t.firstChild)}}):(0,xr.jsx)(Ra,{className:"w-16 h-16 text-primary-600 dark:text-primary-400"})}),(0,xr.jsx)("div",{className:"absolute top-3 left-3",children:(0,xr.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat((e=>{switch(e){case"beginner":case"A1":case"A2":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"intermediate":case"B1":case"B2":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"advanced":case"C1":case"C2":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}})(s.level)),children:s.level})}),"student"===(null===o||void 0===o?void 0:o.role)&&(0,xr.jsx)("div",{className:"absolute top-3 right-3",children:(0,xr.jsx)(Dd,{courseId:s._id,size:"md"})})]}),(0,xr.jsxs)("div",{className:"space-y-3",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:s.category}),(0,xr.jsx)(od,{rating:s.averageRating,totalRatings:s.totalRatings,size:"md",showCount:!0,showLabel:!0})]}),(0,xr.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:s.name}),((null===(t=s.instructor)||void 0===t?void 0:t.name)||s.isOrphaned&&(null===(r=s.originalInstructor)||void 0===r?void 0:r.name))&&(0,xr.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:null!==(a=s.instructor)&&void 0!==a&&a.name?"By ".concat(s.instructor.name):"Created by ".concat(s.originalInstructor.name)}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm line-clamp-2",children:s.description}),(0,xr.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,xr.jsx)(Zc,{className:"w-4 h-4"}),(0,xr.jsxs)("span",{children:[s.duration," ",c("weeks")]})]}),(0,xr.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,xr.jsx)(Xc,{className:"w-4 h-4"}),(0,xr.jsxs)("span",{children:[(null===(n=s.groups)||void 0===n?void 0:n.length)||0," groups"]})]})]}),(0,xr.jsxs)("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700 mt-4",children:[(0,xr.jsx)("div",{className:"mb-3",children:(0,xr.jsx)(id,{course:s,showTimer:!0})}),"student"===(null===o||void 0===o?void 0:o.role)&&i?(0,xr.jsxs)(Oe,{to:"/student/course/".concat(s._id,"/details"),className:"w-full px-6 py-3 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200 flex items-center justify-center space-x-2",children:[(0,xr.jsx)("span",{children:c("continueCourse")}),(0,xr.jsx)(qc,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}):"student"===(null===o||void 0===o?void 0:o.role)?(0,xr.jsxs)(Oe,{to:"/student/course/".concat(s._id,"/enroll"),className:"w-full px-6 py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200 flex items-center justify-center space-x-2",children:[(0,xr.jsx)("span",{children:c("registerForCourse")}),(0,xr.jsx)(qc,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}):(0,xr.jsxs)(Oe,{to:"/courses/".concat(s._id),className:"w-full px-6 py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200 flex items-center justify-center space-x-2",children:[(0,xr.jsx)("span",{children:c("viewDetails")}),(0,xr.jsx)(qc,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]})]})]})},Td=()=>(0,xr.jsxs)("div",{className:"card h-full flex flex-col overflow-hidden animate-pulse",children:[(0,xr.jsx)("div",{className:"h-48 bg-neutral-200 dark:bg-gray-700"}),(0,xr.jsxs)("div",{className:"p-6 flex-1 flex flex-col space-y-4",children:[(0,xr.jsx)("div",{className:"h-6 bg-neutral-200 dark:bg-gray-700 rounded w-3/4"}),(0,xr.jsxs)("div",{className:"space-y-2 flex-grow",children:[(0,xr.jsx)("div",{className:"h-4 bg-neutral-200 dark:bg-gray-700 rounded"}),(0,xr.jsx)("div",{className:"h-4 bg-neutral-200 dark:bg-gray-700 rounded w-5/6"})]}),(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsx)("div",{className:"h-4 bg-neutral-200 dark:bg-gray-700 rounded w-20"}),(0,xr.jsx)("div",{className:"h-4 bg-neutral-200 dark:bg-gray-700 rounded w-20"})]}),(0,xr.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-neutral-200 dark:border-gray-700",children:[(0,xr.jsx)("div",{className:"h-6 bg-neutral-200 dark:bg-gray-700 rounded w-24"}),(0,xr.jsx)("div",{className:"h-10 bg-neutral-200 dark:bg-gray-700 rounded w-28"})]})]})]}),_d=e=>{let{message:t="No courses available",description:r="No data found. Try adjusting your search criteria."}=e;return(0,xr.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,xr.jsxs)(rr.P.svg,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},width:"200",height:"200",viewBox:"0 0 200 200",className:"mb-6",children:[(0,xr.jsx)(rr.P.circle,{cx:"100",cy:"100",r:"90",fill:"currentColor",className:"text-gray-100 dark:text-gray-800",initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:.2}}),(0,xr.jsxs)(rr.P.g,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:[(0,xr.jsx)("path",{d:"M60 70 h30 l10 10 h40 v60 h-80 z",fill:"currentColor",className:"text-gray-300 dark:text-gray-700"}),(0,xr.jsx)("path",{d:"M60 75 h35 l10 10 h35 v55 h-80 z",fill:"currentColor",className:"text-gray-400 dark:text-gray-600"}),(0,xr.jsx)("path",{d:"M60 75 h25 l5 -10 h-25 z",fill:"currentColor",className:"text-gray-500 dark:text-gray-500"})]}),(0,xr.jsxs)(rr.P.g,{animate:{y:[0,-5,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:[(0,xr.jsx)("rect",{x:"70",y:"95",width:"25",height:"30",rx:"2",fill:"currentColor",className:"text-gray-200 dark:text-gray-700"}),(0,xr.jsx)("line",{x1:"75",y1:"100",x2:"90",y2:"100",stroke:"currentColor",strokeWidth:"2",className:"text-gray-400"}),(0,xr.jsx)("line",{x1:"75",y1:"105",x2:"90",y2:"105",stroke:"currentColor",strokeWidth:"2",className:"text-gray-400"}),(0,xr.jsx)("line",{x1:"75",y1:"110",x2:"85",y2:"110",stroke:"currentColor",strokeWidth:"2",className:"text-gray-400"})]}),(0,xr.jsxs)(rr.P.g,{animate:{y:[0,-8,0]},transition:{duration:2.5,repeat:1/0,ease:"easeInOut",delay:.5},children:[(0,xr.jsx)("rect",{x:"105",y:"90",width:"25",height:"30",rx:"2",fill:"currentColor",className:"text-gray-200 dark:text-gray-700"}),(0,xr.jsx)("line",{x1:"110",y1:"95",x2:"125",y2:"95",stroke:"currentColor",strokeWidth:"2",className:"text-gray-400"}),(0,xr.jsx)("line",{x1:"110",y1:"100",x2:"125",y2:"100",stroke:"currentColor",strokeWidth:"2",className:"text-gray-400"}),(0,xr.jsx)("line",{x1:"110",y1:"105",x2:"120",y2:"105",stroke:"currentColor",strokeWidth:"2",className:"text-gray-400"})]}),(0,xr.jsxs)(rr.P.g,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.8},children:[(0,xr.jsx)("circle",{cx:"155",cy:"65",r:"12",fill:"currentColor",className:"text-primary-200 dark:text-primary-900"}),(0,xr.jsx)("text",{x:"155",y:"72",textAnchor:"middle",fontSize:"18",fontWeight:"bold",fill:"currentColor",className:"text-primary-600 dark:text-primary-400",children:"?"})]})]}),(0,xr.jsxs)(rr.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:1},className:"text-center",children:[(0,xr.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:t}),r&&(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:r})]})]})},Rd=e=>{let{courses:t,loading:r,hasSearched:a,enrolledCourseIds:n,user:s,showAllCourses:i,onToggleShowAll:o,t:l}=e;if(r)return(0,xr.jsx)("section",{id:"courses",className:"py-20 bg-white dark:bg-gray-800",children:(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,xr.jsxs)("div",{className:"text-center mb-16","data-aos":"fade-up",children:[(0,xr.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:l("recentCourses")}),(0,xr.jsx)("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:l("discoverMostPopularCourses")})]}),(0,xr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[...Array(6)].map((e,t)=>(0,xr.jsx)(Td,{},t))})]})});if(0===t.length)return(0,xr.jsx)("section",{id:"courses",className:"py-20 bg-white dark:bg-gray-800",children:(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,xr.jsxs)("div",{className:"text-center mb-16","data-aos":"fade-up",children:[(0,xr.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:a?"Search Results":l("recentCourses")}),(0,xr.jsx)("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:l("discoverMostPopularCourses")})]}),(0,xr.jsx)("div",{className:"card",children:(0,xr.jsx)(_d,{message:l(a?"noCoursesFound":"noCoursesAvailable"),description:a?l("tryDifferentFilters"):""})})]})});const c=i?t:t.slice(0,12),d=t.length>12;return(0,xr.jsx)("section",{id:"courses",className:"py-20 bg-white dark:bg-gray-800",children:(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,xr.jsxs)("div",{className:"text-center mb-16","data-aos":"fade-up",children:[(0,xr.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:a?"Search Results":l("recentCourses")}),(0,xr.jsx)("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:l("discoverMostPopularCourses")})]}),(0,xr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:c.map((e,t)=>{const r=n.includes(String(e._id));return(0,xr.jsx)(Pd,{course:e,isEnrolled:r,user:s,index:t,t:l},e._id)})}),!i&&d&&(0,xr.jsx)("div",{className:"text-center mt-12",children:(0,xr.jsxs)("button",{onClick:o,className:"btn-outline text-lg px-8 py-3",children:[l("showMore")||"Show All"," (",t.length," ",l("courses"),")"]})})]})})},Od=e=>[{target:"body",title:e("homeTourWelcomeTitle"),content:e("homeTourWelcomeContent"),disableBeacon:!0,placement:"center"},{target:"nav",title:e("homeTourNavTitle"),content:e("homeTourNavContent"),placement:"bottom",disableBeacon:!1},{target:"nav .hidden.md\\:flex button:nth-child(2)",title:e("homeTourCoursesTitle"),content:e("homeTourCoursesContent"),placement:"bottom",disableBeacon:!1},{target:"nav .hidden.md\\:flex button:nth-child(3)",title:e("homeTourInstructorsTitle"),content:e("homeTourInstructorsContent"),placement:"bottom",disableBeacon:!1},{target:"nav .hidden.md\\:flex button:nth-child(4)",title:e("homeTourAboutTitle"),content:e("homeTourAboutContent"),placement:"bottom",disableBeacon:!1},{target:"nav .hidden.md\\:flex button:nth-child(5)",title:e("homeTourContactTitle"),content:e("homeTourContactContent"),placement:"bottom",disableBeacon:!1},{target:"nav .flex.items-center.gap-4",title:e("homeTourUserActionsTitle"),content:e("homeTourUserActionsContent"),placement:"bottom",disableBeacon:!1},{target:".swiper",title:e("homeTourHeroTitle"),content:e("homeTourHeroContent"),placement:"bottom",disableBeacon:!1},{target:"#courses",title:e("homeTourFeaturedTitle"),content:e("homeTourFeaturedContent"),placement:"top",disableBeacon:!1}],Fd=(Od(e=>e),e=>[{target:"body",title:e("courseDetailsTourWelcomeTitle"),content:e("courseDetailsTourWelcomeContent"),disableBeacon:!0,placement:"center"},{target:"main > div:first-child",title:e("courseDetailsTourInfoTitle"),content:e("courseDetailsTourInfoContent"),placement:"bottom",disableBeacon:!1},{target:".lg\\:col-span-1",title:e("courseDetailsTourSectionsTitle"),content:e("courseDetailsTourSectionsContent"),placement:"right",disableBeacon:!1},{target:'[data-tour="certificates"], nav a[href*="certificates"], .max-w-7xl',title:e("courseDetailsTourCertificateTitle"),content:e("courseDetailsTourCertificateContent"),placement:"top",disableBeacon:!1}]),Ld=(Fd(e=>e),[{target:".dashboard-stats",content:"View your course statistics at a glance.",disableBeacon:!0,placement:"bottom"},{target:".create-course-btn",content:"Click here to create a new course.",placement:"bottom"},{target:".my-courses-section",content:"Manage all your courses from this section.",placement:"top"},{target:".earnings-link",content:"Track your earnings and payment history here.",placement:"left"},{target:".grading-link",content:"Grade student assignments and projects from this section.",placement:"left"},{target:".instructor-agreement",content:"Access your signed instructor agreement anytime.",placement:"top"}]),Md=e=>[{target:"body",title:e("studentDashboardTourWelcomeTitle"),content:e("studentDashboardTourWelcomeContent"),disableBeacon:!0,placement:"center"},{target:".card",title:e("studentDashboardTourCoursesTitle"),content:e("studentDashboardTourCoursesContent"),placement:"bottom",disableBeacon:!1},{target:".grid",title:e("studentDashboardTourCardsTitle"),content:e("studentDashboardTourCardsContent"),placement:"bottom",disableBeacon:!1},{target:'a[href="/student/payment-history"]',title:e("studentDashboardTourPaymentTitle"),content:e("studentDashboardTourPaymentContent"),placement:"top",disableBeacon:!1},{target:".max-w-7xl",title:e("studentDashboardTourDiscoverTitle"),content:e("studentDashboardTourDiscoverContent"),placement:"top",disableBeacon:!1},{target:".btn-primary",title:e("studentDashboardTourBrowseTitle"),content:e("studentDashboardTourBrowseContent"),placement:"top",disableBeacon:!1},{target:'nav a[href="/messages"]',title:e("studentDashboardTourMessagesTitle"),content:e("studentDashboardTourMessagesContent"),placement:"left",disableBeacon:!1}],Id=(Md(e=>e),e=>[{target:"body",title:e("achievementsTourWelcomeTitle"),content:e("achievementsTourWelcomeContent"),disableBeacon:!0,placement:"center"},{target:'[data-tour="achievements-header"]',title:e("achievementsTourHeaderTitle"),content:e("achievementsTourHeaderContent"),placement:"bottom",disableBeacon:!1},{target:'[data-tour="achievements-points-card"]',title:e("achievementsTourPointsTitle"),content:e("achievementsTourPointsContent"),placement:"bottom",disableBeacon:!1},{target:'[data-tour="achievements-activities"]',title:e("achievementsTourActivitiesTitle"),content:e("achievementsTourActivitiesContent"),placement:"top",disableBeacon:!1},{target:'[data-tour="achievements-badges"]',title:e("achievementsTourBadgesTitle"),content:e("achievementsTourBadgesContent"),placement:"top",disableBeacon:!1},{target:'[data-tour="achievements-rewards"]',title:e("achievementsTourMotivationTitle"),content:e("achievementsTourMotivationContent"),placement:"top",disableBeacon:!1}]),Bd=(Id(e=>e),()=>{const{user:e}=wr(),[t,r]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{if(e){localStorage.getItem("user_".concat(e.id||e._id,"_has_logged_in"))?r(!1):(r(!0),localStorage.setItem("user_".concat(e.id||e._id,"_has_logged_in"),"true"))}},[e]),t}),qd=(0,nr.A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),zd=(0,nr.A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Ud=(0,nr.A)("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]),Vd=e=>{var t,r;let{ratings:n,t:s}=e;const i=(0,a.useMemo)(()=>Array.isArray(n)?n:[],[n]),[o,l]=(0,a.useState)(0),[c,d]=(0,a.useState)(null);(0,a.useEffect)(()=>{if(i.length<=1)return;const e=setInterval(()=>{l(e=>(e+1)%i.length)},6e3);return()=>clearInterval(e)},[i.length]);const u=()=>{0!==i.length&&l(e=>(e-1+i.length)%i.length)},m=()=>{0!==i.length&&l(e=>(e+1)%i.length)};if(!i||0===i.length)return null;const h=(null===(t=document)||void 0===t||null===(r=t.documentElement)||void 0===r?void 0:r.dir)||"ltr",p="rtl"===h;return(0,xr.jsx)("section",{className:"py-16 bg-neutral-100 dark:bg-gray-800",dir:h,children:(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mb-12 text-center",children:[(0,xr.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-neutral-700 dark:text-white mb-4",children:s("whatOurStudentsSay")}),(0,xr.jsx)("p",{className:"text-lg text-neutral-500 dark:text-gray-400 max-w-2xl mx-auto",children:s("testimonialDescription")})]}),(0,xr.jsxs)("div",{className:"relative max-w-4xl mx-auto",onTouchStart:e=>{e.touches&&0!==e.touches.length&&d(e.touches[0].clientX)},onTouchEnd:e=>{var t;if(null===c)return;const r=(e.changedTouches&&(null===(t=e.changedTouches[0])||void 0===t?void 0:t.clientX)||c)-c;Math.abs(r)>40&&(p?r>0?m():u():r<0?m():u()),d(null)},children:[i.length>1&&(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)("button",{type:"button",onClick:p?m:u,className:"hidden sm:flex items-center justify-center w-9 h-9 rounded-full shadow-md bg-white/80 dark:bg-gray-900/80 text-gray-700 dark:text-gray-200 hover:bg-white dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-primary-500 absolute top-1/2 -translate-y-1/2 ".concat(p?"right-0 -mr-4":"left-0 -ml-4"),"aria-label":p?s("nextTestimonial")||"Next testimonial":s("previousTestimonial")||"Previous testimonial",children:p?(0,xr.jsx)(qd,{className:"w-5 h-5"}):(0,xr.jsx)(zd,{className:"w-5 h-5"})}),(0,xr.jsx)("button",{type:"button",onClick:p?u:m,className:"hidden sm:flex items-center justify-center w-9 h-9 rounded-full shadow-md bg-white/80 dark:bg-gray-900/80 text-gray-700 dark:text-gray-200 hover:bg-white dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-primary-500 absolute top-1/2 -translate-y-1/2 ".concat(p?"left-0 -ml-4":"right-0 -mr-4"),"aria-label":p?s("previousTestimonial")||"Previous testimonial":s("nextTestimonial")||"Next testimonial",children:p?(0,xr.jsx)(zd,{className:"w-5 h-5"}):(0,xr.jsx)(qd,{className:"w-5 h-5"})})]}),(0,xr.jsx)(tr.N,{initial:!1,custom:o,children:i.map((e,t)=>{var r,a,n,s;return t===o?(0,xr.jsxs)(rr.P.div,{custom:o,initial:{opacity:0,x:p?40:-40},animate:{opacity:1,x:0},exit:{opacity:0,x:p?-40:40},transition:{duration:.4},className:"card relative ".concat(p?"text-right":"text-left"),children:[(0,xr.jsx)(Ud,{className:"absolute top-4 ".concat(p?"left-4":"right-4"," w-8 h-8 text-primary-200 dark:text-primary-900 opacity-50")}),(0,xr.jsx)("div",{className:"flex items-center gap-1 mb-3 ".concat(p?"flex-row-reverse justify-end":"justify-start"),children:[...Array(5)].map((t,r)=>(0,xr.jsx)(cr,{className:"w-5 h-5 ".concat(r<e.rating?"text-yellow-400 fill-current":"text-gray-300 dark:text-gray-600")},r))}),(0,xr.jsxs)("p",{className:"text-neutral-600 dark:text-gray-300 mb-4 italic",children:['"',e.review,'"']}),(0,xr.jsxs)("div",{className:"flex items-center gap-3 ".concat(p?"text-right":"text-left"),children:[(0,xr.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary-100 dark:bg-primary-900 flex items-center justify-center text-primary-600 dark:text-primary-400 font-semibold",children:null===(r=e.student)||void 0===r||null===(a=r.name)||void 0===a?void 0:a.charAt(0).toUpperCase()}),(0,xr.jsxs)("div",{className:p?"text-right":"text-left",children:[(0,xr.jsx)("p",{className:"font-semibold text-neutral-700 dark:text-white",children:null===(n=e.student)||void 0===n?void 0:n.name}),(null===(s=e.course)||void 0===s?void 0:s.name)&&(0,xr.jsx)("p",{className:"text-sm text-neutral-500 dark:text-gray-400",children:e.course.name})]})]})]},e._id):null})}),i.length>1&&(0,xr.jsx)("div",{className:"mt-6 flex items-center justify-center gap-2 ".concat(p?"flex-row-reverse":""),children:i.map((e,t)=>(0,xr.jsx)("button",{type:"button",onClick:()=>l(t),className:"w-2.5 h-2.5 rounded-full transition-colors ".concat(t===o?"bg-primary-600 dark:bg-primary-400":"bg-gray-300 dark:bg-gray-600"),"aria-label":"Go to testimonial ".concat(t+1)},t))})]})]})})},Yd=()=>{const{t:e}=(0,ar.useTranslation)(),[t,r]=(0,a.useState)([]);(0,a.useEffect)(()=>{let e=!0;return(async()=>{try{var t,a;const n=await i.A.get("/api/admin/settings/public"),s=Array.isArray(null===n||void 0===n||null===(t=n.data)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.paymentProviders)?n.data.data.paymentProviders:[];e&&r(s)}catch(At){e&&r([])}})(),()=>{e=!1}},[]);const n=Array.isArray(t)&&t.length?t.map(e=>({name:e.name,src:e.imageUrl,fallback:"https://via.placeholder.com/200x100/4F46E5/white?text=Payment"})):[];return n.length?(0,xr.jsx)("section",{className:"py-20 bg-gray-50 dark:bg-gray-800",children:(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[(0,xr.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:e("paymentMethodsTitle")}),(0,xr.jsx)("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:e("choosePreferredPaymentMethod")})]}),(0,xr.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 md:gap-8",children:n.map((e,t)=>(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:.1*t},whileHover:{scale:1.03,y:-3},className:"bg-white dark:bg-gray-900 rounded-xl p-6 shadow-lg hover:shadow-2xl transition-all duration-300 cursor-pointer flex flex-col items-center group","aria-label":"Payment method: ".concat(e.name),children:[(0,xr.jsx)("div",{className:"w-full h-32 mb-4 rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-800 flex items-center justify-center shadow-inner",children:(0,xr.jsx)("img",{src:e.src,alt:e.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",loading:"lazy",referrerPolicy:"no-referrer",onError:t=>{t.currentTarget.dataset.fallbackApplied||(t.currentTarget.src=e.fallback,t.currentTarget.dataset.fallbackApplied="true")}})}),(0,xr.jsx)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white text-center group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors duration-300",children:e.name})]},e.name))})]})}):null},Wd=()=>{const{t:e}=(0,ar.useTranslation)(),{user:t,weakPassword:r}=wr(),n=te(),{courses:s,categories:o,featuredRatings:l,enrolledCourseIds:c,loading:d,refetch:u}=(Bd(),Ga(t)),[m,h]=(0,a.useState)(!0),[p,g]=(0,a.useState)(""),[x,f]=(0,a.useState)(""),[y,v]=(0,a.useState)(""),[b,w]=(0,a.useState)(!1),[j,k]=(0,a.useState)([]),[N,C]=(0,a.useState)(!1),[A,S]=(0,a.useState)(!1),[E,D]=(0,a.useState)([]),[P,T]=(0,a.useState)(!1);(0,a.useEffect)(()=>(Ha().init({duration:800,once:!0}),()=>Ha().refresh()),[]),(0,a.useEffect)(()=>{(async()=>{try{const e=await i.A.get("/api/levels");D(e.data.levels||[])}catch(e){console.error("Error fetching levels:",e)}})()},[]),(0,a.useEffect)(()=>{(async()=>{try{const e=await i.A.get("/api/admin/settings/public");e.data&&e.data.success&&e.data.data&&h(!1!==e.data.data.showHomepageRatings)}catch(qe){}})()},[]),(0,a.useEffect)(()=>{if(!u||!u.courses)return;const e=()=>{u.courses()};return window.addEventListener("courses:updated",e),()=>window.removeEventListener("courses:updated",e)},[u]);const _=(0,a.useCallback)(e=>{e.preventDefault();const t=document.getElementById("courses");t&&t.scrollIntoView({behavior:"smooth",block:"start"})},[]),R=(0,a.useCallback)(async()=>{if(p||x||y)try{w(!0);const e=new URLSearchParams;p&&e.append("q",p),x&&e.append("category",x),y&&e.append("level",y);const t="/api/courses/search?".concat(e.toString()),r=await i.A.get(t);k(r.data.courses||[]),C(!0)}catch(e){console.error("Search error:",e),k([])}finally{w(!1)}},[p,x,y]),O=(0,a.useCallback)(()=>{g(""),f(""),v(""),C(!1),k([])},[]),F=(0,a.useCallback)(()=>{S(e=>!e)},[]);(0,a.useEffect)(()=>{const e=new URLSearchParams(n.search),t=e.get("category")||"",r=e.get("level")||"",a=e.get("q")||"";(t||r||a)&&(f(t),v(r),g(a),C(!1),T(!0))},[n.search]),(0,a.useEffect)(()=>{if(!P)return;(async()=>{await R();const e=document.getElementById("courses");e&&e.scrollIntoView({behavior:"smooth",block:"start"}),T(!1)})()},[P,R]);const L=(0,a.useMemo)(()=>N?j:s,[s,j,N]);return(0,xr.jsx)(Qa,{children:(0,xr.jsxs)("div",{className:"min-h-screen",children:[r&&("admin"===(null===t||void 0===t?void 0:t.role)||"instructor"===(null===t||void 0===t?void 0:t.role))&&(0,xr.jsxs)("div",{className:"border-b border-yellow-100 dark:border-yellow-900/40 bg-yellow-50/60 dark:bg-yellow-950/40 text-yellow-900 dark:text-yellow-200 px-4 py-2 text-sm flex items-center justify-between",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,xr.jsx)("span",{className:"text-base",children:"\u26a0\ufe0f"}),(0,xr.jsx)("span",{children:"Your password is considered weak. For better security, please update it from your account settings."})]}),(0,xr.jsx)("a",{href:"/profile",className:"ml-4 inline-flex items-center px-3 py-1.5 rounded-md bg-yellow-600 text-white text-xs font-medium hover:bg-yellow-700",children:"Update"})]}),(0,xr.jsx)(tl,{steps:Od(e),tourKey:"home",showButton:!0}),(0,xr.jsx)(zc,{onScrollToCourses:_,user:t,t:e}),(0,xr.jsx)(td,{t:e}),(0,xr.jsx)(rd,{t:e}),(0,xr.jsx)(nd,{searchTerm:p,setSearchTerm:g,selectedCategory:x,setSelectedCategory:f,selectedLevel:y,setSelectedLevel:v,hasSearched:N,categories:o,levels:E,searching:b,onSearch:R,onClearSearch:O,t:e}),(0,xr.jsx)(Rd,{courses:L,loading:d||b,hasSearched:N,enrolledCourseIds:c,user:t,showAllCourses:A,onToggleShowAll:F,t:e}),m&&l&&l.length>0&&(0,xr.jsx)(Vd,{ratings:l,t:e}),(0,xr.jsx)(Yd,{})]})})},Hd=(0,nr.A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Gd=(0,nr.A)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Kd=(0,nr.A)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Qd=["_f"],$d=["name"],Xd=["_f"],Jd=["ref","message","type"],Zd=["formControl"];var eu=e=>"checkbox"===e.type,tu=e=>e instanceof Date,ru=e=>null==e;const au=e=>"object"===typeof e;var nu=e=>!ru(e)&&!Array.isArray(e)&&au(e)&&!tu(e),su=e=>nu(e)&&e.target?eu(e.target)?e.target.checked:e.target.value:e,iu=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),ou="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function lu(e){let t;const r=Array.isArray(e),a="undefined"!==typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else{if(ou&&(e instanceof Blob||a)||!r&&!nu(e))return e;if(t=r?[]:Object.create(Object.getPrototypeOf(e)),r||(e=>{const t=e.constructor&&e.constructor.prototype;return nu(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const r in e)e.hasOwnProperty(r)&&(t[r]=lu(e[r]));else t=e}return t}var cu=e=>/^\w*$/.test(e),du=e=>void 0===e,uu=e=>Array.isArray(e)?e.filter(Boolean):[],mu=e=>uu(e.replace(/["|']|\]/g,"").split(/\.|\[/)),hu=(e,t,r)=>{if(!t||!nu(e))return r;const a=(cu(t)?[t]:mu(t)).reduce((e,t)=>ru(e)?e:e[t],e);return du(a)||a===e?du(e[t])?r:e[t]:a},pu=e=>"boolean"===typeof e,gu=(e,t,r)=>{let a=-1;const n=cu(t)?[t]:mu(t),s=n.length,i=s-1;for(;++a<s;){const t=n[a];let s=r;if(a!==i){const r=e[t];s=nu(r)||Array.isArray(r)?r:isNaN(+n[a+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=s,e=e[t]}};const xu="blur",fu="focusout",yu="onBlur",vu="onChange",bu="onSubmit",wu="onTouched",ju="all",ku="max",Nu="min",Cu="maxLength",Au="minLength",Su="pattern",Eu="required",Du="validate",Pu=a.createContext(null);Pu.displayName="HookFormContext";var Tu=function(e,t,r){let a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const n={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(n,s,{get:()=>{const n=s;return t._proxyFormState[n]!==ju&&(t._proxyFormState[n]=!a||ju),r&&(r[n]=!0),e[n]}});return n};const _u="undefined"!==typeof window?a.useLayoutEffect:a.useEffect;var Ru=e=>"string"===typeof e,Ou=(e,t,r,a,n)=>Ru(e)?(a&&t.watch.add(e),hu(r,e,n)):Array.isArray(e)?e.map(e=>(a&&t.watch.add(e),hu(r,e))):(a&&(t.watchAll=!0),r),Fu=e=>ru(e)||!au(e);function Lu(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new WeakSet;if(Fu(e)||Fu(t))return e===t;if(tu(e)&&tu(t))return e.getTime()===t.getTime();const a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const s of a){const a=e[s];if(!n.includes(s))return!1;if("ref"!==s){const e=t[s];if(tu(a)&&tu(e)||nu(a)&&nu(e)||Array.isArray(a)&&Array.isArray(e)?!Lu(a,e,r):a!==e)return!1}}return!0}var Mu=(e,t,r,a,n)=>t?(0,Be.A)((0,Be.A)({},r[e]),{},{types:(0,Be.A)((0,Be.A)({},r[e]&&r[e].types?r[e].types:{}),{},{[a]:n||!0})}):{},Iu=e=>Array.isArray(e)?e:[e],Bu=()=>{let e=[];return{get observers(){return e},next:t=>{for(const r of e)r.next&&r.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}};function qu(e,t){const r={};for(const a in e)if(e.hasOwnProperty(a)){const n=e[a],s=t[a];if(n&&nu(n)&&s){const e=qu(n,s);nu(e)&&(r[a]=e)}else e[a]&&(r[a]=s)}return r}var zu=e=>nu(e)&&!Object.keys(e).length,Uu=e=>"file"===e.type,Vu=e=>"function"===typeof e,Yu=e=>{if(!ou)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Wu=e=>"select-multiple"===e.type,Hu=e=>"radio"===e.type,Gu=e=>Yu(e)&&e.isConnected;function Ku(e,t){const r=Array.isArray(t)?t:cu(t)?[t]:mu(t),a=1===r.length?e:function(e,t){const r=t.slice(0,-1).length;let a=0;for(;a<r;)e=du(e)?a++:e[t[a++]];return e}(e,r),n=r.length-1,s=r[n];return a&&delete a[s],0!==n&&(nu(a)&&zu(a)||Array.isArray(a)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!du(e[t]))return!1;return!0}(a))&&Ku(e,r.slice(0,-1)),e}function Qu(e){return Array.isArray(e)||nu(e)&&!(e=>{for(const t in e)if(Vu(e[t]))return!0;return!1})(e)}function $u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const r in e)Qu(e[r])?(t[r]=Array.isArray(e[r])?[]:{},$u(e[r],t[r])):du(e[r])||(t[r]=!0);return t}function Xu(e,t,r){r||(r=$u(t));for(const a in e)Qu(e[a])?du(t)||Fu(r[a])?r[a]=$u(e[a],Array.isArray(e[a])?[]:{}):Xu(e[a],ru(t)?{}:t[a],r[a]):r[a]=!Lu(e[a],t[a]);return r}const Ju={value:!1,isValid:!1},Zu={value:!0,isValid:!0};var em=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!du(e[0].attributes.value)?du(e[0].value)||""===e[0].value?Zu:{value:e[0].value,isValid:!0}:Zu:Ju}return Ju},tm=(e,t)=>{let{valueAsNumber:r,valueAsDate:a,setValueAs:n}=t;return du(e)?e:r?""===e?NaN:e?+e:e:a&&Ru(e)?new Date(e):n?n(e):e};const rm={isValid:!1,value:null};var am=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,rm):rm;function nm(e){const t=e.ref;return Uu(t)?t.files:Hu(t)?am(e.refs).value:Wu(t)?[...t.selectedOptions].map(e=>{let{value:t}=e;return t}):eu(t)?em(e.refs).value:tm(du(t.value)?e.ref.value:t.value,e)}var sm=e=>e instanceof RegExp,im=e=>du(e)?e:sm(e)?e.source:nu(e)?sm(e.value)?e.value.source:e.value:e,om=e=>({isOnSubmit:!e||e===bu,isOnBlur:e===yu,isOnChange:e===vu,isOnAll:e===ju,isOnTouch:e===wu});const lm="AsyncFunction";var cm=e=>!!e&&!!e.validate&&!!(Vu(e.validate)&&e.validate.constructor.name===lm||nu(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===lm)),dm=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));const um=(e,t,r,a)=>{for(const n of r||Object.keys(e)){const r=hu(e,n);if(r){const{_f:e}=r,s=(0,$a.A)(r,Qd);if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],n)&&!a)return!0;if(e.ref&&t(e.ref,e.name)&&!a)return!0;if(um(s,t))break}else if(nu(s)&&um(s,t))break}}};function mm(e,t,r){const a=hu(e,r);if(a||cu(r))return{error:a,name:r};const n=r.split(".");for(;n.length;){const a=n.join("."),s=hu(t,a),i=hu(e,a);if(s&&!Array.isArray(s)&&r!==a)return{name:r};if(i&&i.type)return{name:a,error:i};if(i&&i.root&&i.root.type)return{name:"".concat(a,".root"),error:i.root};n.pop()}return{name:r}}var hm=(e,t,r)=>{const a=Iu(hu(e,r));return gu(a,"root",t[r]),gu(e,r,a),e};function pm(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(Ru(e)||Array.isArray(e)&&e.every(Ru)||pu(e)&&!e)return{type:r,message:Ru(e)?e:"",ref:t}}var gm=e=>nu(e)&&!sm(e)?e:{value:e,message:""},xm=async(e,t,r,a,n,s)=>{const{ref:i,refs:o,required:l,maxLength:c,minLength:d,min:u,max:m,pattern:h,validate:p,name:g,valueAsNumber:x,mount:f}=e._f,y=hu(r,g);if(!f||t.has(g))return{};const v=o?o[0]:i,b=e=>{n&&v.reportValidity&&(v.setCustomValidity(pu(e)?"":e||""),v.reportValidity())},w={},j=Hu(i),k=eu(i),N=j||k,C=(x||Uu(i))&&du(i.value)&&du(y)||Yu(i)&&""===i.value||""===y||Array.isArray(y)&&!y.length,A=Mu.bind(null,g,a,w),S=function(e,t,r){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Cu,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Au;const s=e?t:r;w[g]=(0,Be.A)({type:e?a:n,message:s,ref:i},A(e?a:n,s))};if(s?!Array.isArray(y)||!y.length:l&&(!N&&(C||ru(y))||pu(y)&&!y||k&&!em(o).isValid||j&&!am(o).isValid)){const{value:e,message:t}=Ru(l)?{value:!!l,message:l}:gm(l);if(e&&(w[g]=(0,Be.A)({type:Eu,message:t,ref:v},A(Eu,t)),!a))return b(t),w}if(!C&&(!ru(u)||!ru(m))){let e,t;const r=gm(m),n=gm(u);if(ru(y)||isNaN(y)){const a=i.valueAsDate||new Date(y),s=e=>new Date((new Date).toDateString()+" "+e),o="time"==i.type,l="week"==i.type;Ru(r.value)&&y&&(e=o?s(y)>s(r.value):l?y>r.value:a>new Date(r.value)),Ru(n.value)&&y&&(t=o?s(y)<s(n.value):l?y<n.value:a<new Date(n.value))}else{const a=i.valueAsNumber||(y?+y:y);ru(r.value)||(e=a>r.value),ru(n.value)||(t=a<n.value)}if((e||t)&&(S(!!e,r.message,n.message,ku,Nu),!a))return b(w[g].message),w}if((c||d)&&!C&&(Ru(y)||s&&Array.isArray(y))){const e=gm(c),t=gm(d),r=!ru(e.value)&&y.length>+e.value,n=!ru(t.value)&&y.length<+t.value;if((r||n)&&(S(r,e.message,t.message),!a))return b(w[g].message),w}if(h&&!C&&Ru(y)){const{value:e,message:t}=gm(h);if(sm(e)&&!y.match(e)&&(w[g]=(0,Be.A)({type:Su,message:t,ref:i},A(Su,t)),!a))return b(t),w}if(p)if(Vu(p)){const e=pm(await p(y,r),v);if(e&&(w[g]=(0,Be.A)((0,Be.A)({},e),A(Du,e.message)),!a))return b(e.message),w}else if(nu(p)){let e={};for(const t in p){if(!zu(e)&&!a)break;const n=pm(await p[t](y,r),v,t);n&&(e=(0,Be.A)((0,Be.A)({},n),A(t,n.message)),b(n.message),a&&(w[g]=e))}if(!zu(e)&&(w[g]=(0,Be.A)({ref:v},e),!a))return w}return b(!0),w};const fm={mode:bu,reValidateMode:vu,shouldFocusError:!0};function ym(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,Be.A)((0,Be.A)({},fm),t),a={submitCount:0,isDirty:!1,isReady:!1,isLoading:Vu(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},n={},s=(nu(r.defaultValues)||nu(r.values))&&lu(r.defaultValues||r.values)||{},i=r.shouldUnregister?{}:lu(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let u=(0,Be.A)({},d);const m={array:Bu(),state:Bu()},h=r.criteriaMode===ju,p=async e=>{if(!r.disabled&&(d.isValid||u.isValid||e)){const e=r.resolver?zu((await v()).errors):await b(n,!0);e!==a.isValid&&m.state.next({isValid:e})}},g=(e,t)=>{!r.disabled&&(d.isValidating||d.validatingFields||u.isValidating||u.validatingFields)&&((e||Array.from(l.mount)).forEach(e=>{e&&(t?gu(a.validatingFields,e,t):Ku(a.validatingFields,e))}),m.state.next({validatingFields:a.validatingFields,isValidating:!zu(a.validatingFields)}))},x=(e,t,r,a)=>{const l=hu(n,e);if(l){const n=hu(i,e,du(r)?hu(s,e):r);du(n)||a&&a.defaultChecked||t?gu(i,e,t?n:nm(l._f)):k(e,n),o.mount&&p()}},f=(e,t,n,i,o)=>{let l=!1,c=!1;const h={name:e};if(!r.disabled){if(!n||i){(d.isDirty||u.isDirty)&&(c=a.isDirty,a.isDirty=h.isDirty=w(),l=c!==h.isDirty);const r=Lu(hu(s,e),t);c=!!hu(a.dirtyFields,e),r?Ku(a.dirtyFields,e):gu(a.dirtyFields,e,!0),h.dirtyFields=a.dirtyFields,l=l||(d.dirtyFields||u.dirtyFields)&&c!==!r}if(n){const t=hu(a.touchedFields,e);t||(gu(a.touchedFields,e,n),h.touchedFields=a.touchedFields,l=l||(d.touchedFields||u.touchedFields)&&t!==n)}l&&o&&m.state.next(h)}return l?h:{}},y=(t,n,s,i)=>{const o=hu(a.errors,t),l=(d.isValid||u.isValid)&&pu(n)&&a.isValid!==n;var h;if(r.delayError&&s?(h=()=>((e,t)=>{gu(a.errors,e,t),m.state.next({errors:a.errors})})(t,s),e=e=>{clearTimeout(c),c=setTimeout(h,e)},e(r.delayError)):(clearTimeout(c),e=null,s?gu(a.errors,t,s):Ku(a.errors,t)),(s?!Lu(o,s):o)||!zu(i)||l){const e=(0,Be.A)((0,Be.A)((0,Be.A)({},i),l&&pu(n)?{isValid:n}:{}),{},{errors:a.errors,name:t});a=(0,Be.A)((0,Be.A)({},a),e),m.state.next(e)}},v=async e=>{g(e,!0);const t=await r.resolver(i,r.context,((e,t,r,a)=>{const n={};for(const s of e){const e=hu(t,s);e&&gu(n,s,e._f)}return{criteriaMode:r,names:[...e],fields:n,shouldUseNativeValidation:a}})(e||l.mount,n,r.criteriaMode,r.shouldUseNativeValidation));return g(e),t},b=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{valid:!0};for(const s in e){const o=e[s];if(o){const{_f:e}=o,s=(0,$a.A)(o,Xd);if(e){const s=l.array.has(e.name),c=o._f&&cm(o._f);c&&d.validatingFields&&g([e.name],!0);const u=await xm(o,l.disabled,i,h,r.shouldUseNativeValidation&&!t,s);if(c&&d.validatingFields&&g([e.name]),u[e.name]&&(n.valid=!1,t))break;!t&&(hu(u,e.name)?s?hm(a.errors,u,e.name):gu(a.errors,e.name,u[e.name]):Ku(a.errors,e.name))}!zu(s)&&await b(s,t,n)}}return n.valid},w=(e,t)=>!r.disabled&&(e&&t&&gu(i,e,t),!Lu(D(),s)),j=(e,t,r)=>Ou(e,l,(0,Be.A)({},o.mount?i:du(t)?s:Ru(e)?{[e]:t}:t),r,t),k=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=hu(n,e);let s=t;if(a){const r=a._f;r&&(!r.disabled&&gu(i,e,tm(t,r)),s=Yu(r.ref)&&ru(t)?"":t,Wu(r.ref)?[...r.ref.options].forEach(e=>e.selected=s.includes(e.value)):r.refs?eu(r.ref)?r.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(s)?e.checked=!!s.find(t=>t===e.value):e.checked=s===e.value||!!s)}):r.refs.forEach(e=>e.checked=e.value===s):Uu(r.ref)?r.ref.value="":(r.ref.value=s,r.ref.type||m.state.next({name:e,values:lu(i)})))}(r.shouldDirty||r.shouldTouch)&&f(e,s,r.shouldTouch,r.shouldDirty,!0),r.shouldValidate&&E(e)},N=(e,t,r)=>{for(const a in t){if(!t.hasOwnProperty(a))return;const s=t[a],i=e+"."+a,o=hu(n,i);(l.array.has(e)||nu(s)||o&&!o._f)&&!tu(s)?N(i,s,r):k(i,s,r)}},C=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const c=hu(n,e),h=l.array.has(e),p=lu(t);gu(i,e,p),h?(m.array.next({name:e,values:lu(i)}),(d.isDirty||d.dirtyFields||u.isDirty||u.dirtyFields)&&r.shouldDirty&&m.state.next({name:e,dirtyFields:Xu(s,i),isDirty:w(e,p)})):!c||c._f||ru(p)?k(e,p,r):N(e,p,r),dm(e,l)&&m.state.next((0,Be.A)((0,Be.A)({},a),{},{name:e})),m.state.next({name:o.mount?e:void 0,values:lu(i)})},A=async t=>{o.mount=!0;const s=t.target;let c=s.name,x=!0;const w=hu(n,c),j=e=>{x=Number.isNaN(e)||tu(e)&&isNaN(e.getTime())||Lu(e,hu(i,c,e))},k=om(r.mode),N=om(r.reValidateMode);if(w){let o,A;const S=s.type?nm(w._f):su(t),D=t.type===xu||t.type===fu,P=!((C=w._f).mount&&(C.required||C.min||C.max||C.maxLength||C.minLength||C.pattern||C.validate))&&!r.resolver&&!hu(a.errors,c)&&!w._f.deps||((e,t,r,a,n)=>!n.isOnAll&&(!r&&n.isOnTouch?!(t||e):(r?a.isOnBlur:n.isOnBlur)?!e:!(r?a.isOnChange:n.isOnChange)||e))(D,hu(a.touchedFields,c),a.isSubmitted,N,k),T=dm(c,l,D);gu(i,c,S),D?s&&s.readOnly||(w._f.onBlur&&w._f.onBlur(t),e&&e(0)):w._f.onChange&&w._f.onChange(t);const _=f(c,S,D),R=!zu(_)||T;if(!D&&m.state.next({name:c,type:t.type,values:lu(i)}),P)return(d.isValid||u.isValid)&&("onBlur"===r.mode?D&&p():D||p()),R&&m.state.next((0,Be.A)({name:c},T?{}:_));if(!D&&T&&m.state.next((0,Be.A)({},a)),r.resolver){const{errors:e}=await v([c]);if(j(S),x){const t=mm(a.errors,n,c),r=mm(e,n,t.name||c);o=r.error,c=r.name,A=zu(e)}}else g([c],!0),o=(await xm(w,l.disabled,i,h,r.shouldUseNativeValidation))[c],g([c]),j(S),x&&(o?A=!1:(d.isValid||u.isValid)&&(A=await b(n,!0)));x&&(w._f.deps&&(!Array.isArray(w._f.deps)||w._f.deps.length>0)&&E(w._f.deps),y(c,A,o,_))}var C},S=(e,t)=>{if(hu(a.errors,t)&&e.focus)return e.focus(),1},E=async function(e){let t,s,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=Iu(e);if(r.resolver){const r=await(async e=>{const{errors:t}=await v(e);if(e)for(const r of e){const e=hu(t,r);e?gu(a.errors,r,e):Ku(a.errors,r)}else a.errors=t;return t})(du(e)?e:o);t=zu(r),s=e?!o.some(e=>hu(r,e)):t}else e?(s=(await Promise.all(o.map(async e=>{const t=hu(n,e);return await b(t&&t._f?{[e]:t}:t)}))).every(Boolean),(s||a.isValid)&&p()):s=t=await b(n);return m.state.next((0,Be.A)((0,Be.A)((0,Be.A)({},!Ru(e)||(d.isValid||u.isValid)&&t!==a.isValid?{}:{name:e}),r.resolver||!e?{isValid:t}:{}),{},{errors:a.errors})),i.shouldFocus&&!s&&um(n,S,e?o:l.mount),s},D=(e,t)=>{let r=(0,Be.A)({},o.mount?i:s);return t&&(r=qu(t.dirtyFields?a.dirtyFields:a.touchedFields,r)),du(e)?r:Ru(e)?hu(r,e):e.map(e=>hu(r,e))},P=(e,t)=>({invalid:!!hu((t||a).errors,e),isDirty:!!hu((t||a).dirtyFields,e),error:hu((t||a).errors,e),isValidating:!!hu(a.validatingFields,e),isTouched:!!hu((t||a).touchedFields,e)}),T=(e,t,r)=>{const s=(hu(n,e,{_f:{}})._f||{}).ref,i=hu(a.errors,e)||{},{ref:o,message:l,type:c}=i,d=(0,$a.A)(i,Jd);gu(a.errors,e,(0,Be.A)((0,Be.A)((0,Be.A)({},d),t),{},{ref:s})),m.state.next({name:e,errors:a.errors,isValid:!1}),r&&r.shouldFocus&&s&&s.focus&&s.focus()},_=e=>m.state.subscribe({next:t=>{var r,n,o;r=e.name,n=t.name,o=e.exact,r&&n&&r!==n&&!Iu(r).some(e=>e&&(o?e===n:e.startsWith(n)||n.startsWith(e)))||!((e,t,r,a)=>{r(e);const{name:n}=e,s=(0,$a.A)(e,$d);return zu(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(e=>t[e]===(!a||ju))})(t,e.formState||d,q,e.reRenderRoot)||e.callback((0,Be.A)((0,Be.A)((0,Be.A)({values:(0,Be.A)({},i)},a),t),{},{defaultValues:s}))}}).unsubscribe,R=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const o of e?Iu(e):l.mount)l.mount.delete(o),l.array.delete(o),t.keepValue||(Ku(n,o),Ku(i,o)),!t.keepError&&Ku(a.errors,o),!t.keepDirty&&Ku(a.dirtyFields,o),!t.keepTouched&&Ku(a.touchedFields,o),!t.keepIsValidating&&Ku(a.validatingFields,o),!r.shouldUnregister&&!t.keepDefaultValue&&Ku(s,o);m.state.next({values:lu(i)}),m.state.next((0,Be.A)((0,Be.A)({},a),t.keepDirty?{isDirty:w()}:{})),!t.keepIsValid&&p()},O=e=>{let{disabled:t,name:r}=e;(pu(t)&&o.mount||t||l.disabled.has(r))&&(t?l.disabled.add(r):l.disabled.delete(r))},F=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=hu(n,e);const i=pu(t.disabled)||pu(r.disabled);return gu(n,e,(0,Be.A)((0,Be.A)({},a||{}),{},{_f:(0,Be.A)((0,Be.A)({},a&&a._f?a._f:{ref:{name:e}}),{},{name:e,mount:!0},t)})),l.mount.add(e),a?O({disabled:pu(t.disabled)?t.disabled:r.disabled,name:e}):x(e,!0,t.value),(0,Be.A)((0,Be.A)((0,Be.A)({},i?{disabled:t.disabled||r.disabled}:{}),r.progressive?{required:!!t.required,min:im(t.min),max:im(t.max),minLength:im(t.minLength),maxLength:im(t.maxLength),pattern:im(t.pattern)}:{}),{},{name:e,onChange:A,onBlur:A,ref:i=>{if(i){F(e,t),a=hu(n,e);const r=du(i.value)&&i.querySelectorAll&&i.querySelectorAll("input,select,textarea")[0]||i,o=(e=>Hu(e)||eu(e))(r),l=a._f.refs||[];if(o?l.find(e=>e===r):r===a._f.ref)return;gu(n,e,{_f:(0,Be.A)((0,Be.A)({},a._f),o?{refs:[...l.filter(Gu),r,...Array.isArray(hu(s,e))?[{}]:[]],ref:{type:r.type,name:e}}:{ref:r})}),x(e,!1,void 0,r)}else a=hu(n,e,{}),a._f&&(a._f.mount=!1),(r.shouldUnregister||t.shouldUnregister)&&(!iu(l.array,e)||!o.action)&&l.unMount.add(e)}})},L=()=>r.shouldFocusError&&um(n,S,l.mount),M=(e,t)=>async s=>{let o;s&&(s.preventDefault&&s.preventDefault(),s.persist&&s.persist());let c=lu(i);if(m.state.next({isSubmitting:!0}),r.resolver){const{errors:e,values:t}=await v();a.errors=e,c=lu(t)}else await b(n);if(l.disabled.size)for(const e of l.disabled)Ku(c,e);if(Ku(a.errors,"root"),zu(a.errors)){m.state.next({errors:{}});try{await e(c,s)}catch(d){o=d}}else t&&await t((0,Be.A)({},a.errors),s),L(),setTimeout(L);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:zu(a.errors)&&!o,submitCount:a.submitCount+1,errors:a.errors}),o)throw o},I=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const c=e?lu(e):s,u=lu(c),h=zu(e),p=h?s:u;if(t.keepDefaultValues||(s=c),!t.keepValues){if(t.keepDirtyValues){const e=new Set([...l.mount,...Object.keys(Xu(s,i))]);for(const t of Array.from(e))hu(a.dirtyFields,t)?gu(p,t,hu(i,t)):C(t,hu(p,t))}else{if(ou&&du(e))for(const e of l.mount){const t=hu(n,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(Yu(e)){const t=e.closest("form");if(t){t.reset();break}}}}if(t.keepFieldsRef)for(const e of l.mount)C(e,hu(p,e));else n={}}i=r.shouldUnregister?t.keepDefaultValues?lu(s):{}:lu(p),m.array.next({values:(0,Be.A)({},p)}),m.state.next({values:(0,Be.A)({},p)})}l={mount:t.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!t.keepIsValid||!!t.keepDirtyValues,o.watch=!!r.shouldUnregister,m.state.next({submitCount:t.keepSubmitCount?a.submitCount:0,isDirty:!h&&(t.keepDirty?a.isDirty:!(!t.keepDefaultValues||Lu(e,s))),isSubmitted:!!t.keepIsSubmitted&&a.isSubmitted,dirtyFields:h?{}:t.keepDirtyValues?t.keepDefaultValues&&i?Xu(s,i):a.dirtyFields:t.keepDefaultValues&&e?Xu(s,e):t.keepDirty?a.dirtyFields:{},touchedFields:t.keepTouched?a.touchedFields:{},errors:t.keepErrors?a.errors:{},isSubmitSuccessful:!!t.keepIsSubmitSuccessful&&a.isSubmitSuccessful,isSubmitting:!1,defaultValues:s})},B=(e,t)=>I(Vu(e)?e(i):e,t),q=e=>{a=(0,Be.A)((0,Be.A)({},a),e)},z={control:{register:F,unregister:R,getFieldState:P,handleSubmit:M,setError:T,_subscribe:_,_runSchema:v,_focusError:L,_getWatch:j,_getDirty:w,_setValid:p,_setFieldArray:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0,h=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(c&&l&&!r.disabled){if(o.action=!0,p&&Array.isArray(hu(n,e))){const t=l(hu(n,e),c.argA,c.argB);h&&gu(n,e,t)}if(p&&Array.isArray(hu(a.errors,e))){const t=l(hu(a.errors,e),c.argA,c.argB);h&&gu(a.errors,e,t),((e,t)=>{!uu(hu(e,t)).length&&Ku(e,t)})(a.errors,e)}if((d.touchedFields||u.touchedFields)&&p&&Array.isArray(hu(a.touchedFields,e))){const t=l(hu(a.touchedFields,e),c.argA,c.argB);h&&gu(a.touchedFields,e,t)}(d.dirtyFields||u.dirtyFields)&&(a.dirtyFields=Xu(s,i)),m.state.next({name:e,isDirty:w(e,t),dirtyFields:a.dirtyFields,errors:a.errors,isValid:a.isValid})}else gu(i,e,t)},_setDisabledField:O,_setErrors:e=>{a.errors=e,m.state.next({errors:a.errors,isValid:!1})},_getFieldArray:e=>uu(hu(o.mount?i:s,e,r.shouldUnregister?hu(s,e,[]):[])),_reset:I,_resetDefaultValues:()=>Vu(r.defaultValues)&&r.defaultValues().then(e=>{B(e,r.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(const e of l.unMount){const t=hu(n,e);t&&(t._f.refs?t._f.refs.every(e=>!Gu(e)):!Gu(t._f.ref))&&R(e)}l.unMount=new Set},_disableForm:e=>{pu(e)&&(m.state.next({disabled:e}),um(n,(t,r)=>{const a=hu(n,r);a&&(t.disabled=a._f.disabled||e,Array.isArray(a._f.refs)&&a._f.refs.forEach(t=>{t.disabled=a._f.disabled||e}))},0,!1))},_subjects:m,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(e){o=e},get _defaultValues(){return s},get _names(){return l},set _names(e){l=e},get _formState(){return a},get _options(){return r},set _options(e){r=(0,Be.A)((0,Be.A)({},r),e)}},subscribe:e=>(o.mount=!0,u=(0,Be.A)((0,Be.A)({},u),e.formState),_((0,Be.A)((0,Be.A)({},e),{},{formState:u}))),trigger:E,register:F,handleSubmit:M,watch:(e,t)=>Vu(e)?m.state.subscribe({next:r=>"values"in r&&e(j(void 0,t),r)}):j(e,t,!0),setValue:C,getValues:D,reset:B,resetField:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};hu(n,e)&&(du(t.defaultValue)?C(e,lu(hu(s,e))):(C(e,t.defaultValue),gu(s,e,lu(t.defaultValue))),t.keepTouched||Ku(a.touchedFields,e),t.keepDirty||(Ku(a.dirtyFields,e),a.isDirty=t.defaultValue?w(e,lu(hu(s,e))):w()),t.keepError||(Ku(a.errors,e),d.isValid&&p()),m.state.next((0,Be.A)({},a)))},clearErrors:e=>{e&&Iu(e).forEach(e=>Ku(a.errors,e)),m.state.next({errors:e?a.errors:{}})},unregister:R,setError:T,setFocus:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=hu(n,e),a=r&&r._f;if(a){const e=a.refs?a.refs[0]:a.ref;e.focus&&(e.focus(),t.shouldSelect&&Vu(e.select)&&e.select())}},getFieldState:P};return(0,Be.A)((0,Be.A)({},z),{},{formControl:z})}function vm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=a.useRef(void 0),r=a.useRef(void 0),[n,s]=a.useState({isDirty:!1,isValidating:!1,isLoading:Vu(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Vu(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current=(0,Be.A)((0,Be.A)({},e.formControl),{},{formState:n}),e.defaultValues&&!Vu(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const r=ym(e),{formControl:a}=r,s=(0,$a.A)(r,Zd);t.current=(0,Be.A)((0,Be.A)({},s),{},{formState:n})}const i=t.current.control;return i._options=e,_u(()=>{const e=i._subscribe({formState:i._proxyFormState,callback:()=>s((0,Be.A)({},i._formState)),reRenderRoot:!0});return s(e=>(0,Be.A)((0,Be.A)({},e),{},{isReady:!0})),i._formState.isReady=!0,e},[i]),a.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),a.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),a.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),a.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),a.useEffect(()=>{if(i._proxyFormState.isDirty){const e=i._getDirty();e!==n.isDirty&&i._subjects.state.next({isDirty:e})}},[i,n.isDirty]),a.useEffect(()=>{e.values&&!Lu(e.values,r.current)?(i._reset(e.values,(0,Be.A)({keepFieldsRef:!0},i._options.resetOptions)),r.current=e.values,s(e=>(0,Be.A)({},e))):i._resetDefaultValues()},[i,e.values]),a.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next((0,Be.A)({},i._formState))),i._removeUnmounted()}),t.current.formState=Tu(n,i),t.current}const bm=()=>{const{t:e,i18n:t}=(0,ar.useTranslation)(),{login:r}=wr(),n=ae(),[s,i]=(0,a.useState)(!1),[o,l]=(0,a.useState)(!1),c=["ar","he","fa"].some(e=>(t.language||"").startsWith(e)),{register:d,handleSubmit:u,formState:{errors:m}}=vm();return(0,xr.jsx)(Qa,{children:(0,xr.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8 ".concat(c?"rtl":"ltr"),dir:c?"rtl":"ltr",children:(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-md w-full space-y-8",children:[(0,xr.jsxs)("div",{className:"text-center",children:[(0,xr.jsx)("div",{className:"flex justify-center",children:(0,xr.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-primary-600 to-primary-800 rounded-2xl flex items-center justify-center",children:(0,xr.jsx)("span",{className:"text-white font-bold text-2xl",children:"E"})})}),(0,xr.jsx)("h2",{className:"mt-6 text-3xl font-bold text-gray-900 dark:text-white",children:e("login")}),(0,xr.jsxs)("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:[e("dontHaveAccount")," ",(0,xr.jsx)(Oe,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-500 transition-colors duration-200",children:e("register")})]})]}),(0,xr.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:u(async e=>{l(!0);const t=await r(e.email,e.password);t.success&&(t.requires2FA?n("/login-2fa"):n("/")),l(!1)}),children:[(0,xr.jsxs)("div",{className:"space-y-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 ".concat(c?"text-right":"text-left"),children:e("email")}),(0,xr.jsxs)("div",{className:"relative",children:[(0,xr.jsx)("div",{className:"absolute inset-y-0 ".concat(c?"right-0 pr-3":"left-0 pl-3"," flex items-center pointer-events-none"),children:(0,xr.jsx)(ja,{className:"h-5 w-5 text-gray-400"})}),(0,xr.jsx)("input",(0,Be.A)((0,Be.A)({},d("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})),{},{type:"email",className:"input-field ".concat(c?"pr-10 text-right rtl":"pl-10 text-left ltr"),placeholder:e("enterYourEmail"),dir:c?"rtl":"ltr"}))]}),m.email&&(0,xr.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400 ".concat(c?"text-right":"text-left"),children:m.email.message})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 ".concat(c?"text-right":"text-left"),children:e("password")}),(0,xr.jsxs)("div",{className:"relative",children:[(0,xr.jsx)("div",{className:"absolute inset-y-0 ".concat(c?"right-0 pr-3":"left-0 pl-3"," flex items-center pointer-events-none"),children:(0,xr.jsx)(Hd,{className:"h-5 w-5 text-gray-400"})}),(0,xr.jsx)("input",(0,Be.A)((0,Be.A)({},d("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}})),{},{type:s?"text":"password",className:"input-field ".concat(c?"pr-10 pl-10 text-right rtl":"pl-10 pr-10 text-left ltr"),placeholder:e("enterYourPassword"),dir:c?"rtl":"ltr",onCopy:e=>e.preventDefault(),onPaste:e=>e.preventDefault()})),(0,xr.jsx)("button",{type:"button",className:"absolute inset-y-0 ".concat(c?"left-0 pl-3":"right-0 pr-3"," flex items-center"),onClick:()=>i(!s),children:s?(0,xr.jsx)(Gd,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):(0,xr.jsx)(Kd,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),m.password&&(0,xr.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400 ".concat(c?"text-right":"text-left"),children:m.password.message})]})]}),(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{className:"flex items-center",children:[(0,xr.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,xr.jsx)("label",{htmlFor:"remember-me",className:"".concat(c?"mr-2":"ml-2"," block text-sm text-gray-700 dark:text-gray-300"),children:e("rememberMe")})]}),(0,xr.jsx)("div",{className:"text-sm",children:(0,xr.jsx)(Oe,{to:"/forgot-password",className:"font-medium text-primary-600 hover:text-primary-500 transition-colors duration-200",children:e("forgotPassword")})})]}),(0,xr.jsx)("div",{children:(0,xr.jsx)("button",{type:"submit",disabled:o,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:o?(0,xr.jsxs)("div",{className:"flex items-center",children:[(0,xr.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e("loading"),"..."]}):e("login")})})]})]})})})},wm=e=>{let{value:t,onChange:r,length:n=6,disabled:s=!1,autoFocus:i=!1,className:o=""}=e;const l=a.useRef([]),c=a.useMemo(()=>{const e=String(t||"").replace(/\D/g,"").slice(0,n);return Array.from({length:n},(t,r)=>e[r]||"")},[t,n]),d=(e,t)=>{const a=c.join("").split("");for(;a.length<n;)a.push("");a[e]=t;const s=a.join("").replace(/\D/g,"").slice(0,n);r(s)},u=e=>{const t=l.current[e];if(t){t.focus();try{t.setSelectionRange(0,1)}catch(At){}}};return a.useEffect(()=>{i&&u(0)},[]),(0,xr.jsx)("div",{className:"flex items-center gap-2 ".concat(o).trim(),children:c.map((e,t)=>(0,xr.jsx)("input",{ref:e=>{l.current[t]=e},type:"text",inputMode:"numeric",pattern:"[0-9]*",autoComplete:0===t?"one-time-code":"off",disabled:s,value:e,onChange:e=>{const r=String(e.target.value||"").replace(/\D/g,"");if(!r)return void d(t,"");const a=r.slice(0,n-t).split("");let s=t;for(const t of a)if(d(s,t),s+=1,s>=n)break;s<n&&u(s)},onKeyDown:e=>{if("Backspace"===e.key){if(c[t])return void d(t,"");t>0&&(u(t-1),d(t-1,""))}"ArrowLeft"===e.key&&t>0&&(e.preventDefault(),u(t-1)),"ArrowRight"===e.key&&t<n-1&&(e.preventDefault(),u(t+1))},onPaste:e=>{var t,a;e.preventDefault();const s=(null===(t=e.clipboardData)||void 0===t?void 0:t.getData("text"))||(null===(a=window.clipboardData)||void 0===a?void 0:a.getData("text"))||"",i=String(s).replace(/\D/g,"").slice(0,n);if(!i)return;r(i);const o=Math.min(i.length,n-1);u(o)},className:"w-11 h-12 text-center text-xl font-semibold rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",maxLength:1},t))})},jm=()=>{const{submitTwoFactor:e}=wr(),t=ae(),[r,n]=(0,a.useState)(""),[s,i]=(0,a.useState)(!0),[o,l]=(0,a.useState)("This device"),[c,d]=(0,a.useState)(!1);return(0,xr.jsx)(Qa,{children:(0,xr.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:(0,xr.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,xr.jsxs)("div",{className:"text-center",children:[(0,xr.jsx)("div",{className:"flex justify-center",children:(0,xr.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-primary-600 to-primary-800 rounded-2xl flex items-center justify-center",children:(0,xr.jsx)("span",{className:"text-white font-bold text-2xl",children:"E"})})}),(0,xr.jsx)("h2",{className:"mt-6 text-3xl font-bold text-gray-900 dark:text-white",children:"Two-Factor Authentication"}),(0,xr.jsx)("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Enter the 6-digit code from your authenticator app"})]}),(0,xr.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:async a=>{a.preventDefault(),d(!0);const n=await e({code:r,rememberDevice:s,deviceName:o});d(!1),n.success&&t("/")},children:[(0,xr.jsxs)("div",{className:"space-y-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"6-digit code"}),(0,xr.jsx)(wm,{value:r,onChange:n,disabled:c,autoFocus:!0})]}),(0,xr.jsx)("div",{className:"flex items-center justify-between",children:(0,xr.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,xr.jsx)("input",{type:"checkbox",className:"h-4 w-4 text-primary-600",checked:s,onChange:e=>i(e.target.checked)}),(0,xr.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Remember this device for 30 days"})]})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Device name"}),(0,xr.jsx)("input",{type:"text",value:o,onChange:e=>l(e.target.value),className:"input-field",placeholder:"e.g., My Laptop"})]})]}),(0,xr.jsx)("div",{children:(0,xr.jsx)("button",{type:"submit",disabled:c||6!==r.length,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-primary-600 hover:bg-primary-700 focus:outline-none disabled:opacity-50",children:c?"Verifying\u2026":"Verify and Login"})})]})]})})})},km=(0,nr.A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Nm=(0,nr.A)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Cm=(0,nr.A)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),Am=()=>{const[e,t]=(0,a.useState)({isOpen:!1,eventType:null,message:null,userName:null,courseName:null,userRole:"student"}),r=(0,a.useCallback)(e=>{try{return!0===JSON.parse(localStorage.getItem("celebrations")||"{}")[e]}catch(t){return console.error("Error checking celebration status:",t),!1}},[]),n=(0,a.useCallback)(e=>{try{const t=JSON.parse(localStorage.getItem("celebrations")||"{}");t[e]=!0,localStorage.setItem("celebrations",JSON.stringify(t))}catch(t){console.error("Error marking celebration:",t)}},[]),s=(0,a.useCallback)(e=>{let{eventType:a,message:s,userName:i,courseName:o,userRole:l="student",eventKey:c=null,skipDuplicateCheck:d=!1}=e;!d&&c&&r(c)?console.log("Celebration already shown for: ".concat(c)):(t({isOpen:!0,eventType:a,message:s,userName:i,courseName:o,userRole:l}),c&&n(c))},[r,n]),i=(0,a.useCallback)(()=>{t(e=>(0,Be.A)((0,Be.A)({},e),{},{isOpen:!1}))},[]),o=(0,a.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{if(e){const t=JSON.parse(localStorage.getItem("celebrations")||"{}");delete t[e],localStorage.setItem("celebrations",JSON.stringify(t))}else localStorage.removeItem("celebrations")}catch(t){console.error("Error resetting celebrations:",t)}},[]);return{celebrationState:e,celebrate:s,closeCelebration:i,hasShownCelebration:r,resetCelebrations:o}},Sm=()=>{const{t:e,i18n:t}=(0,ar.useTranslation)(),{register:r}=wr(),n=ae(),[s,o]=(0,a.useState)(!1),{celebrationState:l,celebrate:c,closeCelebration:d}=Am(),[u,m]=(0,a.useState)(!1),[h,p]=(0,a.useState)(!1),[g,x]=(0,a.useState)({checkedEmail:"",isDisposable:!1}),f=(0,a.useRef)(null),y=["ar","he","fa"].some(e=>(t.language||"").startsWith(e)),{register:v,handleSubmit:b,watch:w,formState:{errors:j}}=vm(),k=w("password"),N=w("email");(0,a.useEffect)(()=>{f.current&&clearTimeout(f.current);const e=(N||"").trim();if(!e)return void x({checkedEmail:"",isDisposable:!1});if(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e))return f.current=setTimeout(async()=>{try{var t;if(e===g.checkedEmail)return;const r=!(null===(t=(await i.A.get("/api/auth/check-email-domain",{params:{email:e}})).data)||void 0===t||!t.isDisposable);x({checkedEmail:e,isDisposable:r}),r&&er.error("Temporary or disposable emails are not allowed. Please use a valid email address.")}catch(a){var r;console.error("Email domain check failed:",(null===a||void 0===a||null===(r=a.response)||void 0===r?void 0:r.data)||a.message)}},600),()=>{f.current&&clearTimeout(f.current)};x({checkedEmail:e,isDisposable:!1})},[N,g.checkedEmail]);return(0,xr.jsxs)(Qa,{children:[(0,xr.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8 ".concat(y?"rtl":"ltr"),dir:y?"rtl":"ltr",children:(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-md w-full space-y-8",children:[(0,xr.jsxs)("div",{className:"text-center",children:[(0,xr.jsx)("div",{className:"flex justify-center",children:(0,xr.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-primary-600 to-primary-800 rounded-2xl flex items-center justify-center",children:(0,xr.jsx)("span",{className:"text-white font-bold text-2xl",children:"E"})})}),(0,xr.jsx)("h2",{className:"mt-6 text-3xl font-bold text-gray-900 dark:text-white",children:e("register")}),(0,xr.jsxs)("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:[e("alreadyHaveAccount")," ",(0,xr.jsx)(Oe,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500 transition-colors duration-200",children:e("login")})]})]}),(0,xr.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:b(async e=>{if(p(!0),g.isDisposable&&g.checkedEmail===(e.email||"").trim())return er.error("Temporary or disposable emails are not allowed. Please use a valid email address."),void p(!1);e.role="student";(await r(e)).success&&(c({eventType:"signup",userName:e.name,userRole:"student",eventKey:"user_signup_".concat(e.email)}),n("/verify-email")),p(!1)}),children:[(0,xr.jsxs)("div",{className:"space-y-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 ".concat(y?"text-right":"text-left"),children:e("name")}),(0,xr.jsxs)("div",{className:"relative",children:[(0,xr.jsx)("div",{className:"absolute inset-y-0 ".concat(y?"right-0 pr-3":"left-0 pl-3"," flex items-center pointer-events-none"),children:(0,xr.jsx)(dr,{className:"h-5 w-5 text-gray-400"})}),(0,xr.jsx)("input",(0,Be.A)((0,Be.A)({},v("name",{required:"Name is required",minLength:{value:2,message:"Name must be at least 2 characters"}})),{},{type:"text",className:"input-field ".concat(y?"pr-10 text-right rtl":"pl-10 text-left ltr"),placeholder:e("enterYourFullName"),dir:y?"rtl":"ltr"}))]}),j.name&&(0,xr.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400 ".concat(y?"text-right":"text-left"),children:j.name.message})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 ".concat(y?"text-right":"text-left"),children:e("email")}),(0,xr.jsxs)("div",{className:"relative",children:[(0,xr.jsx)("div",{className:"absolute inset-y-0 ".concat(y?"right-0 pr-3":"left-0 pl-3"," flex items-center pointer-events-none"),children:(0,xr.jsx)(ja,{className:"h-5 w-5 text-gray-400"})}),(0,xr.jsx)("input",(0,Be.A)((0,Be.A)({},v("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})),{},{type:"email",className:"input-field ".concat(y?"pr-10 text-right rtl":"pl-10 text-left ltr"),placeholder:e("enterYourEmail"),dir:y?"rtl":"ltr"}))]}),j.email&&(0,xr.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400 ".concat(y?"text-right":"text-left"),children:j.email.message})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 ".concat(y?"text-right":"text-left"),children:e("phone")}),(0,xr.jsxs)("div",{className:"relative",children:[(0,xr.jsx)("div",{className:"absolute inset-y-0 ".concat(y?"right-0 pr-3":"left-0 pl-3"," flex items-center pointer-events-none"),children:(0,xr.jsx)(km,{className:"h-5 w-5 text-gray-400"})}),(0,xr.jsx)("input",(0,Be.A)((0,Be.A)({},v("phone",{required:"Phone number is required",pattern:{value:/^09\d{8}$/,message:"Phone number must start with 09 and contain exactly 10 digits (e.g., 0912345678)"}})),{},{type:"tel",className:"input-field ".concat(y?"pr-10 text-right rtl":"pl-10 text-left ltr"),placeholder:"09XXXXXXXX",maxLength:"10",dir:y?"rtl":"ltr"}))]}),j.phone&&(0,xr.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400 ".concat(y?"text-right":"text-left"),children:j.phone.message})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 ".concat(y?"text-right":"text-left"),children:e("countryLabel")}),(0,xr.jsxs)("div",{className:"relative",children:[(0,xr.jsx)("div",{className:"absolute inset-y-0 ".concat(y?"right-0 pr-3":"left-0 pl-3"," flex items-center pointer-events-none"),children:(0,xr.jsx)(Nm,{className:"h-5 w-5 text-gray-400"})}),(0,xr.jsx)("input",(0,Be.A)((0,Be.A)({},v("country")),{},{type:"text",className:"input-field ".concat(y?"pr-10 text-right rtl":"pl-10 text-left ltr"),placeholder:e("enterYourCountry"),dir:y?"rtl":"ltr"}))]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 ".concat(y?"text-right":"text-left"),children:e("cityLabel")}),(0,xr.jsxs)("div",{className:"relative",children:[(0,xr.jsx)("div",{className:"absolute inset-y-0 ".concat(y?"right-0 pr-3":"left-0 pl-3"," flex items-center pointer-events-none"),children:(0,xr.jsx)(Nm,{className:"h-5 w-5 text-gray-400"})}),(0,xr.jsx)("input",(0,Be.A)((0,Be.A)({},v("city")),{},{type:"text",className:"input-field ".concat(y?"pr-10 text-right rtl":"pl-10 text-left ltr"),placeholder:e("enterYourCity"),dir:y?"rtl":"ltr"}))]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{htmlFor:"school",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 ".concat(y?"text-right":"text-left"),children:e("schoolLabel")}),(0,xr.jsxs)("div",{className:"relative",children:[(0,xr.jsx)("div",{className:"absolute inset-y-0 ".concat(y?"right-0 pr-3":"left-0 pl-3"," flex items-center pointer-events-none"),children:(0,xr.jsx)(Cm,{className:"h-5 w-5 text-gray-400"})}),(0,xr.jsx)("input",(0,Be.A)((0,Be.A)({},v("school")),{},{type:"text",className:"input-field ".concat(y?"pr-10 text-right rtl":"pl-10 text-left ltr"),placeholder:e("enterYourSchoolUniversity"),dir:y?"rtl":"ltr"}))]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 ".concat(y?"text-right":"text-left"),children:e("password")}),(0,xr.jsxs)("div",{className:"relative",children:[(0,xr.jsx)("div",{className:"absolute inset-y-0 ".concat(y?"right-0 pr-3":"left-0 pl-3"," flex items-center pointer-events-none"),children:(0,xr.jsx)(Hd,{className:"h-5 w-5 text-gray-400"})}),(0,xr.jsx)("input",(0,Be.A)((0,Be.A)({},v("password",{required:"Password is required",validate:e=>!e||e.length<8?"Password must be at least 8 characters":/[a-z]/.test(e)?/[A-Z]/.test(e)?/[0-9]/.test(e)?!!/[^A-Za-z0-9]/.test(e)||"Password must include at least one symbol":"Password must include at least one number":"Password must include at least one uppercase letter":"Password must include at least one lowercase letter"})),{},{type:s?"text":"password",className:"input-field ".concat(y?"pr-10 pl-10 text-right rtl":"pl-10 pr-10 text-left ltr"),placeholder:e("enterYourPassword"),dir:y?"rtl":"ltr",onCopy:e=>e.preventDefault(),onPaste:e=>e.preventDefault()})),(0,xr.jsx)("button",{type:"button",className:"absolute inset-y-0 ".concat(y?"left-0 pl-3":"right-0 pr-3"," flex items-center"),onClick:()=>o(!s),children:s?(0,xr.jsx)(Gd,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):(0,xr.jsx)(Kd,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),j.password&&(0,xr.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400 ".concat(y?"text-right":"text-left"),children:j.password.message})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 ".concat(y?"text-right":"text-left"),children:e("confirmPassword")}),(0,xr.jsxs)("div",{className:"relative",children:[(0,xr.jsx)("div",{className:"absolute inset-y-0 ".concat(y?"right-0 pr-3":"left-0 pl-3"," flex items-center pointer-events-none"),children:(0,xr.jsx)(Hd,{className:"h-5 w-5 text-gray-400"})}),(0,xr.jsx)("input",(0,Be.A)((0,Be.A)({},v("confirmPassword",{required:"Please confirm your password",validate:e=>e===k||"Passwords do not match"})),{},{type:u?"text":"password",className:"input-field ".concat(y?"pl-10 pr-10 text-right rtl":"pl-10 pr-10 text-left ltr"),placeholder:e("confirmPassword"),dir:y?"rtl":"ltr",onCopy:e=>e.preventDefault(),onPaste:e=>e.preventDefault()})),(0,xr.jsx)("button",{type:"button",className:"absolute inset-y-0 ".concat(y?"left-0 pl-3":"right-0 pr-3"," flex items-center"),onClick:()=>m(!u),children:u?(0,xr.jsx)(Gd,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):(0,xr.jsx)(Kd,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),j.confirmPassword&&(0,xr.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400 ".concat(y?"text-right":"text-left"),children:j.confirmPassword.message})]})]}),(0,xr.jsx)("div",{className:"space-y-3",children:(0,xr.jsxs)("div",{className:"flex items-start",children:[(0,xr.jsx)("input",(0,Be.A)((0,Be.A)({},v("agreeToTerms",{required:e("mustAgreeTerms")||"You must agree to the Terms of Service and Privacy Policy to continue"})),{},{type:"checkbox",className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500 mt-0.5"})),(0,xr.jsxs)("label",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed ".concat(y?"mr-2 text-right":"ml-2 text-left"),children:[e("iAgreeTo")," ",(0,xr.jsx)(Oe,{to:"/terms",target:"_blank",className:"text-primary-600 hover:text-primary-500 underline",children:e("termsOfService")})," ",e("andLabel")," ",(0,xr.jsx)(Oe,{to:"/privacy",target:"_blank",className:"text-primary-600 hover:text-primary-500 underline",children:e("privacyPolicy")})]})]})}),j.agreeToTerms&&(0,xr.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400 mt-1 ".concat(y?"text-right":"text-left"),children:j.agreeToTerms.message}),(0,xr.jsx)("div",{children:(0,xr.jsx)("button",{type:"submit",disabled:h,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:h?(0,xr.jsxs)("div",{className:"flex items-center",children:[(0,xr.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e("loading"),"..."]}):e("register")})})]}),(0,xr.jsx)(rr.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-6 p-4 bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 rounded-lg border border-indigo-200 dark:border-indigo-800",children:(0,xr.jsxs)("div",{className:"text-center",dir:y?"rtl":"ltr",children:[(0,xr.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-3",children:e("wantToTeach")}),(0,xr.jsx)(Oe,{to:"/register/instructor",className:"inline-flex items-center justify-center px-6 py-2.5 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-medium rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-all duration-200 shadow-md hover:shadow-lg",children:e("becomeInstructor")})]})})]})}),(0,xr.jsx)(Ma,(0,Be.A)({isOpen:l.isOpen,onClose:d},l))]})},Em=(0,nr.A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Dm=()=>{const{t:e}=(0,ar.useTranslation)(),t=ae(),[r,n]=(0,a.useState)(!1),{register:s,handleSubmit:o,formState:{errors:l}}=vm();return(0,xr.jsx)(Qa,{children:(0,xr.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-md w-full space-y-8",children:[(0,xr.jsxs)("div",{className:"text-center",children:[(0,xr.jsx)("div",{className:"flex justify-center",children:(0,xr.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-primary-600 to-primary-800 rounded-2xl flex items-center justify-center",children:(0,xr.jsx)("span",{className:"text-white font-bold text-2xl",children:"E"})})}),(0,xr.jsx)("h2",{className:"mt-6 text-3xl font-bold text-gray-900 dark:text-white",children:e("forgotPassword")}),(0,xr.jsx)("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Enter your email to receive a password reset OTP"})]}),(0,xr.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:o(async e=>{n(!0);try{const r=await i.A.post("/api/auth/forgot-password",{email:e.email});er.success(r.data.message||"OTP sent to your email"),t("/verify-otp",{state:{email:e.email}})}catch(s){var r,a;er.error((null===(r=s.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Failed to send OTP")}finally{n(!1)}}),children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("email")}),(0,xr.jsxs)("div",{className:"relative",children:[(0,xr.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,xr.jsx)(ja,{className:"h-5 w-5 text-gray-400"})}),(0,xr.jsx)("input",(0,Be.A)((0,Be.A)({},s("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})),{},{type:"email",className:"input-field pl-10",placeholder:"Enter your email"}))]}),l.email&&(0,xr.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:l.email.message})]}),(0,xr.jsx)("div",{children:(0,xr.jsx)("button",{type:"submit",disabled:r,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:r?(0,xr.jsxs)("div",{className:"flex items-center",children:[(0,xr.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending OTP..."]}):"Send OTP"})}),(0,xr.jsx)("div",{className:"flex items-center justify-between text-sm",children:(0,xr.jsxs)(Oe,{to:"/login",className:"flex items-center font-medium text-primary-600 hover:text-primary-500 transition-colors duration-200",children:[(0,xr.jsx)(Em,{className:"w-4 h-4 mr-1"}),"Back to ",e("login")]})})]})]})})})},Pm=(0,nr.A)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),Tm=(0,nr.A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),_m=()=>{var e;const{t:t}=(0,ar.useTranslation)(),r=ae(),n=te(),[s,o]=(0,a.useState)(!1),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(0),m=null===(e=n.state)||void 0===e?void 0:e.email;(0,a.useEffect)(()=>{m||r("/forgot-password")},[m,r]),(0,a.useEffect)(()=>{if(d>0){const e=setTimeout(()=>u(d-1),1e3);return()=>clearTimeout(e)}},[d]);const{register:h,handleSubmit:p,setValue:g,watch:x,formState:{errors:f}}=vm(),y=x("otp");return m?(0,xr.jsx)(Qa,{children:(0,xr.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-md w-full space-y-8",children:[(0,xr.jsxs)("div",{className:"text-center",children:[(0,xr.jsx)("div",{className:"flex justify-center",children:(0,xr.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-primary-600 to-primary-800 rounded-2xl flex items-center justify-center",children:(0,xr.jsx)(Pm,{className:"w-8 h-8 text-white"})})}),(0,xr.jsx)("h2",{className:"mt-6 text-3xl font-bold text-gray-900 dark:text-white",children:"Verify OTP"}),(0,xr.jsxs)("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:["Enter the 6-digit code sent to ",(0,xr.jsx)("strong",{children:m})]})]}),(0,xr.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:p(async e=>{o(!0);try{await i.A.post("/api/auth/verify-otp",{email:m,otp:e.otp}),er.success("OTP verified successfully"),r("/reset-password",{state:{email:m,otp:e.otp}})}catch(n){var t,a;er.error((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||"Invalid or expired OTP")}finally{o(!1)}}),children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{htmlFor:"otp",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"OTP Code"}),(0,xr.jsx)("input",(0,Be.A)({type:"hidden"},h("otp",{required:"OTP is required",pattern:{value:/^\d{6}$/,message:"OTP must be 6 digits"}}))),(0,xr.jsx)(wm,{value:y,onChange:e=>g("otp",e,{shouldValidate:!0}),disabled:s,autoFocus:!0,className:"justify-center"}),f.otp&&(0,xr.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:f.otp.message})]}),(0,xr.jsx)("div",{children:(0,xr.jsx)("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:s?(0,xr.jsxs)("div",{className:"flex items-center",children:[(0,xr.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Verifying..."]}):"Verify OTP"})}),(0,xr.jsxs)("div",{className:"text-center space-y-3",children:[(0,xr.jsxs)("button",{type:"button",onClick:async()=>{if(!(d>0)){c(!0);try{const e=await i.A.post("/api/auth/resend-reset-otp",{email:m});er.success(e.data.message||"New OTP sent to your email"),u(60)}catch(r){var e,t;er.error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to resend OTP")}finally{c(!1)}}},disabled:l||d>0,className:"inline-flex items-center text-sm font-medium text-primary-600 hover:text-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:[(0,xr.jsx)(Tm,{className:"w-4 h-4 mr-1 ".concat(l?"animate-spin":"")}),d>0?"Resend OTP in ".concat(d,"s"):"Resend OTP"]}),(0,xr.jsx)("div",{children:(0,xr.jsxs)(Oe,{to:"/forgot-password",className:"flex items-center justify-center text-sm font-medium text-gray-600 hover:text-gray-500 dark:text-gray-400 dark:hover:text-gray-300 transition-colors duration-200",children:[(0,xr.jsx)(Em,{className:"w-4 h-4 mr-1"}),"Back to forgot password"]})})]})]})]})})}):null},Rm=()=>{var e,t;const{t:r}=(0,ar.useTranslation)(),n=ae(),s=te(),[o,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(!1),h=null===(e=s.state)||void 0===e?void 0:e.email,p=null===(t=s.state)||void 0===t?void 0:t.otp;(0,a.useEffect)(()=>{h&&p||n("/forgot-password")},[h,p,n]);const{register:g,handleSubmit:x,watch:f,formState:{errors:y}}=vm(),v=f("password");return h&&p?(0,xr.jsx)(Qa,{children:(0,xr.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-md w-full space-y-8",children:[(0,xr.jsxs)("div",{className:"text-center",children:[(0,xr.jsx)("div",{className:"flex justify-center",children:(0,xr.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-primary-600 to-primary-800 rounded-2xl flex items-center justify-center",children:(0,xr.jsx)(Hd,{className:"w-8 h-8 text-white"})})}),(0,xr.jsx)("h2",{className:"mt-6 text-3xl font-bold text-gray-900 dark:text-white",children:"Reset Password"}),(0,xr.jsx)("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Enter your new password"})]}),(0,xr.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:x(async e=>{l(!0);try{await i.A.post("/api/auth/reset-password",{email:h,otp:p,password:e.password}),er.success("Password reset successfully! Please login with your new password."),n("/login")}catch(a){var t,r;er.error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to reset password")}finally{l(!1)}}),children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r("newPassword")}),(0,xr.jsxs)("div",{className:"relative",children:[(0,xr.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,xr.jsx)(Hd,{className:"h-5 w-5 text-gray-400"})}),(0,xr.jsx)("input",(0,Be.A)((0,Be.A)({},g("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}})),{},{type:c?"text":"password",className:"input-field pl-10 pr-10",placeholder:"Enter new password",onCopy:e=>e.preventDefault(),onPaste:e=>e.preventDefault()})),(0,xr.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>d(!c),children:c?(0,xr.jsx)(Gd,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):(0,xr.jsx)(Kd,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),y.password&&(0,xr.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:y.password.message})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r("confirmNewPassword")}),(0,xr.jsxs)("div",{className:"relative",children:[(0,xr.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,xr.jsx)(Hd,{className:"h-5 w-5 text-gray-400"})}),(0,xr.jsx)("input",(0,Be.A)((0,Be.A)({},g("confirmPassword",{required:"Please confirm your password",validate:e=>e===v||"Passwords do not match"})),{},{type:u?"text":"password",className:"input-field pl-10 pr-10",placeholder:"Confirm new password",onCopy:e=>e.preventDefault(),onPaste:e=>e.preventDefault()})),(0,xr.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>m(!u),children:u?(0,xr.jsx)(Gd,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):(0,xr.jsx)(Kd,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),y.confirmPassword&&(0,xr.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:y.confirmPassword.message})]}),(0,xr.jsx)("div",{children:(0,xr.jsx)("button",{type:"submit",disabled:o,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:o?(0,xr.jsxs)("div",{className:"flex items-center",children:[(0,xr.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Resetting..."]}):"Reset Password"})}),(0,xr.jsx)("div",{className:"text-center",children:(0,xr.jsxs)(Oe,{to:"/login",className:"flex items-center justify-center text-sm font-medium text-gray-600 hover:text-gray-500 dark:text-gray-400 dark:hover:text-gray-300 transition-colors duration-200",children:[(0,xr.jsx)(Em,{className:"w-4 h-4 mr-1"}),"Back to ",r("login")]})})]})]})})}):null},Om=(0,nr.A)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Fm=(0,nr.A)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Lm=(0,nr.A)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var Mm=r(4830);function Im(e,t){if(!t)return!1;if(!function(e){return!(!e||"student"!==e.role||!e.isSuspended&&"suspended"!==e.status)}(e))return!1;return!!(e&&e.restrictions?e.restrictions:{})[t]}function Bm(e,t){if(!t)return!1;if(!function(e){return!(!e||"instructor"!==e.role||!e.isSuspended&&"suspended"!==e.status)}(e))return!1;return!!(e&&e.restrictions?e.restrictions:{})[t]}const qm=()=>{var e;const{t:t}=(0,ar.useTranslation)(),{user:r}=wr(),n=ae(),s=Bd(),[o,l]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)([]),[h,p]=(0,a.useState)([]),[g,x]=(0,a.useState)(!0),[f,y]=(0,a.useState)(""),[v,b]=(0,a.useState)(""),[w,j]=(0,a.useState)(""),[k,N]=(0,a.useState)([]),[C,A]=(0,a.useState)(!1),[S,E]=(0,a.useState)(null),[D,P]=(0,a.useState)({}),[T,_]=(0,a.useState)(!1),[R,O]=(0,a.useState)(null),[F,L]=(0,a.useState)(0),[M,I]=(0,a.useState)(0),[B,q]=(0,a.useState)(""),[z,U]=(0,a.useState)({});(0,a.useEffect)(()=>{Im(r,"dashboardAccess")&&(Sd.error("Your account is suspended. You cannot access the student dashboard."),n("/"))},[r,n]);const V=async()=>{try{const e=localStorage.getItem("token"),t=await i.A.get("/api/certificates/my-requests",{headers:{Authorization:"Bearer ".concat(e)}});N(t.data.requests||[])}catch(e){console.error("Error fetching certificate requests:",e)}};(0,a.useEffect)(()=>{G(),V(),Y(),W(),H(),(async()=>{try{const e=localStorage.getItem("token"),t=await i.A.get("/api/certificates/my-eligibility",{headers:{Authorization:"Bearer ".concat(e)}}),r={};(t.data.enrolledCourses||[]).forEach(e=>{e&&e._id&&(r[e._id]={status:e.eligibilityStatus,details:e.eligibilityDetails})}),U(r)}catch(e){console.error("Error fetching certificate eligibility:",e)}})()},[]),(0,a.useEffect)(()=>{(async()=>{if(o.length>0){const t={};for(const r of o)try{const e=localStorage.getItem("token"),a=await i.A.get("/api/ratings/can-rate/".concat(r.course._id),{headers:{Authorization:"Bearer ".concat(e)}});t[r.course._id]=a.data.canRate}catch(e){console.error("Error checking rating eligibility:",e),t[r.course._id]=!1}P(t)}})()},[o]);const Y=async()=>{try{const e=await i.A.get("/api/categories");m(e.data.categories||[])}catch(e){console.error("Error fetching categories:",e)}},W=async()=>{try{const e=await i.A.get("/api/levels");p(e.data.levels||[])}catch(e){console.error("Error fetching levels:",e)}},H=async()=>{try{const e=localStorage.getItem("token"),t=await i.A.get("/api/gamification/my-stats",{headers:{Authorization:"Bearer ".concat(e)}});E(t.data.stats)}catch(e){console.error("Error fetching user stats:",e)}},G=async()=>{try{const[e,t]=await Promise.all([i.A.get("/api/courses/enrolled"),i.A.get("/api/courses")]),r=e.data.enrolledCourses||[];console.log("[Dashboard] Enrolled courses fetched:",r.length),r.forEach(e=>{var t,r;console.log("[Dashboard] Enrolled:",null===(t=e.course)||void 0===t?void 0:t.name,"ID:",String(null===(r=e.course)||void 0===r?void 0:r._id),"Status:",e.status)}),l(r),d(t.data.courses||[])}catch(t){var e;console.error("[Dashboard] Error fetching data:",(null===(e=t.response)||void 0===e?void 0:e.data)||t.message)}finally{x(!1)}},K=()=>{A(!0)},Q=c.filter(e=>{const t=o.some(t=>{if(!t.course||!e._id)return!1;return String(t.course._id)===String(e._id)});if(!C)return!t;const r=!f||e.name.toLowerCase().includes(f.toLowerCase())||e.description.toLowerCase().includes(f.toLowerCase()),a=!v||e.category===v,n=!w||e.level===w;return!t&&r&&a&&n}),$=e=>{switch(e){case"enrolled":case"approved":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"completed":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},X=e=>{switch(e){case"enrolled":case"approved":case"completed":return(0,xr.jsx)(Om,{className:"w-4 h-4"});default:return(0,xr.jsx)(Fm,{className:"w-4 h-4"})}};return g?(0,xr.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,xr.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8",children:[(0,xr.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:[t("welcomeTitle"),", ",null===r||void 0===r?void 0:r.name,"!"]}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:t("continueYourLearningJourney")})]}),(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[{title:t("enrolledCoursesCard"),value:o.filter(e=>"enrolled"===e.status).length,icon:(0,xr.jsx)(Ra,{className:"w-6 h-6"}),color:"bg-blue-500"},{title:t("completedCoursesCard"),value:o.filter(e=>"completed"===e.status).length,icon:(0,xr.jsx)(Om,{className:"w-6 h-6"}),color:"bg-green-500"},{title:t("inProgress"),value:o.filter(e=>"enrolled"===e.status&&(!e.overallGrade||e.overallGrade<100)).length,icon:(0,xr.jsx)(Jc,{className:"w-6 h-6"}),color:"bg-purple-500"},{title:t("totalProgress"),value:o.length>0?Math.round(o.reduce((e,t)=>e+(t.overallGrade||0),0)/o.length)+"%":"0%",icon:(0,xr.jsx)(Jc,{className:"w-6 h-6"}),color:"bg-purple-500"}].map((e,t)=>(0,xr.jsx)("div",{className:"card",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:e.title}),(0,xr.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.value})]}),(0,xr.jsx)("div",{className:"p-3 rounded-lg ".concat(e.color," text-white"),children:e.icon})]})},t))}),(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.15},className:"mb-8",children:(0,xr.jsx)(Oe,{to:"/student/payment-history",className:"block bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 rounded-lg shadow-lg p-6 transition-all duration-300 hover:shadow-xl",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,xr.jsx)("div",{className:"p-4 bg-white/20 rounded-lg backdrop-blur-sm",children:(0,xr.jsx)(Lm,{className:"w-8 h-8 text-white"})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h3",{className:"text-xl font-bold text-white mb-1",children:"Payment History"}),(0,xr.jsx)("p",{className:"text-indigo-100",children:"View all your course payments and receipts"})]})]}),(0,xr.jsx)(qc,{className:"w-6 h-6 text-white"})]})})}),(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mb-8",children:[(0,xr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:t("myCourses")}),0===o.length?(0,xr.jsxs)("div",{className:"card text-center py-12",children:[(0,xr.jsx)(Ra,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,xr.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:t("noCoursesYet")}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Start your learning journey by enrolling in a course"}),(0,xr.jsx)(Oe,{to:"/#courses",className:"btn-primary",children:t("startLearning")})]}):(0,xr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map((e,a)=>{var n;return(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1*a},className:"card hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300",children:[(0,xr.jsxs)("div",{className:"relative mb-4",children:[(0,xr.jsx)("div",{className:"w-full h-48 bg-gradient-to-br from-primary-100 to-primary-200 dark:from-primary-900 dark:to-primary-800 rounded-lg flex items-center justify-center",children:e.course.image?(0,xr.jsx)("img",{src:e.course.image,alt:e.course.name,className:"w-full h-full object-cover rounded-lg"}):(0,xr.jsx)(Ra,{className:"w-12 h-12 text-primary-600 dark:text-primary-400"})}),(0,xr.jsx)("div",{className:"absolute top-3 left-3",children:(0,xr.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium flex items-center space-x-1 ".concat($(e.status)),children:[X(e.status),(0,xr.jsx)("span",{className:"capitalize",children:e.status})]})})]}),(0,xr.jsxs)("div",{className:"space-y-3",children:[(0,xr.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:e.course.name}),(0,xr.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,xr.jsx)(Zc,{className:"w-4 h-4"}),(0,xr.jsxs)("span",{children:[e.course.duration," ",t("weeks")]})]}),(0,xr.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,xr.jsx)(Xc,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:(null===(n=e.group)||void 0===n?void 0:n.name)||"No Group"})]})]}),(0,xr.jsxs)("div",{className:"pt-2",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between text-sm mb-1",children:[(0,xr.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:t("progress")}),(0,xr.jsxs)("span",{className:"font-medium text-gray-900 dark:text-white",children:[Math.round(e.overallGrade||0),"%"]})]}),(0,xr.jsx)("div",{className:"relative bg-gray-200 dark:bg-gray-700 h-2 rounded-full overflow-hidden",children:(0,xr.jsx)("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(Math.round(e.overallGrade||0),"%")}})}),e.hasGrade&&(0,xr.jsxs)("div",{className:"mt-3 flex items-center justify-between text-sm",children:[(0,xr.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Overall Grade"}),(0,xr.jsxs)("span",{className:"font-medium ".concat(e.overallGrade>=70?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:[Math.round(e.overallGrade),"%"]})]})]}),(0,xr.jsxs)("div",{className:"pt-4 space-y-2",children:[Im(r,"continueCourses")?(0,xr.jsxs)("button",{disabled:!0,className:"btn-primary w-full flex items-center justify-center space-x-2 opacity-50 cursor-not-allowed",title:"Course access suspended",children:[(0,xr.jsx)(Mm.A,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:"Course Access Suspended"})]}):(0,xr.jsxs)(Oe,{to:"/student/course/".concat(e.course._id),className:"btn-primary w-full flex items-center justify-center space-x-2",children:[(0,xr.jsx)(Mm.A,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:"completed"===e.status?"View Course":t("continueCourse")})]}),(()=>{const t=e.course;if(!t)return!1;if(Im(r,"requestCertificate"))return!1;if(a=t._id,k.some(e=>{var t;return(null===(t=e.course)||void 0===t?void 0:t._id)===a&&("requested"===e.status||"issued"===e.status)}))return!1;var a;const n=z[e._id];if(!n)return!1;const{status:s,details:i}=n,o=t.certificateMode||"automatic";if(!(!1!==t.offersCertificate&&"disabled"!==o))return!1;if("manual_instructor"===o)return"CAN_REQUEST"===s;if("automatic"===o){const e="number"===typeof(null===i||void 0===i?void 0:i.passingGrade)?i.passingGrade:60,t="number"===typeof(null===i||void 0===i?void 0:i.overallGrade)?i.overallGrade:0,r="number"===typeof(null===i||void 0===i?void 0:i.completionPercentage)?i.completionPercentage:0;if(t>=e&&r>=100)return!0}return"AUTO_GRANT"===s||"CAN_REQUEST"===s})()&&(0,xr.jsxs)("button",{onClick:()=>{var t;return(async(e,t)=>{try{const r=localStorage.getItem("token");await i.A.post("/api/certificates/request",{courseId:e,groupId:t},{headers:{Authorization:"Bearer ".concat(r)}}),Sd.success("Certificate request submitted successfully!"),G(),V()}catch(n){var r,a;console.error("Error requesting certificate:",n),Sd.error((null===(r=n.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Failed to request certificate")}})(e.course._id,null===(t=e.group)||void 0===t?void 0:t._id)},className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:[(0,xr.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})}),(0,xr.jsx)("span",{children:"Request Certificate"})]}),(()=>{const r=e.course;if(!r)return null;const a=z[e._id];if(!a)return null;const{status:n,details:s}=a,i=r.certificateMode||"automatic";if(!(!1!==r.offersCertificate&&"disabled"!==i))return(0,xr.jsx)("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:t("certificateStatusCertificatesDisabled")});const o="GROUP_COMPLETED_AND_ELIGIBLE"===n&&"manual_instructor"===(null===s||void 0===s?void 0:s.certificateMode)&&!1===(null===s||void 0===s?void 0:s.instructorCertificateRelease),l="manual_instructor"===i?"certificateModeManualInstructor":"automatic"===i?"certificateModeAutomatic":"certificateModeDisabled",c="AUTO_GRANT"===n||"CAN_REQUEST"===n;return(0,xr.jsxs)("div",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 space-y-1",children:[(0,xr.jsxs)("p",{children:[t("certificateModeLabel"),": "," ",t(l)]}),(0,xr.jsxs)("p",{children:[t("certificateStatus"),": ",t(c?"certificateStatusEligible":o?"certificateStatusWaitingInstructor":"certificateStatusNotEligible")]})]})})(),D[e.course._id]&&(0,xr.jsxs)("button",{onClick:()=>{O(e),_(!0)},className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-yellow-500 text-white rounded-md hover:bg-yellow-600 transition-colors",children:[(0,xr.jsx)(cr,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:t("rateThisCourse")})]})]})]})]},e._id)})})]}),(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:[(0,xr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:t("discoverNewCourses")}),(0,xr.jsx)("div",{className:"card mb-6",children:(0,xr.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,xr.jsxs)("div",{className:"flex-1 relative",children:[(0,xr.jsx)(ad,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,xr.jsx)("input",{type:"text",placeholder:t("searchCoursesPlaceholder"),value:f,onChange:e=>y(e.target.value),onKeyPress:e=>"Enter"===e.key&&K(),className:"input-field pl-10"})]}),(0,xr.jsxs)("select",{value:v,onChange:e=>b(e.target.value),className:"input-field md:w-48",children:[(0,xr.jsx)("option",{value:"",children:t("category")}),u.map(e=>(0,xr.jsx)("option",{value:e.slug,children:e.name},e._id))]}),(0,xr.jsxs)("select",{value:w,onChange:e=>j(e.target.value),className:"input-field md:w-48",children:[(0,xr.jsx)("option",{value:"",children:t("level")}),h.map(e=>(0,xr.jsx)("option",{value:e.slug,children:e.name},e._id))]}),(0,xr.jsxs)("button",{onClick:K,className:"btn-primary flex items-center space-x-2 whitespace-nowrap",children:[(0,xr.jsx)(ad,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:t("search")})]}),C&&(0,xr.jsx)("button",{onClick:()=>{y(""),b(""),j(""),A(!1)},className:"btn-secondary flex items-center space-x-2 whitespace-nowrap",children:(0,xr.jsx)("span",{children:t("clear")})})]})}),C&&0===Q.length?(0,xr.jsx)("div",{className:"card",children:(0,xr.jsx)(_d,{message:t("noCoursesFound"),description:t("tryDifferentFilters")})}):(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Q.slice(0,6).map((e,a)=>{var n,s;return(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1*a},className:"card hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300",children:[(0,xr.jsxs)("div",{className:"relative mb-4",children:[(0,xr.jsx)("div",{className:"w-full h-48 bg-gradient-to-br from-primary-100 to-primary-200 dark:from-primary-900 dark:to-primary-800 rounded-lg flex items-center justify-center",children:e.image?(0,xr.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover rounded-lg"}):(0,xr.jsx)(Ra,{className:"w-12 h-12 text-primary-600 dark:text-primary-400"})}),(0,xr.jsx)("div",{className:"absolute top-3 left-3",children:(0,xr.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200",children:e.level})}),(0,xr.jsx)("div",{className:"absolute top-3 right-3",children:(0,xr.jsx)(Dd,{courseId:e._id})})]}),(0,xr.jsxs)("div",{className:"space-y-3",children:[(0,xr.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:e.name}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm line-clamp-2",children:e.description}),(0,xr.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,xr.jsx)(Zc,{className:"w-4 h-4"}),(0,xr.jsxs)("span",{children:[e.duration," ",t("weeks")]})]}),(0,xr.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,xr.jsx)(Xc,{className:"w-4 h-4"}),(0,xr.jsxs)("span",{children:[(null===(n=e.groups)||void 0===n?void 0:n.length)||0," groups"]})]})]}),(0,xr.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[(0,xr.jsx)(id,{course:e,showTimer:!0}),"suspended"===(null===r||void 0===r?void 0:r.status)&&null!==r&&void 0!==r&&null!==(s=r.restrictions)&&void 0!==s&&s.enrollNewCourses?(0,xr.jsxs)("button",{disabled:!0,className:"btn-primary flex items-center space-x-2 opacity-50 cursor-not-allowed",title:"Enrollment suspended",children:[(0,xr.jsx)("span",{children:t("registerForCourse")}),(0,xr.jsx)(qc,{className:"w-4 h-4"})]}):(0,xr.jsxs)(Oe,{to:"/student/course/".concat(e._id,"/enroll"),className:"btn-primary flex items-center space-x-2",children:[(0,xr.jsx)("span",{children:t("registerForCourse")}),(0,xr.jsx)(qc,{className:"w-4 h-4"})]})]})]})]},e._id)})}),Q.length>6&&(0,xr.jsx)("div",{className:"text-center mt-8",children:(0,xr.jsx)(Oe,{to:"/courses",className:"btn-outline text-lg px-8 py-3",children:t("allCourses")})})]})]})]}),T&&R&&(0,xr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full p-6",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,xr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t("rateCourse")}),(0,xr.jsx)("button",{onClick:()=>{_(!1),L(0),q("")},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:(0,xr.jsx)(pr.A,{className:"w-6 h-6"})})]}),(0,xr.jsxs)("div",{className:"mb-4",children:[(0,xr.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:[t("course"),": ",(0,xr.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:null===(e=R.course)||void 0===e?void 0:e.name})]}),(0,xr.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:t("feedbackHelpsOthers")})]}),(0,xr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),0!==F)try{const e=localStorage.getItem("token");await i.A.post("/api/ratings",{course:R.course._id,rating:F,review:B.trim()},{headers:{Authorization:"Bearer ".concat(e)}}),Sd.success("Thank you for your rating!"),_(!1),L(0),q(""),P(e=>(0,Be.A)((0,Be.A)({},e),{},{[R.course._id]:!1})),O(null)}catch(a){var t,r;console.error("Error submitting rating:",a),Sd.error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to submit rating")}else Sd.error("Please select a rating")},className:"space-y-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[t("rating")," *"]}),(0,xr.jsxs)("div",{className:"flex items-center space-x-2",children:[[1,2,3,4,5].map(e=>(0,xr.jsx)("button",{type:"button",onClick:()=>L(e),onMouseEnter:()=>I(e),onMouseLeave:()=>I(0),className:"focus:outline-none transition-transform hover:scale-110",children:(0,xr.jsx)(cr,{className:"w-8 h-8 ".concat(e<=(M||F)?"fill-yellow-400 text-yellow-400":"text-gray-300 dark:text-gray-600")})},e)),F>0&&(0,xr.jsxs)("span",{className:"ml-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:[F," ",t(1===F?"star":"stars")]})]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:t("yourReview")}),(0,xr.jsx)("textarea",{value:B,onChange:e=>q(e.target.value),rows:4,maxLength:1e3,placeholder:t("shareYourExperience"),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 resize-none"}),(0,xr.jsxs)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:[B.length,"/1000 ",t("characters")]})]}),(0,xr.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,xr.jsx)("button",{type:"button",onClick:()=>{_(!1),L(0),q("")},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:t("skipForNow")}),(0,xr.jsxs)("button",{type:"submit",disabled:0===F,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[(0,xr.jsx)(cr,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:t("submitRating")})]})]})]})]})}),(0,xr.jsx)(tl,{steps:Md(t),tourKey:"student_dashboard",autoStart:s,showButton:!0})]})},zm=(0,nr.A)("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),Um=(0,nr.A)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Vm=(0,nr.A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Ym=(0,nr.A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Wm=(0,nr.A)("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]),Hm=()=>{var e,t,r,n,s,o,l,c,d;const{t:u}=(0,ar.useTranslation)(),{user:m}=wr(),{id:h}=ne(),p=ae(),[g,x]=(0,a.useState)(null),[f,y]=(0,a.useState)(null),[v,b]=(0,a.useState)(!0),[w,j]=(0,a.useState)("lectures"),[k,N]=(0,a.useState)(null),[C,A]=(0,a.useState)(!0),[S,E]=(0,a.useState)(!1),[D,P]=(0,a.useState)(!1),[T,_]=(0,a.useState)(null),[R,O]=(0,a.useState)(null),F=(0,a.useCallback)(async()=>{try{var e;if(b(!0),A(!0),"suspended"===(null===m||void 0===m?void 0:m.status)&&null!==m&&void 0!==m&&null!==(e=m.restrictions)&&void 0!==e&&e.accessCoursePages)return er.error("Your account is suspended. You cannot access course pages."),void p("/student");const[t,r,a]=await Promise.all([i.A.get("/api/courses/".concat(h)),i.A.get("/api/courses/".concat(h,"/progress")),i.A.get("/api/courses/".concat(h,"/summary"))]);x(t.data.course),y(r.data.progress),N(a.data)}catch(a){var t,r;console.error("Error fetching course data:",a),er.error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to load course details")}finally{b(!1),A(!1)}},[h,m,p]);(0,a.useEffect)(()=>{F()},[F]),(0,a.useEffect)(()=>{p("/student/course/".concat(h,"/details"))},[h,p]);const L=async(e,t,r)=>{try{await i.A.put("/api/courses/".concat(h,"/progress"),(0,Be.A)({type:e,itemId:t},r)),F()}catch(a){console.error("Error updating progress:",a)}},M=(e,t)=>{var r,a,n;if(!f)return!1;switch(t){case"lecture":return(null===(r=f.lectures.find(t=>t.lecture===e))||void 0===r?void 0:r.completed)||!1;case"assignment":return(null===(a=f.assignments.find(t=>t.assignment===e))||void 0===a?void 0:a.submitted)||!1;case"project":return(null===(n=f.projects.find(t=>t.project===e))||void 0===n?void 0:n.submitted)||!1;default:return!1}},I=((null===k||void 0===k?void 0:k.sections)||[]).every(e=>{var t;return null===(t=e.access)||void 0===t?void 0:t.isUnlocked}),B=null!==(e=null===k||void 0===k?void 0:k.overallGrade)&&void 0!==e?e:null,q=e=>{let{courseSummary:t,onPay:r}=e},z=e=>{let{sections:t,onPay:r}=e},U=e=>{let{courseId:t,courseName:r,courseSummary:a,overallGrade:n}=e};return v||C?(0,xr.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):g?(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8",children:[(0,xr.jsxs)(Oe,{to:"/student",className:"inline-flex items-center space-x-2 text-primary-600 hover:text-primary-700 mb-4",children:[(0,xr.jsx)(Em,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:"Back to Dashboard"})]}),(0,xr.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:g.name}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:g.description})]}),(0,xr.jsx)("div",{className:"mt-4 md:mt-0",children:(0,xr.jsxs)("div",{className:"text-right",children:[(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Progress"}),(0,xr.jsxs)("p",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400",children:[(null===f||void 0===f||null===(t=f.overallProgress)||void 0===t?void 0:t.total)||0,"%"]})]})})]})]}),(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mb-8",children:(0,xr.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:(0,xr.jsx)("div",{className:"bg-primary-600 h-3 rounded-full transition-all duration-300",style:{width:"".concat((null===f||void 0===f||null===(r=f.overallProgress)||void 0===r?void 0:r.total)||0,"%")}})})}),(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mb-8",children:(0,xr.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700",children:(0,xr.jsx)("nav",{className:"-mb-px flex space-x-8",children:[{id:"lectures",name:u("lectures"),count:(null===(n=g.lectures)||void 0===n?void 0:n.length)||0},{id:"assignments",name:u("assignments"),count:(null===(s=g.assignments)||void 0===s?void 0:s.length)||0},{id:"projects",name:u("projects"),count:(null===(o=g.projects)||void 0===o?void 0:o.length)||0},{id:"certificate",name:u("certificate"),count:1}].map(e=>(0,xr.jsxs)("button",{onClick:()=>j(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat(w===e.id?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"),children:[e.name," (",e.count,")"]},e.id))})})}),(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"mb-6",children:(0,xr.jsx)(q,{courseSummary:k,onPay:e=>{O(e),_(null),E(!0)}})}),(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:["lectures"===w&&(0,xr.jsxs)("div",{className:"space-y-4",children:[(0,xr.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:u("lectures")}),I?0===(null===(l=g.lectures)||void 0===l?void 0:l.length)?(0,xr.jsxs)("div",{className:"card text-center py-12",children:[(0,xr.jsx)(zm,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"No lectures available yet"})]}):(0,xr.jsx)("div",{className:"space-y-4",children:g.lectures.map((e,t)=>{const r=M(e._id,"lecture");return(0,xr.jsx)("div",{className:"card",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,xr.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center ".concat(r?"bg-green-100 text-green-600 dark:bg-green-900 dark:text-green-400":"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400"),children:r?(0,xr.jsx)(Om,{className:"w-5 h-5"}):(0,xr.jsx)("span",{className:"font-medium",children:t+1})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.title}),(0,xr.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["video"===e.type?"Video":"PDF"," \u2022 ",e.duration||0," min"]})]})]}),(0,xr.jsx)("div",{className:"flex items-center space-x-2",children:"video"===e.type?(0,xr.jsxs)("button",{onClick:async()=>{try{L("lecture",e._id,{watched:!0,completed:!0});const t=((await i.A.get("/api/courses/enrolled")).data.enrolledCourses||[]).find(e=>e.course._id===h);null!==t&&void 0!==t&&t.group?p("/student/groups/".concat(t.group,"/sections?lecture=").concat(e._id)):p("/student/sections")}catch(t){console.error("Error navigating to video:",t),p("/student/sections")}},className:"btn-primary flex items-center space-x-2",children:[(0,xr.jsx)(Mm.A,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:u("watch")})]}):(0,xr.jsxs)("button",{onClick:()=>L("lecture",e._id,{watched:!0,completed:!0}),className:"btn-primary flex items-center space-x-2",children:[(0,xr.jsx)(Um,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:u("read")})]})})]})},e._id)})}):(0,xr.jsx)(z,{sections:(null===k||void 0===k?void 0:k.sections)||[],onPay:e=>{O(e),_(null),E(!0)}})]}),"assignments"===w&&(0,xr.jsxs)("div",{className:"space-y-4",children:[(0,xr.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:u("assignments")}),I?0===(null===(c=g.assignments)||void 0===c?void 0:c.length)?(0,xr.jsxs)("div",{className:"card text-center py-12",children:[(0,xr.jsx)(Um,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"No assignments available yet"})]}):(0,xr.jsx)("div",{className:"space-y-4",children:g.assignments.map((e,t)=>{const r=M(e._id,"assignment");return(0,xr.jsx)("div",{className:"card",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,xr.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center ".concat(r?"bg-green-100 text-green-600 dark:bg-green-900 dark:text-green-400":"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400"),children:r?(0,xr.jsx)(Om,{className:"w-5 h-5"}):(0,xr.jsx)("span",{className:"font-medium",children:t+1})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.title}),(0,xr.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Due: ",e.dueDate?new Date(e.dueDate).toLocaleDateString():"No due date"]})]})]}),(0,xr.jsxs)("div",{className:"flex items-center space-x-2",children:[e.fileUrl&&(0,xr.jsxs)("button",{className:"btn-secondary flex items-center space-x-2",children:[(0,xr.jsx)(Vm,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:"Download"})]}),(0,xr.jsxs)("button",{onClick:()=>L("assignment",e._id,{submitted:!0}),className:"btn-primary flex items-center space-x-2",children:[(0,xr.jsx)(Ym,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:r?"Resubmit":u("submit")})]})]})]})},e._id)})}):(0,xr.jsx)(z,{sections:(null===k||void 0===k?void 0:k.sections)||[],onPay:e=>{O(e),_(null),E(!0)}})]}),"projects"===w&&(0,xr.jsxs)("div",{className:"space-y-4",children:[(0,xr.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:u("projects")}),0===(null===(d=g.projects)||void 0===d?void 0:d.length)?(0,xr.jsxs)("div",{className:"card text-center py-12",children:[(0,xr.jsx)(Wm,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"No projects available yet"})]}):(0,xr.jsx)("div",{className:"space-y-4",children:g.projects.map((e,t)=>{var r,a;const n=M(e._id,"project");return(0,xr.jsx)("div",{className:"card",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,xr.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center ".concat(n?"bg-green-100 text-green-600 dark:bg-green-900 dark:text-green-400":"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400"),children:n?(0,xr.jsx)(Om,{className:"w-5 h-5"}):(0,xr.jsx)("span",{className:"font-medium",children:t+1})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.title}),(0,xr.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(null===(r=e.videos)||void 0===r?void 0:r.length)||0," videos \u2022 ",(null===(a=e.files)||void 0===a?void 0:a.length)||0," files"]})]})]}),(0,xr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,xr.jsxs)("button",{className:"btn-secondary flex items-center space-x-2",children:[(0,xr.jsx)(Mm.A,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:"View"})]}),(0,xr.jsxs)("button",{onClick:()=>L("project",e._id,{submitted:!0}),className:"btn-primary flex items-center space-x-2",children:[(0,xr.jsx)(Ym,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:n?"Resubmit":u("submit")})]})]})]})},e._id)})})]}),"certificate"===w&&(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"space-y-4",children:[(0,xr.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Certificate"}),(0,xr.jsx)(U,{courseId:h,courseName:g.name,courseSummary:k,overallGrade:B})]})]})]})}):(0,xr.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,xr.jsxs)("div",{className:"text-center",children:[(0,xr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Course not found"}),(0,xr.jsx)(Oe,{to:"/student",className:"btn-primary",children:"Back to Dashboard"})]})})};let Gm=null,Km=null;const Qm=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e||void 0===e||isNaN(e))return"0";const r=e/100,a=t||Gm||"SYP";if("SYP"===a)return"".concat(r.toLocaleString()," \xa3S");try{return new Intl.NumberFormat("en-US",{style:"currency",currency:a,minimumFractionDigits:0,maximumFractionDigits:2}).format(r)}catch(n){return"".concat(r.toLocaleString()," ").concat(a)}},$m=e=>Math.round(100*Number(e));const Xm=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";if(!e)return null;const r={lecture:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",assignment:"bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-800",project:"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800",quiz:"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800",default:"bg-indigo-50 dark:bg-indigo-900/20 border-indigo-200 dark:border-indigo-800"},a={lecture:"text-blue-900 dark:text-blue-100",assignment:"text-purple-900 dark:text-purple-100",project:"text-green-900 dark:text-green-100",quiz:"text-yellow-900 dark:text-yellow-100",default:"text-indigo-900 dark:text-indigo-100"},n=r[t]||r.default,s=a[t]||a.default,i=/(https?:\/\/[^\s]+)/g,o=e.split(i);return(0,xr.jsx)("div",{className:"p-4 rounded-lg border ".concat(n," ").concat(s),children:(0,xr.jsx)("div",{className:"text-sm font-medium leading-relaxed whitespace-pre-wrap",children:o.map((e,t)=>i.test(e)?(0,xr.jsx)("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 underline break-all font-semibold transition-colors",children:e},t):(0,xr.jsx)("span",{children:e},t))})})};var Jm=r(9176);const Zm=(0,nr.A)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),eh=(0,nr.A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),th=(0,nr.A)("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);var rh=r(1089),ah=r(9340),nh=r(8707),sh=r(1199),ih=r(5699),oh=r(3677),lh=r(9153),ch=r(292),dh=r(4574);let uh,mh=0,hh="idle",ph=null,gh=null,xh=!1,fh=!1,yh=!1;const vh=()=>{uh=null,mh=0,hh="idle";try{document.querySelectorAll("script[data-yt-iframe-api]").forEach(e=>e.remove())}catch(At){}},bh=e=>{let{youtubeVideoId:t,embedUrl:n,title:s,startupSplashMs:i=1e4,contentId:o,onComplete:l}=e;const{t:c,i18n:d}=(0,ar.useTranslation)(),[u,m]=(0,a.useState)(!1),[h,p]=(0,a.useState)(!1),[g,x]=(0,a.useState)(!1),[f,y]=(0,a.useState)(80),[v,b]=(0,a.useState)(0),[w,j]=(0,a.useState)(0),[k,N]=(0,a.useState)(1),[C,A]=(0,a.useState)(!1),[S,E]=(0,a.useState)(!1),[D,P]=(0,a.useState)("auto"),[T,_]=(0,a.useState)([]),[R,O]=(0,a.useState)(!1),[F,L]=(0,a.useState)(!1),[M,I]=(0,a.useState)(""),[B,q]=(0,a.useState)(!1),[z,U]=(0,a.useState)(!1),[V,Y]=(0,a.useState)(!1),[W,H]=(0,a.useState)(0),[G,K]=(0,a.useState)(!1),[Q,$]=(0,a.useState)(!1),[X,J]=(0,a.useState)(!1),[Z,ee]=(0,a.useState)(!1),[te,re]=(0,a.useState)(!1),[ae,ne]=(0,a.useState)(!1),[se,ie]=(0,a.useState)(!1),[oe,le]=(0,a.useState)(!1),[ce,de]=(0,a.useState)(!1),[ue,me]=(0,a.useState)(0),[he,pe]=(0,a.useState)(""),[ge,xe]=(0,a.useState)(!1),fe=(0,a.useRef)(null),ye=(0,a.useRef)(null),ve=(0,a.useRef)(null),be=(0,a.useRef)(null),we=(0,a.useRef)(null),je=(0,a.useRef)(!1),ke=(0,a.useRef)(!1),Ne=(0,a.useRef)(t||null),Ce=(0,a.useRef)(!1),Ae=(0,a.useRef)(null),Se=(0,a.useRef)(0),Ee=(0,a.useRef)(null),De=(0,a.useRef)(null),Pe=(0,a.useRef)(!1),Te=(0,a.useRef)(!1),_e=(0,a.useRef)(null),Re=(0,a.useRef)(null),Oe=(0,a.useRef)(!1),Fe=(0,a.useRef)(null),Le=(0,a.useRef)(null),Me=(0,a.useRef)(null),Ie=(0,a.useRef)(!1),Be=(0,a.useRef)(!1),ze=(0,a.useRef)(!1),Ue=(0,a.useRef)(null),Ve=(0,a.useRef)(null),Ye=(0,a.useRef)(!1),We=(0,a.useRef)(!0),He=(0,a.useRef)(!1),Ge=(0,a.useRef)(!1),Ke=(0,a.useRef)(80),Qe=(0,a.useRef)("auto"),$e=(0,a.useRef)(null),Xe=(0,a.useRef)(!1),Je=(0,a.useRef)(null),Ze=(0,a.useRef)(null),et=(0,a.useRef)(!1),tt=(0,a.useRef)(!1),rt=(0,a.useRef)(null),at=(0,a.useRef)(null),nt=(0,a.useRef)(!1),st=(0,a.useRef)(!1),it=(0,a.useRef)(0),ot=(0,a.useRef)(null),lt=(0,a.useRef)(0),ct=(0,a.useRef)(!1),dt=(0,a.useRef)(!1),ut=(0,a.useRef)(0),mt=(0,a.useRef)(!1),ht=(0,a.useRef)(0),pt=(0,a.useRef)(""),gt=(0,a.useRef)(null),xt=(0,a.useRef)(0),ft=(0,a.useMemo)(()=>{if(t)return t;if(!n)return null;try{const e=new URL(n,window.location.origin),t=e.searchParams.get("v");if(t)return t;const r=e.pathname||"",a=r.match(/\/embed\/([^/?#]+)/i);if(a&&a[1])return a[1];const s=r.match(/^\/([^/?#]+)$/);if(e.hostname.includes("youtu.be")&&s&&s[1])return s[1]}catch(At){}return null},[n,t]);(0,a.useEffect)(()=>{at.current=ft||null},[ft]),(0,a.useEffect)(()=>{nt.current=te},[te]),(0,a.useEffect)(()=>{st.current=ae},[ae]),(0,a.useEffect)(()=>{ct.current=se},[se]),(0,a.useEffect)(()=>{dt.current=oe},[oe]),(0,a.useEffect)(()=>{mt.current=ce},[ce]),(0,a.useEffect)(()=>{ut.current=ue},[ue]),(0,a.useEffect)(()=>{pt.current=he},[he]),(0,a.useEffect)(()=>{h||mt.current&&(mt.current=!1,de(!1))},[h]),(0,a.useEffect)(()=>{!(!h||!xh)&&!dt.current&&(le(!0),dt.current=!0)},[h]);const yt=(0,a.useMemo)(()=>({autoplay:0,controls:0,modestbranding:1,rel:0,fs:0,iv_load_policy:3,cc_load_policy:0,disablekb:1,playsinline:1,enablejsapi:1,origin:window.location.origin}),[]),vt="ar"===(null===d||void 0===d?void 0:d.language),bt=(0,a.useMemo)(()=>!0,[]),wt=(0,a.useMemo)(()=>M?"Network error, try again"===M?c("videoNetworkError"):"Timed out loading video player"===M?c("videoApiLoadTimeout"):"Failed to load video player"===M?c("videoApiLoadFailed"):M:"",[M,c]);(0,a.useEffect)(()=>{Qe.current=D},[D]),(0,a.useEffect)(()=>{Ge.current=g},[g]),(0,a.useEffect)(()=>{Ke.current=f},[f]),(0,a.useEffect)(()=>{Be.current=V},[V]);const jt=(0,a.useRef)(i);(0,a.useEffect)(()=>{jt.current=1e4},[]);const kt="eduflow_youtube_quality";(0,a.useEffect)(()=>{try{"auto"===localStorage.getItem(kt)&&P("auto")}catch(At){}},[]),(0,a.useEffect)(()=>{try{localStorage.setItem(kt,D)}catch(At){}},[D]);const Nt=(0,a.useCallback)(()=>{He.current||(He.current=!0,K(!0))},[]),Ct=(0,a.useCallback)(()=>{J(!0);try{const e=be.current;e&&(e.style.display="none")}catch(At){}},[]),St=(0,a.useCallback)(()=>{ph=null,xh=!1,fh=!1,yh=!1,Xe.current=!1,Je.current=null,et.current=!1,xe(!1),Ze.current&&(clearTimeout(Ze.current),Ze.current=null),J(!1);try{const e=be.current;e&&(e.style.display="")}catch(At){}p(!1),Te.current=!1,q(!1),Oe.current=!1,U(!1),Y(!1),Ie.current=!1,Be.current=!1,ze.current=!1,Ue.current=null,Ve.current=null,$(!1),K(!1),He.current=!1,Ye.current=!1,x(!1),y(80),b(0),j(0),re(!1),ne(!1),st.current=!1,ie(!1),ct.current=!1,le(!1),dt.current=!1,de(!1),mt.current=!1,me(0),ut.current=0,ht.current=0,pe(""),pt.current="";try{_([])}catch(At){}gt.current&&(clearTimeout(gt.current),gt.current=null),xt.current=0,N(1),P("auto"),Qe.current="auto",A(!1),E(!1),L(!1),Pe.current=!1,I(""),Ce.current=!1,Ae.current=null,De.current&&(clearTimeout(De.current),De.current=null),_e.current&&(clearTimeout(_e.current),_e.current=null),Fe.current&&(clearTimeout(Fe.current),Fe.current=null),Le.current&&(clearTimeout(Le.current),Le.current=null),Me.current&&(clearTimeout(Me.current),Me.current=null),ot.current&&(clearInterval(ot.current),ot.current=null)},[]),Et=(0,a.useCallback)(e=>{lt.current+=1;const t=lt.current;if(ot.current&&(clearInterval(ot.current),ot.current=null),!e)return ne(!1),st.current=!1,void(it.current=0);it.current=Date.now(),ne(!0),st.current=!0,ot.current=setInterval(()=>{if(lt.current!==t){try{clearInterval(ot.current)}catch(At){}return void(ot.current=null)}if(!ke.current)return;if(!nt.current)return;const e=Date.now()-(it.current||Date.now());let r=0;try{const e=ve.current;if(e&&e.getVideoLoadedFraction){const t=e.getVideoLoadedFraction();"number"!==typeof t||Number.isNaN(t)||(r=t)}}catch(At){}let a=0;try{const e=Se.current||0;e>0&&r>0&&(a=r*e)}catch(At){}if(a>=30||e>=15e3){ne(!1),st.current=!1;try{clearInterval(ot.current)}catch(At){}ot.current=null}},250)},[]),Dt=(0,a.useCallback)(e=>{const t=ve.current;if(e&&t&&ke.current){try{t.pauseVideo&&t.pauseVideo()}catch(At){}try{t.seekTo&&t.seekTo(0,!0)}catch(At){}try{t.cueVideoById&&t.cueVideoById(e)}catch(At){}Ae.current=e}},[]),Pt=(0,a.useCallback)(e=>{ee(!!e),tt.current=!!e,gh=e||null,Ne.current=e||null,St(),Et(e||null),Dt(e)},[Dt,St,Et]),Tt=(0,a.useCallback)(function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!Be.current)return;Le.current&&(clearTimeout(Le.current),Le.current=null),Me.current&&(clearTimeout(Me.current),Me.current=null),Be.current=!1,Y(!1),ze.current=!1,Ye.current=!1;const t=Ue.current;Ue.current=null;const r=Ve.current;Ve.current=null,fh=!0,yh=!0,ie(!0),ct.current=!0,ph=Ne.current||gh||at.current||null;const a=ve.current;if(a&&ke.current){try{a.seekTo&&a.seekTo(0,!0)}catch(At){}if(t){try{"number"===typeof t.volume&&a.setVolume&&a.setVolume(t.volume)}catch(At){}try{t.muted?a.mute&&a.mute():a.unMute&&a.unMute()}catch(At){}}if(e)try{a.playVideo&&a.playVideo()}catch(At){}}else Ce.current=!0;t&&(x(!!t.muted),"number"===typeof t.volume&&y(t.volume));try{r&&r()}catch(At){}},[]),_t=(0,a.useCallback)((e,t)=>{const r=Number(jt.current)||0,a=!(null===t||void 0===t||!t.force),n=!1!==(null===t||void 0===t?void 0:t.startPlaybackAfterSplash);if(Be.current)return;if(We.current=n,r<=0){Ie.current=!0,$(!1),Nt();const t=ve.current;if(n)if(t&&ke.current)try{t.playVideo&&t.playVideo()}catch(At){}else Ce.current=!0;try{e&&e()}catch(At){}return}if(!a&&Ie.current){Ie.current=!0,$(!1),Nt();const t=ve.current;if(t&&ke.current)try{t.playVideo&&t.playVideo()}catch(At){}else Ce.current=!0;try{e&&e()}catch(At){}return}$(!1),Nt(),Ve.current=e||null,ze.current=!1,Ye.current=!1,Le.current&&(clearTimeout(Le.current),Le.current=null),Me.current&&(clearTimeout(Me.current),Me.current=null);const s=ve.current;if(!Ue.current){let e=Ge.current,t=Ke.current;try{s&&s.isMuted&&(e=!!s.isMuted())}catch(At){}try{if(s&&s.getVolume){const e=s.getVolume();"number"===typeof e&&(t=e)}}catch(At){}Ue.current={muted:e,volume:t}}if(Ie.current=!0,Be.current=!0,Y(!0),s&&ke.current){try{s.pauseVideo&&s.pauseVideo()}catch(At){}try{s.seekTo&&s.seekTo(0,!0)}catch(At){}try{s.mute&&s.mute()}catch(At){}}Le.current=setTimeout(()=>{Ye.current=!0,Be.current&&(ke.current||Te.current)&&($(!1),Tt(We.current))},r),Me.current=setTimeout(()=>{if(Be.current){if(ke.current||Te.current)return $(!1),void Tt(We.current);$(!0),Tt(!1)}},12e3)},[Tt,Nt]),Rt=(0,a.useCallback)(e=>{const t=ve.current;if(!t||!ke.current)return null;try{const r=["tiny","small","medium","large","hd720","hd1080","hd1440"],a=t.getAvailableQualityLevels?t.getAvailableQualityLevels():[],n=(Array.isArray(a)?a:[]).filter(e=>r.includes(e));try{_(n)}catch(At){}if(!e||"auto"===e){try{t.setPlaybackQuality&&t.setPlaybackQuality("default")}catch(At){}try{t.setPlaybackQualityRange&&t.setPlaybackQualityRange("tiny","hd1440")}catch(At){}try{if(t.getPlaybackQuality){const e=t.getPlaybackQuality();"string"===typeof e&&e&&e!==pt.current&&(pt.current=e,pe(e))}}catch(At){}return"auto"}let s=e;if(n.length&&!n.includes(e)){const t=r.indexOf(e);let a=null,i=-1,o=null,l=999;for(const e of n){const n=r.indexOf(e);n<0||t>=0&&(n<=t&&n>i&&(a=e,i=n),n>=t&&n<l&&(o=e,l=n))}s=a||o||n[0]}try{t.setPlaybackQualityRange&&t.setPlaybackQualityRange(s,s)}catch(At){}try{t.setPlaybackQuality&&t.setPlaybackQuality(s)}catch(At){}try{if(t.getPlaybackQuality){const e=t.getPlaybackQuality();"string"===typeof e&&e&&e!==pt.current&&(pt.current=e,pe(e))}}catch(At){}try{if(e&&"auto"!==e&&t.getPlaybackQuality){const e=t.getPlaybackQuality();"string"===typeof e&&e&&e!==s&&r.includes(e)&&e!==pt.current&&(pt.current=e,pe(e))}}catch(At){}return s}catch(At){return null}},[]),Ot=(0,a.useCallback)(e=>{if(!e||"auto"===e)return"auto";const t=["tiny","small","medium","large","hd720","hd1080","hd1440"];let r=[];try{const e=ve.current;if(e&&e.getAvailableQualityLevels){const t=e.getAvailableQualityLevels();Array.isArray(t)&&(r=t)}}catch(At){}const a=(Array.isArray(r)&&r.length?r:Array.isArray(T)?T:[]).filter(e=>t.includes(e));if(!a.length)return e;if(a.includes(e))return e;const n=t.indexOf(e);if(n<0)return a[0];let s=null,i=-1,o=null,l=999;for(const c of a){const e=t.indexOf(c);e<0||(e<=n&&e>i&&(s=c,i=e),e>=n&&e<l&&(o=c,l=e))}return s||o||a[0]},[T]),Ft=(0,a.useCallback)(e=>{const t=ve.current;if(!t||!ke.current)return;gt.current&&(clearTimeout(gt.current),gt.current=null),xt.current+=1;const r=xt.current;let a=e;try{const t=Rt(e);"string"===typeof t&&t&&(a=t)}catch(At){}if(!e||"auto"===e)return void(xt.current=0);let n=null;try{n=t.getPlaybackQuality?t.getPlaybackQuality():null}catch(At){}if(n&&n===a)return void(xt.current=0);if(r>=8){if(xt.current=0,Xe.current){Xe.current=!1,Je.current=null;try{xe(!1)}catch(At){}Ze.current&&(clearTimeout(Ze.current),Ze.current=null);try{et.current&&t.playVideo&&(et.current=!1,t.playVideo())}catch(At){et.current=!1}}return}const s=Math.min(2e3,150+200*r);gt.current=setTimeout(()=>{Ft(Qe.current)},s)},[Rt]),Lt=(0,a.useCallback)(e=>{if(Xe.current)return;E(!1),A(!1),P(e),Ze.current&&(clearTimeout(Ze.current),Ze.current=null);let t=!1,r=e;try{const a=ve.current;if(e&&"auto"!==e&&a&&ke.current){r=Ot(e);try{a.getPlaybackQuality&&(t=a.getPlaybackQuality()===r)}catch(At){}}}catch(At){}if(e&&"auto"!==e&&!t){try{var a,n,s;const e=ve.current,t=null===(a=window)||void 0===a||null===(n=a.YT)||void 0===n||null===(s=n.PlayerState)||void 0===s?void 0:s.PLAYING,r=e&&e.getPlayerState?e.getPlayerState():null,i="number"===typeof t&&r===t||!!Te.current;et.current=!!i,i&&e&&e.pauseVideo&&e.pauseVideo()}catch(At){et.current=!1}Xe.current=!0,Je.current=r,xe(!0),Ze.current=setTimeout(()=>{Xe.current=!1,Je.current=null,xe(!1),Ze.current=null;try{const e=ve.current;et.current&&e&&ke.current&&e.playVideo&&(et.current=!1,e.playVideo())}catch(At){et.current=!1}},6e3)}else Xe.current=!1,Je.current=null,et.current=!1,xe(!1);Ft(e);const i=ve.current;if(i&&ke.current&&(!Ae.current||!at.current||Ae.current===at.current)&&!tt.current&&!Be.current)try{const e=i.getCurrentTime?i.getCurrentTime():null;"number"===typeof e&&i.seekTo&&i.seekTo(e,!0)}catch(At){}},[Ft,Ot]),Mt=(0,a.useCallback)(e=>({tiny:"144p",small:"240p",medium:"360p",large:"480p",hd720:"720p",hd1080:"1080p",hd1440:"1440p",auto:"Auto"}[e]||e),[]),It=(0,a.useMemo)(()=>{const e=Array.isArray(T)?T:[],t=new Set(e),r=["hd1440","hd1080","hd720","large","medium","small","tiny"].filter(e=>t.has(e));return["auto",...r]},[T]),Bt=(0,a.useMemo)(()=>{if(!D||"auto"===D)return"auto";const e=Array.isArray(T)?T:[];if(e.length&&e.includes(D))return D;if(he&&e.length&&e.includes(he))return he;if(e.length){const t=["hd1440","hd1080","hd720","large","medium","small","tiny"],r=new Set(e),a=t.find(e=>r.has(e));if(a)return a}return"auto"},[he,T,D]),qt=(0,a.useCallback)(e=>"auto"===e||(!Array.isArray(T)||0===T.length||T.includes(e)),[T]),zt=(0,a.useCallback)(()=>{if(!ft)return;I(""),L(!0),Pe.current=!0,gh=ft,Ne.current=ft,ph=null,xh=!1,fh=!1,yh=!1,J(!1);try{const e=be.current;e&&(e.style.display="")}catch(At){}$(!1),K(!1),He.current=!1,Ye.current=!1;const e=ve.current;if(!(!e||!ke.current||"Timed out loading video player"===M||"Failed to load video player"===M)&&e)try{try{e.pauseVideo&&e.pauseVideo()}catch(At){}try{e.seekTo&&e.seekTo(0,!0)}catch(At){}e.cueVideoById&&e.cueVideoById(ft),Ae.current=ft;try{setTimeout(()=>{Rt(Qe.current)},250)}catch(At){}try{setTimeout(()=>{const e=ve.current;if(!e||!ke.current)return;const t=e.getCurrentTime?e.getCurrentTime():null;"number"===typeof t&&e.seekTo&&e.seekTo(t,!0),Rt(Qe.current)},900)}catch(At){}return}catch(At){}try{e&&e.destroy&&e.destroy()}catch(At){}we.current&&(clearInterval(we.current),we.current=null),Ee.current&&(clearTimeout(Ee.current),Ee.current=null),De.current&&(clearTimeout(De.current),De.current=null),_e.current&&(clearTimeout(_e.current),_e.current=null),Fe.current&&(clearTimeout(Fe.current),Fe.current=null),Le.current&&(clearTimeout(Le.current),Le.current=null),Me.current&&(clearTimeout(Me.current),Me.current=null),Y(!1),Ie.current=!1,ze.current=!1,Ue.current=null,Ve.current=null,E(!1),ve.current=null,Ae.current=null,p(!1),Te.current=!1,q(!1),Oe.current=!1,U(!1),m(!1),ke.current=!1;try{vh()}catch(At){}H(e=>e+1)},[M,ft,Rt]);(0,a.useEffect)(()=>{je.current=!1,Pt(ft||null),De.current&&(clearTimeout(De.current),De.current=null),_e.current&&(clearTimeout(_e.current),_e.current=null),Fe.current&&(clearTimeout(Fe.current),Fe.current=null),Le.current&&(clearTimeout(Le.current),Le.current=null),Me.current&&(clearTimeout(Me.current),Me.current=null),ve.current||(m(!1),ke.current=!1)},[Pt,ft]),(0,a.useEffect)(()=>{Se.current=w},[w]),(0,a.useEffect)(()=>{Pe.current=F},[F]),(0,a.useEffect)(()=>{Q&&(u||h)&&$(!1)},[h,u,Q]),(0,a.useEffect)(()=>{Te.current=h},[h]),(0,a.useEffect)(()=>{Oe.current=B},[B]),(0,a.useEffect)(()=>{tt.current=Z},[Z]),(0,a.useEffect)(()=>{if(!ye.current)return;const e=ye.current,t=()=>{try{const t=e.querySelector("iframe");t&&t.classList.add("youtube-iframe")}catch(At){}};t();const r=new MutationObserver(()=>t());return r.observe(e,{childList:!0,subtree:!0}),()=>{try{r.disconnect()}catch(At){}}},[]);const Ut=(0,a.useCallback)(()=>{if(Te.current){U(!0);try{Fe.current&&clearTimeout(Fe.current),Fe.current=setTimeout(()=>{Te.current&&U(!1)},2e3)}catch(At){}}},[]),Vt=(0,a.useCallback)(e=>{console.error("Video player error:",e.data);p(!1),L(!1),I({2:"Invalid video ID",5:"HTML5 player error",100:"Video not found or private",101:"Video not allowed to be played in embedded players",150:"Video not allowed to be played in embedded players"}[e.data]||"Network error, try again"),_e.current&&(clearTimeout(_e.current),_e.current=null)},[]),Yt=async()=>{if(o&&!je.current){je.current=!0;try{const a=localStorage.getItem("token"),n=(await r.e(821).then(r.bind(r,8821))).default,s=await n.post("/api/content/".concat(o,"/watched"),{watchedDuration:w,totalDuration:w},{headers:{Authorization:"Bearer ".concat(a)}}),i=await n.post("/api/content/".concat(o,"/complete"),{},{headers:{Authorization:"Bearer ".concat(a)}});try{var e,t;const{fireGamificationEvents:a}=await Promise.resolve().then(r.bind(r,9176)),{showGamificationToast:n}=await Promise.resolve().then(r.bind(r,4e3)),o=null===s||void 0===s||null===(e=s.data)||void 0===e?void 0:e.gamification,l=null===i||void 0===i||null===(t=i.data)||void 0===t?void 0:t.gamification,c=()=>{const e=e=>e&&(e.pointsAwarded&&e.pointsAwarded>0||Array.isArray(e.awardedBadges)&&e.awardedBadges.length>0||!!e.assignedTitle||!!e.courseAward);return e(l)?l:e(o)?o:l||o||null},d=c();d?a(d):n("videoCompleted","\ud83c\udfac Video completed! Keep learning!")}catch(qe){console.error("[CustomYouTubePlayer] Error firing gamification events:",qe)}l&&l()}catch(a){console.error("Error marking video as complete:",a),je.current=!1}}},Wt=(0,a.useRef)(Yt);(0,a.useEffect)(()=>{Wt.current=Yt},[Yt]);const Ht=(0,a.useCallback)(e=>{var t;m(!0),ke.current=!0,I(""),L(!1),Pe.current=!1,Ee.current&&(clearTimeout(Ee.current),Ee.current=null),De.current&&(clearTimeout(De.current),De.current=null);try{const t=e.target.getDuration();j(t),re(!!(t&&t>0))}catch(At){}try{y(e.target.getVolume())}catch(At){}try{const t=e.target.getIframe?e.target.getIframe():null;if(t){t.setAttribute("tabIndex","-1");try{t.classList.add("youtube-iframe")}catch(At){}}}catch(At){}we.current&&clearInterval(we.current),we.current=setInterval(()=>{const e=ve.current;if(e){try{if(e.getPlaybackQuality){const t=e.getPlaybackQuality();if("string"===typeof t&&t&&t!==$e.current){$e.current=t,t!==pt.current&&(pt.current=t,pe(t));try{const r=Je.current;if(Xe.current&&r&&t===r){Xe.current=!1,Je.current=null,xe(!1),Ze.current&&(clearTimeout(Ze.current),Ze.current=null);try{et.current&&e.playVideo&&(et.current=!1,e.playVideo())}catch(At){et.current=!1}}}catch(At){}}}}catch(At){}try{if(e.getCurrentTime){const t=e.getCurrentTime();b(t);try{const t=e.getDuration?e.getDuration():0;t&&t>0&&(!Se.current||Se.current<=0)&&(j(t),re(!0))}catch(At){}if(xh&&!yh&&"number"===typeof t&&t>.25){try{e.seekTo&&e.seekTo(0,!0)}catch(At){}try{e.pauseVideo&&e.pauseVideo()}catch(At){}b(0)}}}catch(At){}try{const o=e.getPlayerState?e.getPlayerState():null;if(null===o||void 0===o)return;try{var t,r,a,n,s,i;const e=null===(t=window)||void 0===t||null===(r=t.YT)||void 0===r||null===(a=r.PlayerState)||void 0===a?void 0:a.PLAYING,l=null===(n=window)||void 0===n||null===(s=n.YT)||void 0===s||null===(i=s.PlayerState)||void 0===i?void 0:i.BUFFERING,c="number"===typeof e&&o===e&&xh&&!Be.current;if(c&&!Te.current&&(p(!0),Te.current=!0),c){try{const e=at.current;e&&(Ae.current=e)}catch(At){}try{tt.current&&(tt.current=!1,ee(!1))}catch(At){}}c&&!dt.current&&(le(!0),dt.current=!0),!c&&Te.current&&o!==l&&(p(!1),Te.current=!1),"number"!==typeof l||o!==l||Pe.current||(L(!0),Pe.current=!0),"number"===typeof l&&o!==l&&Pe.current&&c&&(L(!1),Pe.current=!1)}catch(At){}if(Re.current!==o)if(Re.current=o,1===o){if(!xh||Be.current){try{e.pauseVideo&&e.pauseVideo()}catch(At){}try{e.seekTo&&e.seekTo(0,!0)}catch(At){}return p(!1),Te.current=!1,U(!1),L(!1),void(Pe.current=!1)}try{rt.current=at.current}catch(At){}try{tt.current=!1,ee(!1)}catch(At){}p(!0),Te.current=!0,U(!0),L(!1),Pe.current=!1,I("");try{Fe.current&&clearTimeout(Fe.current),Fe.current=setTimeout(()=>{Te.current&&U(!1)},2e3)}catch(At){}De.current&&(clearTimeout(De.current),De.current=null)}else if(3===o)p(!1),Te.current=!1,U(!1),L(!0),Pe.current=!0,st.current||De.current||(De.current=setTimeout(()=>{!Pe.current||Te.current||st.current||(L(!1),Pe.current=!1,I("Network error, try again"))},15e3));else if(0===o){p(!1),Te.current=!1,U(!1),L(!1),Pe.current=!1,De.current&&(clearTimeout(De.current),De.current=null);try{const t=e.getDuration?e.getDuration():0;t&&t>0&&(j(t),b(t))}catch(At){}}else p(!1),Te.current=!1,U(!1),L(!1),Pe.current=!1,De.current&&(clearTimeout(De.current),De.current=null)}catch(At){}}},250);const r=Ne.current;if(r&&null!==e&&void 0!==e&&e.target)try{L(!1),Pe.current=!1;try{e.target.pauseVideo&&e.target.pauseVideo()}catch(At){}try{e.target.seekTo&&e.target.seekTo(0,!0)}catch(At){}try{e.target.cueVideoById&&e.target.cueVideoById(r)}catch(At){}Ae.current=r}catch(At){}if(Ce.current&&null!==e&&void 0!==e&&null!==(t=e.target)&&void 0!==t&&t.playVideo)if(xh&&fh){Ce.current=!1;try{if(Be.current){Ue.current||(Ue.current={muted:Ge.current,volume:Ke.current});try{e.target.mute&&e.target.mute()}catch(At){}}e.target.playVideo()}catch(At){}}else Ce.current=!1;try{Be.current&&Ye.current&&(ke.current||Te.current)&&($(!1),Tt(We.current))}catch(At){}},[]),Gt=(0,a.useCallback)(e=>{const t=e.data;if(t===window.YT.PlayerState.PLAYING&&!xh){try{var r;null!==e&&void 0!==e&&null!==(r=e.target)&&void 0!==r&&r.pauseVideo&&e.target.pauseVideo()}catch(At){}try{var a;null!==e&&void 0!==e&&null!==(a=e.target)&&void 0!==a&&a.seekTo&&e.target.seekTo(0,!0)}catch(At){}return p(!1),void(Te.current=!1)}if(t===window.YT.PlayerState.PLAYING&&Be.current){try{var n;null!==e&&void 0!==e&&null!==(n=e.target)&&void 0!==n&&n.pauseVideo&&e.target.pauseVideo()}catch(At){}try{var s;null!==e&&void 0!==e&&null!==(s=e.target)&&void 0!==s&&s.seekTo&&e.target.seekTo(0,!0)}catch(At){}return p(!1),void(Te.current=!1)}if(t!==window.YT.PlayerState.PLAYING&&t!==window.YT.PlayerState.PAUSED&&t!==window.YT.PlayerState.CUED&&t!==window.YT.PlayerState.UNSTARTED&&t!==window.YT.PlayerState.ENDED||De.current&&(clearTimeout(De.current),De.current=null),t===window.YT.PlayerState.PLAYING){_e.current&&(clearTimeout(_e.current),_e.current=null);try{rt.current=at.current}catch(At){}try{tt.current=!1,ee(!1)}catch(At){}try{setTimeout(()=>{Ft(Qe.current)},0)}catch(At){}}if(t===window.YT.PlayerState.PLAYING){try{$(!1)}catch(At){}p(!0),Te.current=!0;try{const e=at.current;e&&(Ae.current=e)}catch(At){}le(!0),dt.current=!0,L(!1),I(""),Pe.current=!1,U(!0);try{Fe.current&&clearTimeout(Fe.current),Fe.current=setTimeout(()=>{Te.current&&U(!1)},2e3)}catch(At){}we.current||(we.current=setInterval(()=>{const e=ve.current;if(e&&e.getCurrentTime)try{b(e.getCurrentTime())}catch(At){}},250));try{var i;const t=null!==e&&void 0!==e&&null!==(i=e.target)&&void 0!==i&&i.getDuration?e.target.getDuration():0;t&&t>0&&(j(t),re(!0))}catch(At){}try{Be.current&&Ye.current&&Tt(We.current)}catch(At){}}else if(t===window.YT.PlayerState.PAUSED){p(!1),Te.current=!1,U(!1),L(!1),Pe.current=!1;try{var o;const t=null!==e&&void 0!==e&&null!==(o=e.target)&&void 0!==o&&o.getDuration?e.target.getDuration():0;t&&t>0&&(j(t),re(!0))}catch(At){}}else if(t===window.YT.PlayerState.CUED){p(!1),Te.current=!1,U(!1),L(!1),Pe.current=!1;try{var l;const t=null!==e&&void 0!==e&&null!==(l=e.target)&&void 0!==l&&l.getDuration?e.target.getDuration():0;t&&t>0&&(j(t),re(!0))}catch(At){}re(!0);try{const e=at.current;tt.current&&e&&Ae.current===e&&(tt.current=!1,ee(!1))}catch(At){}}else if(t===window.YT.PlayerState.UNSTARTED)p(!1),Te.current=!1,U(!1),L(!1),Pe.current=!1;else if(t===window.YT.PlayerState.BUFFERING)L(!0),Pe.current=!0,De.current&&clearTimeout(De.current),st.current||(De.current=setTimeout(()=>{!Pe.current||Te.current||st.current||(L(!1),I("Network error, try again"))},15e3));else if(t===window.YT.PlayerState.ENDED){p(!1),Te.current=!1,U(!1),L(!1),q(!0),Oe.current=!0;try{var c;const t=null!==e&&void 0!==e&&null!==(c=e.target)&&void 0!==c&&c.getDuration?e.target.getDuration():0;if(t&&t>0){j(t),b(t);try{var d,u;const r=Math.max(t-.25,0);null!==e&&void 0!==e&&null!==(d=e.target)&&void 0!==d&&d.seekTo&&e.target.seekTo(r,!0),null!==e&&void 0!==e&&null!==(u=e.target)&&void 0!==u&&u.pauseVideo&&e.target.pauseVideo()}catch(At){}}else b(e=>Se.current&&Se.current>0?Se.current:e)}catch(At){b(e=>Se.current&&Se.current>0?Se.current:e)}Wt.current&&Wt.current()}},[Ft,Tt]);(0,a.useEffect)(()=>{Ne.current=ft||null;const e=ve.current;if(e&&ft&&ke.current&&Ae.current!==ft)try{I(""),L(!1),Pe.current=!1;try{e.pauseVideo&&e.pauseVideo()}catch(At){}try{e.seekTo&&e.seekTo(0,!0)}catch(At){}try{e.cueVideoById&&e.cueVideoById(ft)}catch(At){}Ae.current=ft}catch(At){}},[ft]),(0,a.useEffect)(()=>{let e=!1;return(async()=>{if(ft&&!ve.current&&ye.current){try{await(window.YT&&window.YT.Player?(hh="fulfilled",Promise.resolve(window.YT)):(uh&&"rejected"===hh&&vh(),uh&&"pending"===hh&&mh&&Date.now()-mh>12e3&&(uh=null,hh="idle",mh=0),uh||(uh=new Promise((e,t)=>{try{hh="pending",mh=Date.now();let r=!1;const a=()=>{r||window.YT&&window.YT.Player&&(r=!0,hh="fulfilled",e(window.YT))},n=e=>{r||(r=!0,hh="rejected",t(e))};if(!document.querySelector("script[data-yt-iframe-api]")){const e=document.createElement("script");e.src="https://www.youtube.com/iframe_api",e.dataset.ytIframeApi="true",e.onerror=()=>n(new Error("Failed to load video player"));const t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}const s=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{try{"function"===typeof s&&s()}finally{a()}};const i=Date.now(),o=setInterval(()=>{if(!r)return window.YT&&window.YT.Player?(clearInterval(o),void a()):void(Date.now()-i>2e4&&(clearInterval(o),n(new Error("Timed out loading video player"))));clearInterval(o)},50)}catch(qe){hh="rejected",t(qe)}}),uh)))}catch(qe){return console.error("Failed to load YouTube IFrame API:",qe),L(!1),Pe.current=!1,void I((null===qe||void 0===qe?void 0:qe.message)||"Network error, try again")}if(!e)try{ve.current=new window.YT.Player(ye.current,{host:"https://www.youtube-nocookie.com",videoId:ft,playerVars:yt,events:{onReady:Ht,onStateChange:Gt,onError:Vt}}),Ee.current&&clearTimeout(Ee.current),Ee.current=setTimeout(()=>{ke.current||(L(!1),I("Network error, try again"))},15e3)}catch(qe){console.error("Failed to initialize YouTube player:",qe),L(!1),Pe.current=!1,I((null===qe||void 0===qe?void 0:qe.message)||"Network error, try again")}}})(),()=>{e=!0}},[Vt,Ht,Gt,W,yt,ft]),(0,a.useEffect)(()=>()=>{if(we.current&&clearInterval(we.current),Ee.current&&clearTimeout(Ee.current),De.current&&clearTimeout(De.current),_e.current&&clearTimeout(_e.current),Fe.current&&clearTimeout(Fe.current),Le.current&&clearTimeout(Le.current),Me.current&&clearTimeout(Me.current),gt.current&&clearTimeout(gt.current),Ze.current&&clearTimeout(Ze.current),ot.current&&clearInterval(ot.current),ve.current&&ve.current.destroy)try{ve.current.destroy()}catch(At){}ve.current=null,ke.current=!1},[]);const Kt=(0,a.useCallback)(()=>{if(!xh)return;if(st.current)return;if(Xe.current)return;const e=ve.current;if(e&&ke.current)if(h)_e.current&&(clearTimeout(_e.current),_e.current=null),e.pauseVideo&&e.pauseVideo(),L(!1),Pe.current=!1;else{if(I(""),Nt(),Oe.current){Oe.current=!1,q(!1);try{e.seekTo&&e.seekTo(0,!0)}catch(At){}b(0)}L(!0),Pe.current=!0,_e.current&&clearTimeout(_e.current),_e.current=setTimeout(()=>{Te.current||(L(!1),Pe.current=!1)},2500),e.playVideo&&e.playVideo()}},[Nt,h]),Qt=(0,a.useCallback)(()=>{if(xh)return;if(st.current)return;gh=at.current||Ne.current||gh||null,Ne.current=gh,xh=!0,Ct();const e=ve.current;if(Nt(),!bt||Ie.current)if(fh=!0,yh=!0,ie(!0),ct.current=!0,e&&ke.current)try{e.playVideo&&e.playVideo()}catch(At){}else Ce.current=!0;else _t()},[Nt,Ct,bt,_t]);(0,a.useEffect)(()=>{u&&Ft(Qe.current)},[Ft,u,ft]),(0,a.useEffect)(()=>{if(!u)return;const e=ve.current;if(e)try{const t=e.getAvailableQualityLevels?e.getAvailableQualityLevels():[];Array.isArray(t)&&_(t)}catch(At){}},[u,ft]),(0,a.useEffect)(()=>{if(!S)return;const e=ve.current;if(e&&ke.current)try{const t=e.getAvailableQualityLevels?e.getAvailableQualityLevels():[];Array.isArray(t)&&_(t)}catch(At){}},[S]);const $t=(0,a.useCallback)(()=>{if(Xe.current)return;const e=ve.current;e&&ke.current&&(g?(e.unMute(),x(!1)):(e.mute(),x(!0)))},[g]),Xt=(0,a.useCallback)(e=>{if(Xe.current)return;const t=ve.current;if(!t||!ke.current)return;const r=parseFloat(e.target.value);t.setVolume(r),y(r),x(0===r)},[]),Jt=(0,a.useCallback)(e=>{const t=ve.current;if(!t||!ke.current)return;if(Ae.current&&at.current&&Ae.current!==at.current)return;if(Xe.current)return;if(!dt.current)return;const r=parseFloat(e.target.value),a=Se.current||0,n=a?Math.min(r,a):r;me(n),ut.current=n,ht.current=Date.now(),mt.current||(Oe.current&&(Oe.current=!1,q(!1)),t.seekTo(n,!0),b(n))},[]),Zt=(0,a.useCallback)(e=>{var t;if(!ve.current||!ke.current)return;if(Ae.current&&at.current&&Ae.current!==at.current)return;if(Xe.current)return;if(!dt.current)return;mt.current=!0,de(!0);const r=parseFloat(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value),a=Se.current||0,n=a?Math.min(r,a):r;ut.current=n,me(n)},[]),er=(0,a.useCallback)(()=>{const e=ve.current;if(!e||!ke.current)return;if(Ae.current&&at.current&&Ae.current!==at.current)return;if(Xe.current)return;if(mt.current=!1,de(!1),!dt.current)return;const t=ut.current;Oe.current&&(Oe.current=!1,q(!1));try{e.seekTo(t,!0)}catch(At){}b(t)},[]);(0,a.useEffect)(()=>{if(!ce)return;const e=()=>{er()};return window.addEventListener("mouseup",e,!0),window.addEventListener("touchend",e,!0),window.addEventListener("touchcancel",e,!0),()=>{window.removeEventListener("mouseup",e,!0),window.removeEventListener("touchend",e,!0),window.removeEventListener("touchcancel",e,!0)}},[er,ce]);const tr=(0,a.useCallback)(()=>{const e=ve.current;if(!e||!ke.current)return;if(Ae.current&&at.current&&Ae.current!==at.current)return;if(Xe.current)return;if(!dt.current)return;const t=Math.min(v+10,w);e.seekTo(t,!0)},[v,w]),rr=(0,a.useCallback)(()=>{const e=ve.current;if(!e||!ke.current)return;if(Ae.current&&at.current&&Ae.current!==at.current)return;if(Xe.current)return;if(!dt.current)return;const t=Math.max(v-10,0);e.seekTo(t,!0)},[v]),nr=(0,a.useCallback)(e=>{if(Xe.current)return;const t=ve.current;t&&ke.current&&(t.setPlaybackRate(e),N(e),A(!1))},[]),sr=(0,a.useCallback)(()=>{Xe.current||fe.current&&(document.fullscreenElement?document.exitFullscreen():fe.current.requestFullscreen().catch(e=>{console.error("Fullscreen error:",e)}))},[]);(0,a.useEffect)(()=>{const e=()=>{O(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",e),()=>document.removeEventListener("fullscreenchange",e)},[]),(0,a.useEffect)(()=>{const e=e=>{const t=fe.current;if(!t)return;const r=document.activeElement,a=r&&t.contains(r),n=document.fullscreenElement&&t.contains(document.fullscreenElement);if(!a&&!n)return;const s=(e.key||"").toLowerCase();if("f12"===s||e.ctrlKey&&e.shiftKey&&("i"===s||"j"===s||"c"===s)||e.ctrlKey&&"s"===s)return e.preventDefault(),void e.stopPropagation();new Set([" ","k","j","l","m","f","arrowleft","arrowright","arrowup","arrowdown"]).has(s)&&(e.preventDefault(),e.stopPropagation())};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[]);const ir=e=>{if(isNaN(e)||e===1/0)return"0:00";const t=Math.floor(e/60),r=Math.floor(e%60);return"".concat(t,":").concat(r.toString().padStart(2,"0"))},or=ce?ue:v,lr=w?Math.min(or,w):or,cr=w&&B&&!ce?w:lr,dr=w||0,mr=w?cr>=w-.05?100:Math.min(100,cr/w*100):0,hr=w?mr>=99.9?"#a855f7":"linear-gradient(to right, #a855f7 0%, #a855f7 ".concat(mr,"%, #4b5563 ").concat(mr,"%, #4b5563 100%)"):"#4b5563",pr=!!M,gr=!pr&&(!u||!te||Z||ae)||F||Q&&!u&&!h,fr=V&&bt,yr=!X&&!fr&&!pr,vr=!(!ft||!Ae.current||Ae.current===ft),br=(()=>{try{const e=ve.current;return e&&ke.current&&e.getPlayerState?e.getPlayerState():null}catch(At){return null}})(),wr=((e,t,r)=>{const a=null===(e=window)||void 0===e||null===(t=e.YT)||void 0===t||null===(r=t.PlayerState)||void 0===r?void 0:r.PLAYING;return"number"===typeof a&&br===a||!(!Te.current&&!h)})(),jr=X&&xh&&!V&&!Z&&!vr&&!ge&&!F&&!wr&&!pr,kr=!(X&&wr&&!F&&!B&&!V&&!Z&&!vr&&!pr)||ge&&xh&&!V&&!Z&&!vr&&!pr,Nr=ge||ce||!!mt.current||Date.now()-(ht.current||0)<800;return(0,xr.jsxs)("div",{ref:fe,className:"bg-black rounded-lg overflow-hidden flex flex-col ".concat(R?"fixed inset-0 z-50":""),onContextMenu:e=>{e.preventDefault()},children:[(0,xr.jsx)("div",{className:"".concat(R?"flex-1 min-h-0 flex items-center justify-center":""),children:(0,xr.jsxs)("div",{className:"relative bg-black video-container ".concat(R?"w-full max-h-full aspect-video":"aspect-video"),onMouseMove:Ut,onTouchStart:Ut,children:[(0,xr.jsx)("div",{ref:ye,className:"w-full h-full","aria-label":s||"Video"}),kr&&(0,xr.jsx)("div",{className:"absolute inset-0 z-20 bg-black pointer-events-auto",children:Nr&&(0,xr.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[(0,xr.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mb-3"}),(0,xr.jsx)("p",{className:"text-white text-sm font-semibold",children:"loading..."})]})}),jr&&(0,xr.jsx)("div",{className:"absolute inset-0 z-30 flex items-center justify-center bg-black pointer-events-none",children:(0,xr.jsx)("div",{className:"text-white text-4xl md:text-5xl font-extrabold tracking-[0.35em]",children:"EDUFLOW"})}),V&&bt&&(0,xr.jsx)("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black pointer-events-auto",children:(0,xr.jsxs)("div",{className:"flex flex-col items-center",children:[(0,xr.jsx)("div",{className:"text-white text-4xl md:text-5xl font-extrabold tracking-[0.35em] animate-pulse",children:"EDUFLOW"}),(0,xr.jsxs)("div",{className:"mt-5 flex items-center justify-center gap-2",children:[(0,xr.jsx)("span",{className:"h-3 w-3 rounded-full bg-purple-500 animate-bounce",style:{animationDelay:"0ms"}}),(0,xr.jsx)("span",{className:"h-3 w-3 rounded-full bg-purple-500 animate-bounce",style:{animationDelay:"150ms"}}),(0,xr.jsx)("span",{className:"h-3 w-3 rounded-full bg-purple-500 animate-bounce",style:{animationDelay:"300ms"}})]})]})}),!fr&&pr&&(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)("div",{className:"absolute inset-0 z-30 bg-black pointer-events-auto"}),(0,xr.jsx)("div",{className:"absolute inset-0 z-50 flex items-center justify-center text-white pointer-events-none",children:(0,xr.jsx)("div",{className:"px-6 pointer-events-auto ".concat(vt?"text-right":"text-center"),children:(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)("p",{className:"text-white text-sm font-semibold",dir:vt?"rtl":"ltr",children:wt}),(0,xr.jsx)("p",{className:"text-white text-xs mt-2 opacity-90",dir:vt?"rtl":"ltr",children:c("tryAgain")}),(0,xr.jsx)("button",{type:"button",onClick:zt,className:"mt-4 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-md transition pointer-events-auto",children:c("retry")})]})})})]}),yr&&(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)("div",{ref:be,className:"absolute inset-0 z-30 bg-black pointer-events-auto"}),(0,xr.jsx)("div",{className:"absolute inset-0 z-50 flex items-center justify-center text-white pointer-events-none",children:(0,xr.jsx)("div",{className:"px-6 pointer-events-auto ".concat(vt?"text-right":"text-center"),children:gr?(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-2"}),(0,xr.jsx)("p",{className:"text-white text-sm font-semibold",dir:vt?"rtl":"ltr",children:c("loading")})]}):(0,xr.jsx)("button",{type:"button",onClick:Qt,className:"w-20 h-20 bg-purple-600 rounded-full flex items-center justify-center transition hover:bg-purple-700 pointer-events-auto","aria-label":"Play video",children:(0,xr.jsx)(Mm.A,{className:"w-10 h-10 ml-1"})})})})]}),(0,xr.jsx)("div",{className:"absolute left-0 right-0 bottom-0 z-40 transition-opacity duration-200 ".concat(!X||Z||vr||ge||V&&bt||!u||F||M?"opacity-0 pointer-events-none":h?z?"opacity-100":"opacity-0 pointer-events-none":"opacity-100"),children:(0,xr.jsxs)("div",{className:"px-3 pt-6 pb-3 bg-gradient-to-t from-black/40 to-transparent",children:[(0,xr.jsx)("div",{className:"mb-2",children:(0,xr.jsx)("input",{type:"range",min:0,max:dr||0,step:.1,value:dr?B?dr:Math.min(cr,dr):0,onChange:Jt,onMouseDown:Zt,onTouchStart:Zt,onMouseUp:er,onTouchEnd:er,disabled:!u||Z||vr||ge||!oe,className:"w-full h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-purple-500",style:{background:hr}})}),(0,xr.jsxs)("div",{className:"flex items-center justify-between text-white text-sm",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,xr.jsx)("button",{onClick:Kt,className:"p-1.5 hover:bg-purple-700 rounded transition",title:h?"Pause":"Play",disabled:!u||ge,children:h?(0,xr.jsx)(ah.A,{className:"w-5 h-5"}):(0,xr.jsx)(Mm.A,{className:"w-5 h-5"})}),(0,xr.jsx)("button",{onClick:rr,className:"p-1.5 hover:bg-purple-700 rounded transition",title:"Skip back 10s",disabled:!u||ge||!oe,children:(0,xr.jsx)(nh.A,{className:"w-4 h-4"})}),(0,xr.jsx)("button",{onClick:tr,className:"p-1.5 hover:bg-purple-700 rounded transition",title:"Skip forward 10s",disabled:!u||ge||!oe,children:(0,xr.jsx)(sh.A,{className:"w-4 h-4"})}),(0,xr.jsx)("button",{onClick:$t,className:"p-1.5 hover:bg-purple-700 rounded transition",title:g?"Unmute":"Mute",disabled:!u||ge,children:g?(0,xr.jsx)(ih.A,{className:"w-5 h-5"}):(0,xr.jsx)(oh.A,{className:"w-5 h-5"})}),(0,xr.jsx)("input",{type:"range",min:0,max:100,step:1,value:g?0:f,onChange:Xt,className:"w-20 h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-purple-500",disabled:!u||ge}),(0,xr.jsxs)("span",{className:"text-xs",children:[ir(cr)," / ",ir(w)]})]}),(0,xr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,xr.jsxs)("div",{className:"relative",children:[(0,xr.jsxs)("button",{onClick:()=>{A(!C),E(!1)},className:"p-1.5 hover:bg-purple-700 rounded transition flex items-center space-x-1",title:"Playback Speed",disabled:!u||ge,children:[(0,xr.jsx)(lh.A,{className:"w-4 h-4"}),(0,xr.jsxs)("span",{className:"text-xs",children:[k,"\xd7"]})]}),C&&(0,xr.jsx)("div",{className:"absolute bottom-full right-0 mb-2 bg-gray-800 rounded-lg shadow-lg overflow-hidden",children:[.5,.75,1,1.25,1.5,2].map(e=>(0,xr.jsxs)("button",{onClick:()=>nr(e),className:"block w-full px-4 py-2 text-left text-sm hover:bg-purple-700 transition ".concat(k===e?"bg-purple-600":""),disabled:ge,children:[e,"\xd7"]},e))})]}),(0,xr.jsxs)("div",{className:"relative",children:[(0,xr.jsxs)("button",{onClick:()=>{Xe.current||(E(!S),A(!1))},className:"p-1.5 hover:bg-purple-700 rounded transition flex items-center space-x-1",title:"Quality",disabled:!u||ge,children:[(0,xr.jsx)(ur,{className:"w-4 h-4"}),(0,xr.jsx)("span",{className:"text-xs",children:Mt(Bt)})]}),S&&(0,xr.jsx)("div",{className:"absolute bottom-full right-0 mb-2 bg-gray-800 rounded-lg shadow-lg overflow-hidden",children:It.map(e=>(0,xr.jsx)("button",{type:"button",onClick:()=>{qt(e)&&Lt(e)},disabled:!qt(e),className:"block w-full px-4 py-2 text-left text-sm transition ".concat(qt(e)?"hover:bg-purple-700":"opacity-50 cursor-not-allowed"," ").concat(Bt===e?"bg-purple-600":""),children:Mt(e)},e))})]}),(0,xr.jsx)("button",{onClick:sr,className:"p-1.5 hover:bg-purple-700 rounded transition",title:R?"Exit Fullscreen":"Fullscreen",disabled:!u||ge,children:R?(0,xr.jsx)(ch.A,{className:"w-5 h-5"}):(0,xr.jsx)(dh.A,{className:"w-5 h-5"})})]})]})]})})]})}),s&&!R&&(0,xr.jsx)("div",{className:"bg-gray-900 p-4",children:(0,xr.jsx)("h3",{className:"text-white font-semibold",children:s})})]})},wh=(0,nr.A)("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]),jh=(0,nr.A)("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),kh=(0,nr.A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Nh=(0,nr.A)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Ch=e=>{var t,r;let{contentId:n}=e;const{user:s}=wr(),[o,l]=(0,a.useState)([]),[c,d]=(0,a.useState)(!0),[u,m]=(0,a.useState)(""),[h,p]=(0,a.useState)(null),[g,x]=(0,a.useState)(null),[f,y]=(0,a.useState)(""),[v,b]=(0,a.useState)(!1);(0,a.useEffect)(()=>{n&&w()},[n]);const w=async()=>{try{d(!0);const e=localStorage.getItem("token"),t=await i.A.get("/api/comments/content/".concat(n),{headers:{Authorization:"Bearer ".concat(e)}});l(t.data.data||[])}catch(e){console.error("Error fetching comments:",e),er.error("Failed to load comments")}finally{d(!1)}},j=e=>{const t=new Date(e),r=new Date,a=r-t,n=Math.floor(a/6e4),s=Math.floor(a/36e5),i=Math.floor(a/864e5);return n<1?"Just now":n<60?"".concat(n,"m ago"):s<24?"".concat(s,"h ago"):i<7?"".concat(i,"d ago"):t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:t.getFullYear()!==r.getFullYear()?"numeric":void 0,hour:"2-digit",minute:"2-digit"})},k=e=>{var t,r,a,n,o,l;let{comment:c,isReply:d=!1}=e;const u=(null===s||void 0===s?void 0:s._id)===(null===(t=c.user)||void 0===t?void 0:t._id)||(null===s||void 0===s?void 0:s.id)===(null===(r=c.user)||void 0===r?void 0:r._id),m="admin"===(null===s||void 0===s?void 0:s.role);return(0,xr.jsx)("div",{className:"".concat(d?"ml-12 mt-3":"mt-4"),children:(0,xr.jsxs)("div",{className:"flex space-x-3",children:[(0,xr.jsx)("div",{className:"flex-shrink-0",children:null!==(a=c.user)&&void 0!==a&&a.profilePicture?(0,xr.jsx)("img",{src:c.user.profilePicture,alt:c.user.name,className:"w-10 h-10 rounded-full object-cover"}):(0,xr.jsx)("div",{className:"w-10 h-10 rounded-full bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center",children:(0,xr.jsx)("span",{className:"text-indigo-600 dark:text-indigo-300 font-semibold text-sm",children:null===(n=c.user)||void 0===n||null===(o=n.name)||void 0===o?void 0:o.charAt(0).toUpperCase()})})}),(0,xr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,xr.jsxs)("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-lg px-4 py-3",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,xr.jsx)("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:null===(l=c.user)||void 0===l?void 0:l.name}),(0,xr.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:j(c.createdAt)})]}),g===c._id?(0,xr.jsxs)("div",{className:"mt-2",children:[(0,xr.jsx)("textarea",{value:f,onChange:e=>y(e.target.value),autoFocus:!0,onFocus:e=>e.target.setSelectionRange(e.target.value.length,e.target.value.length),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent",rows:"2"}),(0,xr.jsxs)("div",{className:"flex space-x-2 mt-2",children:[(0,xr.jsx)("button",{onClick:()=>(async e=>{if(f.trim())try{const t=localStorage.getItem("token");await i.A.put("/api/comments/".concat(e),{text:f},{headers:{Authorization:"Bearer ".concat(t)}}),x(null),y(""),await w(),er.success("Comment updated")}catch(t){console.error("Error updating comment:",t),er.error("Failed to update comment")}})(c._id),className:"text-xs px-3 py-1 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"Save"}),(0,xr.jsx)("button",{onClick:()=>{x(null),y("")},className:"text-xs px-3 py-1 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded hover:bg-gray-400 dark:hover:bg-gray-500",children:"Cancel"})]})]}):(0,xr.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-wrap break-words",children:c.text})]}),!g&&(0,xr.jsxs)("div",{className:"flex items-center space-x-4 mt-2 ml-2",children:[(0,xr.jsxs)("button",{onClick:()=>p(c),className:"text-xs text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300 font-medium flex items-center space-x-1",children:[(0,xr.jsx)(wh,{className:"w-3 h-3"}),(0,xr.jsx)("span",{children:"Reply"})]}),u&&(0,xr.jsx)(xr.Fragment,{children:(0,xr.jsxs)("button",{onClick:()=>{x(c._id),y(c.text)},className:"text-xs text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-300 font-medium flex items-center space-x-1",children:[(0,xr.jsx)(jh,{className:"w-3 h-3"}),(0,xr.jsx)("span",{children:"Edit"})]})}),(u||m)&&(0,xr.jsxs)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this comment?"))try{const t=localStorage.getItem("token");await i.A.delete("/api/comments/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),await w(),er.success("Comment deleted")}catch(t){console.error("Error deleting comment:",t),er.error("Failed to delete comment")}})(c._id),className:"text-xs text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 font-medium flex items-center space-x-1",children:[(0,xr.jsx)(kh,{className:"w-3 h-3"}),(0,xr.jsx)("span",{children:"Delete"})]})]}),c.replies&&c.replies.length>0&&(0,xr.jsx)("div",{className:"mt-3 space-y-3",children:c.replies.map(e=>(0,xr.jsx)(k,{comment:e,isReply:!0},e._id))})]})]})})};return(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mt-6",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-2 mb-6",children:[(0,xr.jsx)(lr,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"}),(0,xr.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Comments (",o.length,")"]})]}),(0,xr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),u.trim())try{b(!0);const e=localStorage.getItem("token");await i.A.post("/api/comments/content/".concat(n),{text:u,parentCommentId:(null===h||void 0===h?void 0:h._id)||null},{headers:{Authorization:"Bearer ".concat(e)}}),m(""),p(null),await w(),er.success(h?"Reply added":"Comment added")}catch(t){console.error("Error submitting comment:",t),er.error("Failed to submit comment")}finally{b(!1)}},className:"mb-6",children:[h&&(0,xr.jsxs)("div",{className:"mb-2 p-2 bg-indigo-50 dark:bg-indigo-900/30 rounded text-sm",children:[(0,xr.jsxs)("span",{className:"text-indigo-600 dark:text-indigo-400",children:["Replying to ",null===(t=h.user)||void 0===t?void 0:t.name]}),(0,xr.jsx)("button",{type:"button",onClick:()=>p(null),className:"ml-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"\xd7"})]}),(0,xr.jsxs)("div",{className:"flex space-x-3",children:[(0,xr.jsx)("div",{className:"flex-shrink-0",children:null!==s&&void 0!==s&&s.profilePicture?(0,xr.jsx)("img",{src:s.profilePicture,alt:s.name,className:"w-10 h-10 rounded-full object-cover"}):(0,xr.jsx)("div",{className:"w-10 h-10 rounded-full bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center",children:(0,xr.jsx)("span",{className:"text-indigo-600 dark:text-indigo-300 font-semibold",children:null===s||void 0===s||null===(r=s.name)||void 0===r?void 0:r.charAt(0).toUpperCase()})})}),(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsx)("textarea",{value:u,onChange:e=>m(e.target.value),placeholder:h?"Write a reply...":"Write a comment...",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none",rows:"3"}),(0,xr.jsx)("div",{className:"flex justify-end mt-2",children:(0,xr.jsxs)("button",{type:"submit",disabled:!u.trim()||v,className:"flex items-center space-x-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[v?(0,xr.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):(0,xr.jsx)(Nh,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:h?"Reply":"Comment"})]})})]})]})]}),c?(0,xr.jsx)("div",{className:"flex justify-center py-8",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):0===o.length?(0,xr.jsx)("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No comments yet. Be the first to comment!"}):(0,xr.jsx)("div",{className:"space-y-4",children:o.map(e=>(0,xr.jsx)(k,{comment:e},e._id))})]})},Ah=()=>{var e,t,r,n,s,o,l,c,d,u,m,h,p,g,x,f,y,v,b,w,j,k,N,C,A,S,E,D,P,T,_,R,O,F,L,M,I,B,q,z,U,V,Y,W,H,G,K,Q,$,X,J,Z,ee,te,re,se,ie,oe;const{t:le}=(0,ar.useTranslation)(),{id:ce}=ne(),de=ae(),{user:ue}=wr(),[me,he]=(0,a.useState)(null),[pe,ge]=(0,a.useState)(!0),[xe,fe]=(0,a.useState)({}),[ye,ve]=(0,a.useState)({}),[be,we]=(0,a.useState)({}),[je,ke]=(0,a.useState)({}),[Ne,Ce]=(0,a.useState)(null),[Ae,Se]=(0,a.useState)(!1),[Ee,De]=(0,a.useState)(!1),[Pe,Te]=(0,a.useState)(null),[_e,Re]=(0,a.useState)({}),[Oe,Fe]=(0,a.useState)(""),[Le,Me]=(0,a.useState)(!1),[Ie,ze]=(0,a.useState)(null),[Ue,Ve]=(0,a.useState)(null),[Ye,We]=(0,a.useState)(0),[He,Ge]=(0,a.useState)("idle"),[Ke,Qe]=(0,a.useState)(null),[$e,Xe]=(0,a.useState)(null),[Je,Ze]=(0,a.useState)(null),et=(0,a.useRef)(null),tt=(0,a.useRef)(null),rt=(0,a.useRef)(!1),at=(0,a.useRef)("idle"),nt=(0,a.useCallback)(async e=>{if(e)try{const t=localStorage.getItem("token"),r=await i.A.get("/api/certificates/my-eligibility",{headers:{Authorization:"Bearer ".concat(t)}}),a=(r.data.enrolledCourses||[]).find(t=>{var r,a;const n=(null===(r=t.group)||void 0===r?void 0:r._id)||(null===(a=t.group)||void 0===a?void 0:a.id);return n&&String(n)===String(e)});ze(a?{status:a.eligibilityStatus,details:a.eligibilityDetails||{}}:null)}catch(t){console.error("Error fetching certificate eligibility for course details:",t)}},[]),st=(0,a.useCallback)(async()=>{try{var e;ge(!0);const t=localStorage.getItem("token"),r=await i.A.get("/api/enroll/".concat(ce),{headers:{Authorization:"Bearer ".concat(t)}}),a=await i.A.get("/api/students/".concat(ue._id||ue.id,"/courses/").concat(ce,"/grade"),{headers:{Authorization:"Bearer ".concat(t)}}),n=(0,Be.A)((0,Be.A)({},r.data.course),{},{grade:a.data.data.courseGrade,sectionGrades:a.data.data.sectionGrades,gradeStats:a.data.data.stats||{}});if(he(n),null!==n&&void 0!==n&&n.groupId&&nt(n.groupId),(null===n||void 0===n||null===(e=n.sections)||void 0===e?void 0:e.length)>0){const e=n.sections.find(e=>e.isFree||e.hasAccess);e&&ut(e._id,e.hasAccess||e.isFree)}}catch(a){var t,r;console.error("Error fetching course details:",a),er.error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to fetch course details")}finally{ge(!1)}},[ce,ue,nt]),it=(0,a.useCallback)(async()=>{try{const e=localStorage.getItem("token"),t=await i.A.get("/api/section-payments/course/".concat(ce,"/status"),{headers:{Authorization:"Bearer ".concat(e)}});Re(t.data.data||{})}catch(e){console.error("Error fetching payment status:",e)}},[ce]);(0,a.useEffect)(()=>{var e;if(ce&&ue){if("student"===ue.role&&"suspended"===ue.status&&null!==(e=ue.restrictions)&&void 0!==e&&e.accessCoursePages)return er.error("Your account is suspended. You cannot access course pages."),void de("/student");st(),it()}},[ce,ue,st,it,de]),(0,a.useEffect)(()=>{(async()=>{try{var e;const t=localStorage.getItem("token"),r=await i.A.get("/api/storage/config",{headers:{Authorization:"Bearer ".concat(t)}});Ve((null===(e=r.data)||void 0===e?void 0:e.data)||null)}catch(At){Ve(null)}})()},[]),(0,a.useEffect)(()=>{at.current=He},[He]);const ot=(0,a.useCallback)(()=>{et.current&&(clearInterval(et.current),et.current=null),tt.current&&(clearTimeout(tt.current),tt.current=null),rt.current=!1},[]),lt=(0,a.useCallback)(async(e,t)=>{if(e&&!rt.current){rt.current=!0;try{var r;const a=await i.A.get("/api/video-upload-jobs/".concat(encodeURIComponent(e)),{headers:{Authorization:"Bearer ".concat(t)}}),n=null===a||void 0===a||null===(r=a.data)||void 0===r?void 0:r.data,s="number"===typeof(null===n||void 0===n?void 0:n.percent)?n.percent:0,o="string"===typeof(null===n||void 0===n?void 0:n.status)?n.status:null,l="string"===typeof(null===n||void 0===n?void 0:n.error)?n.error:null;Xe(o),Ze(l),"server"!==at.current&&"processing"!==at.current||We(s),"completed"!==o&&"failed"!==o&&"canceled"!==o||ot(),"processing"===o&&"server"===at.current&&Ge("processing")}catch(n){var a;if(404===(null===n||void 0===n||null===(a=n.response)||void 0===a?void 0:a.status))return Xe("queued"),void Ze(null)}finally{rt.current=!1}}},[ot]),ct=(0,a.useCallback)((e,t)=>{ot(),e&&(tt.current=setTimeout(()=>{lt(e,t),et.current=setInterval(()=>{lt(e,t)},2e3)},1200))},[lt,ot]),dt=async()=>{var e;if(!Ne||"assignment"!==Ne.type&&"project"!==Ne.type)return;const t=null===(e=Ne.progress)||void 0===e?void 0:e.reupload;if(t&&t.canRequest)try{Me(!0);const e=localStorage.getItem("token");await i.A.post("/api/contents/".concat(Ne._id,"/reupload/request"),{reason:Oe},{headers:{Authorization:"Bearer ".concat(e)}}),er.success("Reupload request submitted and pending instructor approval.");const t=Ne.section;ve(e=>{const r=(0,Be.A)({},e);return delete r[t],r});const[r,a]=await Promise.all([st(),mt(t,!0)]);if(Array.isArray(a)){const e=a.find(e=>e._id===Ne._id);e&&Ce(e)}}catch(n){var r,a;console.error("Error requesting reupload:",n),er.error((null===(r=n.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Failed to request reupload")}finally{Me(!1)}else er.error("You cannot request a reupload for this item.")},ut=async(e,t)=>{if(!t)return;xe[e]||(await mt(e),await ht(e)),fe(t=>(0,Be.A)((0,Be.A)({},t),{},{[e]:!t[e]}))},mt=async function(e){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&ye[e]&&Array.isArray(ye[e]))return ye[e];try{Se(!0);const t=localStorage.getItem("token"),r=(await i.A.get("/api/content/section/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}})).data.data||[];return ve(t=>(0,Be.A)((0,Be.A)({},t),{},{[e]:r})),r}catch(t){return console.error("Error fetching section content:",t),er.error("Failed to load section content"),[]}finally{Se(!1)}},ht=async e=>{if(!be[e])try{const t=localStorage.getItem("token"),r=(await i.A.get("/api/active-tests/section/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}})).data.tests||[];we(t=>(0,Be.A)((0,Be.A)({},t),{},{[e]:r}));for(const e of r)pt(e._id)}catch(t){console.error("Error fetching section tests:",t),we(t=>(0,Be.A)((0,Be.A)({},t),{},{[e]:[]}))}},pt=async e=>{try{const t=localStorage.getItem("token"),r=(await i.A.get("/api/active-tests/".concat(e,"/attempts"),{headers:{Authorization:"Bearer ".concat(t)}})).data.attempts||[];ke(t=>(0,Be.A)((0,Be.A)({},t),{},{[e]:r}))}catch(t){console.error("Error fetching test attempts:",t),ke(t=>(0,Be.A)((0,Be.A)({},t),{},{[e]:[]}))}},gt=e=>{Ce(e),Fe("")},xt=e=>{var t;"suspended"===(null===ue||void 0===ue?void 0:ue.status)&&null!==ue&&void 0!==ue&&null!==(t=ue.restrictions)&&void 0!==t&&t.continueCourses?er.error("Your account is suspended. You cannot make new payments or continue courses."):de("/student/section/".concat(e,"/payment"))},ft=()=>{var e,t;const r=(null===me||void 0===me||null===(e=me.sections)||void 0===e?void 0:e.filter(e=>{if(e.hasAccess||e.isFree)return!1;const t=_e[e._id];return!t||"pending"!==t.status&&"approved"!==t.status}))||[];if(0===r.length)return void er.error("No unpaid sections available");if("suspended"===(null===ue||void 0===ue?void 0:ue.status)&&null!==ue&&void 0!==ue&&null!==(t=ue.restrictions)&&void 0!==t&&t.continueCourses)return void er.error("Your account is suspended. You cannot make new payments or continue courses.");const a=r.map(e=>e._id).join(",");de("/student/course/".concat(me._id,"/pay-all?sections=").concat(a))},yt=async()=>{if(Ne){const t=Ne.section;try{const e=localStorage.getItem("token"),[r,a]=await Promise.all([i.A.get("/api/enroll/".concat(ce),{headers:{Authorization:"Bearer ".concat(e)}}),i.A.get("/api/content/section/".concat(t),{headers:{Authorization:"Bearer ".concat(e)}})]),n=await i.A.get("/api/students/".concat(ue._id||ue.id,"/courses/").concat(ce,"/grade"),{headers:{Authorization:"Bearer ".concat(e)}}),s=(0,Be.A)((0,Be.A)({},r.data.course),{},{grade:n.data.data.courseGrade,sectionGrades:n.data.data.sectionGrades});he(s),ve(e=>(0,Be.A)((0,Be.A)({},e),{},{[t]:a.data.data||[]}))}catch(e){console.error("Error refreshing after video complete:",e),er.error("Failed to refresh content")}}},vt=e=>{var t,r,a;if(!e.progress){if("lecture"===e.type||"project"===e.type)return{label:le("notWatched"),grade:0,color:"text-gray-500"};if("assignment"===e.type)return{label:le("notSubmitted"),grade:0,color:"text-gray-500"}}const n=null===(t=e.progress)||void 0===t?void 0:t.status,s=(null===(r=e.progress)||void 0===r?void 0:r.gradePercent)||0,i=null===(a=e.progress)||void 0===a?void 0:a.completed;if("lecture"===e.type)return"watched"===n||i?{label:le("watched"),grade:100,color:"text-green-600"}:{label:le("notWatched"),grade:0,color:"text-gray-500"};if("assignment"===e.type||"project"===e.type){const t=e.endDate&&new Date>new Date(e.endDate);return"graded"===n?{label:"".concat(le("reviewed"),": ").concat(s,"%"),grade:s,color:"text-green-600"}:"submitted_ungraded"===n?{label:le("pendingReview"),grade:50,color:"text-yellow-600"}:t?{label:le("gradeFailed"),grade:0,color:"text-red-600"}:{label:le("notSubmitted"),grade:0,color:"text-gray-500"}}return{label:le("loading"),grade:0,color:"text-gray-500"}},bt=async e=>{var t,r,a,n;const s=e.target.files[0];if(!s||!Ne)return;const o=Ne.type||"assignment",l="project"===o?"Project":"Assignment",c="approved"===(null===(t=Ne.progress)||void 0===t||null===(r=t.reupload)||void 0===r?void 0:r.status)&&!(null!==(a=Ne.progress)&&void 0!==a&&null!==(n=a.reupload)&&void 0!==n&&n.used);if(Ne.endDate&&!c){const t=new Date(Ne.endDate);if(new Date>t)return er.error("".concat(l," deadline has passed. You can no longer submit this ").concat(o,".")),void(e.target.value=null)}if(!s.name.endsWith(".rar")&&!s.name.endsWith(".zip"))return er.error("Please upload a .rar or .zip file"),void(e.target.value=null);try{De(!0),We(0),Ge("uploading"),Qe(null),Xe(null),Ze(null),ot();const e=localStorage.getItem("token"),t=new FormData;t.append("assignment",s);const r="telegram"===(null===Ue||void 0===Ue?void 0:Ue.fileProvider);if(r){const r="undefined"!==typeof crypto&&"function"===typeof crypto.randomUUID?crypto.randomUUID():"".concat(Date.now(),"-").concat(Math.random().toString(16).slice(2));Qe(r),Xe("uploading"),Ze(null),t.append("uploadSessionId",r),ct(r,e)}const a=await i.A.post("/api/contents/".concat(Ne._id,"/submission"),t,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(e)},onUploadProgress:e=>{const t=e.total,a="number"===typeof e.progress?e.progress:null;if(!t&&null===a)return;const n=t?Math.round(100*e.loaded/t):Math.round(100*a);if(n>=100)return r?(We(0),void Ge(e=>"uploading"===e?"server":e)):void We(100);We(n)}});console.log("\ud83d\udcdd CourseDetailsPage: Assignment submission response:",null===a||void 0===a?void 0:a.data);try{var d;null!==a&&void 0!==a&&null!==(d=a.data)&&void 0!==d&&d.gamification?(console.log("\ud83d\udcdd CourseDetailsPage: Firing gamification events for assignment submission"),(0,Jm.fireGamificationEvents)(a.data.gamification)):console.log("\ud83d\udcdd CourseDetailsPage: No gamification data in response")}catch(h){console.error("\ud83d\udcdd CourseDetailsPage: Error firing gamification events:",h)}er.success("".concat(l,c?" reupload submitted successfully. It will be regraded by the instructor.":" submitted successfully. Grade: 50% (Pending Review)"));const n=Ne.section;ve(e=>{const t=(0,Be.A)({},e);return delete t[n],t});const[,o]=await Promise.all([st(),mt(n,!0)]);if(Array.isArray(o)){const e=o.find(e=>e._id===Ne._id);e&&Ce(e)}}catch(h){var u,m;console.error("Error submitting assignment:",h);const e=null===h||void 0===h||null===(u=h.response)||void 0===u||null===(m=u.data)||void 0===m?void 0:m.message,t="string"===typeof e&&e.trim().length>0?e:"Upload failed. Please try again.";er.error(t)}finally{De(!1),We(0),Ge("idle"),Qe(null),Xe(null),Ze(null),ot()}},wt=async(e,t)=>{try{if(Pe===e)return;Te(e),console.log("[Download] Attempting to download file for content:",e);const r=localStorage.getItem("token"),a=await i.A.get("/api/content/".concat(e,"/download"),{headers:{Authorization:"Bearer ".concat(r)},responseType:"blob",validateStatus:e=>e<500});if(console.log("[Download] Response received:",{dataSize:a.data.size,dataType:a.data.type,status:a.status,headers:a.headers}),204===a.status||200===a.status&&0===a.data.size)return console.log("[Download] Download intercepted by external download manager"),void er.success("Download started (handled by download manager)");if(a.status>=400)throw new Error("Download failed");if(a.data.type&&a.data.type.includes("json")){const e=await a.data.text();try{const t=JSON.parse(e);throw new Error(t.message||"Download failed")}catch(qe){throw new Error("Download failed")}}if(!a.data||0===a.data.size)return console.log("[Download] Empty response - might be handled externally"),void er.success("Download started");const n=a.headers["content-disposition"];let s="".concat(t,".rar");if(n){const e=n.match(/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/i);e&&e[1]&&(s=e[1].replace(/["']/g,"").trim())}s.match(/\.(rar|zip)$/i)||(s+=".rar"),console.log("[Download] Creating download with filename:",s);const o=window.URL.createObjectURL(a.data),l=document.createElement("a");l.href=o,l.setAttribute("download",s),document.body.appendChild(l),l.click(),setTimeout(()=>{document.body.removeChild(l),window.URL.revokeObjectURL(o)},100),er.success("File downloaded successfully")}catch(r){console.error("[Download] Error downloading file:",r),er.error("Failed to download file. Please try again later.")}finally{setTimeout(()=>{Te(t=>t===e?null:t)},1200)}};return pe?(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):me?(0,xr.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,xr.jsx)("div",{className:"bg-white dark:bg-gray-800 shadow-sm",children:(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,xr.jsxs)("button",{onClick:()=>de("/student"),className:"flex items-center text-indigo-600 hover:text-indigo-800 mb-4",children:[(0,xr.jsx)(Em,{className:"w-4 h-4 mr-2"}),le("backToDashboard")]}),(0,xr.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:me.name}),((null===(e=me.instructor)||void 0===e?void 0:e.name)||(null===(t=me.originalInstructor)||void 0===t?void 0:t.name))&&(0,xr.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:null!==(r=me.instructor)&&void 0!==r&&r.name?"By ".concat(me.instructor.name):"Created by ".concat(me.originalInstructor.name)}),(0,xr.jsxs)("div",{className:"flex items-center space-x-3 text-sm text-gray-600 dark:text-gray-400",children:[(0,xr.jsx)("span",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 rounded-full font-medium",children:me.level}),(0,xr.jsxs)("span",{children:[le("group"),": ",me.groupName]})]}),me.description&&(0,xr.jsx)("p",{className:"mt-3 text-gray-600 dark:text-gray-400 max-w-3xl",children:me.description})]}),me.telegramGroupLink&&(0,xr.jsx)("div",{className:"flex-shrink-0",children:(0,xr.jsxs)("a",{href:me.telegramGroupLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-all duration-200 shadow-md hover:shadow-lg font-medium",title:le("joinDiscussionGroup")||"Join Discussion Group",children:[(0,xr.jsx)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:(0,xr.jsx)("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.562 8.161c-.18 1.897-.962 6.502-1.359 8.627-.168.9-.5 1.201-.82 1.23-.697.064-1.226-.461-1.901-.903-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.139-5.062 3.345-.479.329-.913.489-1.302.481-.428-.008-1.252-.241-1.865-.44-.751-.244-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.831-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635.099-.002.321.023.465.141.122.098.155.23.171.332.016.102.036.334.02.515z"})}),(0,xr.jsx)("span",{children:le("joinDiscussionGroup")||"Join Discussion Group"})]})})]}),void 0!==me.grade&&(0,xr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,xr.jsxs)("div",{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 dark:from-indigo-900/30 dark:to-indigo-800/30 p-6 rounded-xl",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,xr.jsx)("span",{className:"text-sm font-medium text-indigo-600 dark:text-indigo-400",children:le("overallGrade")}),(0,xr.jsx)(Oa,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})]}),(0,xr.jsxs)("p",{className:"text-3xl font-bold text-indigo-600 dark:text-indigo-400",children:[Math.round(me.grade),"%"]})]}),(null!==(n=null===(s=me.gradeStats)||void 0===s?void 0:s.lecturesTotal)&&void 0!==n?n:0)>0&&(0,xr.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-800/30 p-6 rounded-xl",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,xr.jsx)("span",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:le("lectures")}),(0,xr.jsx)(Mm.A,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})]}),(0,xr.jsxs)("p",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:[Math.round(me.gradeStats.lecturesGrade||0),"%"]})]}),(null!==(o=null===(l=me.gradeStats)||void 0===l?void 0:l.assignmentsTotal)&&void 0!==o?o:0)>0&&(0,xr.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/30 dark:to-green-800/30 p-6 rounded-xl",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,xr.jsx)("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:le("assignments")}),(0,xr.jsx)(Um,{className:"w-5 h-5 text-green-600 dark:text-green-400"})]}),(0,xr.jsxs)("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:[Math.round(me.gradeStats.assignmentsGrade||0),"%"]})]}),(null!==(c=null===(d=me.gradeStats)||void 0===d?void 0:d.projectsTotal)&&void 0!==c?c:0)>0&&(0,xr.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/30 dark:to-purple-800/30 p-6 rounded-xl",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,xr.jsx)("span",{className:"text-sm font-medium text-purple-600 dark:text-purple-400",children:le("projects")}),(0,xr.jsx)(Um,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})]}),(0,xr.jsxs)("p",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:[Math.round(me.gradeStats.projectsGrade||0),"%"]})]})]}),Ie&&Ie.status&&(0,xr.jsx)("div",{className:"mb-4",children:(0,xr.jsxs)("div",{className:"rounded-lg border border-dashed border-indigo-200 bg-indigo-50/80 dark:border-indigo-700/60 dark:bg-indigo-900/20 px-4 py-3 flex items-start gap-3 text-sm",children:[(0,xr.jsx)(Oa,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-300 mt-0.5"}),(0,xr.jsxs)("div",{children:[(0,xr.jsxs)("p",{className:"text-xs sm:text-sm text-gray-700 dark:text-gray-300",children:[le("certificateModeLabel"),": ",le("manual_instructor"===(null===me||void 0===me?void 0:me.certificateMode)?"certificateModeManualInstructor":"automatic"===(null===me||void 0===me?void 0:me.certificateMode)?"certificateModeAutomatic":"certificateModeDisabled")]}),(0,xr.jsxs)("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:[le("certificateStatus"),": ",("AUTO_GRANT"===Ie.status||"CAN_REQUEST"===Ie.status)&&le("certificateStatusEligible"),"GROUP_NOT_COMPLETED"===Ie.status&&le("certificateStatusNotEligible"),"GROUP_COMPLETED_BUT_GRADE_TOO_LOW"===Ie.status&&le("certificateStatusNotEligible"),"GROUP_COMPLETED_AND_ELIGIBLE"===Ie.status&&le("certificateStatusWaitingInstructor"),"CERTIFICATES_DISABLED"===Ie.status&&le("certificateStatusCertificatesDisabled")]}),"GROUP_NOT_COMPLETED"===Ie.status&&(0,xr.jsx)("p",{className:"mt-1 text-xs sm:text-sm text-gray-700 dark:text-gray-300",children:le("certificateReasonGroupNotCompleted")}),"GROUP_COMPLETED_BUT_GRADE_TOO_LOW"===Ie.status&&"number"===typeof(null===(u=Ie.details)||void 0===u?void 0:u.passingGrade)&&(0,xr.jsx)("p",{className:"mt-1 text-xs sm:text-sm text-gray-700 dark:text-gray-300",children:le("certificateReasonGradeTooLow",{passingGrade:Math.round(Ie.details.passingGrade)})}),"number"===typeof(null===(m=Ie.details)||void 0===m?void 0:m.totalItems)&&"number"===typeof(null===(h=Ie.details)||void 0===h?void 0:h.completedItems)&&"number"===typeof(null===(p=Ie.details)||void 0===p?void 0:p.completionPercentage)&&(0,xr.jsxs)("p",{className:"mt-1 text-xs text-gray-600 dark:text-gray-400",children:[le("certificateProgressLabel"),": ",le("certificateProgressValue",{completed:Ie.details.completedItems,total:Ie.details.totalItems,percentage:Ie.details.completionPercentage})]})]})]})}),(()=>{const e=(()=>{var e;if(null===me||void 0===me||!me.sections)return{total:0,currency:"SYP",count:0};const t=me.sections.filter(e=>{if(e.hasAccess||e.isFree)return!1;const t=_e[e._id];return!t||"pending"!==t.status&&"approved"!==t.status}),r=t.reduce((e,t)=>e+(t.priceCents||0),0);return{total:r,currency:(null===(e=t[0])||void 0===e?void 0:e.currency)||"SYP",count:t.length}})();return e.count>0&&(0,xr.jsx)("div",{className:"mb-6 bg-gradient-to-r from-indigo-500 to-purple-600 dark:from-indigo-700 dark:to-purple-800 rounded-xl p-6 text-white shadow-lg",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h3",{className:"text-lg font-semibold mb-1",children:le("unlockAllSections")}),(0,xr.jsxs)("p",{className:"text-sm text-indigo-100",children:[le("payForAllLockedSections")," ",e.count," ",e.count>1?le("lockedSections"):le("lockedSection")," ",le("atOnce")]})]}),(0,xr.jsxs)("button",{onClick:ft,className:"bg-white text-indigo-600 hover:bg-indigo-50 px-6 py-3 rounded-lg font-semibold shadow-md transition-all transform hover:scale-105",children:[le("pay")," ",Qm(e.total,e.currency)]})]})})})()]})}),(0,xr.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,xr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,xr.jsx)("div",{className:"lg:col-span-1",children:(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden sticky top-4",children:[(0,xr.jsx)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:(0,xr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:le("courseSections")})}),(0,xr.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-700 max-h-[calc(100vh-200px)] overflow-y-auto",children:null===(g=me.sections)||void 0===g?void 0:g.map(e=>{var t,r,a;const n=null===(t=me.sectionGrades)||void 0===t?void 0:t.find(t=>t.sectionId===e._id),s=xe[e._id],i=ye[e._id]||[],o=_e[e._id];return(0,xr.jsxs)("div",{children:[(0,xr.jsx)("div",{className:"p-4 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700",onClick:()=>ut(e._id,e.hasAccess||e.isFree),children:(0,xr.jsxs)("div",{className:"flex items-start justify-between",children:[(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-2 flex-wrap",children:[(0,xr.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white text-sm",children:e.name}),!e.hasAccess&&!e.isFree&&!o&&(0,xr.jsx)(Hd,{className:"w-4 h-4 text-yellow-600"}),"pending"===(null===o||void 0===o?void 0:o.status)&&(0,xr.jsxs)("span",{className:"flex items-center text-xs px-2 py-1 rounded-full font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-200",children:[(0,xr.jsx)(Zc,{className:"w-3 h-3 mr-1"}),"Pending"]}),"rejected"===(null===o||void 0===o?void 0:o.status)&&(0,xr.jsxs)("span",{className:"flex items-center text-xs px-2 py-1 rounded-full font-medium bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-200",children:[(0,xr.jsx)(Zm,{className:"w-3 h-3 mr-1"}),"Rejected"]}),n&&(0,xr.jsxs)("span",{className:"text-xs px-2 py-1 rounded-full font-medium ".concat(n.grade>=70?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-200":n.grade>=50?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-200":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-200"),children:[Math.round(100*n.grade)/100,"%"]})]}),e.hasAccess||e.isFree?(0,xr.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[(null===(r=e.contentCounts)||void 0===r?void 0:r.lectures)||0," lectures \u2022 ",(null===(a=e.contentCounts)||void 0===a?void 0:a.assignments)||0," assignments"]}):"pending"===(null===o||void 0===o?void 0:o.status)?(0,xr.jsx)("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-2",children:"Payment under review"}):"rejected"===(null===o||void 0===o?void 0:o.status)?(0,xr.jsxs)("div",{className:"mt-2",children:[o.rejectionReason&&(0,xr.jsxs)("p",{className:"text-xs text-red-600 dark:text-red-400 mb-1",children:["Reason: ",o.rejectionReason]}),(0,xr.jsxs)("button",{onClick:t=>{t.stopPropagation(),xt(e._id)},className:"text-xs bg-indigo-600 text-white px-3 py-1 rounded hover:bg-indigo-700",children:[le("pay")," ",Qm(e.priceCents||0,e.currency||"SYP")]})]}):(0,xr.jsxs)("button",{onClick:t=>{t.stopPropagation(),xt(e._id)},className:"mt-2 text-xs bg-indigo-600 text-white px-3 py-1 rounded hover:bg-indigo-700",children:[le("pay")," ",Qm(e.priceCents||0,e.currency||"SYP")]})]}),(e.hasAccess||e.isFree)&&(0,xr.jsx)("button",{onClick:t=>{t.stopPropagation(),ut(e._id,e.hasAccess||e.isFree)},children:s?(0,xr.jsx)(eh,{className:"w-5 h-5 text-gray-500"}):(0,xr.jsx)(qd,{className:"w-5 h-5 text-gray-500"})})]})}),s&&(e.hasAccess||e.isFree)&&(0,xr.jsx)("div",{className:"bg-gray-50 dark:bg-gray-900",children:Ae&&0===i.length?(0,xr.jsx)("div",{className:"p-4 text-center",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-indigo-600 mx-auto"})}):0===i.length?(0,xr.jsx)("div",{className:"p-4 text-center text-sm text-gray-500 dark:text-gray-400",children:le("noContentAvailable")}):(0,xr.jsxs)(xr.Fragment,{children:[i.filter(e=>"lecture"===e.type).length>0&&(0,xr.jsxs)("div",{className:"border-b border-gray-200 dark:border-gray-700",children:[(0,xr.jsx)("div",{className:"px-4 py-2 bg-blue-50 dark:bg-blue-900/20",children:(0,xr.jsx)("span",{className:"text-xs font-semibold text-blue-800 dark:text-blue-200",children:le("lecturesUppercase")})}),i.filter(e=>"lecture"===e.type).sort((e,t)=>(e.order||0)-(t.order||0)).map(e=>{var t;const r=vt(e);return(0,xr.jsx)("div",{className:"p-3 pl-8 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800 ".concat((null===Ne||void 0===Ne?void 0:Ne._id)===e._id?"bg-indigo-100 dark:bg-indigo-900/30":""),onClick:()=>gt(e),children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-2 flex-1",children:[(0,xr.jsx)(Mm.A,{className:"w-4 h-4 text-blue-600"}),(0,xr.jsx)("span",{className:"text-sm text-gray-900 dark:text-white",children:e.title})]}),(0,xr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,xr.jsx)("span",{className:"text-xs font-medium ".concat(r.color),children:r.label}),(0,xr.jsxs)("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:[r.grade,"%"]}),(null===(t=e.progress)||void 0===t?void 0:t.completed)&&(0,xr.jsx)(Om,{className:"w-4 h-4 text-green-600"})]})]})},e._id)})]}),i.filter(e=>"assignment"===e.type).length>0&&(0,xr.jsxs)("div",{className:"border-b border-gray-200 dark:border-gray-700",children:[(0,xr.jsx)("div",{className:"px-4 py-2 bg-green-50 dark:bg-green-900/20",children:(0,xr.jsx)("span",{className:"text-xs font-semibold text-green-800 dark:text-green-200",children:le("assignmentsUppercase")})}),i.filter(e=>"assignment"===e.type).sort((e,t)=>(e.order||0)-(t.order||0)).map(e=>{var t;const r=vt(e);return(0,xr.jsx)("div",{className:"p-3 pl-8 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800 ".concat((null===Ne||void 0===Ne?void 0:Ne._id)===e._id?"bg-indigo-100 dark:bg-indigo-900/30":""),onClick:()=>gt(e),children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-2 flex-1",children:[(0,xr.jsx)(Um,{className:"w-4 h-4 text-green-600"}),(0,xr.jsx)("span",{className:"text-sm text-gray-900 dark:text-white",children:e.title})]}),(0,xr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,xr.jsx)("span",{className:"text-xs font-medium ".concat(r.color),children:r.label}),(0,xr.jsxs)("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:[r.grade,"%"]}),(null===(t=e.progress)||void 0===t?void 0:t.completed)&&(0,xr.jsx)(Om,{className:"w-4 h-4 text-green-600"})]})]})},e._id)})]}),i.filter(e=>"project"===e.type).length>0&&(0,xr.jsxs)("div",{children:[(0,xr.jsx)("div",{className:"px-4 py-2 bg-purple-50 dark:bg-purple-900/20",children:(0,xr.jsx)("span",{className:"text-xs font-semibold text-purple-800 dark:text-purple-200",children:le("projectsUppercase")})}),i.filter(e=>"project"===e.type).sort((e,t)=>(e.order||0)-(t.order||0)).map(e=>{var t;const r=vt(e);return(0,xr.jsx)("div",{className:"p-3 pl-8 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800 ".concat((null===Ne||void 0===Ne?void 0:Ne._id)===e._id?"bg-indigo-100 dark:bg-indigo-900/30":""),onClick:()=>gt(e),children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-2 flex-1",children:[(0,xr.jsx)(Um,{className:"w-4 h-4 text-purple-600"}),(0,xr.jsx)("span",{className:"text-sm text-gray-900 dark:text-white",children:e.title})]}),(0,xr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,xr.jsx)("span",{className:"text-xs font-medium ".concat(r.color),children:r.label}),(0,xr.jsxs)("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:[r.grade,"%"]}),(null===(t=e.progress)||void 0===t?void 0:t.completed)&&(0,xr.jsx)(Om,{className:"w-4 h-4 text-green-600"})]})]})},e._id)})]}),be[e._id]&&be[e._id].length>0&&(0,xr.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700",children:[(0,xr.jsx)("div",{className:"px-4 py-2 bg-orange-50 dark:bg-orange-900/20",children:(0,xr.jsxs)("span",{className:"text-xs font-semibold text-orange-800 dark:text-orange-200",children:["ACTIVE TESTS (",be[e._id].length,")"]})}),be[e._id].map(e=>{var t;const r=(je[e._id]||[]).filter(e=>"graded"===e.status),a=r.length>0?r.reduce((e,t)=>(t.score||0)>(e.score||0)?t:e,r[0]):null;return(0,xr.jsx)("div",{className:"p-3 pl-8 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800",onClick:()=>{de(a?"/student/test-results/".concat(a._id):"/student/test/".concat(String(e._id)))},children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-2 flex-1",children:[(0,xr.jsx)(th,{className:"w-4 h-4 text-orange-600"}),(0,xr.jsx)("span",{className:"text-sm text-gray-900 dark:text-white",children:e.title})]}),(0,xr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,xr.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[(null===(t=e.questions)||void 0===t?void 0:t.length)||0," questions"]}),e.timeLimitMinutes&&(0,xr.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["\u2022 ",e.timeLimitMinutes," min"]}),a?(0,xr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,xr.jsx)(Om,{className:"w-4 h-4 ".concat(a.passed?"text-green-600":"text-red-600")}),(0,xr.jsxs)("span",{className:"text-xs font-semibold ".concat(a.passed?"text-green-600":"text-red-600"),children:[a.score,"%"]})]}):(0,xr.jsx)("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Not Complete - 0%"})]})]})},e._id)})]})]})})]},e._id)})})]})}),(0,xr.jsxs)("div",{className:"lg:col-span-2",children:[Ne?(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[(0,xr.jsxs)("div",{className:"border-b border-gray-200 dark:border-gray-700 px-6 py-4",children:[(0,xr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Ne.title}),Ne.description&&(0,xr.jsx)("div",{className:"mt-3",children:Xm(Ne.description,Ne.type)}),(0,xr.jsxs)("div",{className:"mt-3 flex items-center space-x-4",children:[(0,xr.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat("lecture"===Ne.type?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"assignment"===Ne.type?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"),children:Ne.type.toUpperCase()}),(null===(x=Ne.progress)||void 0===x?void 0:x.completed)&&(0,xr.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:[(0,xr.jsx)(Om,{className:"w-3 h-3 mr-1"})," ",le("completed")]})]})]}),(0,xr.jsxs)("div",{className:"p-6",children:["lecture"===Ne.type&&(0,xr.jsxs)("div",{className:"space-y-4",children:["youtube"===(null===(f=Ne.video)||void 0===f?void 0:f.storageType)?(0,xr.jsx)(bh,{youtubeVideoId:null===(y=Ne.video)||void 0===y?void 0:y.youtubeVideoId,title:Ne.title,autoPlay:!1,contentId:Ne._id,onComplete:yt}):"cloudinary"===(null===(v=Ne.video)||void 0===v?void 0:v.storageType)?(0,xr.jsxs)("div",{className:"bg-black rounded-lg overflow-hidden",children:[(0,xr.jsx)("video",{src:Ne.video.cloudinaryUrl,className:"w-full h-full",controls:!0,controlsList:"nodownload",onEnded:async()=>{try{const r=localStorage.getItem("token"),a=await i.A.post("/api/content/".concat(Ne._id,"/complete"),{},{headers:{Authorization:"Bearer ".concat(r)}});try{var e;null!==a&&void 0!==a&&null!==(e=a.data)&&void 0!==e&&e.gamification&&(0,Jm.fireGamificationEvents)(a.data.gamification)}catch(t){console.error("\ud83c\udfac CourseDetailsPage: Error firing gamification events for Cloudinary lecture:",t)}await yt()}catch(r){console.error("Error marking complete:",r)}},children:"Your browser does not support the video tag."}),Ne.title&&(0,xr.jsx)("div",{className:"bg-gray-900 p-4",children:(0,xr.jsx)("h3",{className:"text-white font-semibold",children:Ne.title})})]}):(Ne.videoPath||"local"===(null===(b=Ne.video)||void 0===b?void 0:b.storageType)||(null===(w=Ne.video)||void 0===w?void 0:w.path)||(null===(j=Ne.video)||void 0===j?void 0:j.localPath)||(null===(k=Ne.video)||void 0===k?void 0:k.storedName))&&(0,xr.jsx)(rh.default,{videoUrl:"/api/content/".concat(Ne._id,"/stream"),title:Ne.title,autoPlay:!1,contentId:Ne._id,onComplete:yt}),Ne.description&&(0,xr.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[(0,xr.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"About this video"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:Ne.description})]})]}),"assignment"===Ne.type&&(0,xr.jsxs)("div",{className:"space-y-6",children:[(Ne.filePath||(null===(N=Ne.file)||void 0===N?void 0:N.path)||"telegram"===(null===(C=Ne.file)||void 0===C?void 0:C.storageType)&&(null===(A=Ne.file)||void 0===A?void 0:A.telegramFileId))&&(0,xr.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-6",children:[(0,xr.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:le("assignmentFile")}),(0,xr.jsxs)("button",{onClick:()=>wt(Ne._id,Ne.title),disabled:Pe===Ne._id,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[(0,xr.jsx)(Vm,{className:"w-5 h-5 mr-2"}),Pe===Ne._id?"Starting download...":le("downloadAssignment")]})]}),"graded"===(null===(S=Ne.progress)||void 0===S?void 0:S.status)?(0,xr.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-6",children:[(0,xr.jsx)("h3",{className:"text-lg font-semibold text-green-900 dark:text-green-200 mb-4",children:"Reviewed"}),(0,xr.jsxs)("p",{className:"text-lg font-bold text-green-800 dark:text-green-200 mb-2",children:["Grade: ",Ne.progress.gradePercent,"%"]}),null!=(null===(E=Ne.progress)||void 0===E||null===(D=E.reupload)||void 0===D?void 0:D.initialGradePercent)&&(null===(P=Ne.progress)||void 0===P||null===(T=P.reupload)||void 0===T?void 0:T.regradeUsed)&&(0,xr.jsxs)("p",{className:"text-sm text-green-800 dark:text-green-200 mb-2",children:["Original grade: ",Ne.progress.reupload.initialGradePercent,"% \u2022 Final grade after reupload: ",Ne.progress.gradePercent,"%"]}),Ne.progress.instructorFeedback&&(0,xr.jsxs)("div",{className:"mt-3 p-3 bg-white dark:bg-gray-800 rounded",children:[(0,xr.jsx)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Instructor Feedback:"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:Ne.progress.instructorFeedback})]}),Ne.solution&&(0,xr.jsx)("div",{className:"mt-4",children:(0,xr.jsxs)("button",{onClick:async()=>{try{const e=localStorage.getItem("token"),t=await i.A.get("/api/content/".concat(Ne._id,"/downloadSolution"),{headers:{Authorization:"Bearer ".concat(e)},responseType:"blob"}),r=window.URL.createObjectURL(t.data),a=document.createElement("a");a.href=r,a.setAttribute("download",Ne.solution.originalName||"solution.rar"),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(r),er.success("Solution downloaded successfully")}catch(e){console.error("Error downloading solution:",e),er.error("Failed to download solution. Please try again later.")}},className:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:[(0,xr.jsx)(Vm,{className:"w-5 h-5 mr-2"}),"Download Solution"]})}),(null===(_=Ne.progress)||void 0===_?void 0:_.reupload)&&(0,xr.jsx)("div",{className:"mt-6 border-t border-green-100 dark:border-green-800 pt-4",children:(()=>{const e=Ne.progress.reupload;return"pending"===e.status?(0,xr.jsxs)("div",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:["You have requested a reupload for this assignment. Waiting for instructor approval.",e.reason&&(0,xr.jsxs)("p",{className:"mt-1 text-xs text-yellow-700 dark:text-yellow-300",children:["Reason: ",e.reason]})]}):"rejected"===e.status?(0,xr.jsxs)("div",{className:"text-sm text-red-800 dark:text-red-200",children:["Your reupload request was rejected.",e.reason&&(0,xr.jsxs)("p",{className:"mt-1 text-xs text-red-700 dark:text-red-300",children:["Reason: ",e.reason]})]}):"approved"!==e.status||e.used?!e.canRequest||"none"!==e.status&&e.status?"completed"===e.status||e.used||e.regradeUsed?(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Reupload and regrade have been used for this assignment."}):null:(0,xr.jsxs)("div",{className:"space-y-3",children:[(0,xr.jsx)("p",{className:"text-sm text-gray-800 dark:text-gray-200",children:"If you believe your grade is unfair due to a mistake or technical issue, you may request one reupload for this assignment."}),(0,xr.jsx)("textarea",{rows:"3",value:Oe,onChange:e=>Fe(e.target.value),placeholder:"Explain why you are requesting a reupload (optional)",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-800 dark:border-gray-600 dark:text-white"}),(0,xr.jsx)("button",{type:"button",onClick:dt,disabled:Le,className:"inline-flex items-center px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-white rounded-md disabled:opacity-50 disabled:cursor-not-allowed",children:Le?"Submitting request...":"Request Reupload"}),(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"You can request a reupload only once per assignment. The instructor must approve it before you can upload again."})]}):(0,xr.jsxs)("div",{className:"space-y-3",children:[(0,xr.jsx)("p",{className:"text-sm text-green-800 dark:text-green-200",children:"Your reupload request was approved. You can upload one new file for regrading."}),(0,xr.jsx)("label",{className:"block text-sm text-gray-700 dark:text-gray-300",children:"Upload updated assignment (.rar or .zip):"}),(0,xr.jsx)("input",{type:"file",accept:".rar,.zip",onChange:bt,disabled:Ee,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100 disabled:opacity-50 disabled:cursor-not-allowed"}),Ee&&(0,xr.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,xr.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,xr.jsx)("div",{className:"bg-indigo-600 h-2 rounded-full transition-all",style:{width:"".concat(Math.max(0,Math.min(100,Ye)),"%")}})}),(0,xr.jsxs)("div",{className:"text-sm text-indigo-600",children:["processing"===He||"server"===He?"Finalizing upload...":le("uploadingAssignment"),Ye>0?" (".concat(Ye,"%)"):""]})]}),(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"You will not be able to reupload again after this."})]})})()})]}):"submitted_ungraded"===(null===(R=Ne.progress)||void 0===R?void 0:R.status)?(0,xr.jsxs)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-6",children:[(0,xr.jsx)("h3",{className:"text-lg font-semibold text-yellow-900 dark:text-yellow-200 mb-4",children:le("pendingGrading")}),null!==(O=Ne.progress)&&void 0!==O&&null!==(F=O.reupload)&&void 0!==F&&F.used?(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)("p",{className:"text-sm text-yellow-800 dark:text-yellow-200 mb-2",children:"Your reupload has been submitted and is waiting for regrading by the instructor."}),(0,xr.jsx)("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Temporary grade: 50% (pending regrade)."})]}):(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)("p",{className:"text-sm text-yellow-800 dark:text-yellow-200 mb-2",children:le("assignmentSubmittedSuccessfully")}),(0,xr.jsx)("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:le("currentGrade50Pending")})]})]}):Ne.endDate&&new Date>new Date(Ne.endDate)?(0,xr.jsxs)("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-6",children:[(0,xr.jsx)("h3",{className:"text-lg font-semibold text-red-900 dark:text-red-200 mb-4",children:le("deadlinePassed")}),(0,xr.jsx)("p",{className:"text-sm text-red-800 dark:text-red-200 mb-2",children:le("assignmentDeadlinePassed")}),(0,xr.jsx)("p",{className:"text-lg font-bold text-red-700 dark:text-red-300",children:le("gradeFailed")}),Ne.endDate&&(0,xr.jsxs)("p",{className:"text-xs text-red-600 dark:text-red-400 mt-2",children:[le("deadlineWas"),": ",new Date(Ne.endDate).toLocaleString()]})]}):(0,xr.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-6",children:[(0,xr.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:le("submitYourWork")}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:le("uploadCompletedAssignmentRar")}),Ne.endDate&&(0,xr.jsxs)("p",{className:"text-xs text-orange-600 dark:text-orange-400 mb-3",children:["\u23f0 ",le("deadline")," ",new Date(Ne.endDate).toLocaleString()]}),(0,xr.jsx)("label",{className:"block",children:(0,xr.jsx)("input",{type:"file",accept:".rar,.zip",onChange:bt,disabled:Ee,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100 disabled:opacity-50 disabled:cursor-not-allowed"})}),Ee&&(0,xr.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,xr.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,xr.jsx)("div",{className:"bg-indigo-600 h-2 rounded-full transition-all",style:{width:"".concat(Math.max(0,Math.min(100,Ye)),"%")}})}),(0,xr.jsxs)("div",{className:"text-sm text-indigo-600",children:["processing"===He||"server"===He?"Finalizing upload...":le("uploadingAssignment"),Ye>0?" (".concat(Ye,"%)"):""]})]})]})]}),"project"===Ne.type&&(0,xr.jsxs)("div",{className:"space-y-6",children:[("youtube"===(null===(L=Ne.video)||void 0===L?void 0:L.storageType)||"cloudinary"===(null===(M=Ne.video)||void 0===M?void 0:M.storageType)||Ne.videoPath||"local"===(null===(I=Ne.video)||void 0===I?void 0:I.storageType)||(null===(B=Ne.video)||void 0===B?void 0:B.path)||(null===(q=Ne.video)||void 0===q?void 0:q.localPath)||(null===(z=Ne.video)||void 0===z?void 0:z.storedName))&&(0,xr.jsx)("div",{className:"space-y-4",children:"youtube"===(null===(U=Ne.video)||void 0===U?void 0:U.storageType)?(0,xr.jsx)(bh,{youtubeVideoId:null===(V=Ne.video)||void 0===V?void 0:V.youtubeVideoId,title:Ne.title,autoPlay:!1,contentId:Ne._id,onComplete:yt}):"cloudinary"===(null===(Y=Ne.video)||void 0===Y?void 0:Y.storageType)?(0,xr.jsxs)("div",{className:"bg-black rounded-lg overflow-hidden",children:[(0,xr.jsx)("video",{src:Ne.video.cloudinaryUrl,className:"w-full h-full",controls:!0,controlsList:"nodownload",onEnded:async()=>{try{const r=localStorage.getItem("token"),a=await i.A.post("/api/content/".concat(Ne._id,"/complete"),{},{headers:{Authorization:"Bearer ".concat(r)}});try{var e;null!==a&&void 0!==a&&null!==(e=a.data)&&void 0!==e&&e.gamification&&(0,Jm.fireGamificationEvents)(a.data.gamification)}catch(t){console.error("\ud83c\udfac CourseDetailsPage: Error firing gamification events for Cloudinary project:",t)}await yt()}catch(r){console.error("Error marking complete:",r)}},children:"Your browser does not support the video tag."}),Ne.title&&(0,xr.jsx)("div",{className:"bg-gray-900 p-4",children:(0,xr.jsx)("h3",{className:"text-white font-semibold",children:Ne.title})})]}):(Ne.videoPath||"local"===(null===(W=Ne.video)||void 0===W?void 0:W.storageType)||(null===(H=Ne.video)||void 0===H?void 0:H.path)||(null===(G=Ne.video)||void 0===G?void 0:G.localPath)||(null===(K=Ne.video)||void 0===K?void 0:K.storedName))&&(0,xr.jsx)(rh.default,{videoUrl:"/api/content/".concat(Ne._id,"/stream"),title:Ne.title,autoPlay:!1,contentId:Ne._id,onComplete:yt})}),(Ne.starterFilePath||(null===(Q=Ne.file)||void 0===Q?void 0:Q.path)||"telegram"===(null===($=Ne.file)||void 0===$?void 0:$.storageType)&&(null===(X=Ne.file)||void 0===X?void 0:X.telegramFileId))&&(0,xr.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-6",children:[(0,xr.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:le("starterFiles")}),(0,xr.jsxs)("button",{onClick:()=>wt(Ne._id,Ne.title),disabled:Pe===Ne._id,className:"inline-flex items-center px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700",children:[(0,xr.jsx)(Vm,{className:"w-5 h-5 mr-2"}),Pe===Ne._id?"Starting download...":le("downloadStarterFiles")]})]}),"graded"===(null===(J=Ne.progress)||void 0===J?void 0:J.status)?(0,xr.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-6",children:[(0,xr.jsx)("h3",{className:"text-lg font-semibold text-green-900 dark:text-green-200 mb-4",children:le("reviewed")}),(0,xr.jsxs)("p",{className:"text-lg font-bold text-green-800 dark:text-green-200 mb-2",children:[le("gradeColon")," ",Ne.progress.gradePercent,"%"]}),null!=(null===(Z=Ne.progress)||void 0===Z||null===(ee=Z.reupload)||void 0===ee?void 0:ee.initialGradePercent)&&(null===(te=Ne.progress)||void 0===te||null===(re=te.reupload)||void 0===re?void 0:re.regradeUsed)&&(0,xr.jsxs)("p",{className:"text-sm text-green-800 dark:text-green-200 mb-2",children:["Original grade: ",Ne.progress.reupload.initialGradePercent,"% \u2022 Final grade after reupload: ",Ne.progress.gradePercent,"%"]}),Ne.progress.instructorFeedback&&(0,xr.jsxs)("div",{className:"mt-3 p-3 bg-white dark:bg-gray-800 rounded",children:[(0,xr.jsx)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:le("instructorFeedback")}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:Ne.progress.instructorFeedback})]}),Ne.solution&&(0,xr.jsx)("div",{className:"mt-4",children:(0,xr.jsxs)("button",{onClick:async()=>{try{const e=localStorage.getItem("token"),t=await i.A.get("/api/content/".concat(Ne._id,"/downloadSolution"),{headers:{Authorization:"Bearer ".concat(e)},responseType:"blob"}),r=window.URL.createObjectURL(t.data),a=document.createElement("a");a.href=r,a.setAttribute("download",Ne.solution.originalName||"solution.rar"),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(r),er.success("Solution downloaded successfully")}catch(r){var e,t;console.error("Error downloading solution:",r),er.error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to download solution")}},className:"inline-flex items-center px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700",children:[(0,xr.jsx)(Vm,{className:"w-5 h-5 mr-2"}),"Download Solution"]})})]}):"submitted_ungraded"===(null===(se=Ne.progress)||void 0===se?void 0:se.status)?(0,xr.jsxs)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-6",children:[(0,xr.jsx)("h3",{className:"text-lg font-semibold text-yellow-900 dark:text-yellow-200 mb-4",children:le("pendingGrading")}),null!==(ie=Ne.progress)&&void 0!==ie&&null!==(oe=ie.reupload)&&void 0!==oe&&oe.used?(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)("p",{className:"text-sm text-yellow-800 dark:text-yellow-200 mb-2",children:"Your reupload has been submitted and is waiting for regrading by the instructor."}),(0,xr.jsx)("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Temporary grade: 50% (pending regrade)."})]}):(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)("p",{className:"text-sm text-yellow-800 dark:text-yellow-200 mb-2",children:le("projectSubmittedSuccessfully")}),(0,xr.jsx)("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:le("currentGrade50Pending")})]})]}):Ne.endDate&&new Date>new Date(Ne.endDate)?(0,xr.jsxs)("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-6",children:[(0,xr.jsx)("h3",{className:"text-lg font-semibold text-red-900 dark:text-red-200 mb-4",children:le("deadlinePassed")}),(0,xr.jsx)("p",{className:"text-sm text-red-800 dark:text-red-200 mb-2",children:le("projectDeadlinePassed")}),(0,xr.jsx)("p",{className:"text-lg font-bold text-red-700 dark:text-red-300",children:le("gradeFailed")}),Ne.endDate&&(0,xr.jsxs)("p",{className:"text-xs text-red-600 dark:text-red-400 mt-2",children:[le("deadlineWas"),": ",new Date(Ne.endDate).toLocaleString()]})]}):(0,xr.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-6",children:[(0,xr.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:le("submitYourProject")}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:le("uploadCompletedProjectRar")}),Ne.endDate&&(0,xr.jsxs)("p",{className:"text-xs text-orange-600 dark:text-orange-400 mb-3",children:["\u23f0 ",le("deadline")," ",new Date(Ne.endDate).toLocaleString()]}),(0,xr.jsx)("label",{className:"block",children:(0,xr.jsx)("input",{type:"file",accept:".rar,.zip",onChange:bt,disabled:Ee,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100 disabled:opacity-50 disabled:cursor-not-allowed"})}),Ee&&(0,xr.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,xr.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,xr.jsx)("div",{className:"bg-indigo-600 h-2 rounded-full transition-all",style:{width:"".concat(Math.max(0,Math.min(100,Ye)),"%")}})}),(0,xr.jsxs)("div",{className:"text-sm text-indigo-600",children:["processing"===He||"server"===He?"Finalizing upload...":le("uploadingProject"),Ye>0?" (".concat(Ye,"%)"):""]})]})]})]})]})]}):(0,xr.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md h-96 flex items-center justify-center",children:(0,xr.jsxs)("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[(0,xr.jsx)(Um,{className:"w-16 h-16 mx-auto mb-4"}),(0,xr.jsx)("p",{children:le("selectContentFromLeft")})]})}),Ne&&(0,xr.jsx)("div",{className:"comments-section",children:(0,xr.jsx)(Ch,{contentId:Ne._id})})]})]})}),(0,xr.jsx)(tl,{steps:Fd(le),tourKey:"course_details",showButton:!0})]}):(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,xr.jsxs)("div",{className:"text-center",children:[(0,xr.jsx)("h2",{className:"text-xl font-medium text-gray-900 dark:text-white",children:le("courseNotFound")}),(0,xr.jsx)("button",{onClick:()=>de("/student/dashboard"),className:"mt-4 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:le("backToDashboard")})]})})},Sh=()=>{var e;const{groupId:t}=ne(),r=ae(),[n]=Me(),[s,o]=(0,a.useState)(null),[l,c]=(0,a.useState)([]),[d,u]=(0,a.useState)(!0);n.get("lecture");(0,a.useEffect)(()=>{m()},[t]);const m=async()=>{try{u(!0);const e=localStorage.getItem("token"),r=await i.A.get("/api/groups/".concat(t),{headers:{Authorization:"Bearer ".concat(e)}});o(r.data.group);const a=await i.A.get("/api/sections/group/".concat(t),{headers:{Authorization:"Bearer ".concat(e)}}),n=await Promise.all((a.data.data||[]).map(async t=>{try{const r=await i.A.get("/api/sections/".concat(t._id,"/access"),{headers:{Authorization:"Bearer ".concat(e)}});return(0,Be.A)((0,Be.A)({},t),{},{access:r.data})}catch(r){return(0,Be.A)((0,Be.A)({},t),{},{access:{hasAccess:!1,reason:"error"}})}}));c(n),u(!1)}catch(a){var e,r;console.error("Error fetching data:",a),alert((null===(e=a.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.message)||"Failed to fetch data"),u(!1)}};return d?(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,xr.jsxs)("div",{className:"text-center",children:[(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),(0,xr.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading sections..."})]})}):(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,xr.jsxs)("div",{className:"mb-8",children:[(0,xr.jsxs)("button",{onClick:()=>r("/student/dashboard"),className:"mb-4 text-indigo-600 hover:text-indigo-800 flex items-center",children:[(0,xr.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Dashboard"]}),(0,xr.jsxs)("h1",{className:"text-3xl font-bold text-gray-900",children:[null===s||void 0===s?void 0:s.name," - Course Sections"]}),(0,xr.jsxs)("p",{className:"mt-2 text-gray-600",children:["Course: ",null===s||void 0===s||null===(e=s.course)||void 0===e?void 0:e.name]})]}),(0,xr.jsx)("div",{className:"space-y-4",children:0===l.length?(0,xr.jsx)("div",{className:"bg-white p-12 text-center rounded-lg shadow",children:(0,xr.jsx)("p",{className:"text-gray-500 text-lg",children:"No sections available yet."})}):l.map(e=>{var t,a,n,i,o,l,c;return(0,xr.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:(0,xr.jsx)("div",{className:"p-6",children:(0,xr.jsxs)("div",{className:"flex items-start justify-between",children:[(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,xr.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:e.name}),(0,xr.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(e.isFree?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.isFree?"\u2705 Free":"\ud83d\udcb0 ".concat(Qm(e.priceCents||0,e.currency||"SYR"))}),(null===(t=e.access)||void 0===t?void 0:t.hasAccess)&&(0,xr.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"\ud83d\udd13 Unlocked"})]}),e.description&&(0,xr.jsx)("p",{className:"mt-2 text-gray-600",children:e.description}),(0,xr.jsxs)("div",{className:"mt-3 flex items-center space-x-6 text-sm text-gray-500",children:[(0,xr.jsxs)("span",{children:["\ud83d\udcf9 ",(null===(a=e.contentCounts)||void 0===a?void 0:a.lectures)||0," Lectures"]}),(0,xr.jsxs)("span",{children:["\ud83d\udcdd ",(null===(n=e.contentCounts)||void 0===n?void 0:n.assignments)||0," Assignments"]}),(0,xr.jsxs)("span",{children:["\ud83d\ude80 ",(null===(i=e.contentCounts)||void 0===i?void 0:i.projects)||0," Projects"]})]})]}),(0,xr.jsx)("div",{className:"ml-4",children:null!==(o=e.access)&&void 0!==o&&o.hasAccess?(0,xr.jsxs)("button",{onClick:()=>(()=>{var e;null!==s&&void 0!==s&&null!==(e=s.course)&&void 0!==e&&e._id&&r("/student/course/".concat(s.course._id,"/details"))})(e._id),className:"px-6 py-3 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition flex items-center",children:[(0,xr.jsxs)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),"Start Learning"]}):(0,xr.jsx)("div",{className:"text-center",children:"payment_required"===(null===(l=e.access)||void 0===l?void 0:l.reason)?(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsxs)("div",{className:"px-6 py-3 bg-gray-200 text-gray-500 rounded-md cursor-not-allowed flex items-center",children:[(0,xr.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"\ud83d\udd12 Locked"]}),(0,xr.jsxs)("p",{className:"mt-2 text-sm text-red-600 font-medium",children:["Payment Required: ",Qm(e.priceCents||0,e.currency||"SYR")]}),(0,xr.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Contact instructor to unlock"})]}):"not_enrolled"===(null===(c=e.access)||void 0===c?void 0:c.reason)?(0,xr.jsx)("div",{className:"px-6 py-3 bg-gray-200 text-gray-500 rounded-md cursor-not-allowed",children:"Not Enrolled"}):(0,xr.jsx)("div",{className:"px-6 py-3 bg-gray-200 text-gray-500 rounded-md cursor-not-allowed",children:"Access Denied"})})})]})})},e._id)})})]})})},Eh=(0,a.lazy)(()=>Promise.resolve().then(r.bind(r,1089))),Dh=(0,a.lazy)(()=>Promise.resolve().then(r.bind(r,4192))),Ph=()=>{var e;const{sectionId:t}=ne(),n=ae(),[s]=Me(),[o,l]=(0,a.useState)(null),[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)(null),[h,p]=(0,a.useState)(!0),[g,x]=(0,a.useState)({}),[f,y]=(0,a.useState)([]),[v,b]=(0,a.useState)({}),[w,j]=(0,a.useState)(!1),[k,N]=(0,a.useState)(null),C=s.get("lecture"),A=(0,a.useRef)({}),[S,E]=(0,a.useState)(""),D=async function(e,t){let{type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{N(e);const a=localStorage.getItem("token"),n=r?"/api/content/".concat(e,"/download?type=").concat(encodeURIComponent(r)):"/api/content/".concat(e,"/download"),s=await i.A.get(n,{headers:{Authorization:"Bearer ".concat(a)},responseType:"blob",validateStatus:e=>e<500});if(204===s.status||200===s.status&&0===s.data.size)return;if(s.status>=400)throw new Error("Download failed");if(s.data.type&&s.data.type.includes("json")){const e=await s.data.text();try{const t=JSON.parse(e);throw new Error(t.message||"Download failed")}catch(qe){throw new Error("Download failed")}}const o=s.headers["content-disposition"];let l="".concat(t||"file",".rar");if(o){const e=o.match(/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/i);e&&e[1]&&(l=e[1].replace(/["']/g,"").trim())}l.match(/\.(rar|zip)$/i)||(l+=".rar");const c=window.URL.createObjectURL(s.data),d=document.createElement("a");d.href=c,d.setAttribute("download",l),document.body.appendChild(d),d.click(),setTimeout(()=>{document.body.removeChild(d),window.URL.revokeObjectURL(c)},100)}catch(a){console.error("[StudentSectionContent] Error downloading file:",a),alert("Failed to download file. Please try again later.")}finally{setTimeout(()=>{N(t=>t===e?null:t)},1200)}};(0,a.useEffect)(()=>{_(),P()},[t]),(0,a.useEffect)(()=>{let e=!1;return(async()=>{try{var t,r;if(!u||"youtube"!==(null===(t=u.video)||void 0===t?void 0:t.storageType))return void E("");const a=u._id,n=A.current[a];if(n)return void E(n);const s=localStorage.getItem("token"),o=await i.A.post("/api/secure/video/".concat(a,"/session"),{},{headers:{Authorization:"Bearer ".concat(s)}}),l=null===o||void 0===o||null===(r=o.data)||void 0===r?void 0:r.secureUrl;if(!l)return void E("");A.current[a]=l,e||E(l)}catch(a){console.error("Error creating secure playback session:",a),e||E("")}})(),()=>{e=!0}},[null===u||void 0===u?void 0:u._id,null===u||void 0===u||null===(e=u.video)||void 0===e?void 0:e.storageType]);const P=async()=>{try{j(!0);const e=localStorage.getItem("token"),r=(await i.A.get("/api/active-tests/section/".concat(t),{headers:{Authorization:"Bearer ".concat(e)}})).data.tests||[];y(r);for(const t of r)T(t._id)}catch(e){console.error("Error fetching tests:",e),y([])}finally{j(!1)}},T=async e=>{try{const t=localStorage.getItem("token"),r=(await i.A.get("/api/active-tests/".concat(e,"/attempts"),{headers:{Authorization:"Bearer ".concat(t)}})).data.attempts||[];b(t=>(0,Be.A)((0,Be.A)({},t),{},{[e]:r}))}catch(t){console.error("Error fetching test attempts:",t),b(t=>(0,Be.A)((0,Be.A)({},t),{},{[e]:[]}))}},_=async()=>{try{p(!0);const e=localStorage.getItem("token"),r=await i.A.get("/api/sections/".concat(t,"/access"),{headers:{Authorization:"Bearer ".concat(e)}});if(!r.data.hasAccess&&("payment_required"===r.data.reason||"payment_pending"===r.data.reason))return void n("/student/section/".concat(t,"/payment"));const a=await i.A.get("/api/sections/".concat(t),{headers:{Authorization:"Bearer ".concat(e)}});l(a.data.data);const s=(await i.A.get("/api/content/section/".concat(t),{headers:{Authorization:"Bearer ".concat(e)}})).data.data||[];d(s);const o={};s.forEach(e=>{e.progress&&(o[e._id]=e.progress)}),x(o);let c=s[0];if(C){const e=s.find(e=>e._id===C);e&&(c=e)}m(c)}catch(a){var e,r;console.error("Error fetching data:",a),alert((null===(e=a.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.message)||"Failed to fetch data")}finally{p(!1)}},R=async e=>{try{const a=localStorage.getItem("token"),n=await i.A.post("/api/content/".concat(e,"/complete"),{},{headers:{Authorization:"Bearer ".concat(a)}});console.log("\ud83d\udcda SectionContent: Content completion response:",null===n||void 0===n?void 0:n.data);try{var t;if(null!==n&&void 0!==n&&null!==(t=n.data)&&void 0!==t&&t.gamification)console.log("\ud83d\udcda SectionContent: Firing gamification events for content completion"),(0,Jm.fireGamificationEvents)(n.data.gamification);else{const t=c.find(t=>t._id===e);let a,n;switch((null===t||void 0===t?void 0:t.type)||"lesson"){case"lecture":a="lessonCompleted",n="\ud83d\udcda Lecture completed! Keep learning!";break;case"assignment":a="assignmentSubmitted",n="\ud83d\udcdd Assignment completed! Well done!";break;case"project":a="projectSubmitted",n="\ud83d\ude80 Project completed! Great work!";break;default:a="lessonCompleted",n="\ud83d\udcda Lesson completed! Keep going!"}console.log("\ud83d\udcda SectionContent: Firing specific content completion toast",a);const{showGamificationToast:s}=await Promise.resolve().then(r.bind(r,4e3));s(a,n)}}catch(s){console.error("\ud83d\udcda SectionContent: Error firing gamification events:",s)}x(t=>(0,Be.A)((0,Be.A)({},t),{},{[e]:n.data.data})),d(t=>t.map(t=>t._id===e?(0,Be.A)((0,Be.A)({},t),{},{progress:n.data.data}):t)),_(),alert("\u2705 Marked as completed!")}catch(s){var a,n;console.error("Error marking as completed:",s),alert((null===(a=s.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message)||"Failed to mark as completed")}},O=()=>{const e=c.length;if(0===e)return 0;const t=Object.values(g).filter(e=>e.completed).length;return Math.round(t/e*100)};return h?(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,xr.jsxs)("div",{className:"text-center",children:[(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),(0,xr.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading content..."})]})}):(0,xr.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,xr.jsx)("div",{className:"bg-white shadow",children:(0,xr.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,xr.jsxs)("button",{onClick:()=>n(-1),className:"text-indigo-600 hover:text-indigo-800 flex items-center",children:[(0,xr.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back"]}),(0,xr.jsx)("div",{className:"h-6 w-px bg-gray-300"}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:null===o||void 0===o?void 0:o.name}),(0,xr.jsx)("p",{className:"text-sm text-gray-500",children:null!==o&&void 0!==o&&o.isFree?"\u2705 Free Section":"\ud83d\udcb0 ".concat(Qm((null===o||void 0===o?void 0:o.priceCents)||0,(null===o||void 0===o?void 0:o.currency)||"SYR"))})]})]}),(0,xr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,xr.jsxs)("div",{className:"text-right",children:[(0,xr.jsx)("p",{className:"text-sm text-gray-600",children:"Progress"}),(0,xr.jsxs)("p",{className:"text-2xl font-bold text-indigo-600",children:[O(),"%"]})]}),(0,xr.jsx)("div",{className:"w-32 h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,xr.jsx)("div",{className:"h-full bg-indigo-600 transition-all duration-300",style:{width:"".concat(O(),"%")}})})]})]})})}),(0,xr.jsxs)("div",{className:"flex h-[calc(100vh-80px)]",children:[(0,xr.jsxs)("div",{className:"w-80 bg-gray-50 border-r border-gray-200 overflow-y-auto p-4",children:[(0,xr.jsx)("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Course Content"}),(()=>{const e={lecture:c.filter(e=>"lecture"===e.type),assignment:c.filter(e=>"assignment"===e.type),project:c.filter(e=>"project"===e.type)},t={lecture:"\ud83c\udfa5",assignment:"\ud83d\udcdd",project:"\ud83d\ude80"},r={lecture:"Lectures",assignment:"Assignments",project:"Projects"};return(0,xr.jsxs)("div",{className:"space-y-4",children:[Object.entries(e).map(e=>{let[a,n]=e;return 0===n.length?null:(0,xr.jsxs)("div",{children:[(0,xr.jsxs)("h3",{className:"text-sm font-semibold text-gray-700 mb-2 flex items-center",children:[(0,xr.jsx)("span",{className:"mr-2",children:t[a]}),r[a]," (",n.length,")"]}),(0,xr.jsx)("div",{className:"space-y-1",children:n.map(e=>{const t=g[e._id],r=null===t||void 0===t?void 0:t.completed,a=(null===u||void 0===u?void 0:u._id)===e._id;return(0,xr.jsx)("button",{onClick:async()=>{m(e)},className:"w-full text-left px-3 py-2 rounded-md transition ".concat(a?"bg-indigo-600 text-white":"bg-white hover:bg-gray-100 text-gray-900"),children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsx)("span",{className:"text-sm font-medium truncate flex-1",children:e.title}),r&&(0,xr.jsx)("span",{className:"ml-2 text-green-500",children:a?"\u2705":"\u2713"})]})},e._id)})})]},a)}),f.length>0&&(0,xr.jsxs)("div",{children:[(0,xr.jsxs)("h3",{className:"text-sm font-semibold text-gray-700 mb-2 flex items-center",children:[(0,xr.jsx)("span",{className:"mr-2",children:"\ud83d\udcdd"}),"Active Tests (",f.length,")"]}),(0,xr.jsx)("div",{className:"space-y-2",children:f.map(e=>{var t;const r=(v[e._id]||[]).filter(e=>"graded"===e.status),a=r.length>0?r.reduce((e,t)=>(t.score||0)>(e.score||0)?t:e,r[0]):null;return(0,xr.jsxs)("div",{className:"bg-white rounded-lg p-3 border border-gray-200 hover:shadow-md transition",children:[(0,xr.jsx)("div",{className:"flex items-start justify-between",children:(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsx)("h4",{className:"font-semibold text-gray-900 text-sm mb-1",children:e.title}),(0,xr.jsx)("p",{className:"text-xs text-gray-600 mb-2 line-clamp-2",children:e.description}),(0,xr.jsxs)("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[(0,xr.jsxs)("span",{className:"flex items-center",children:["\u23f1\ufe0f ",e.timeLimitMinutes," min"]}),(0,xr.jsxs)("span",{className:"flex items-center",children:["\ud83d\udcca ",(null===(t=e.questions)||void 0===t?void 0:t.length)||0," Q's"]}),(0,xr.jsxs)("span",{className:"flex items-center",children:["\ud83c\udfaf ",e.passingScore,"% pass"]})]}),a&&(0,xr.jsxs)("div",{className:"mt-2 text-xs font-semibold ".concat(a.passed?"text-green-600":"text-red-600"),children:["\u2713 Completed - Score: ",a.score,"%"]}),!a&&(0,xr.jsx)("div",{className:"mt-2 text-xs text-gray-400",children:"Not Complete - 0%"})]})}),(0,xr.jsx)("button",{onClick:()=>{n(a?"/student/test-results/".concat(a._id):"/student/test/".concat(e._id))},className:"w-full mt-3 px-4 py-2 text-white text-sm rounded-md transition font-medium ".concat(a?"bg-green-600 hover:bg-green-700":"bg-indigo-600 hover:bg-indigo-700"),children:a?"View Results":"Start Test"})]},e._id)})})]}),w&&(0,xr.jsxs)("div",{className:"text-center py-4",children:[(0,xr.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto"}),(0,xr.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Loading tests..."})]})]})})()]}),(0,xr.jsx)("div",{className:"flex-1 bg-white",children:(()=>{var e,t,r,n,s,i,o,l,c,d,m,h,p,x,f,y,v;if(!u)return(0,xr.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,xr.jsx)("p",{className:"text-gray-500",children:"Select content from the sidebar to start"})});const b=g[u._id],w=null===b||void 0===b?void 0:b.completed;return(0,xr.jsxs)("div",{className:"h-full flex flex-col",children:[(0,xr.jsx)("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:(0,xr.jsxs)("div",{className:"flex items-start justify-between",children:[(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:u.title}),u.description&&(0,xr.jsx)("p",{className:"mt-2 text-gray-600",children:u.description}),(0,xr.jsxs)("div",{className:"mt-3 flex items-center space-x-4 text-sm",children:[(0,xr.jsx)("span",{className:"px-3 py-1 rounded-full font-medium ".concat("lecture"===u.type?"bg-blue-100 text-blue-800":"assignment"===u.type?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"),children:u.type.toUpperCase()}),u.dueDate&&(0,xr.jsxs)("span",{className:"text-gray-500",children:["\ud83d\udcc5 Due: ",new Date(u.dueDate).toLocaleDateString()]}),u.maxScore&&(0,xr.jsxs)("span",{className:"text-gray-500",children:["\ud83c\udfaf Max Score: ",u.maxScore]})]})]}),(0,xr.jsx)("button",{onClick:()=>R(u._id),disabled:w,className:"px-4 py-2 rounded-md font-medium transition ".concat(w?"bg-green-100 text-green-800 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700"),children:w?"\u2705 Completed":"\u2713 Mark as Complete"})]})}),(0,xr.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:["lecture"===u.type&&(0,xr.jsxs)("div",{className:"space-y-4",children:["youtube"===(null===(e=u.video)||void 0===e?void 0:e.storageType)?(0,xr.jsx)(a.Suspense,{fallback:(0,xr.jsx)("div",{className:"h-64 bg-gray-100 rounded-lg animate-pulse"}),children:S?(0,xr.jsx)(Dh,{secureUrl:S,title:u.title,autoPlay:!1,contentId:u._id,onComplete:()=>{_()}}):(0,xr.jsx)("div",{className:"h-64 bg-gray-100 rounded-lg animate-pulse"})}):"cloudinary"===(null===(t=u.video)||void 0===t?void 0:t.storageType)?(0,xr.jsxs)("div",{className:"bg-black rounded-lg overflow-hidden",children:[(0,xr.jsx)("video",{src:u.video.cloudinaryUrl,className:"w-full h-full",controls:!0,controlsList:"nodownload",onEnded:()=>{R(u._id)},children:"Your browser does not support the video tag."}),u.title&&(0,xr.jsx)("div",{className:"bg-gray-900 p-4",children:(0,xr.jsx)("h3",{className:"text-white font-semibold",children:u.title})})]}):(u.videoPath||"local"===(null===(r=u.video)||void 0===r?void 0:r.storageType)||(null===(n=u.video)||void 0===n?void 0:n.path)||(null===(s=u.video)||void 0===s?void 0:s.localPath)||(null===(i=u.video)||void 0===i?void 0:i.storedName))&&(0,xr.jsx)(a.Suspense,{fallback:(0,xr.jsx)("div",{className:"h-64 bg-gray-100 rounded-lg animate-pulse"}),children:(0,xr.jsx)(Eh,{videoUrl:"/api/content/".concat(u._id,"/stream"),title:u.title,autoPlay:!1,contentId:u._id,onComplete:()=>{_()}})}),u.description&&(0,xr.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[(0,xr.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"About this video"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:u.description})]})]}),u.materials&&u.materials.length>0&&(0,xr.jsxs)("div",{className:"mt-6 bg-blue-50 dark:bg-blue-900/20 rounded-lg p-6 border border-blue-200 dark:border-blue-800",children:[(0,xr.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,xr.jsx)("svg",{className:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Useful Materials & Links"]}),(0,xr.jsx)("div",{className:"space-y-3",children:u.materials.map((e,t)=>(0,xr.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-md p-4 border border-gray-200 dark:border-gray-700 hover:shadow-md transition",children:(0,xr.jsxs)("div",{className:"flex items-start justify-between",children:[(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsxs)("div",{className:"flex items-center mb-1",children:[(0,xr.jsx)("span",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase mr-2",children:e.type||"link"}),(0,xr.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white",children:e.title})]}),e.description&&(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:e.description})]}),(0,xr.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"ml-4 px-3 py-1.5 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition flex items-center whitespace-nowrap",children:[(0,xr.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"Open"]})]})},t))})]}),"assignment"===u.type&&(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)("div",{className:"bg-gray-50 rounded-lg p-8 text-center",children:(0,xr.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,xr.jsx)("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,xr.jsx)("svg",{className:"w-10 h-10 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,xr.jsx)("path",{fillRule:"evenodd",d:"M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V7.414A2 2 0 0015.414 6L12 2.586A2 2 0 0010.586 2H6zm5 6a1 1 0 10-2 0v3.586l-1.293-1.293a1 1 0 10-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 11.586V8z",clipRule:"evenodd"})})}),(0,xr.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Assignment File"}),(0,xr.jsx)("p",{className:"text-gray-600 mb-4",children:u.fileName}),(0,xr.jsxs)("button",{type:"button",onClick:()=>D(u._id,u.title),disabled:k===u._id,className:"inline-flex items-center px-6 py-3 bg-green-600 text-white rounded-md hover:bg-green-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,xr.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),k===u._id?"Starting download...":"Download Assignment"]}),(0,xr.jsx)("p",{className:"mt-4 text-sm text-gray-500",children:"Complete the assignment and submit it to your instructor"})]})}),u.materials&&u.materials.length>0&&(0,xr.jsxs)("div",{className:"mt-6 bg-blue-50 dark:bg-blue-900/20 rounded-lg p-6 border border-blue-200 dark:border-blue-800",children:[(0,xr.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,xr.jsx)("svg",{className:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Useful Materials & Links"]}),(0,xr.jsx)("div",{className:"space-y-3",children:u.materials.map((e,t)=>(0,xr.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-md p-4 border border-gray-200 dark:border-gray-700 hover:shadow-md transition",children:(0,xr.jsxs)("div",{className:"flex items-start justify-between",children:[(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsxs)("div",{className:"flex items-center mb-1",children:[(0,xr.jsx)("span",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase mr-2",children:e.type||"link"}),(0,xr.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white",children:e.title})]}),e.description&&(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:e.description})]}),(0,xr.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"ml-4 px-3 py-1.5 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition flex items-center whitespace-nowrap",children:[(0,xr.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"Open"]})]})},t))})]})]}),"project"===u.type&&(0,xr.jsxs)("div",{className:"space-y-6",children:[("youtube"===(null===(o=u.video)||void 0===o?void 0:o.storageType)||"cloudinary"===(null===(l=u.video)||void 0===l?void 0:l.storageType)||u.videoPath||"local"===(null===(c=u.video)||void 0===c?void 0:c.storageType)||(null===(d=u.video)||void 0===d?void 0:d.path)||(null===(m=u.video)||void 0===m?void 0:m.localPath)||(null===(h=u.video)||void 0===h?void 0:h.storedName))&&(0,xr.jsxs)("div",{className:"space-y-4",children:[(0,xr.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"\ud83d\udcf9 Project Tutorial"}),"youtube"===(null===(p=u.video)||void 0===p?void 0:p.storageType)?(0,xr.jsx)(a.Suspense,{fallback:(0,xr.jsx)("div",{className:"h-64 bg-gray-100 rounded-lg animate-pulse"}),children:S?(0,xr.jsx)(Dh,{secureUrl:S,title:u.title,autoPlay:!1,contentId:u._id,onComplete:()=>{_()}}):(0,xr.jsx)("div",{className:"h-64 bg-gray-100 rounded-lg animate-pulse"})}):"cloudinary"===(null===(x=u.video)||void 0===x?void 0:x.storageType)?(0,xr.jsxs)("div",{className:"bg-black rounded-lg overflow-hidden",children:[(0,xr.jsx)("video",{src:u.video.cloudinaryUrl,className:"w-full h-full",controls:!0,controlsList:"nodownload",onEnded:()=>{R(u._id)},children:"Your browser does not support the video tag."}),u.title&&(0,xr.jsx)("div",{className:"bg-gray-900 p-4",children:(0,xr.jsx)("h3",{className:"text-white font-semibold",children:u.title})})]}):(0,xr.jsx)(Eh,{videoUrl:"/api/content/".concat(u._id,"/stream"),title:u.title,autoPlay:!1,contentId:u._id,onComplete:()=>{_()}}),u.description&&(0,xr.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,xr.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Project Description"}),(0,xr.jsx)("p",{className:"text-gray-600",children:u.description})]})]}),(u.starterFilePath||(null===(f=u.file)||void 0===f?void 0:f.path)||"telegram"===(null===(y=u.file)||void 0===y?void 0:y.storageType)&&(null===(v=u.file)||void 0===v?void 0:v.telegramFileId))&&(0,xr.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,xr.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"\ud83d\udce6 Starter Files"}),(0,xr.jsxs)("div",{className:"flex items-center justify-between bg-white rounded-md p-4 border border-gray-200",children:[(0,xr.jsxs)("div",{className:"flex items-center",children:[(0,xr.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mr-4",children:(0,xr.jsx)("svg",{className:"w-6 h-6 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,xr.jsx)("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z",clipRule:"evenodd"})})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"font-medium text-gray-900",children:u.starterFileName}),(0,xr.jsx)("p",{className:"text-sm text-gray-500",children:"Project starter files"})]})]}),(0,xr.jsxs)("button",{type:"button",onClick:()=>D(u._id,u.title,{type:"starter"}),disabled:k===u._id,className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,xr.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),k===u._id?"Starting download...":"Download"]})]})]}),u.materials&&u.materials.length>0&&(0,xr.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-6 border border-blue-200 dark:border-blue-800",children:[(0,xr.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,xr.jsx)("svg",{className:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Useful Materials & Links"]}),(0,xr.jsx)("div",{className:"space-y-3",children:u.materials.map((e,t)=>(0,xr.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-md p-4 border border-gray-200 dark:border-gray-700 hover:shadow-md transition",children:(0,xr.jsxs)("div",{className:"flex items-start justify-between",children:[(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsxs)("div",{className:"flex items-center mb-1",children:[(0,xr.jsx)("span",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase mr-2",children:e.type||"link"}),(0,xr.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white",children:e.title})]}),e.description&&(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:e.description})]}),(0,xr.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"ml-4 px-3 py-1.5 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition flex items-center whitespace-nowrap",children:[(0,xr.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"Open"]})]})},t))})]})]})]})]})})()})]})]})},Th=()=>{var e;const{id:t}=ne(),r=t,n=ae(),{user:s}=wr(),[o,l]=(0,a.useState)(null),[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)(!0),[h,p]=(0,a.useState)(null);(0,a.useEffect)(()=>{r&&g()},[r]);const g=async()=>{try{var e;if(m(!0),"suspended"===(null===s||void 0===s?void 0:s.status)&&null!==s&&void 0!==s&&null!==(e=s.restrictions)&&void 0!==e&&e.enrollNewCourses)return er.error("Your account is suspended. You cannot enroll in new courses."),void n("/student");const t=localStorage.getItem("token"),a=await i.A.get("/api/courses/".concat(r),{headers:{Authorization:"Bearer ".concat(t)}});l(a.data.course);const o=await i.A.get("/api/courses/".concat(r,"/groups"),{headers:{Authorization:"Bearer ".concat(t)}});d(o.data.data||[])}catch(o){var t,a;console.error("Error fetching data:",o),er.error((null===(t=o.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||"Failed to fetch course details")}finally{m(!1)}};return u?(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:(0,xr.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,xr.jsx)("div",{className:"mb-6",children:(0,xr.jsxs)("button",{onClick:()=>n(-1),className:"flex items-center text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300",children:[(0,xr.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back"]})}),(0,xr.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:(0,xr.jsxs)("div",{className:"p-6",children:[(0,xr.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:["Enroll in ",null===o||void 0===o?void 0:o.name]}),(null===o||void 0===o?void 0:o.description)&&(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-2",children:o.description}),(0,xr.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:"Enrolling in courses on EduFlow is free."}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Please select a group to enroll in this course"}),0===c.length?(0,xr.jsx)("div",{className:"text-center py-8",children:(0,xr.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No groups available for this course"})}):(0,xr.jsx)("div",{className:"space-y-4 mb-8",children:c.map(e=>{var t,r,a,n,s,i;return(0,xr.jsx)("div",{className:"border rounded-lg p-4 cursor-pointer transition-all ".concat(h===e._id?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20":"border-gray-200 dark:border-gray-700 hover:border-indigo-300 dark:hover:border-indigo-500"),onClick:()=>p(e._id),children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:e.name}),(0,xr.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[e.level," \u2022 ",new Date(e.startDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})," to ",new Date(e.endDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]}),(0,xr.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-2",children:["Instructor: ",(null===(t=e.instructor)||void 0===t?void 0:t.name)||"Not assigned"]})]}),(0,xr.jsxs)("div",{className:"text-right",children:[(0,xr.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Qm((null===(r=e.course)||void 0===r?void 0:r.totalPriceCents)||100*((null===(a=e.course)||void 0===a?void 0:a.totalCostSYR)||(null===(n=e.course)||void 0===n?void 0:n.totalPrice)||(null===(s=e.course)||void 0===s?void 0:s.cost)||0)||0,(null===(i=e.course)||void 0===i?void 0:i.currency)||"SYP")}),(0,xr.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[e.currentStudents,"/",e.maxStudents," students"]})]})]})},e._id)})}),(0,xr.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,xr.jsx)("button",{onClick:()=>n(-1),className:"px-6 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition",children:"Cancel"}),(0,xr.jsx)("button",{onClick:async()=>{var e;if("suspended"===(null===s||void 0===s?void 0:s.status)&&null!==s&&void 0!==s&&null!==(e=s.restrictions)&&void 0!==e&&e.enrollNewCourses)return er.error("Your account is suspended. You cannot enroll in new courses."),void n("/student");if(h)try{const e=localStorage.getItem("token");await i.A.post("/api/enroll",{courseId:r,groupId:h},{headers:{Authorization:"Bearer ".concat(e)}}),er.success("Successfully enrolled in course!"),n("/student/course/".concat(r,"/details"))}catch(o){var t,a;console.error("Enrollment error:",o);const e=(null===(t=o.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||"Failed to enroll in course";e.includes("already enrolled")?(er.info("You are already enrolled in this course"),n("/student/course/".concat(r,"/details"))):er.error(e)}else er.error("Please select a group")},disabled:!h||u||"suspended"===(null===s||void 0===s?void 0:s.status)&&(null===s||void 0===s||null===(e=s.restrictions)||void 0===e?void 0:e.enrollNewCourses),className:"px-6 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:"Enroll in Course"})]})]})})]})})},_h=(e,t)=>e&&t&&t.pointsRequired&&t.sypValue?Math.floor(e/t.pointsRequired*t.sypValue):0,Rh=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,a=20,n=!0;if("number"===typeof r?a=r:r&&"object"===typeof r&&("number"===typeof r.platformPercentage&&(a=r.platformPercentage),"boolean"===typeof r.allowPointsDiscount&&(n=r.allowPointsDiscount)),!e||e<=0||!t||t<=0){const r=Math.round((e||0)*a/100),n=(e||0)-r;return{originalCost:e||0,platformShare:r,instructorShare:n,usableBalance:0,finalCost:e||0,remainingBalance:t||0,balanceUsed:0,discountPercentage:0,platformDiscount:0,instructorDiscount:0,platformEarnings:r,instructorEarnings:n}}const s=Math.round(e*a/100),i=e-s;let o=0,l=0,c=0;if(n){o=Math.min(t,e);const r=a+(100-a)||100;l=Math.round(o*(a/r)),c=o-l}else o=((e,t)=>e&&t?Math.min(e,t):0)(t,s),l=o,c=0;const d=s-l,u=i-c;return{originalCost:e,platformShare:s,instructorShare:i,usableBalance:o,finalCost:e-o,remainingBalance:t-o,balanceUsed:o,discountPercentage:e>0?Math.round(o/e*100):0,platformDiscount:l,instructorDiscount:c,platformEarnings:d,instructorEarnings:u}},Oh=e=>({SYP:"SYP",USD:"$",EUR:"\u20ac",GBP:"\xa3"}[e]||e),Fh=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"SYP";const r=Oh(t);return"SYP"===t?"".concat(e.toLocaleString()," ").concat(r):"".concat(r).concat(e.toFixed(2))},Lh=()=>{var e;const{sectionId:t}=ne(),r=ae(),{user:n}=wr(),[s,o]=(0,a.useState)(null),[l,c]=(0,a.useState)(!0),[d,u]=(0,a.useState)(!1),[m,h]=(0,a.useState)(null),[p,g]=(0,a.useState)(""),[x,f]=(0,a.useState)([]),[y,v]=(0,a.useState)([]),[b,w]=(0,a.useState)(!1),[j,k]=(0,a.useState)(null),[N,C]=(0,a.useState)(["USD","EUR","GBP","SYP"]),[A,S]=(0,a.useState)("SYP"),[E,D]=(0,a.useState)(null),[P,T]=(0,a.useState)(1),[_,R]=(0,a.useState)(!1),[O,F]=(0,a.useState)(!1),[L,M]=(0,a.useState)(null),[I,B]=(0,a.useState)(null),[q,z]=(0,a.useState)(null);(0,a.useEffect)(()=>{U(),V(),Y(),W(),H(),"admin"===(null===n||void 0===n?void 0:n.role)&&G()},[t,null===n||void 0===n?void 0:n.role]);const U=async()=>{try{var e;if("suspended"===(null===n||void 0===n?void 0:n.status)&&null!==n&&void 0!==n&&null!==(e=n.restrictions)&&void 0!==e&&e.continueCourses)return er.error("Your account is suspended. You cannot make new payments or continue courses."),void r("/student");c(!0);const a=localStorage.getItem("token"),s=await i.A.get("/api/sections/".concat(t),{headers:{Authorization:"Bearer ".concat(a)}});o(s.data.data)}catch(l){var a,s;console.error("Error fetching section:",l),er.error((null===(a=l.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||"Failed to fetch section details")}finally{c(!1)}},V=async()=>{try{const e=await i.A.get("/api/admin/settings/payment-receivers");f(e.data.data||[]),v(e.data.providers||[])}catch(e){console.error("Error fetching payment receivers:",e)}},Y=async()=>{try{var e;const t=(null===(e=(await i.A.get("/api/currency/supported")).data)||void 0===e?void 0:e.data)||{},r=t.supportedCurrencies||["USD","EUR","GBP","SYP"],a=t.defaultCurrency||"SYP";C(r),r.includes(a)?S(a):S(r[0]||"SYP")}catch(t){console.error("Error fetching supported currencies:",t)}},W=async()=>{try{const e=localStorage.getItem("token"),a=await i.A.get("/api/sections/".concat(t,"/access"),{headers:{Authorization:"Bearer ".concat(e)}});if(a.data.latestPayment&&"pending"===a.data.latestPayment.status)k(a.data.latestPayment);else if(a.data.hasAccess&&"paid"===a.data.reason){er.info("You already have access to this section");const a=await i.A.get("/api/sections/".concat(t),{headers:{Authorization:"Bearer ".concat(e)}}),n=a.data.data.course._id||a.data.data.course;r("/student/course/".concat(n,"/details"))}}catch(e){console.error("Error checking existing payment:",e)}},H=async()=>{try{const e=localStorage.getItem("token"),t=(await i.A.get("/api/gamification/my-stats",{headers:{Authorization:"Bearer ".concat(e)}})).data.stats;M(t),null!==t&&void 0!==t&&t.conversionRate&&B(e=>{var r,a,n;return e||{pointsRequired:null!==(r=t.conversionRate.pointsRequired)&&void 0!==r?r:500,sypValue:null!==(a=t.conversionRate.sypValue)&&void 0!==a?a:1e4,minimumPointsThreshold:null!==(n=t.conversionRate.minimumPointsThreshold)&&void 0!==n?n:500,enableBalancePayments:!1!==t.conversionRate.enableBalancePayments}})}catch(e){console.error("Error fetching user stats:",e)}},G=async()=>{try{const e=await i.A.get("/api/gamification/settings");B(e.data.conversionSettings||{pointsRequired:500,sypValue:1e4,enableBalancePayments:!0,minimumPointsThreshold:500})}catch(e){console.error("Error fetching conversion settings:",e),B({pointsRequired:500,sypValue:1e4,enableBalancePayments:!0,minimumPointsThreshold:500})}};(0,a.useEffect)(()=>{if(s&&L&&I){const t=_h(L.points,I);if("SYP"!==A&&(null==E||Number.isNaN(E)))return void z(null);const r="SYP"===A?s.priceCents:Math.round(100*E);if(O&&t>0){var e;const a=Rh(r/100,t,{allowPointsDiscount:!1!==(null===s||void 0===s||null===(e=s.course)||void 0===e?void 0:e.allowPointsDiscount)});z(a)}else z(null)}else z(null)},[O,s,L,I,A,E]),(0,a.useEffect)(()=>{s&&"SYP"!==A?K():"SYP"===A&&(D(null===s||void 0===s?void 0:s.priceCents),T(1))},[A,s]);const K=async()=>{if(s&&"SYP"!==A)try{R(!0);const e=s.priceCents/100;console.log(" Converting currency:",{priceCents:s.priceCents,actualSYPAmount:e,targetCurrency:A});const t=await i.A.post("/api/currency/convert",{amountInSYP:e,targetCurrency:A});console.log(" Conversion result:",t.data.data),D(t.data.data.convertedAmount),T(t.data.data.exchangeRate)}catch(e){console.error(" Currency conversion error:",e),er.error("Failed to convert currency. Falling back to Syrian Pound (SYP)."),S("SYP"),D(null),T(1)}finally{R(!1)}},Q=e=>["image/jpeg","image/png","image/jpg","application/pdf"].includes(e.type)?e.size>10485760?(er.error("File size must be less than 10MB"),!1):(h(e),!0):(er.error("Please upload a valid receipt file (JPEG, PNG, PDF)"),!1),$=()=>p?x.find(e=>(e.providerKey||e.paymentMethod)===p):null,X=Array.isArray(y)?y.filter(e=>e&&e.key&&e.name&&!1!==e.isActive):[];return l?(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:(0,xr.jsxs)("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,xr.jsx)("div",{className:"mb-6",children:(0,xr.jsxs)("button",{onClick:()=>r(-1),className:"flex items-center text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300",children:[(0,xr.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back"]})}),j&&(0,xr.jsx)("div",{className:"mb-6 bg-yellow-50 dark:bg-yellow-900/30 border-l-4 border-yellow-400 p-4 rounded",children:(0,xr.jsxs)("div",{className:"flex",children:[(0,xr.jsx)("div",{className:"flex-shrink-0",children:(0,xr.jsx)("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,xr.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,xr.jsx)("div",{className:"ml-3",children:(0,xr.jsxs)("p",{className:"text-sm text-yellow-700 dark:text-yellow-200",children:["You already have a pending payment for this section submitted on ",new Date(j.submittedAt).toLocaleDateString(),". Please wait for admin approval before submitting another payment."]})})]})}),(0,xr.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:(0,xr.jsxs)("div",{className:"p-6",children:[(0,xr.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:["Payment for ",null===s||void 0===s?void 0:s.name]}),(0,xr.jsxs)("div",{className:"mb-6 space-y-4",children:[(0,xr.jsx)("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/30 rounded-lg",children:(0,xr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,xr.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Original Price (SYP):"}),(0,xr.jsx)("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:Qm((null===s||void 0===s?void 0:s.priceCents)||0,"SYP")})]})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Select Payment Currency"}),(0,xr.jsx)("select",{value:A,onChange:e=>S(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:N.map(e=>(0,xr.jsxs)("option",{value:e,children:["USD"===e&&" US Dollar (USD)","EUR"===e&&" Euro (EUR)","GBP"===e&&" British Pound (GBP)","SYP"===e&&" Syrian Pound (SYP)"]},e))})]}),"SYP"!==A&&(0,xr.jsx)("div",{className:"p-4 bg-green-50 dark:bg-green-900/30 rounded-lg border-2 border-green-200 dark:border-green-700",children:_?(0,xr.jsxs)("div",{className:"flex items-center justify-center",children:[(0,xr.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-green-600"}),(0,xr.jsx)("span",{className:"ml-2 text-gray-700 dark:text-gray-300",children:"Converting..."})]}):(0,xr.jsxs)("div",{children:[(0,xr.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,xr.jsx)("span",{className:"text-gray-700 dark:text-gray-300 font-medium",children:"You will pay:"}),(0,xr.jsxs)("span",{className:"text-2xl font-bold text-green-700 dark:text-green-400",children:[null===E||void 0===E?void 0:E.toFixed(2)," ",A]})]}),(0,xr.jsxs)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Exchange rate: 1 SYP = ",null===P||void 0===P?void 0:P.toFixed(6)," ",A]})]})}),L&&I&&!1!==I.enableBalancePayments&&(()=>{const e=_h(L.points,I),t=I.minimumPointsThreshold||500,r=L.points>=t;return e>0||L.points>0?(0,xr.jsxs)("div",{className:"p-4 bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-purple-900/20 dark:to-indigo-900/20 rounded-lg border-2 border-purple-200 dark:border-purple-700",children:[(0,xr.jsxs)("div",{className:"flex items-start justify-between",children:[(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsxs)("div",{className:"flex items-center mb-2",children:[(0,xr.jsx)("div",{className:"w-8 h-8 bg-purple-100 dark:bg-purple-800/30 rounded-full flex items-center justify-center mr-3",children:(0,xr.jsx)("span",{className:"text-purple-600 dark:text-purple-400 font-bold",children:"\ud83d\udcb0"})}),(0,xr.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Use Wallet Balance"})]}),(0,xr.jsx)("div",{className:"ml-11 space-y-2",children:r?(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["You have ",(0,xr.jsx)("span",{className:"font-bold text-purple-600 dark:text-purple-400",children:Fh(e)})," available in your wallet"]}),(0,xr.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:["Earned from ",L.points.toLocaleString()," points \u2022 Rate: ",I.pointsRequired," pts = ",Fh(I.sypValue)]})]}):(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["You have ",(0,xr.jsxs)("span",{className:"font-semibold",children:[L.points.toLocaleString()," points"]})]}),(0,xr.jsxs)("p",{className:"text-xs text-red-600 dark:text-red-400",children:["\u26a0\ufe0f Not enough points. Minimum required: ",t.toLocaleString()," points"]}),(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:"Keep earning points to unlock balance usage!"})]})})]}),(0,xr.jsx)("div",{className:"flex items-center",children:(0,xr.jsxs)("label",{className:"relative inline-flex items-center ".concat(r?"cursor-pointer":"cursor-not-allowed opacity-50"),children:[(0,xr.jsx)("input",{type:"checkbox",checked:O&&r,onChange:e=>r&&F(e.target.checked),disabled:!r,className:"sr-only peer"}),(0,xr.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 dark:peer-focus:ring-purple-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-purple-600 peer-disabled:bg-gray-300 peer-disabled:cursor-not-allowed"})]})})]}),O&&q&&(0,xr.jsxs)("div",{className:"mt-4 ml-11 p-3 bg-white dark:bg-gray-800 rounded-lg border border-purple-200 dark:border-purple-600",children:[(0,xr.jsx)("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-3",children:"Payment Breakdown"}),(0,xr.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,xr.jsxs)("div",{className:"flex justify-between",children:[(0,xr.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Original Cost:"}),(0,xr.jsx)("span",{className:"text-gray-900 dark:text-white",children:Fh(q.originalCost,A)})]}),(0,xr.jsxs)("div",{className:"flex justify-between text-green-600 dark:text-green-400",children:[(0,xr.jsx)("span",{children:"Balance Discount:"}),(0,xr.jsxs)("span",{children:["-",Fh(q.usableBalance,A)," (",q.discountPercentage,"% off)"]})]}),(0,xr.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2",children:(0,xr.jsxs)("div",{className:"flex justify-between font-bold",children:[(0,xr.jsx)("span",{className:"text-gray-900 dark:text-white",children:"Final Amount:"}),(0,xr.jsx)("span",{className:"text-xl text-indigo-600 dark:text-indigo-400",children:Fh(q.finalCost,A)})]})}),(0,xr.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-500 mt-2",children:[(0,xr.jsx)("span",{children:"Remaining Balance:"}),(0,xr.jsx)("span",{children:Fh(q.remainingBalance)})]})]})]})]}):null})(),I&&!1===I.enableBalancePayments&&(0,xr.jsx)("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Paying with wallet balance is currently disabled by the administrator."})})]}),(0,xr.jsxs)("form",{onSubmit:async e=>{var a;if(e.preventDefault(),"suspended"===(null===n||void 0===n?void 0:n.status)&&null!==n&&void 0!==n&&null!==(a=n.restrictions)&&void 0!==a&&a.continueCourses)er.error("Your account is suspended. You cannot make new payments or continue courses.");else if(p)if(m){if("SYP"!==A){if(_)return void er.error("Please wait until the currency conversion finishes before submitting.");if(null==E||Number.isNaN(E))return void er.error("Currency conversion failed. Please try again or switch back to SYP.")}try{u(!0);const e=new FormData;e.append("sectionId",t),e.append("paymentMethod",p),e.append("receipt",m),e.append("baseAmountSYP",s.priceCents);const a="SYP"===A?s.priceCents:Math.round(100*E);e.append("currency",A),e.append("amountCents",a),e.append("exchangeRate",P),O&&q?(e.append("useBalance","true"),e.append("balanceUsed",Math.round(100*q.usableBalance)),e.append("finalAmountCents",Math.round(100*q.finalCost)),e.append("balanceDiscountPercentage",q.discountPercentage)):(e.append("useBalance","false"),e.append("balanceUsed","0"),e.append("finalAmountCents",a),e.append("balanceDiscountPercentage","0")),console.log(" Submitting payment:",{baseAmountSYP:s.priceCents,currency:A,amountCents:a,exchangeRate:P,useBalance:O,balanceUsed:(null===q||void 0===q?void 0:q.usableBalance)||0,finalAmount:(null===q||void 0===q?void 0:q.finalCost)||a/100});const n=localStorage.getItem("token"),o=await i.A.post("/api/enroll/payments",e,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(n)}});er.success(o.data.message+" - Your payment will be reviewed by admin.");const l=await i.A.get("/api/sections/".concat(t),{headers:{Authorization:"Bearer ".concat(n)}}),c=l.data.data.course._id||l.data.data.course;r("/student/course/".concat(c,"/details"))}catch(f){var o,l,c,d,h,g,x;console.error("Payment submission error:",f),console.error("Error details:",{status:null===(o=f.response)||void 0===o?void 0:o.status,message:null===(l=f.response)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message,data:null===(d=f.response)||void 0===d?void 0:d.data});const e=(null===(h=f.response)||void 0===h||null===(g=h.data)||void 0===g?void 0:g.message)||"Failed to submit payment";er.error(e),403===(null===(x=f.response)||void 0===x?void 0:x.status)&&er.error("Authentication error. Please try logging out and back in.")}finally{u(!1)}}else er.error("Please upload a payment receipt");else er.error("Please select a payment method")},className:"space-y-6",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Payment Method"}),(0,xr.jsxs)("select",{value:p,onChange:e=>g(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",required:!0,children:[(0,xr.jsx)("option",{value:"",children:"Select payment method"}),X.length>0?X.map(e=>(0,xr.jsx)("option",{value:e.key,children:e.name},e.key)):(0,xr.jsx)("option",{value:"other",children:"Other"})]}),p&&$()&&(0,xr.jsxs)("div",{className:"mt-4 p-4 bg-indigo-50 dark:bg-indigo-900/30 rounded-lg border border-indigo-200 dark:border-indigo-700",children:[(0,xr.jsx)("h3",{className:"text-sm font-semibold text-indigo-900 dark:text-indigo-100 mb-2",children:"Payment Receiver Information"}),(0,xr.jsxs)("div",{className:"space-y-2 text-sm text-gray-700 dark:text-gray-300",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("span",{className:"font-medium",children:"Name:"})," ",(0,xr.jsx)("span",{className:"text-gray-900 dark:text-white",children:$().receiverName})]}),$().receiverEmail&&(0,xr.jsxs)("div",{children:[(0,xr.jsx)("span",{className:"font-medium",children:"Email:"})," ",(0,xr.jsx)("span",{className:"text-gray-900 dark:text-white",children:$().receiverEmail})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("span",{className:"font-medium",children:"Phone:"})," ",(0,xr.jsx)("span",{className:"text-gray-900 dark:text-white",children:$().receiverPhone})]}),$().receiverLocation&&(0,xr.jsxs)("div",{children:[(0,xr.jsx)("span",{className:"font-medium",children:"Location:"})," ",(0,xr.jsx)("span",{className:"text-gray-900 dark:text-white",children:$().receiverLocation})]}),$().accountDetails&&(0,xr.jsxs)("div",{children:[(0,xr.jsx)("span",{className:"font-medium",children:"Account Details:"})," ",(0,xr.jsx)("p",{className:"text-gray-900 dark:text-white whitespace-pre-wrap mt-1",children:$().accountDetails})]})]})]}),p&&!$()&&(0,xr.jsx)("div",{className:"mt-4 p-4 bg-yellow-50 dark:bg-yellow-900/30 rounded-lg border border-yellow-200 dark:border-yellow-700",children:(0,xr.jsx)("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:"Payment receiver information not available for this method. Please contact support for details."})})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Upload Payment Receipt"}),(0,xr.jsx)("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-dashed rounded-md transition-colors ".concat(b?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/30":"border-gray-300 dark:border-gray-600"),onDragOver:e=>{e.preventDefault(),e.stopPropagation(),w(!0)},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),w(!1)},onDrop:e=>{e.preventDefault(),e.stopPropagation(),w(!1);const t=e.dataTransfer.files;t&&t.length>0&&Q(t[0])},children:(0,xr.jsxs)("div",{className:"space-y-1 text-center",children:[(0,xr.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:(0,xr.jsx)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),(0,xr.jsxs)("div",{className:"flex text-sm text-gray-600 dark:text-gray-400",children:[(0,xr.jsxs)("label",{htmlFor:"receipt-upload",className:"relative cursor-pointer bg-white dark:bg-gray-700 rounded-md font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-500 dark:hover:text-indigo-300 focus-within:outline-none",children:[(0,xr.jsx)("span",{children:"Upload a file"}),(0,xr.jsx)("input",{id:"receipt-upload",name:"receipt",type:"file",className:"sr-only",onChange:e=>{const t=e.target.files[0];t&&Q(t)},accept:".jpg,.jpeg,.png,.pdf"})]}),(0,xr.jsx)("p",{className:"pl-1",children:"or drag and drop"})]}),(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PNG, JPG, PDF up to 10MB"}),m&&(0,xr.jsxs)("p",{className:"text-sm text-gray-900 dark:text-white mt-2",children:["Selected: ",m.name]})]})})]}),(0,xr.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,xr.jsx)("button",{type:"button",onClick:()=>r(-1),className:"px-6 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition",children:"Cancel"}),(0,xr.jsxs)("button",{type:"submit",disabled:d||!p||!m||j||_||"SYP"!==A&&(null==E||Number.isNaN(E))||"suspended"===(null===n||void 0===n?void 0:n.status)&&(null===n||void 0===n||null===(e=n.restrictions)||void 0===e?void 0:e.continueCourses),className:"px-6 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition flex items-center",children:[d&&(0,xr.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,xr.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,xr.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submit Payment"]})]})]})]})})]})})},Mh=()=>{var e;const{courseId:t}=ne(),[r]=Me(),n=ae(),{user:s}=wr(),[o,l]=(0,a.useState)([]),[c,d]=(0,a.useState)(!0),[u,m]=(0,a.useState)(!1),[h,p]=(0,a.useState)(null),[g,x]=(0,a.useState)(""),[f,y]=(0,a.useState)([]),[v,b]=(0,a.useState)([]),[w,j]=(0,a.useState)(!1),[k,N]=(0,a.useState)(["USD","EUR","GBP","SYP"]),[C,A]=(0,a.useState)("SYP"),[S,E]=(0,a.useState)(null),[D,P]=(0,a.useState)(1),[T,_]=(0,a.useState)(!1);(0,a.useEffect)(()=>{O(),F(),L()},[t]),(0,a.useEffect)(()=>{if(o.length>0&&"SYP"!==C)R();else if("SYP"===C){const{total:e}=B();E(e),P(1)}},[C,o]);const R=async()=>{if(0!==o.length&&"SYP"!==C)try{_(!0);const{total:e}=B(),t=Math.round(e/100);console.log("\ud83d\udcb1 Converting total for multiple sections:",{totalPriceCents:e,actualSYPAmount:t,targetCurrency:C});const r=await i.A.post("/api/currency/convert",{amountInSYP:t,targetCurrency:C});console.log("\u2705 Conversion result:",r.data.data),E(r.data.data.convertedAmount),P(r.data.data.exchangeRate)}catch(e){console.error("Currency conversion error:",e),er.error("Failed to convert currency")}finally{_(!1)}},O=async()=>{try{var e,t;if("suspended"===(null===s||void 0===s?void 0:s.status)&&null!==s&&void 0!==s&&null!==(e=s.restrictions)&&void 0!==e&&e.continueCourses)return er.error("Your account is suspended. You cannot make new payments or continue courses."),void n("/student");d(!0);const a=(null===(t=r.get("sections"))||void 0===t?void 0:t.split(","))||[],o=localStorage.getItem("token"),c=a.map(e=>i.A.get("/api/sections/".concat(e),{headers:{Authorization:"Bearer ".concat(o)}})),u=await Promise.all(c);l(u.map(e=>e.data.data))}catch(c){var a,o;console.error("Error fetching sections:",c),er.error((null===(a=c.response)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.message)||"Failed to fetch sections")}finally{d(!1)}},F=async()=>{try{const e=await i.A.get("/api/admin/settings/payment-receivers");y(e.data.data||[]),b(e.data.providers||[])}catch(e){console.error("Error fetching payment receivers:",e)}},L=async()=>{try{var e;const t=(null===(e=(await i.A.get("/api/currency/supported")).data)||void 0===e?void 0:e.data)||{},r=t.supportedCurrencies||["USD","EUR","GBP","SYP"],a=t.defaultCurrency||"SYP";N(r),r.includes(a)?A(a):A(r[0]||"SYP")}catch(t){console.error("Error fetching supported currencies:",t)}},M=()=>g?f.find(e=>(e.providerKey||e.paymentMethod)===g):null,I=Array.isArray(v)?v.filter(e=>e&&e.key&&e.name&&!1!==e.isActive):[],B=()=>{var e;const t=o.reduce((e,t)=>e+(t.priceCents||0),0);return{total:t,currency:(null===(e=o[0])||void 0===e?void 0:e.currency)||"SYP"}},q=e=>["image/jpeg","image/png","image/jpg","application/pdf"].includes(e.type)?e.size>10485760?(er.error("File size must be less than 10MB"),!1):(p(e),!0):(er.error("Please upload a valid receipt file (JPEG, PNG, PDF)"),!1);if(c)return(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})});const{total:z,currency:U}=B();return(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:(0,xr.jsxs)("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,xr.jsx)("div",{className:"mb-6",children:(0,xr.jsxs)("button",{onClick:()=>n(-1),className:"flex items-center text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300",children:[(0,xr.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back"]})}),(0,xr.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:(0,xr.jsxs)("div",{className:"p-6",children:[(0,xr.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Pay for All Sections"}),(0,xr.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Unlock ",o.length," section",o.length>1?"s":""," with a single payment"]}),(0,xr.jsxs)("div",{className:"mb-6 bg-gray-50 dark:bg-gray-900 rounded-lg p-4",children:[(0,xr.jsx)("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Sections Included:"}),(0,xr.jsx)("ul",{className:"space-y-2",children:o.map((e,t)=>(0,xr.jsxs)("li",{className:"flex justify-between items-center text-sm",children:[(0,xr.jsxs)("span",{className:"text-gray-700 dark:text-gray-300",children:[t+1,". ",e.name]}),(0,xr.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:Qm(e.priceCents||0,e.currency||"SYP")})]},e._id))}),(0,xr.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,xr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,xr.jsx)("span",{className:"text-base font-semibold text-gray-900 dark:text-white",children:"Total Amount:"}),(0,xr.jsx)("span",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400",children:Qm(z,U)})]})})]}),(0,xr.jsxs)("form",{onSubmit:async e=>{var r;if(e.preventDefault(),"suspended"===(null===s||void 0===s?void 0:s.status)&&null!==s&&void 0!==s&&null!==(r=s.restrictions)&&void 0!==r&&r.continueCourses)er.error("Your account is suspended. You cannot make new payments or continue courses.");else if(g)if(h)try{m(!0);const e=localStorage.getItem("token"),{total:r}=B();console.log("\ud83d\udcb3 Submitting payments for multiple sections:",{totalSections:o.length,totalPriceCents:r,selectedCurrency:C,convertedAmount:S,exchangeRate:D});const a=o.map(t=>{let a;if("SYP"===C)a=t.priceCents;else{const e=t.priceCents/r,n=S*e;a=Math.round(100*n)}console.log("  \ud83d\udcdd Section: ".concat(t.name),{baseAmountSYP:t.priceCents,currency:C,amountCents:a,exchangeRate:D});const n=new FormData;return n.append("sectionId",t._id),n.append("paymentMethod",g),n.append("receipt",h),n.append("currency",C),n.append("amountCents",a),n.append("exchangeRate",D),n.append("baseAmountSYP",t.priceCents),i.A.post("/api/enroll/payments",n,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(e)}})});await Promise.all(a),er.success("Payment submitted for ".concat(o.length," section").concat(o.length>1?"s":"",". Awaiting verification.")),n("/student/course/".concat(t,"/details"))}catch(c){var a,l;console.error("Payment submission error:",c),er.error((null===(a=c.response)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.message)||"Failed to submit payment")}finally{m(!1)}else er.error("Please upload a payment receipt");else er.error("Please select a payment method")},className:"space-y-6",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Payment Method"}),(0,xr.jsxs)("select",{value:g,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",required:!0,children:[(0,xr.jsx)("option",{value:"",children:"Select payment method"}),I.length>0?I.map(e=>(0,xr.jsx)("option",{value:e.key,children:e.name},e.key)):(0,xr.jsx)("option",{value:"other",children:"Other"})]}),g&&M()&&(0,xr.jsxs)("div",{className:"mt-4 p-4 bg-indigo-50 dark:bg-indigo-900/30 rounded-lg border border-indigo-200 dark:border-indigo-700",children:[(0,xr.jsx)("h3",{className:"text-sm font-semibold text-indigo-900 dark:text-indigo-100 mb-2",children:"Payment Receiver Information"}),(0,xr.jsxs)("div",{className:"space-y-2 text-sm text-gray-700 dark:text-gray-300",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("span",{className:"font-medium",children:"Name:"})," ",(0,xr.jsx)("span",{className:"text-gray-900 dark:text-white",children:M().receiverName})]}),M().receiverEmail&&(0,xr.jsxs)("div",{children:[(0,xr.jsx)("span",{className:"font-medium",children:"Email:"})," ",(0,xr.jsx)("span",{className:"text-gray-900 dark:text-white",children:M().receiverEmail})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("span",{className:"font-medium",children:"Phone:"})," ",(0,xr.jsx)("span",{className:"text-gray-900 dark:text-white",children:M().receiverPhone})]}),M().receiverLocation&&(0,xr.jsxs)("div",{children:[(0,xr.jsx)("span",{className:"font-medium",children:"Location:"})," ",(0,xr.jsx)("span",{className:"text-gray-900 dark:text-white",children:M().receiverLocation})]}),M().accountDetails&&(0,xr.jsxs)("div",{children:[(0,xr.jsx)("span",{className:"font-medium",children:"Account Details:"})," ",(0,xr.jsx)("p",{className:"text-gray-900 dark:text-white whitespace-pre-wrap mt-1",children:M().accountDetails})]})]})]}),g&&!M()&&(0,xr.jsx)("div",{className:"mt-4 p-4 bg-yellow-50 dark:bg-yellow-900/30 rounded-lg border border-yellow-200 dark:border-yellow-700",children:(0,xr.jsx)("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:"Payment receiver information not available for this method. Please contact support for details."})})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Select Payment Currency"}),(0,xr.jsx)("select",{value:C,onChange:e=>A(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:k.map(e=>(0,xr.jsxs)("option",{value:e,children:[e," ","SYP"===e?"(Syrian Pound)":"USD"===e?"(US Dollar)":"EUR"===e?"(Euro)":"(British Pound)"]},e))}),(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Select the currency you want to pay in"})]}),"SYP"!==C&&(0,xr.jsx)("div",{className:"p-4 bg-green-50 dark:bg-green-900/30 rounded-lg border-2 border-green-200 dark:border-green-700",children:T?(0,xr.jsxs)("div",{className:"flex items-center justify-center",children:[(0,xr.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-green-600"}),(0,xr.jsx)("span",{className:"ml-3 text-gray-700 dark:text-gray-300",children:"Converting..."})]}):(0,xr.jsxs)("div",{children:[(0,xr.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,xr.jsx)("span",{className:"text-gray-700 dark:text-gray-300 font-medium",children:"You will pay:"}),(0,xr.jsxs)("span",{className:"text-2xl font-bold text-green-700 dark:text-green-400",children:[null===S||void 0===S?void 0:S.toFixed(2)," ",C]})]}),(0,xr.jsxs)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Exchange rate: 1 SYP = ",null===D||void 0===D?void 0:D.toFixed(6)," ",C]})]})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Upload Payment Receipt"}),(0,xr.jsx)("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-dashed rounded-md transition-colors ".concat(w?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/30":"border-gray-300 dark:border-gray-600"),onDragOver:e=>{e.preventDefault(),e.stopPropagation(),j(!0)},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),j(!1)},onDrop:e=>{e.preventDefault(),e.stopPropagation(),j(!1);const t=e.dataTransfer.files;t&&t.length>0&&q(t[0])},children:(0,xr.jsxs)("div",{className:"space-y-1 text-center",children:[(0,xr.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:(0,xr.jsx)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),(0,xr.jsxs)("div",{className:"flex text-sm text-gray-600 dark:text-gray-400",children:[(0,xr.jsxs)("label",{htmlFor:"receipt-upload",className:"relative cursor-pointer bg-white dark:bg-gray-700 rounded-md font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-500 dark:hover:text-indigo-300 focus-within:outline-none",children:[(0,xr.jsx)("span",{children:"Upload a file"}),(0,xr.jsx)("input",{id:"receipt-upload",name:"receipt",type:"file",className:"sr-only",onChange:e=>{const t=e.target.files[0];t&&q(t)},accept:".jpg,.jpeg,.png,.pdf"})]}),(0,xr.jsx)("p",{className:"pl-1",children:"or drag and drop"})]}),(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PNG, JPG, PDF up to 10MB"}),h&&(0,xr.jsxs)("p",{className:"text-sm text-gray-900 dark:text-white mt-2",children:["Selected: ",h.name]})]})})]}),(0,xr.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,xr.jsx)("button",{type:"button",onClick:()=>n(-1),className:"px-6 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition",children:"Cancel"}),(0,xr.jsxs)("button",{type:"submit",disabled:u||!g||!h||"suspended"===(null===s||void 0===s?void 0:s.status)&&(null===s||void 0===s||null===(e=s.restrictions)||void 0===e?void 0:e.continueCourses),className:"px-6 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition flex items-center",children:[u&&(0,xr.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,xr.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,xr.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submit Payment"]})]})]})]})})]})})},Ih=()=>{var e;const{t:t}=(0,ar.useTranslation)(),{user:r}=wr(),[n,s]=(0,a.useState)([]),[o,l]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)(!0),[h,p]=(0,a.useState)({}),[g,x]=(0,a.useState)(!1),[f,y]=(0,a.useState)(null),[v,b]=(0,a.useState)(0),[w,j]=(0,a.useState)(0),[k,N]=(0,a.useState)(""),[C,A]=(0,a.useState)({}),{hasShownCelebration:S,markCelebrationShown:E}=Am();(0,a.useEffect)(()=>{D(),P(),T()},[]),(0,a.useEffect)(()=>{(async()=>{if(n.length>0){const t={};for(const r of n)try{const e=localStorage.getItem("token"),a=await i.A.get("/api/ratings/can-rate/".concat(r.course._id),{headers:{Authorization:"Bearer ".concat(e)}});t[r.course._id]=a.data.canRate}catch(e){console.error("Error checking rating eligibility:",e),t[r.course._id]=!1}A(t)}})()},[n]);const D=async()=>{try{const a=localStorage.getItem("token"),o=(await i.A.get("/api/certificates/my",{headers:{Authorization:"Bearer ".concat(a)}})).data.certificates||[];if(o.length>n.length){var e;const a=o[0],n="certificate_".concat(null===r||void 0===r?void 0:r.id,"_").concat(null===(e=a.course)||void 0===e?void 0:e._id);var t;if(!S(n))window.dispatchEvent(new CustomEvent("gamification:notify",{detail:{eventType:"certificateReceived",message:null,userName:null===r||void 0===r?void 0:r.name,courseName:null===(t=a.course)||void 0===t?void 0:t.name,userRole:"student"}})),E(n)}s(o)}catch(l){var a,o;console.error("Error fetching certificates:",l),er.error((null===(a=l.response)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.message)||"Failed to fetch certificates")}},P=async()=>{try{m(!0);const e=localStorage.getItem("token"),t=await i.A.get("/api/certificates/my-requests",{headers:{Authorization:"Bearer ".concat(e)}});l(t.data.requests||[])}catch(e){console.error("Error fetching requests:",e)}finally{m(!1)}},T=async()=>{try{const e=localStorage.getItem("token"),t=(await i.A.get("/api/certificates/my-eligibility",{headers:{Authorization:"Bearer ".concat(e)}})).data.enrolledCourses||[];d(t)}catch(e){console.error("Error fetching eligible courses:",e)}};return u?(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,xr.jsxs)("div",{className:"mb-8",children:[(0,xr.jsx)("div",{className:"h-7 w-56 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),(0,xr.jsx)("div",{className:"mt-2 h-4 w-80 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"})]}),(0,xr.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[0,1,2,3].map(e=>(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6 shadow-sm",children:[(0,xr.jsxs)("div",{className:"flex items-center",children:[(0,xr.jsx)("div",{className:"h-12 w-12 rounded-full bg-gray-200 dark:bg-gray-700 animate-pulse"}),(0,xr.jsxs)("div",{className:"ltr:ml-4 rtl:mr-4 flex-1",children:[(0,xr.jsx)("div",{className:"h-5 w-48 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),(0,xr.jsx)("div",{className:"mt-2 h-4 w-32 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"})]})]}),(0,xr.jsx)("div",{className:"mt-6 h-9 w-full bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),(0,xr.jsxs)("div",{className:"mt-4 flex items-center gap-3",children:[(0,xr.jsx)("div",{className:"h-9 w-28 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),(0,xr.jsx)("div",{className:"h-9 w-28 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"})]})]},e))})]})}):(0,xr.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:[(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,xr.jsxs)("div",{className:"mb-8",children:[(0,xr.jsx)("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900 dark:text-white",children:t("myCertificates")}),(0,xr.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:t("viewAndRequestCertificates")})]}),(0,xr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:t("issuedCertificates")}),0===n.length?(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-10 text-center shadow-sm",children:[(0,xr.jsx)(Um,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,xr.jsx)("h3",{className:"mt-4 text-lg font-semibold text-gray-900 dark:text-white",children:t("noCertificatesYet")}),(0,xr.jsx)("p",{className:"mt-2 text-gray-500 dark:text-gray-400",children:t("completeCoursesWith70")})]}):(0,xr.jsx)("div",{className:"grid grid-cols-1 gap-6",children:n.map(e=>{var r,a,n;return(0,xr.jsx)("div",{className:"group bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300",children:(0,xr.jsxs)("div",{className:"p-6",children:[(0,xr.jsxs)("div",{className:"flex items-center",children:[(0,xr.jsx)("div",{className:"flex-shrink-0",children:(0,xr.jsx)("div",{className:"h-12 w-12 rounded-full bg-indigo-100 dark:bg-indigo-900/40 flex items-center justify-center ring-1 ring-indigo-200 dark:ring-indigo-700",children:(0,xr.jsx)(Oa,{className:"h-6 w-6 text-indigo-600 dark:text-indigo-400"})})}),(0,xr.jsxs)("div",{className:"ltr:ml-4 rtl:mr-4",children:[(0,xr.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:null===(r=e.course)||void 0===r?void 0:r.name}),(0,xr.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[t("grade"),": ",e.courseGrade,"%"]})]})]}),(0,xr.jsxs)("div",{className:"mt-6",children:[(0,xr.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,xr.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:t("issued")}),(0,xr.jsxs)("div",{className:"flex space-x-2 rtl:space-x-reverse",children:[(0,xr.jsxs)("button",{onClick:()=>{var t,r,a;const n=null!==(t=e.certificateFile)&&void 0!==t&&null!==(r=t.url)&&void 0!==r&&r.startsWith("http")?e.certificateFile.url:"".concat(i.A.defaults.baseURL||"http://localhost:5000").concat(null===(a=e.certificateFile)||void 0===a?void 0:a.url);window.open(n,"_blank")},className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-semibold rounded-lg shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[(0,xr.jsx)(Kd,{className:"h-5 w-5"}),t("view")]}),(0,xr.jsxs)("button",{onClick:()=>{var t,r;return(async(e,t)=>{try{const r=localStorage.getItem("token"),a=e.startsWith("http")?e:"".concat(i.A.defaults.baseURL||"").concat(e),n=await i.A.get(a,{headers:{Authorization:"Bearer ".concat(r)},responseType:"blob"}),s=new Blob([n.data],{type:n.headers["content-type"]}),o=window.URL.createObjectURL(s),l=document.createElement("a");l.href=o,l.download=t||"certificate.pdf",document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(o),er.success("Certificate downloaded successfully")}catch(r){console.error("Download error:",r),er.error("Failed to download certificate")}})(null===(t=e.certificateFile)||void 0===t?void 0:t.url,null===(r=e.certificateFile)||void 0===r?void 0:r.originalName)},className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-semibold rounded-lg shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[(0,xr.jsx)(Vm,{className:"h-5 w-5"}),t("download")]})]})]}),C[null===(a=e.course)||void 0===a?void 0:a._id]&&(0,xr.jsxs)("button",{onClick:()=>{y(e),x(!0)},className:"w-full mt-2 inline-flex justify-center items-center gap-2 px-4 py-2 text-sm font-semibold rounded-lg shadow-sm text-white bg-yellow-500 hover:bg-yellow-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500",children:[(0,xr.jsx)(cr,{className:"mr-2 h-5 w-5"}),t("rateThisCourse")]})]}),(0,xr.jsxs)("div",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400 border-t border-gray-200 dark:border-gray-700 pt-4",children:[(0,xr.jsxs)("p",{children:[t("issuedOn"),": ",new Date(e.issuedAt).toLocaleDateString()]}),(0,xr.jsxs)("p",{children:[t("group"),": ",null===(n=e.group)||void 0===n?void 0:n.name]})]})]})},e._id)})})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:t("requestCertificate")}),0===c.length?(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-10 text-center shadow-sm",children:[(0,xr.jsx)(Um,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,xr.jsx)("h3",{className:"mt-4 text-lg font-semibold text-gray-900 dark:text-white",children:t("noEligibleCourses")}),(0,xr.jsx)("p",{className:"mt-2 text-gray-500 dark:text-gray-400",children:t("keepLearningToEarnCertificates")})]}):(0,xr.jsx)("div",{className:"grid grid-cols-1 gap-6",children:c.map(e=>{var a,n,s;const l=o.find(t=>{var r,a;return(null===(r=t.course)||void 0===r?void 0:r._id)===(null===(a=e.course)||void 0===a?void 0:a._id)}),c=e.course,d=(null===c||void 0===c?void 0:c.certificateMode)||"automatic",u="manual_instructor"===d?"certificateModeManualInstructor":"automatic"===d?"certificateModeAutomatic":"certificateModeDisabled",m=e.eligibilityStatus,g=e.eligibilityDetails||{},x="CERTIFICATES_DISABLED"===m,f=!1!==(null===c||void 0===c?void 0:c.offersCertificate)&&"disabled"!==d&&!x;let y="AUTO_GRANT"===m||"CAN_REQUEST"===m;if(!y&&"automatic"===d){const e="number"===typeof g.passingGrade?g.passingGrade:60,t="number"===typeof g.overallGrade?g.overallGrade:0,r="number"===typeof g.completionPercentage?g.completionPercentage:0;t>=e&&r>=100&&(y=!0)}const v="GROUP_COMPLETED_AND_ELIGIBLE"===m&&"manual_instructor"===g.certificateMode&&!1===g.instructorCertificateRelease,b="GROUP_NOT_COMPLETED"===m,w="GROUP_COMPLETED_BUT_GRADE_TOO_LOW"===m,j="suspended"===(null===r||void 0===r?void 0:r.status)&&(null===r||void 0===r||null===(a=r.restrictions)||void 0===a?void 0:a.requestCertificate),k=f&&y&&!j&&(!l||"rejected"===l.status),N=l&&"rejected"!==l.status;return(0,xr.jsx)("div",{className:"group bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300",children:(0,xr.jsxs)("div",{className:"p-6",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:null===(n=e.course)||void 0===n?void 0:n.name}),(0,xr.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[t("grade"),": ",e.overallGrade||0,"%"]})]}),N?(0,xr.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold ".concat("issued"===l.status?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"),children:"issued"===l.status?t("delivered"):t("pending")}):f?k?(0,xr.jsxs)("button",{onClick:()=>{var t;return(async(e,t)=>{var a;if("suspended"===(null===r||void 0===r?void 0:r.status)&&null!==r&&void 0!==r&&null!==(a=r.restrictions)&&void 0!==a&&a.requestCertificate)er.error("Your account is suspended. You cannot request certificates.");else try{p(t=>(0,Be.A)((0,Be.A)({},t),{},{[e]:!0}));const r=localStorage.getItem("token"),a=await i.A.post("/api/certificates/request",{courseId:e,groupId:t},{headers:{Authorization:"Bearer ".concat(r)}});er.success(a.data.message),D(),P(),T()}catch(o){var n,s;console.error("Error requesting certificate:",o),er.error((null===(n=o.response)||void 0===n||null===(s=n.data)||void 0===s?void 0:s.message)||"Failed to request certificate")}finally{p(t=>{const r=(0,Be.A)({},t);return delete r[e],r})}})(e.course._id,null===(t=e.group)||void 0===t?void 0:t._id)},disabled:h[e.course._id],className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 transition flex items-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[h[e.course._id]?(0,xr.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,xr.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,xr.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,"rejected"===(null===l||void 0===l?void 0:l.status)?t("requestAgain"):t("request")]}):null:(0,xr.jsx)("div",{className:"text-right",children:(0,xr.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400",children:"No Certificate"})})]}),(0,xr.jsxs)("div",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400 border-t border-gray-200 dark:border-gray-700 pt-4",children:[(0,xr.jsxs)("p",{children:[t("group"),": ",null===(s=e.group)||void 0===s?void 0:s.name]}),!f&&(0,xr.jsx)("p",{className:"mt-2 text-amber-600 dark:text-amber-400 font-medium",children:t("certificateStatusCertificatesDisabled")}),f&&(0,xr.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,xr.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[t("certificateModeLabel"),": "," ",t(u)]}),(0,xr.jsxs)("p",{className:"font-medium text-gray-700 dark:text-gray-300",children:[t("certificateStatus"),": ",t(y?"certificateStatusEligible":v?"certificateStatusWaitingInstructor":"certificateStatusNotEligible")]}),b&&(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:t("certificateReasonGroupNotCompleted")}),w&&"number"===typeof g.passingGrade&&(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:t("certificateReasonGradeTooLow",{passingGrade:Math.round(g.passingGrade)})}),"number"===typeof g.totalItems&&"number"===typeof g.completedItems&&"number"===typeof g.completionPercentage&&(0,xr.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[t("certificateProgressLabel"),": ",t("certificateProgressValue",{completed:g.completedItems,total:g.totalItems,percentage:g.completionPercentage})]})]}),"rejected"===(null===l||void 0===l?void 0:l.status)&&l.rejectionReason&&(0,xr.jsxs)("p",{className:"mt-2 text-red-600 dark:text-red-400",children:[t("previousRejectionReason"),": ",l.rejectionReason]})]})]})},e._id)})})]})]})]}),g&&f&&(0,xr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full p-6",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,xr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t("rateCourse")}),(0,xr.jsx)("button",{onClick:()=>{x(!1),b(0),N("")},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:(0,xr.jsx)(pr.A,{className:"w-6 h-6"})})]}),(0,xr.jsxs)("div",{className:"mb-4",children:[(0,xr.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:[t("course"),": ",(0,xr.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:null===(e=f.course)||void 0===e?void 0:e.name})]}),(0,xr.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:t("feedbackHelpsOthers")})]}),(0,xr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),0!==v)try{const e=localStorage.getItem("token");await i.A.post("/api/ratings",{course:f.course._id,rating:v,review:k.trim()},{headers:{Authorization:"Bearer ".concat(e)}}),er.success("Thank you for your rating!"),x(!1),b(0),N(""),A(e=>(0,Be.A)((0,Be.A)({},e),{},{[f.course._id]:!1})),y(null)}catch(a){var t,r;console.error("Error submitting rating:",a),er.error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to submit rating")}else er.error("Please select a rating")},className:"space-y-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[t("rating")," *"]}),(0,xr.jsxs)("div",{className:"flex items-center space-x-2",children:[[1,2,3,4,5].map(e=>(0,xr.jsx)("button",{type:"button",onClick:()=>b(e),onMouseEnter:()=>j(e),onMouseLeave:()=>j(0),className:"focus:outline-none transition-transform hover:scale-110",children:(0,xr.jsx)(cr,{className:"w-8 h-8 ".concat(e<=(w||v)?"fill-yellow-400 text-yellow-400":"text-gray-300 dark:text-gray-600")})},e)),v>0&&(0,xr.jsxs)("span",{className:"ml-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:[v," ",t(1===v?"star":"stars")]})]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:t("yourReview")}),(0,xr.jsx)("textarea",{value:k,onChange:e=>N(e.target.value),rows:4,maxLength:1e3,placeholder:t("shareYourExperience"),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 resize-none"}),(0,xr.jsxs)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:[k.length,"/1000 ",t("characters")]})]}),(0,xr.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,xr.jsx)("button",{type:"button",onClick:()=>{x(!1),b(0),N("")},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:t("skipForNow")}),(0,xr.jsxs)("button",{type:"submit",disabled:0===v,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[(0,xr.jsx)(cr,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:t("submitRating")})]})]})]})]})})]})},Bh=()=>{const{t:e}=(0,ar.useTranslation)(),{user:t}=wr(),[r,n]=(0,a.useState)([]),[s,o]=(0,a.useState)(!0),[l,c]=(0,a.useState)(null);(0,a.useEffect)(()=>{d()},[]);const d=async()=>{try{var e,t;o(!0);const[r,a]=await Promise.all([i.A.get("/api/wishlist"),i.A.get("/api/auth/me")]),s=r.data.wishlist||[],l=(null===(e=a.data.user)||void 0===e||null===(t=e.enrolledCourses)||void 0===t?void 0:t.map(e=>{var t;return(null===(t=e.course)||void 0===t?void 0:t._id)||e.course}))||[],c=s.map(e=>(0,Be.A)((0,Be.A)({},e),{},{isEnrolled:l.includes(e._id)}));n(c)}catch(r){console.error("Error fetching wishlist:",r),Sd.error("Failed to load wishlist")}finally{o(!1)}};return s?(0,xr.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,xr.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,xr.jsx)(cr,{className:"w-8 h-8 text-yellow-600 dark:text-yellow-400 fill-current"}),(0,xr.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:e("myWishlist")||"My Wishlist"})]}),(0,xr.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:[r.length," ",e("savedForLater")]})]}),0===r.length?(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:[(0,xr.jsx)(_d,{message:e("emptyWishlist")||"Your wishlist is empty",description:e("saveCoursesForLater")||"Start adding courses you're interested in!"}),(0,xr.jsx)("div",{className:"text-center mt-6",children:(0,xr.jsx)(Oe,{to:"/",className:"btn-primary",children:e("browseCourses")||"Browse Courses"})})]}):(0,xr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((t,a)=>{var s;return(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1*a},className:"card hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 relative",children:[(0,xr.jsx)("button",{onClick:()=>(async e=>{try{c(e),await i.A.delete("/api/wishlist/".concat(e)),n(r.filter(t=>t._id!==e)),Sd.success("Removed from wishlist")}catch(t){console.error("Error removing from wishlist:",t),Sd.error("Failed to remove from wishlist")}finally{c(null)}})(t._id),disabled:l===t._id,className:"absolute top-3 right-3 p-2 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-full hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors z-10",title:"Remove from wishlist",children:(0,xr.jsx)(kh,{className:"w-4 h-4"})}),(0,xr.jsx)(Oe,{to:"/student/course/".concat(t._id,"/enroll"),children:(0,xr.jsxs)("div",{className:"relative mb-4",children:[(0,xr.jsx)("div",{className:"w-full h-48 bg-gradient-to-br from-primary-100 to-primary-200 dark:from-primary-900 dark:to-primary-800 rounded-lg flex items-center justify-center",children:t.image?(0,xr.jsx)("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover rounded-lg"}):(0,xr.jsx)(Ra,{className:"w-12 h-12 text-primary-600 dark:text-primary-400"})}),(0,xr.jsx)("div",{className:"absolute top-3 left-3",children:(0,xr.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200",children:t.level})})]})}),(0,xr.jsxs)("div",{className:"space-y-3",children:[(0,xr.jsx)(Oe,{to:"/student/course/".concat(t._id,"/enroll"),children:(0,xr.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:t.name})}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm line-clamp-2",children:t.description}),t.instructor&&(0,xr.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["by ",t.instructor.name]}),(0,xr.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,xr.jsx)(Zc,{className:"w-4 h-4"}),(0,xr.jsxs)("span",{children:[t.duration," ",e("weeks")]})]}),(0,xr.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,xr.jsx)(Xc,{className:"w-4 h-4"}),(0,xr.jsxs)("span",{children:[(null===(s=t.groups)||void 0===s?void 0:s.length)||0," groups"]})]})]}),(0,xr.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,xr.jsx)(id,{course:t,showTimer:!0}),t.isEnrolled?(0,xr.jsxs)(Oe,{to:"/student/course/".concat(t._id,"/details"),className:"px-6 py-2.5 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200 flex items-center space-x-2 text-sm",children:[(0,xr.jsx)("span",{children:e("continueCourse")}),(0,xr.jsx)(qc,{className:"w-4 h-4"})]}):(0,xr.jsxs)(Oe,{to:"/student/course/".concat(t._id,"/enroll"),className:"px-6 py-2.5 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200 flex items-center space-x-2 text-sm",children:[(0,xr.jsx)("span",{children:e("registerForCourse")}),(0,xr.jsx)(qc,{className:"w-4 h-4"})]})]})]})]},t._id)})})]})})},qh=(0,nr.A)("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),zh=(0,nr.A)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Uh=(0,nr.A)("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),Vh=()=>{const{theme:e}=Nr(),{t:t}=(0,ar.useTranslation)(),[r,n]=(0,a.useState)(null),[s,o]=(0,a.useState)([]),[l,c]=(0,a.useState)(!0),[d,u]=(0,a.useState)(!1);(0,a.useEffect)(()=>{m(),h()},[]);const m=async()=>{try{c(!0);const e=await i.A.get("/api/gamification/my-stats");n(e.data.stats)}catch(e){console.error("Fetch stats error:",e),Sd.error("Failed to load your stats")}finally{c(!1)}},h=async()=>{try{const e=await i.A.get("/api/gamification/my-achievements?limit=20");o(e.data.achievements||[])}catch(e){console.error("Fetch achievements error:",e)}};if(l)return(0,xr.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});if(!r)return(0,xr.jsx)("div",{className:"text-center py-12",children:(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"No stats available"})});const p=[{label:"Lessons",count:r.lessonsCompleted||0,icon:Ra,color:"blue",bgColor:"bg-blue-100 dark:bg-blue-900/30",textColor:"text-blue-600 dark:text-blue-400"},{label:"Quizzes",count:r.quizzesCompleted||0,icon:qh,color:"purple",bgColor:"bg-purple-100 dark:bg-purple-900/30",textColor:"text-purple-600 dark:text-purple-400"},{label:"Courses",count:r.coursesCompleted||0,icon:_a,color:"green",bgColor:"bg-green-100 dark:bg-green-900/30",textColor:"text-green-600 dark:text-green-400"}];return(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8","data-tour":"achievements-header",children:[(0,xr.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center gap-3",children:[(0,xr.jsx)(mr,{className:"w-8 h-8 text-yellow-600"}),t("myAchievements")]}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:t("trackYourProgress")})]}),(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"card mt-8","data-tour":"achievements-activities",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,xr.jsxs)("button",{onClick:()=>u(!d),className:"flex items-center gap-2 text-xl font-bold text-gray-900 dark:text-white hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:[(0,xr.jsx)("span",{children:t("recentActivities")}),d?(0,xr.jsx)(zh,{className:"w-5 h-5"}):(0,xr.jsx)(eh,{className:"w-5 h-5"})]}),(0,xr.jsxs)("div",{className:"flex items-center gap-2",children:[s.length>0&&(0,xr.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-full",children:[s.length," ",1===s.length?"activity":"activities"]}),(0,xr.jsx)("button",{onClick:h,className:"btn-secondary",children:t("refresh")})]})]}),d&&(0,xr.jsx)(rr.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:0===s.length?(0,xr.jsx)("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:t("noRecentActivities")}):(0,xr.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2",children:s.map(e=>(0,xr.jsx)("div",{className:"p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg border border-gray-100 dark:border-gray-700",children:(0,xr.jsxs)("div",{className:"flex items-start gap-4",children:[(0,xr.jsxs)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center bg-white dark:bg-gray-700 shadow-sm border border-gray-200 dark:border-gray-600",children:["points"===e.type&&(0,xr.jsx)(mr,{className:"w-6 h-6 text-yellow-600"}),"badge"===e.type&&(0,xr.jsx)(Oa,{className:"w-6 h-6 text-amber-600"}),"title"===e.type&&(0,xr.jsx)(_a,{className:"w-6 h-6 text-indigo-600"})]}),(0,xr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,xr.jsxs)("div",{className:"font-semibold text-gray-900 dark:text-white text-lg",children:["points"===e.type&&"+".concat(e.points," ").concat(t("pointsEarned")),"badge"===e.type&&"".concat(e.badgeIcon||"\ud83c\udfc5"," ").concat(e.badgeTitle," ").concat(t("badgeUnlocked")),"title"===e.type&&"".concat(e.titleIcon||"\ud83d\udc51"," ").concat(e.titleName," ").concat(t("titleEarned"))]}),(0,xr.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:new Date(e.createdAt).toLocaleDateString()})]}),e.message&&(0,xr.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:e.message}),e.courseName&&(0,xr.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-500",children:["\ud83d\udcda Course: ",(0,xr.jsx)("span",{className:"font-medium",children:e.courseName})]}),e.lessonName&&(0,xr.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-500",children:["\ud83d\udcd6 Lesson: ",(0,xr.jsx)("span",{className:"font-medium",children:e.lessonName})]}),e.videoName&&(0,xr.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-500",children:["\ud83c\udfa5 Video: ",(0,xr.jsx)("span",{className:"font-medium",children:e.videoName})]}),(0,xr.jsx)("div",{className:"text-xs text-gray-400 dark:text-gray-500 mt-2",children:new Date(e.createdAt).toLocaleTimeString()})]})]})},e._id))})})]}),(0,xr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8 mt-12",children:[(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-900/20 dark:to-yellow-800/20 border-2 border-yellow-200 dark:border-yellow-800","data-tour":"achievements-points-card",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-yellow-700 dark:text-yellow-400 text-sm font-medium mb-1",children:t("totalPoints")}),(0,xr.jsx)("p",{className:"text-4xl font-bold text-yellow-900 dark:text-yellow-200",children:r.points.toLocaleString()}),r.walletBalance>0&&(0,xr.jsxs)("div",{className:"mt-2 px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 rounded-full inline-block text-xs font-medium",children:["\ud83d\udcb0 Wallet: ",r.walletBalance.toLocaleString()," SYP"]}),r.conversionRate&&(0,xr.jsxs)("div",{className:"mt-1 text-xs text-yellow-600 dark:text-yellow-400",children:["Rate: ",r.conversionRate.pointsRequired," pts = ",r.conversionRate.sypValue.toLocaleString()," SYP"]}),r.title&&(0,xr.jsxs)("div",{className:"mt-2 px-2 py-1 bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 rounded-full inline-block text-xs font-medium",children:["Title: ",r.title]})]}),(0,xr.jsx)("div",{className:"p-4 bg-yellow-200 dark:bg-yellow-800/30 rounded-full",children:(0,xr.jsx)(mr,{className:"w-10 h-10 text-yellow-600 dark:text-yellow-400"})})]})}),(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card bg-gradient-to-br from-orange-50 to-red-100 dark:from-orange-900/20 dark:to-red-800/20 border-2 border-orange-200 dark:border-orange-800",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-orange-700 dark:text-orange-400 text-sm font-medium mb-1",children:t("currentStreak")}),(0,xr.jsxs)("p",{className:"text-4xl font-bold text-orange-900 dark:text-orange-200",children:[r.streakDays," ",1===r.streakDays?"day":"days"]})]}),(0,xr.jsx)("div",{className:"p-4 bg-orange-200 dark:bg-orange-800/30 rounded-full",children:(0,xr.jsx)(Uh,{className:"w-10 h-10 text-orange-600 dark:text-orange-400"})})]})}),(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 border-2 border-purple-200 dark:border-purple-800",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-purple-700 dark:text-purple-400 text-sm font-medium mb-1",children:t("badgesEarned")}),(0,xr.jsx)("p",{className:"text-4xl font-bold text-purple-900 dark:text-purple-200",children:r.badgeCount})]}),(0,xr.jsx)("div",{className:"p-4 bg-purple-200 dark:bg-purple-800/30 rounded-full",children:(0,xr.jsx)(Oa,{className:"w-10 h-10 text-purple-600 dark:text-purple-400"})})]})})]}),(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"card mb-8",children:[(0,xr.jsxs)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6 flex items-center gap-2",children:[(0,xr.jsx)(Jc,{className:"w-6 h-6"}),t("activityOverview")]}),(0,xr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:p.map((e,t)=>{const r=e.icon;return(0,xr.jsxs)("div",{className:"p-4 rounded-lg ".concat(e.bgColor),children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,xr.jsx)(r,{className:"w-8 h-8 ".concat(e.textColor)}),(0,xr.jsx)("span",{className:"text-3xl font-bold ".concat(e.textColor),children:e.count})]}),(0,xr.jsxs)("p",{className:"font-medium ".concat(e.textColor),children:[e.label," Completed"]})]},t)})})]}),(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"card","data-tour":"achievements-badges",children:[(0,xr.jsxs)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6 flex items-center gap-2",children:[(0,xr.jsx)(Oa,{className:"w-6 h-6"}),t("yourBadges")]}),r.badges&&r.badges.length>0?(0,xr.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:r.badges.map((t,r)=>(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.5+.1*r},whileHover:{scale:1.05},className:"p-4 rounded-lg text-center border-2 ".concat("dark"===e?"border-gray-700 bg-gray-800":"border-gray-200 bg-gray-50"," hover:shadow-lg transition-all"),children:[(0,xr.jsx)("div",{className:"text-5xl mb-2",children:t.icon}),(0,xr.jsx)("h3",{className:"font-bold text-gray-900 dark:text-white mb-1",children:t.title}),(0,xr.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:t.description}),t.pointsReward>0&&(0,xr.jsxs)("div",{className:"mt-2 px-2 py-1 bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300 rounded-full text-xs font-medium inline-block",children:["+",t.pointsReward," pts"]})]},r))}):(0,xr.jsxs)("div",{className:"text-center py-12",children:[(0,xr.jsx)(ed,{className:"w-16 h-16 text-gray-300 dark:text-gray-700 mx-auto mb-4"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:t("noBadgesYet")}),(0,xr.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-500 mt-2",children:t("earnBadgesByCompleting")})]})]}),(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"card mt-8 bg-gradient-to-r from-primary-50 to-purple-50 dark:from-primary-900/20 dark:to-purple-900/20 border-2 border-primary-200 dark:border-primary-800","data-tour":"achievements-rewards",children:(0,xr.jsxs)("div",{className:"text-center",children:[(0,xr.jsxs)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:[t("keepUpGreatWork")," \ud83c\udfaf"]}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:r.streakDays>=7?t("amazingStreak"):r.points>=100?t("excellentProgress"):t("everyStepCounts")}),(0,xr.jsxs)("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(0,xr.jsx)("span",{className:"text-2xl",children:"\ud83c\udf89"}),(0,xr.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white",children:t("futureRewardsAwait")}),(0,xr.jsx)("span",{className:"text-2xl",children:"\ud83d\udcb0"})]}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t("keepEarningPoints")})]})]})}),(0,xr.jsx)(tl,{steps:Id(t),tourKey:"my_achievements",showButton:!0})]})})},Yh=e=>{var t,r;let{isOpen:n,onClose:s,studentId:o}=e;const[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(null),[m,h]=(0,a.useState)(null);return(0,a.useEffect)(()=>{if(!n||!o)return;let e=!0;return(async()=>{try{c(!0),h(null);const t=localStorage.getItem("token"),r=await i.A.get("/api/gamification/student/".concat(o,"/public-stats"),{headers:{Authorization:"Bearer ".concat(t)}});e&&u(r.data.stats||null)}catch(qe){var t,r;e&&h((null===qe||void 0===qe||null===(t=qe.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to load stats")}finally{e&&c(!1)}})(),()=>{e=!1}},[n,o]),(0,xr.jsx)(tr.N,{children:n&&(0,xr.jsxs)(rr.P.div,{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[(0,xr.jsx)("div",{className:"absolute inset-0 bg-black/40",onClick:s}),(0,xr.jsxs)(rr.P.div,{initial:{y:40,opacity:0},animate:{y:0,opacity:1},exit:{y:40,opacity:0},transition:{type:"spring",stiffness:300,damping:28},className:"relative w-full sm:max-w-2xl mx-2 sm:mx-0 bg-white dark:bg-gray-800 rounded-t-2xl sm:rounded-2xl shadow-xl overflow-hidden",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between px-5 py-4 border-b border-gray-200 dark:border-gray-700",children:[(0,xr.jsxs)("div",{className:"flex items-center gap-3",children:[null!==d&&void 0!==d&&d.avatar?(0,xr.jsx)("img",{src:d.avatar,alt:(null===d||void 0===d?void 0:d.name)||"Student",className:"w-10 h-10 rounded-full object-cover"}):(0,xr.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary-600 text-white flex items-center justify-center font-semibold",children:((null===d||void 0===d?void 0:d.name)||"S")[0]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:(null===d||void 0===d?void 0:d.name)||"Student Stats"}),(0,xr.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Public profile stats"})]})]}),(0,xr.jsx)("button",{onClick:s,className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",children:(0,xr.jsx)(pr.A,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})})]}),(0,xr.jsxs)("div",{className:"p-5 space-y-5",children:[l&&(0,xr.jsx)("div",{className:"text-center py-8",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary-600 mx-auto"})}),m&&!l&&(0,xr.jsx)("div",{className:"text-center py-4 text-red-600 dark:text-red-400",children:m}),d&&!l&&(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,xr.jsx)("div",{className:"p-4 rounded-lg bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("div",{className:"text-xs text-yellow-700 dark:text-yellow-300 font-medium",children:"Total Points"}),(0,xr.jsx)("div",{className:"text-2xl font-bold text-yellow-900 dark:text-yellow-200",children:(null===(t=d.points)||void 0===t||null===(r=t.toLocaleString)||void 0===r?void 0:r.call(t))||d.points||0})]}),(0,xr.jsx)(mr,{className:"w-8 h-8 text-yellow-600"})]})}),(0,xr.jsx)("div",{className:"p-4 rounded-lg bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("div",{className:"text-xs text-purple-700 dark:text-purple-300 font-medium",children:"Badges"}),(0,xr.jsx)("div",{className:"text-2xl font-bold text-purple-900 dark:text-purple-200",children:d.badgeCount||0})]}),(0,xr.jsx)(Oa,{className:"w-8 h-8 text-purple-600"})]})}),(0,xr.jsx)("div",{className:"p-4 rounded-lg bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("div",{className:"text-xs text-green-700 dark:text-green-300 font-medium",children:"Completed Courses"}),(0,xr.jsx)("div",{className:"text-2xl font-bold text-green-900 dark:text-green-200",children:d.completedCoursesCount||0})]}),(0,xr.jsx)(_a,{className:"w-8 h-8 text-green-600"})]})})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h4",{className:"text-sm font-bold text-gray-900 dark:text-white mb-2",children:"Certificates"}),d.certificates&&d.certificates.length>0?(0,xr.jsx)("div",{className:"space-y-2 max-h-40 overflow-y-auto pr-1",children:d.certificates.map(e=>(0,xr.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-800/60 rounded border border-gray-200 dark:border-gray-700",children:[(0,xr.jsx)("div",{className:"text-sm text-gray-800 dark:text-gray-200",children:e.courseName}),(0,xr.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.issuedAt?new Date(e.issuedAt).toLocaleDateString():""})]},e.id))}):(0,xr.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No certificates yet"})]}),(0,xr.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,xr.jsxs)("div",{className:"p-3 rounded-lg bg-gray-50 dark:bg-gray-800/60 border border-gray-200 dark:border-gray-700",children:[(0,xr.jsx)("div",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-2",children:"Assignments & Projects"}),(0,xr.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:d.assignmentsFinished||0})]}),(0,xr.jsxs)("div",{className:"p-3 rounded-lg bg-gray-50 dark:bg-gray-800/60 border border-gray-200 dark:border-gray-700",children:[(0,xr.jsx)("div",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-2",children:"Tests Completed"}),(0,xr.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:d.testsCompleted||0})]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h4",{className:"text-sm font-bold text-gray-900 dark:text-white mb-2",children:"Recent Achievements"}),d.recentAchievements&&d.recentAchievements.length>0?(0,xr.jsx)("div",{className:"space-y-2 max-h-40 overflow-y-auto pr-1",children:d.recentAchievements.map(e=>(0,xr.jsxs)("div",{className:"p-2 rounded bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:[(0,xr.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.message||e.type}),(0,xr.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-2",children:[e.points?(0,xr.jsxs)("span",{children:["+",e.points," pts"]}):null,(0,xr.jsx)("span",{children:new Date(e.createdAt).toLocaleString()})]})]},e.id))}):(0,xr.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No recent achievements"})]})]})]})]})]})})},Wh=e=>{let{top:t}=e;if(!t||0===t.length)return null;const[r,a,n]=[t[0],t[1],t[2]],s=e=>{let{student:t,rank:r,color:a}=e;return(0,xr.jsxs)(rr.P.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:300,damping:22,delay:.05*r},className:"relative flex flex-col items-center justify-end rounded-xl shadow-md border ".concat(a.bg," ").concat(a.border," px-4 py-4 md:px-5 md:py-5 w-full"),children:[(0,xr.jsxs)("div",{className:"absolute -top-3 px-3 py-1 rounded-full text-xs font-semibold ".concat(a.badge),children:["#",r]}),(0,xr.jsx)("div",{className:"absolute inset-0 rounded-xl ".concat(a.glow," pointer-events-none")}),null!==t&&void 0!==t&&t.avatar?(0,xr.jsx)("img",{src:t.avatar,alt:t.name,className:"rounded-full object-cover border-2 border-white shadow ".concat(1===r?"w-20 h-20":"w-16 h-16")}):(0,xr.jsx)("div",{className:"rounded-full bg-white/70 dark:bg-gray-800/70 flex items-center justify-center font-bold text-gray-700 dark:text-gray-200 border border-white/30 ".concat(1===r?"w-20 h-20 text-xl":"w-16 h-16 text-lg"),children:((null===t||void 0===t?void 0:t.name)||"S")[0]}),(0,xr.jsxs)("div",{className:"mt-3 text-center",children:[(0,xr.jsx)("div",{className:"text-sm sm:text-base md:text-lg font-extrabold text-gray-900 dark:text-white truncate max-w-[180px]",title:null===t||void 0===t?void 0:t.name,children:(null===t||void 0===t?void 0:t.name)||"Student"}),(0,xr.jsxs)("div",{className:"text-xs sm:text-sm md:text-base text-gray-600 dark:text-gray-300 font-semibold",children:[((null===t||void 0===t?void 0:t.points)||0).toLocaleString()," pts"]}),(((null===t||void 0===t?void 0:t.certificatesCount)||0)>0||((null===t||void 0===t?void 0:t.completedCoursesCount)||0)>0)&&(0,xr.jsxs)("div",{className:"mt-1 flex items-center justify-center gap-3 text-[11px] md:text-xs text-gray-500 dark:text-gray-400",children:[((null===t||void 0===t?void 0:t.certificatesCount)||0)>0&&(0,xr.jsxs)("span",{className:"flex items-center gap-1",children:[(0,xr.jsx)(Oa,{className:"w-3 h-3"})," ",null===t||void 0===t?void 0:t.certificatesCount," certs"]}),((null===t||void 0===t?void 0:t.completedCoursesCount)||0)>0&&(0,xr.jsxs)("span",{className:"flex items-center gap-1",children:[(0,xr.jsx)(_a,{className:"w-3 h-3"})," ",null===t||void 0===t?void 0:t.completedCoursesCount," complete"]})]})]})]})},i={first:{bg:"bg-gradient-to-br from-yellow-50 to-amber-100 dark:from-yellow-900/30 dark:to-amber-900/10",border:"border-yellow-200 dark:border-amber-700",badge:"bg-yellow-500 text-white",glow:"shadow-[0_0_30px_rgba(234,179,8,0.35)]"},second:{bg:"bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-900/20 dark:to-indigo-900/10",border:"border-blue-200 dark:border-blue-700",badge:"bg-blue-500 text-white",glow:"shadow-[0_0_24px_rgba(59,130,246,0.30)]"},third:{bg:"bg-gradient-to-br from-purple-50 to-pink-100 dark:from-purple-900/20 dark:to-pink-900/10",border:"border-purple-200 dark:border-purple-700",badge:"bg-purple-600 text-white",glow:"shadow-[0_0_24px_rgba(168,85,247,0.30)]"}};return(0,xr.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 items-end",children:[a&&(0,xr.jsx)("div",{className:"sm:order-1",children:(0,xr.jsx)(s,{student:a,rank:2,color:i.second})}),r&&(0,xr.jsx)("div",{className:"sm:order-2 sm:-mt-2",children:(0,xr.jsx)(s,{student:r,rank:1,color:i.first})}),n&&(0,xr.jsx)("div",{className:"sm:order-3",children:(0,xr.jsx)(s,{student:n,rank:3,color:i.third})})]})},Hh=e=>{let{show:t}=e;if(!t)return null;const r=new Array(24).fill(0);return(0,xr.jsxs)("div",{className:"pointer-events-none fixed inset-0 z-40 overflow-hidden",children:[r.map((e,t)=>(0,xr.jsx)("span",{className:"absolute block w-2 h-2 rounded-sm",style:{left:"".concat(41*t%100,"%"),top:"-10px",backgroundColor:["#F59E0B","#10B981","#3B82F6","#EF4444","#A855F7"][t%5],transform:"rotate(".concat(73*t%360,"deg)"),animation:"fall ".concat(2+t%5*.3,"s ease-in-out ").concat(.05*t,"s forwards")}},t)),(0,xr.jsx)("style",{children:"@keyframes fall { 0% { transform: translateY(-20px) rotate(0deg); opacity: 1 } 100% { transform: translateY(110vh) rotate(360deg); opacity: 0 } }"})]})},Gh=()=>{const{t:e,i18n:t}=(0,ar.useTranslation)(),r=["ar","he","fa"].some(e=>(t.language||"").startsWith(e)),[n,s]=(0,a.useState)([]),[o,l]=(0,a.useState)(0),[c,d]=(0,a.useState)(1),[u]=(0,a.useState)(20),[m,h]=(0,a.useState)(""),[p,g]=(0,a.useState)(!1),[x,f]=(0,a.useState)(!1),[y,v]=(0,a.useState)(!1),[b,w]=(0,a.useState)(!1),[j,k]=(0,a.useState)(null),N=(0,a.useRef)(!1),C=(0,a.useRef)(0),A=(0,a.useMemo)(()=>n.slice(0,3),[n]),S=((0,a.useMemo)(()=>n.slice(3),[n]),async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{page:t=1,reset:r=!1,query:a=m}=e;try{1!==t||r||g(!0),t>1&&f(!0);const e=localStorage.getItem("token"),n=(await i.A.get("/api/gamification/leaderboard",{params:{page:t,limit:u,q:a||void 0},headers:{Authorization:"Bearer ".concat(e)}})).data||{};l(n.total||0),s(r||1===t?n.leaderboard||[]:e=>[...e,...n.leaderboard||[]]),d(t),1===t&&(v(!0),setTimeout(()=>v(!1),2e3))}catch(qe){}finally{g(!1),f(!1)}});(0,a.useEffect)(()=>{S({page:1,reset:!0}),N.current=!0},[]),(0,a.useEffect)(()=>{const e=()=>{const e=Date.now();e-C.current<1e3||(C.current=e,S({page:1,reset:!0}))};return window.addEventListener("gamification:notify",e),window.addEventListener("show-gamification-toast",e),()=>{window.removeEventListener("gamification:notify",e),window.removeEventListener("show-gamification-toast",e)}},[]);const E=n.length<o;return(0,xr.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-12 overflow-x-hidden ".concat(r?"rtl":"ltr"),dir:r?"rtl":"ltr",children:[(0,xr.jsx)(Hh,{show:y}),(0,xr.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-8 flex-wrap gap-3",children:[(0,xr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,xr.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-yellow-400 to-yellow-600 text-white flex items-center justify-center shadow",children:(0,xr.jsx)(mr,{className:"w-7 h-7"})}),(0,xr.jsx)("h1",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 dark:text-white",children:e("leaderboard")||"Leaderboard"})]}),(0,xr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,xr.jsxs)("div",{className:"relative",children:[(0,xr.jsx)(ad,{className:"w-4 h-4 absolute ".concat(r?"right-3":"left-3"," top-1/2 -translate-y-1/2 text-gray-400")}),(0,xr.jsx)("input",{type:"text",value:m,onChange:e=>h(e.target.value),onKeyDown:e=>{if("Enter"===e.key){const e=m.trim();S(""===e?{page:1,reset:!0}:{page:1,reset:!0,query:e})}},placeholder:e("searchStudents")||"Search students by name or email",className:"".concat(r?"pr-9 pl-3":"pl-9 pr-3"," py-2 rounded-md bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 text-sm text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-primary-500 w-56 md:w-72 lg:w-80")})]}),(0,xr.jsx)("button",{type:"button",disabled:p,onClick:()=>{const e=m.trim();S(""===e?{page:1,reset:!0}:{page:1,reset:!0,query:e})},className:"px-3 py-2 text-sm rounded-md bg-primary-600 hover:bg-primary-700 text-white disabled:opacity-70 whitespace-nowrap",children:e("searchLabel")||"Search"})]})]}),(0,xr.jsx)("div",{className:"mb-8",children:(0,xr.jsx)(Wh,{top:A})}),(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,xr.jsx)("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700 text-sm font-semibold text-gray-600 dark:text-gray-300",children:e("leaderboard")||"Leaderboard"}),(0,xr.jsxs)("div",{children:[p&&0===n.length?(0,xr.jsx)("div",{className:"py-10 text-center text-gray-500 dark:text-gray-400",children:"Loading..."}):0===n.length?(0,xr.jsx)("div",{className:"py-10 text-center text-gray-500 dark:text-gray-400",children:e("noStudentsFound")||"No students found"}):(0,xr.jsx)("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:n.map(e=>(0,xr.jsx)("li",{className:"px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700/50 cursor-pointer",onClick:()=>{k(e.id),w(!0)},children:(0,xr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,xr.jsxs)("div",{className:"w-8 text-xs font-bold text-gray-500 dark:text-gray-400",children:["#",e.rank]}),e.avatar?(0,xr.jsx)("img",{src:e.avatar,alt:e.name,className:"w-10 h-10 rounded-full object-cover"}):(0,xr.jsx)("div",{className:"w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-sm font-bold text-gray-600 dark:text-gray-200",children:(e.name||"S")[0]}),(0,xr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,xr.jsx)("div",{className:"font-semibold text-gray-900 dark:text-white truncate",children:e.name}),(0,xr.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:e.email})]}),(0,xr.jsxs)("div",{className:"flex items-center gap-6",children:[(0,xr.jsxs)("div",{className:"text-sm text-gray-700 dark:text-gray-200 font-semibold",children:[(e.points||0).toLocaleString()," pts"]}),e.certificatesCount>0&&(0,xr.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["\ud83c\udfc5 ",e.certificatesCount]}),e.completedCoursesCount>0&&(0,xr.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["\ud83c\udf93 ",e.completedCoursesCount]})]})]})},"".concat(e.id,"-").concat(e.rank)))}),E&&(0,xr.jsx)("div",{className:"p-4 text-center",children:(0,xr.jsx)("button",{disabled:x,onClick:()=>S({page:c+1}),className:"px-4 py-2 text-sm rounded-md bg-primary-600 hover:bg-primary-700 text-white disabled:opacity-70",children:x?"Loading...":"Load More"})})]})]})]}),(0,xr.jsx)(Yh,{isOpen:b,onClose:()=>w(!1),studentId:j})]})},Kh=(0,nr.A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Qh=()=>{var e,t,r,n;const{t:s}=(0,ar.useTranslation)(),{id:o}=ne(),l=ae(),{user:c}=wr(),[d,u]=(0,a.useState)(null),[m,h]=(0,a.useState)(!0),[p,g]=(0,a.useState)(null),[x,f]=(0,a.useState)(""),[y,v]=(0,a.useState)(!1),[b,w]=(0,a.useState)(!1),[j,k]=(0,a.useState)("none"),[N,C]=(0,a.useState)(""),[A,S]=(0,a.useState)(null),[E,D]=(0,a.useState)([]),[P,T]=(0,a.useState)(!0),[_,R]=(0,a.useState)([]);(0,a.useEffect)(()=>{(async()=>{try{const r=await i.A.get("/api/courses/".concat(o));u(r.data.course);try{var e,t;const r=await i.A.get("/api/admin/settings/public"),a=Array.isArray(null===r||void 0===r||null===(e=r.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.paymentProviders)?r.data.data.paymentProviders:[];R(a)}catch(At){R([])}if(c&&"student"===c.role)try{const e=((await i.A.get("/api/courses/enrolled")).data.enrolledCourses||[]).find(e=>e.course._id===o);e&&g(e.status)}catch(qe){}try{const e=await i.A.get("/api/ratings/course/".concat(o));D(e.data.ratings||[])}catch(qe){console.error("Failed to load ratings:",qe)}finally{T(!1)}}catch(r){console.error(r)}finally{h(!1)}})()},[o,c]);const O=Array.isArray(_)?_.filter(e=>e&&e.key&&e.name):[];return m?(0,xr.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):d?(0,xr.jsx)(Qa,{children:(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,xr.jsxs)("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,xr.jsxs)(Oe,{to:"/",className:"inline-flex items-center space-x-2 text-primary-600 hover:text-primary-700 mb-6",children:[(0,xr.jsx)(Em,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:s("back")})]}),(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"card",children:(0,xr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,xr.jsxs)("div",{className:"md:col-span-2",children:[(0,xr.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:d.name}),((null===(e=d.instructor)||void 0===e?void 0:e.name)||(null===(t=d.originalInstructor)||void 0===t?void 0:t.name))&&(0,xr.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:null!==(r=d.instructor)&&void 0!==r&&r.name?"By ".concat(d.instructor.name):"Created by ".concat(d.originalInstructor.name)}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:d.description}),(0,xr.jsxs)("div",{className:"flex items-center gap-6 text-sm text-gray-500 dark:text-gray-400 mb-6",children:[(0,xr.jsxs)("span",{className:"inline-flex items-center gap-2",children:[(0,xr.jsx)(Zc,{className:"w-4 h-4"})," ",d.duration," ",s("weeks")]}),(0,xr.jsxs)("span",{className:"inline-flex items-center gap-2",children:[(0,xr.jsx)(Xc,{className:"w-4 h-4"})," ",(null===(n=d.groups)||void 0===n?void 0:n.length)||0," ",s("groups")]}),(0,xr.jsxs)("span",{className:"inline-flex items-center gap-2",children:[(0,xr.jsx)(Ra,{className:"w-4 h-4"})," ",s(d.level.toLowerCase())]})]}),(0,xr.jsxs)("div",{className:"space-y-3",children:[(0,xr.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:s("whatYoullLearn")}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:s("courseCoversKeyTopics")})]})]}),(0,xr.jsx)("div",{children:(0,xr.jsxs)("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:[(0,xr.jsx)("div",{className:"mb-4",children:(0,xr.jsx)(id,{course:d,showTimer:!0,className:"text-left"})}),c?"student"===c.role?"suspended"===c.status||"banned"===c.status?(0,xr.jsxs)("div",{className:"text-center p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:[(0,xr.jsx)("p",{className:"text-red-600 dark:text-red-400 font-semibold mb-2",children:"Account Suspended"}),(0,xr.jsx)("p",{className:"text-sm text-red-500 dark:text-red-300",children:"You are suspended. Please contact support."})]}):"enrolled"===p?(0,xr.jsx)(Oe,{to:"/student/course/".concat(d._id),className:"btn-primary w-full text-center block",children:s("continueCourse")}):"pending"===p?(0,xr.jsxs)("div",{className:"text-center",children:[(0,xr.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:s("enrollmentPendingApproval")}),(0,xr.jsx)("button",{className:"btn-secondary w-full",disabled:!0,children:s("pending")})]}):(0,xr.jsxs)("div",{className:"space-y-3",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:s("selectGroup")}),(0,xr.jsxs)("select",{className:"input-field w-full",value:x,onChange:e=>f(e.target.value),children:[(0,xr.jsx)("option",{value:"",children:s("chooseAGroup")}),(d.groups||[]).map(e=>(0,xr.jsx)("option",{value:e._id,children:e.name||s("group")},e._id))]})]}),(0,xr.jsx)("button",{onClick:async()=>{if(!c)return l("/login");if("student"===c.role){if(!x)return alert("Please select a group");try{const e=await i.A.get("/api/groups/".concat(x,"/enrollment-info"));S(e.data.group),w(!0)}catch(qe){alert("Failed to load group details")}}},className:"btn-primary w-full",disabled:!x,children:s("continueToEnrollment")})]}):(0,xr.jsxs)("div",{className:"space-y-2",children:[(0,xr.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:s("loginAsStudentToEnroll")}),(0,xr.jsx)(Oe,{to:"/login",className:"btn-primary w-full text-center block",children:s("login")})]}):(0,xr.jsxs)("div",{className:"space-y-2",children:[(0,xr.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:s("createAccountOrLogin")}),(0,xr.jsxs)("div",{className:"flex gap-2",children:[(0,xr.jsx)(Oe,{to:"/login",className:"btn-secondary w-1/2 text-center",children:s("login")}),(0,xr.jsx)(Oe,{to:"/register",className:"btn-primary w-1/2 text-center",children:s("register")})]})]})]})})]})}),(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mt-8 bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[(0,xr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:s("studentReviews")}),P?(0,xr.jsx)("div",{className:"text-center py-8",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"})}):E.length>0?(0,xr.jsx)("div",{className:"space-y-6",children:E.map(e=>{var t,r,a,n,o;return(0,xr.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-6 last:border-0",children:(0,xr.jsxs)("div",{className:"flex items-start gap-4",children:[null!==(t=e.student)&&void 0!==t&&t.avatar?(0,xr.jsx)("img",{src:"".concat(i.A.defaults.baseURL||"http://localhost:5000").concat(e.student.avatar),alt:e.student.name,className:"w-12 h-12 rounded-full object-cover"}):(0,xr.jsx)("div",{className:"w-12 h-12 rounded-full bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center",children:(0,xr.jsx)("span",{className:"text-indigo-600 dark:text-indigo-400 font-bold",children:(null===(r=e.student)||void 0===r||null===(a=r.name)||void 0===a?void 0:a.charAt(0))||"?"})}),(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("div",{className:"font-semibold text-gray-900 dark:text-white",children:(null===(n=e.student)||void 0===n?void 0:n.name)||s("anonymous")}),(0,xr.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:(null===(o=e.student)||void 0===o?void 0:o.jobRole)||s("learner")})]}),(0,xr.jsx)("div",{className:"flex items-center gap-1",children:[...Array(5)].map((t,r)=>(0,xr.jsx)(cr,{className:"w-5 h-5 ".concat(r<e.rating?"text-yellow-400 fill-current":"text-gray-300 dark:text-gray-600")},r))})]}),e.review&&(0,xr.jsx)("p",{className:"text-gray-700 dark:text-gray-300 mt-2",children:e.review}),(0,xr.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:new Date(e.createdAt).toLocaleDateString()})]})]})},e._id)})}):(0,xr.jsxs)("div",{className:"text-center py-12",children:[(0,xr.jsx)(cr,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),(0,xr.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:s("noReviewsYet")})]})]}),b&&A&&(0,xr.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-lg p-6",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,xr.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:s("completeEnrollment")}),(0,xr.jsx)("button",{onClick:()=>w(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-300 dark:hover:text-white",children:"\u2715"})]}),(0,xr.jsxs)("div",{className:"space-y-4",children:[(0,xr.jsxs)("div",{className:"p-3 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[(0,xr.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:s("group")}),(0,xr.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:A.name})]}),"free"!==A.paymentType&&A.enrollmentFee>0?(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:(0,xr.jsxs)("div",{className:"flex items-start gap-3",children:[(0,xr.jsx)(Kh,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 mt-0.5"}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("div",{className:"font-semibold text-yellow-900 dark:text-yellow-200 mb-1",children:s("paymentRequired")}),(0,xr.jsxs)("div",{className:"text-sm text-yellow-800 dark:text-yellow-300",children:[s("groupRequiresPayment")," ","monthly"===A.paymentType?s("monthly"):s("perSection")," ",s("paymentOf")," ",(0,xr.jsxs)("strong",{children:["$",A.enrollmentFee]}),"."]})]})]})}),(0,xr.jsxs)("div",{children:[(0,xr.jsxs)("label",{className:"label",children:[s("paymentMethod")," *"]}),(0,xr.jsxs)("select",{className:"input-field",value:j,onChange:e=>k(e.target.value),children:[(0,xr.jsx)("option",{value:"none",children:s("selectPaymentMethod")}),O.length>0?O.map(e=>(0,xr.jsx)("option",{value:e.key,children:e.name},e.key)):(0,xr.jsx)("option",{value:"other",children:"Other"})]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsxs)("label",{className:"label",children:[s("paymentReceiptUrl")," *"]}),(0,xr.jsx)("input",{type:"text",className:"input-field",placeholder:"https://example.com/receipt.jpg",value:N,onChange:e=>C(e.target.value)}),(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:s("uploadReceiptInstruction")})]}),(0,xr.jsx)("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:(0,xr.jsxs)("div",{className:"flex items-start gap-2",children:[(0,xr.jsx)(Ym,{className:"w-4 h-4 text-blue-600 dark:text-blue-400 mt-0.5"}),(0,xr.jsxs)("div",{className:"text-sm text-blue-800 dark:text-blue-300",children:[s("canAlsoUploadViaMessages")," ",(0,xr.jsx)(Oe,{to:"/messages",className:"underline font-medium",children:s("messagesPage")})," ",s("pageToInstructorOrAdmin")]})]})})]}):(0,xr.jsx)("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:(0,xr.jsx)("div",{className:"text-sm text-green-800 dark:text-green-300",children:s("freeGroupEnrollImmediately")})}),(0,xr.jsxs)("div",{className:"flex justify-end gap-2 pt-2",children:[(0,xr.jsx)("button",{type:"button",onClick:()=>w(!1),className:"btn-secondary",children:s("cancel")}),(0,xr.jsx)("button",{onClick:async()=>{if(!x)return alert("Please select a group");if(A&&"free"!==A.paymentType&&A.enrollmentFee>0){if(!j||"none"===j)return alert("Please select a payment method");if(!N)return alert("Please provide receipt URL or upload receipt via messaging")}try{v(!0),await i.A.post("/api/groups/".concat(x,"/enroll"),{paymentMethod:j,receiptUrl:N}),g("pending"),w(!1),k("none"),C("")}catch(qe){var e,t;alert((null===(e=qe.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to enroll")}finally{v(!1)}},className:"btn-primary",disabled:y,children:s(y?"enrolling":"confirmEnrollment")})]})]})]})})]})})}):(0,xr.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,xr.jsxs)("div",{className:"text-center",children:[(0,xr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:s("courseNotFound")}),(0,xr.jsx)(Oe,{to:"/",className:"btn-primary",children:s("backToHome")})]})})},$h=(0,nr.A)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Xh=(0,nr.A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Jh=Object.create(null);Jh.open="0",Jh.close="1",Jh.ping="2",Jh.pong="3",Jh.message="4",Jh.upgrade="5",Jh.noop="6";const Zh=Object.create(null);Object.keys(Jh).forEach(e=>{Zh[Jh[e]]=e});const ep={type:"error",data:"parser error"},tp="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),rp="function"===typeof ArrayBuffer,ap=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,np=(e,t,r)=>{let{type:a,data:n}=e;return tp&&n instanceof Blob?t?r(n):sp(n,r):rp&&(n instanceof ArrayBuffer||ap(n))?t?r(n):sp(new Blob([n]),r):r(Jh[a]+(n||""))},sp=(e,t)=>{const r=new FileReader;return r.onload=function(){const e=r.result.split(",")[1];t("b"+(e||""))},r.readAsDataURL(e)};function ip(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let op;const lp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",cp="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let r=0;r<64;r++)cp[lp.charCodeAt(r)]=r;const dp="function"===typeof ArrayBuffer,up=(e,t)=>{if("string"!==typeof e)return{type:"message",data:hp(e,t)};const r=e.charAt(0);if("b"===r)return{type:"message",data:mp(e.substring(1),t)};return Zh[r]?e.length>1?{type:Zh[r],data:e.substring(1)}:{type:Zh[r]}:ep},mp=(e,t)=>{if(dp){const r=(e=>{let t,r,a,n,s,i=.75*e.length,o=e.length,l=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);const c=new ArrayBuffer(i),d=new Uint8Array(c);for(t=0;t<o;t+=4)r=cp[e.charCodeAt(t)],a=cp[e.charCodeAt(t+1)],n=cp[e.charCodeAt(t+2)],s=cp[e.charCodeAt(t+3)],d[l++]=r<<2|a>>4,d[l++]=(15&a)<<4|n>>2,d[l++]=(3&n)<<6|63&s;return c})(e);return hp(r,t)}return{base64:!0,data:e}},hp=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,pp=String.fromCharCode(30);function gp(){return new TransformStream({transform(e,t){!function(e,t){tp&&e.data instanceof Blob?e.data.arrayBuffer().then(ip).then(t):rp&&(e.data instanceof ArrayBuffer||ap(e.data))?t(ip(e.data)):np(e,!1,e=>{op||(op=new TextEncoder),t(op.encode(e))})}(e,r=>{const a=r.length;let n;if(a<126)n=new Uint8Array(1),new DataView(n.buffer).setUint8(0,a);else if(a<65536){n=new Uint8Array(3);const e=new DataView(n.buffer);e.setUint8(0,126),e.setUint16(1,a)}else{n=new Uint8Array(9);const e=new DataView(n.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(a))}e.data&&"string"!==typeof e.data&&(n[0]|=128),t.enqueue(n),t.enqueue(r)})}})}let xp;function fp(e){return e.reduce((e,t)=>e+t.length,0)}function yp(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let a=0;for(let n=0;n<t;n++)r[n]=e[0][a++],a===e[0].length&&(e.shift(),a=0);return e.length&&a<e[0].length&&(e[0]=e[0].slice(a)),r}function vp(e){if(e)return function(e){for(var t in vp.prototype)e[t]=vp.prototype[t];return e}(e)}vp.prototype.on=vp.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},vp.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},vp.prototype.off=vp.prototype.removeListener=vp.prototype.removeAllListeners=vp.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,a=this._callbacks["$"+e];if(!a)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var n=0;n<a.length;n++)if((r=a[n])===t||r.fn===t){a.splice(n,1);break}return 0===a.length&&delete this._callbacks["$"+e],this},vp.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],a=1;a<arguments.length;a++)t[a-1]=arguments[a];if(r){a=0;for(var n=(r=r.slice(0)).length;a<n;++a)r[a].apply(this,t)}return this},vp.prototype.emitReserved=vp.prototype.emit,vp.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},vp.prototype.hasListeners=function(e){return!!this.listeners(e).length};const bp="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),wp="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function jp(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return r.reduce((t,r)=>(e.hasOwnProperty(r)&&(t[r]=e[r]),t),{})}const kp=wp.setTimeout,Np=wp.clearTimeout;function Cp(e,t){t.useNativeTimers?(e.setTimeoutFn=kp.bind(wp),e.clearTimeoutFn=Np.bind(wp)):(e.setTimeoutFn=wp.setTimeout.bind(wp),e.clearTimeoutFn=wp.clearTimeout.bind(wp))}function Ap(e){return"string"===typeof e?function(e){let t=0,r=0;for(let a=0,n=e.length;a<n;a++)t=e.charCodeAt(a),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(a++,r+=4);return r}(e):Math.ceil(1.33*(e.byteLength||e.size))}function Sp(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class Ep extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class Dp extends vp{constructor(e){super(),this.writable=!1,Cp(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,r){return super.emitReserved("error",new Ep(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=up(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}(e);return t.length?"?"+t:""}}class Pp extends Dp{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",function(){--e||t()})),this.writable||(e++,this.once("drain",function(){--e||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const r=e.split(pp),a=[];for(let n=0;n<r.length;n++){const e=up(r[n],t);if(a.push(e),"error"===e.type)break}return a})(e,this.socket.binaryType).forEach(e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const r=e.length,a=new Array(r);let n=0;e.forEach((e,s)=>{np(e,!1,e=>{a[s]=e,++n===r&&t(a.join(pp))})})})(e,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=Sp()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let Tp=!1;try{Tp="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(aw){}const _p=Tp;function Rp(){}class Op extends Pp{constructor(e){if(super(e),"undefined"!==typeof location){const t="https:"===location.protocol;let r=location.port;r||(r=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,t){const r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(e,t)=>{this.onError("xhr post error",e,t)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=e}}class Fp extends vp{constructor(e,t,r){super(),this.createRequest=e,Cp(this,r),this._opts=r,this._method=r.method||"GET",this._uri=t,this._data=void 0!==r.data?r.data:null,this._create()}_create(){var e;const t=jp(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(t);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&r.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(qe){}if("POST"===this._method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(qe){}try{r.setRequestHeader("Accept","*/*")}catch(qe){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var e;3===r.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(r.getResponseHeader("set-cookie"))),4===r.readyState&&(200===r.status||1223===r.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"===typeof r.status?r.status:0)},0))},r.send(this._data)}catch(qe){return void this.setTimeoutFn(()=>{this._onError(qe)},0)}"undefined"!==typeof document&&(this._index=Fp.requestsCount++,Fp.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=Rp,e)try{this._xhr.abort()}catch(qe){}"undefined"!==typeof document&&delete Fp.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(Fp.requestsCount=0,Fp.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",Lp);else if("function"===typeof addEventListener){addEventListener("onpagehide"in wp?"pagehide":"unload",Lp,!1)}function Lp(){for(let e in Fp.requests)Fp.requests.hasOwnProperty(e)&&Fp.requests[e].abort()}const Mp=function(){const e=Ip({xdomain:!1});return e&&null!==e.responseType}();function Ip(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||_p))return new XMLHttpRequest}catch(qe){}if(!t)try{return new(wp[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(qe){}}const Bp="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class qp extends Dp{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,r=Bp?{}:jp(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,r)}catch(aw){return this.emitReserved("error",aw)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],a=t===e.length-1;np(r,this.supportsBinary,e=>{try{this.doWrite(r,e)}catch(qe){}a&&bp(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){"undefined"!==typeof this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Sp()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const zp=wp.WebSocket||wp.MozWebSocket;const Up={websocket:class extends qp{createSocket(e,t,r){return Bp?new zp(e,t,r):t?new zp(e,t):new zp(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends Dp{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(aw){return this.emitReserved("error",aw)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=function(e,t){xp||(xp=new TextDecoder);const r=[];let a=0,n=-1,s=!1;return new TransformStream({transform(i,o){for(r.push(i);;){if(0===a){if(fp(r)<1)break;const e=yp(r,1);s=128===(128&e[0]),n=127&e[0],a=n<126?3:126===n?1:2}else if(1===a){if(fp(r)<2)break;const e=yp(r,2);n=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),a=3}else if(2===a){if(fp(r)<8)break;const e=yp(r,8),t=new DataView(e.buffer,e.byteOffset,e.length),s=t.getUint32(0);if(s>Math.pow(2,21)-1){o.enqueue(ep);break}n=s*Math.pow(2,32)+t.getUint32(4),a=3}else{if(fp(r)<n)break;const e=yp(r,n);o.enqueue(up(s?e:xp.decode(e),t)),a=0}if(0===n||n>e){o.enqueue(ep);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),a=gp();a.readable.pipeTo(e.writable),this._writer=a.writable.getWriter();const n=()=>{r.read().then(e=>{let{done:t,value:r}=e;t||(this.onPacket(r),n())}).catch(e=>{})};n();const s={type:"open"};this.query.sid&&(s.data='{"sid":"'.concat(this.query.sid,'"}')),this._writer.write(s).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],a=t===e.length-1;this._writer.write(r).then(()=>{a&&bp(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends Op{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=Mp&&!t}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new Fp(Ip,this.uri(),e)}}},Vp=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Yp=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Wp(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),a=e.indexOf("]");-1!=r&&-1!=a&&(e=e.substring(0,r)+e.substring(r,a).replace(/:/g,";")+e.substring(a,e.length));let n=Vp.exec(e||""),s={},i=14;for(;i--;)s[Yp[i]]=n[i]||"";return-1!=r&&-1!=a&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function(e,t){const r=/\/{2,9}/g,a=t.replace(r,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||a.splice(0,1);"/"==t.slice(-1)&&a.splice(a.length-1,1);return a}(0,s.path),s.queryKey=function(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,a){t&&(r[t]=a)}),r}(0,s.query),s}const Hp="function"===typeof addEventListener&&"function"===typeof removeEventListener,Gp=[];Hp&&addEventListener("offline",()=>{Gp.forEach(e=>e())},!1);class Kp extends vp{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"===typeof e&&(t=e,e=null),e){const r=Wp(e);t.hostname=r.host,t.secure="https"===r.protocol||"wss"===r.protocol,t.port=r.port,r.query&&(t.query=r.query)}else t.host&&(t.hostname=Wp(t.host).host);Cp(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},r=e.split("&");for(let a=0,n=r.length;a<n;a++){let e=r[a].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),Hp&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Gp.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const r=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const e=this.opts.rememberUpgrade&&Kp.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",e=>this._onClose("transport close",e))}onOpen(){this.readyState="open",Kp.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let t=0;t<this.writeBuffer.length;t++){const r=this.writeBuffer[t].data;if(r&&(e+=Ap(r)),t>0&&e>this._maxPayload)return this.writeBuffer.slice(0,t);e+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,bp(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,r){return this._sendPacket("message",e,t,r),this}send(e,t,r){return this._sendPacket("message",e,t,r),this}_sendPacket(e,t,r,a){if("function"===typeof t&&(a=t,t=void 0),"function"===typeof r&&(a=r,r=null),"closing"===this.readyState||"closed"===this.readyState)return;(r=r||{}).compress=!1!==r.compress;const n={type:e,data:t,options:r};this.emitReserved("packetCreate",n),this.writeBuffer.push(n),a&&this.once("flush",a),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(Kp.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Hp&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=Gp.indexOf(this._offlineEventListener);-1!==e&&Gp.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}Kp.protocol=4;class Qp extends Kp{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),r=!1;Kp.priorWebsocketSuccess=!1;const a=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",e=>{if(!r)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Kp.priorWebsocketSuccess="websocket"===t.name,this.transport.pause(()=>{r||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}}))};function n(){r||(r=!0,c(),t.close(),t=null)}const s=e=>{const r=new Error("probe error: "+e);r.transport=t.name,n(),this.emitReserved("upgradeError",r)};function i(){s("transport closed")}function o(){s("socket closed")}function l(e){t&&e.name!==t.name&&n()}const c=()=>{t.removeListener("open",a),t.removeListener("error",s),t.removeListener("close",i),this.off("close",o),this.off("upgrading",l)};t.once("open",a),t.once("error",s),t.once("close",i),this.once("close",o),this.once("upgrading",l),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{r||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}}class $p extends Qp{constructor(e){const t="object"===typeof e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t.transports||t.transports&&"string"===typeof t.transports[0])&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map(e=>Up[e]).filter(e=>!!e)),super(e,t)}}const Xp="function"===typeof ArrayBuffer,Jp=Object.prototype.toString,Zp="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Jp.call(Blob),eg="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===Jp.call(File);function tg(e){return Xp&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||Zp&&e instanceof Blob||eg&&e instanceof File}function rg(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,r=e.length;t<r;t++)if(rg(e[t]))return!0;return!1}if(tg(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return rg(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&rg(e[r]))return!0;return!1}function ag(e){const t=[],r=e.data,a=e;return a.data=ng(r,t),a.attachments=t.length,{packet:a,buffers:t}}function ng(e,t){if(!e)return e;if(tg(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}if(Array.isArray(e)){const r=new Array(e.length);for(let a=0;a<e.length;a++)r[a]=ng(e[a],t);return r}if("object"===typeof e&&!(e instanceof Date)){const r={};for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=ng(e[a],t));return r}return e}function sg(e,t){return e.data=ig(e.data,t),delete e.attachments,e}function ig(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=ig(e[r],t);else if("object"===typeof e)for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=ig(e[r],t));return e}const og=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],lg=5;var cg;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(cg||(cg={}));class dg{constructor(e){this.replacer=e}encode(e){return e.type!==cg.EVENT&&e.type!==cg.ACK||!rg(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===cg.EVENT?cg.BINARY_EVENT:cg.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==cg.BINARY_EVENT&&e.type!==cg.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=ag(e),r=this.encodeAsString(t.packet),a=t.buffers;return a.unshift(r),a}}function ug(e){return"[object Object]"===Object.prototype.toString.call(e)}class mg extends vp{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const r=t.type===cg.BINARY_EVENT;r||t.type===cg.BINARY_ACK?(t.type=r?cg.EVENT:cg.ACK,this.reconstructor=new hg(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!tg(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const r={type:Number(e.charAt(0))};if(void 0===cg[r.type])throw new Error("unknown packet type "+r.type);if(r.type===cg.BINARY_EVENT||r.type===cg.BINARY_ACK){const a=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const n=e.substring(a,t);if(n!=Number(n)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(n)}if("/"===e.charAt(t+1)){const a=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}r.nsp=e.substring(a,t)}else r.nsp="/";const a=e.charAt(t+1);if(""!==a&&Number(a)==a){const a=t+1;for(;++t;){const r=e.charAt(t);if(null==r||Number(r)!=r){--t;break}if(t===e.length)break}r.id=Number(e.substring(a,t+1))}if(e.charAt(++t)){const a=this.tryParse(e.substr(t));if(!mg.isPayloadValid(r.type,a))throw new Error("invalid payload");r.data=a}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(qe){return!1}}static isPayloadValid(e,t){switch(e){case cg.CONNECT:return ug(t);case cg.DISCONNECT:return void 0===t;case cg.CONNECT_ERROR:return"string"===typeof t||ug(t);case cg.EVENT:case cg.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===og.indexOf(t[0]));case cg.ACK:case cg.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class hg{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=sg(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function pg(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const gg=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class xg extends vp{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[pg(e,"open",this.onopen.bind(this)),pg(e,"packet",this.onpacket.bind(this)),pg(e,"error",this.onerror.bind(this)),pg(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){var t,r,a;if(gg.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];if(s.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const o={type:cg.EVENT,data:s,options:{}};if(o.options.compress=!1!==this.flags.compress,"function"===typeof s[s.length-1]){const e=this.ids++,t=s.pop();this._registerAckCallback(e,t),o.id=e}const l=null===(r=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===r?void 0:r.writable,c=this.connected&&!(null===(a=this.io.engine)||void 0===a?void 0:a._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,t){var r,a=this;const n=null!==(r=this.flags.timeout)&&void 0!==r?r:this._opts.ackTimeout;if(void 0===n)return void(this.acks[e]=t);const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))},n),i=function(){a.io.clearTimeoutFn(s);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];t.apply(a,r)};i.withError=!0,this.acks[e]=i}emitWithAck(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return new Promise((t,a)=>{const n=(e,r)=>e?a(e):t(r);n.withError=!0,r.push(n),this.emit(e,...r)})}_addToQueue(e){var t=this;let r;"function"===typeof e[e.length-1]&&(r=e.pop());const a={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push(function(e){if(a!==t._queue[0])return;if(null!==e)a.tryCount>t._opts.retries&&(t._queue.shift(),r&&r(e));else if(t._queue.shift(),r){for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];r(null,...s)}return a.pending=!1,t._drainQueue()}),this._queue.push(a),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:cg.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(t=>String(t.id)===e)){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case cg.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case cg.EVENT:case cg.BINARY_EVENT:this.onevent(e);break;case cg.ACK:case cg.BINARY_ACK:this.onack(e);break;case cg.DISCONNECT:this.ondisconnect();break;case cg.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let r=!1;return function(){if(!r){r=!0;for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];t.packet({type:cg.ACK,id:e,data:n})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:cg.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const r of t)r.apply(this,e.data)}}}function fg(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}fg.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-r:e+r}return 0|Math.min(e,this.max)},fg.prototype.reset=function(){this.attempts=0},fg.prototype.setMin=function(e){this.ms=e},fg.prototype.setMax=function(e){this.max=e},fg.prototype.setJitter=function(e){this.jitter=e};class yg extends vp{constructor(t,r){var a;super(),this.nsps={},this.subs=[],t&&"object"===typeof t&&(r=t,t=void 0),(r=r||{}).path=r.path||"/socket.io",this.opts=r,Cp(this,r),this.reconnection(!1!==r.reconnection),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(a=r.randomizationFactor)&&void 0!==a?a:.5),this.backoff=new fg({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==r.timeout?2e4:r.timeout),this._readyState="closed",this.uri=t;const n=r.parser||e;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=!1!==r.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new $p(this.uri,this.opts);const t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const a=pg(t,"open",function(){r.onopen(),e&&e()}),n=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},s=pg(t,"error",n);if(!1!==this._timeout){const e=this._timeout,r=this.setTimeoutFn(()=>{a(),n(new Error("timeout")),t.close()},e);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}return this.subs.push(a),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(pg(e,"ping",this.onping.bind(this)),pg(e,"data",this.ondata.bind(this)),pg(e,"error",this.onerror.bind(this)),pg(e,"close",this.onclose.bind(this)),pg(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(qe){this.onclose("parse error",qe)}}ondecoded(e){bp(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new xg(this,e,t),this.nsps[e]=r),r}_destroy(e){const t=Object.keys(this.nsps);for(const r of t){if(this.nsps[r].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var r;this.cleanup(),null===(r=this.engine)||void 0===r||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const vg={};function bg(e,t){"object"===typeof e&&(t=e,e=void 0);const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,a=e;r=r||"undefined"!==typeof location&&location,null==e&&(e=r.protocol+"//"+r.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?r.protocol+e:r.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof r?r.protocol+"//"+e:"https://"+e),a=Wp(e)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";const n=-1!==a.host.indexOf(":")?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+n+":"+a.port+t,a.href=a.protocol+"://"+n+(r&&r.port===a.port?"":":"+a.port),a}(e,(t=t||{}).path||"/socket.io"),a=r.source,n=r.id,s=r.path,i=vg[n]&&s in vg[n].nsps;let o;return t.forceNew||t["force new connection"]||!1===t.multiplex||i?o=new yg(a,t):(vg[n]||(vg[n]=new yg(a,t)),o=vg[n]),r.query&&!t.query&&(t.query=r.queryKey),o.socket(r.path,t)}Object.assign(bg,{Manager:yg,Socket:xg,io:bg,connect:bg});const wg=(0,a.createContext)(),jg=()=>{const e=(0,a.useContext)(wg);if(!e)throw new Error("useSocket must be used within a SocketProvider");return e},kg=e=>{let{children:t}=e;const{user:r}=wr(),[n,s]=(0,a.useState)(null),[i,o]=(0,a.useState)(!1),[l,c]=(0,a.useState)([]),[d,u]=(0,a.useState)([]);(0,a.useEffect)(()=>{if(!r)return void(n&&(n.disconnect(),s(null),o(!1)));const e=localStorage.getItem("token");if(!e)return;const t={NODE_ENV:"production",PUBLIC_URL:"/eduflow_client",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SOCKET_URL||{NODE_ENV:"production",PUBLIC_URL:"/eduflow_client",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"https://eduflow-server-87rv.onrender.com",a=t?String(t).trim().replace(/\/+$/,""):"",i=bg((a.endsWith("/api")?a.slice(0,-4):a)||"http://localhost:5000",{auth:{token:e},transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3});return i.on("connect",()=>{console.log("\u2705 Socket.IO connected"),o(!0)}),i.on("disconnect",e=>{console.log("\u274c Socket.IO disconnected:",e),o(!1)}),i.on("connect_error",e=>{console.error("Socket connection error:",e),o(!1)}),i.on("receive_message",e=>{console.log("\ud83d\udce8 New message received:",e),c(t=>[...t,e]),u(t=>{var r;return[...t,{id:Date.now(),type:"message",message:"New message from ".concat(null===(r=e.sender)||void 0===r?void 0:r.name),data:e,timestamp:new Date}]})}),i.on("message_sent",e=>{console.log("\u2705 Message sent successfully:",e)}),i.on("message_error",e=>{console.error("\u274c Message error:",e)}),i.on("user_typing",e=>{console.log("User typing:",e.userId)}),i.on("user_stop_typing",e=>{console.log("User stopped typing:",e.userId)}),i.on("payment_verified",e=>{console.log("\ud83d\udcb0 Payment verified:",e),u(t=>[...t,{id:Date.now(),type:"payment",message:"Your payment has been verified!",data:e,timestamp:new Date}])}),i.on("certificate_issued",e=>{console.log("\ud83c\udf93 Certificate issued:",e),u(t=>[...t,{id:Date.now(),type:"certificate",message:"Your certificate is ready!",data:e,timestamp:new Date}])}),s(i),()=>{i.disconnect()}},[r]);const m=(0,a.useCallback)(e=>{n&&i?n.emit("send_message",e):console.error("Socket not connected")},[n,i]),h=(0,a.useCallback)(e=>{n&&i&&n.emit("join_group",e)},[n,i]),p=(0,a.useCallback)(e=>{n&&i&&n.emit("leave_group",e)},[n,i]),g=(0,a.useCallback)(e=>{n&&i&&n.emit("typing",e)},[n,i]),x=(0,a.useCallback)(e=>{n&&i&&n.emit("stop_typing",e)},[n,i]),f=(0,a.useCallback)(()=>{u([])},[]),y=(0,a.useCallback)(e=>{u(t=>t.filter(t=>t.id!==e))},[]),v={socket:n,connected:i,messages:l,notifications:d,sendMessage:m,joinGroup:h,leaveGroup:p,sendTyping:g,sendStopTyping:x,clearNotifications:f,removeNotification:y};return(0,xr.jsx)(wg.Provider,{value:v,children:t})},Ng=e=>{let{isOpen:t,onClose:r,onConfirm:a,title:n="Confirm Action",message:s="Are you sure you want to proceed?",confirmText:i="Confirm",cancelText:o="Cancel",confirmButtonClass:l="bg-red-600 hover:bg-red-700 text-white",loading:c=!1,icon:d=(0,xr.jsx)($h,{className:"w-12 h-12 text-yellow-500"})}=e;if(!t)return null;return(0,xr.jsx)(tr.N,{children:t&&(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)(rr.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50",onClick:r}),(0,xr.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full p-6",onClick:e=>e.stopPropagation(),children:[(0,xr.jsx)("button",{onClick:r,disabled:c,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,xr.jsx)(pr.A,{className:"w-5 h-5"})}),(0,xr.jsx)("div",{className:"flex justify-center mb-4",children:d}),(0,xr.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white text-center mb-3",children:n}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-center mb-6",children:s}),(0,xr.jsxs)("div",{className:"flex gap-3",children:[(0,xr.jsx)("button",{onClick:r,disabled:c,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o}),(0,xr.jsxs)("button",{onClick:()=>{a()},disabled:c,className:"flex-1 px-4 py-2 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2 ".concat(l),children:[c&&(0,xr.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),i]})]})]})})]})})},Cg=()=>{var e;const{theme:t}=Nr(),[r,n]=(0,a.useState)(null),[s,o]=(0,a.useState)(!0),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(null),[m,h]=(0,a.useState)(""),[p,g]=(0,a.useState)(!1);(0,a.useEffect)(()=>{x()},[]);const x=async()=>{try{const e=localStorage.getItem("token"),t=await i.A.get("/api/instructor-agreements/my-agreement",{headers:{Authorization:"Bearer ".concat(e)}});n(t.data.data)}catch(e){console.error("Error fetching agreements:",e)}finally{o(!1)}};if(s)return null;const f=(null===r||void 0===r||null===(e=r.recentAgreements)||void 0===e?void 0:e.filter(e=>"pending"===e.status))||[];return 0===f.length?null:(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)(tr.N,{children:f.map(e=>(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mb-6 ".concat("dark"===t?"bg-gradient-to-r from-yellow-900/20 to-orange-900/20":"bg-gradient-to-r from-yellow-50 to-orange-50"," border-l-4 border-yellow-500 rounded-lg shadow-lg overflow-hidden"),children:(0,xr.jsx)("div",{className:"p-6",children:(0,xr.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,xr.jsx)("div",{className:"flex-shrink-0",children:(0,xr.jsx)("div",{className:"w-12 h-12 bg-yellow-500 rounded-full flex items-center justify-center",children:(0,xr.jsx)(Um,{className:"w-6 h-6 text-white"})})}),(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,xr.jsx)("h3",{className:"text-lg font-bold ".concat("dark"===t?"text-white":"text-gray-900"),children:"New Earnings Agreement Requires Your Action"}),(0,xr.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat("custom"===e.agreementType?"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-400":"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-400"),children:"custom"===e.agreementType?"Custom Agreement":"Global Agreement"})]}),(0,xr.jsx)("p",{className:"text-sm mb-4 ".concat("dark"===t?"text-gray-300":"text-gray-700"),children:"A new earnings agreement has been prepared for you. Please review the terms carefully before accepting or rejecting."}),(0,xr.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,xr.jsxs)("div",{className:"p-4 rounded-lg ".concat("dark"===t?"bg-gray-800/50":"bg-white"," border ").concat("dark"===t?"border-gray-700":"border-gray-200"),children:[(0,xr.jsx)("p",{className:"text-xs mb-1 ".concat("dark"===t?"text-gray-400":"text-gray-600"),children:"Your Share"}),(0,xr.jsxs)("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[e.instructorPercentage,"%"]})]}),(0,xr.jsxs)("div",{className:"p-4 rounded-lg ".concat("dark"===t?"bg-gray-800/50":"bg-white"," border ").concat("dark"===t?"border-gray-700":"border-gray-200"),children:[(0,xr.jsx)("p",{className:"text-xs mb-1 ".concat("dark"===t?"text-gray-400":"text-gray-600"),children:"Platform Commission"}),(0,xr.jsxs)("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:[e.platformPercentage,"%"]})]})]}),(0,xr.jsxs)("div",{className:"flex flex-wrap gap-3",children:[e.pdfUrl&&(0,xr.jsxs)("a",{href:e.pdfUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium shadow-md",children:[(0,xr.jsx)(Vm,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:"Download Full Agreement PDF"})]}),(0,xr.jsxs)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to approve this agreement? This will become your active earnings split."))try{g(!0);const t=localStorage.getItem("token");await i.A.put("/api/instructor-agreements/".concat(e,"/approve"),{},{headers:{Authorization:"Bearer ".concat(t)}}),er.success("Agreement approved successfully!"),x()}catch(a){var t,r;console.error("Error approving agreement:",a),er.error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to approve agreement")}finally{g(!1)}})(e._id),disabled:p,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-medium shadow-md disabled:opacity-50",children:[(0,xr.jsx)(Pa,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:"Approve Agreement"})]}),(0,xr.jsxs)("button",{onClick:()=>{u(e),c(!0)},disabled:p,className:"flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm font-medium shadow-md disabled:opacity-50",children:[(0,xr.jsx)(pr.A,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:"Reject & Provide Feedback"})]})]})]})]})})},e._id))}),l&&(0,xr.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"".concat("dark"===t?"bg-gray-800":"bg-white"," rounded-lg shadow-xl w-full max-w-lg p-6"),children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,xr.jsx)($h,{className:"w-8 h-8 text-red-500"}),(0,xr.jsx)("h2",{className:"text-xl font-bold ".concat("dark"===t?"text-white":"text-gray-900"),children:"Reject Agreement"})]}),(0,xr.jsx)("p",{className:"mb-4 ".concat("dark"===t?"text-gray-300":"text-gray-700"),children:"Please provide a detailed reason for rejecting this agreement. The admin will review your feedback and may create a custom agreement for you."}),(0,xr.jsx)("textarea",{rows:"6",value:m,onChange:e=>h(e.target.value),placeholder:"Example: I believe my share should be higher given my experience and course quality. I would like to negotiate for a 75-25 split...",className:"w-full px-4 py-2 rounded-lg border ".concat("dark"===t?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"," mb-4"),required:!0}),(0,xr.jsx)("p",{className:"text-xs mb-4 ".concat("dark"===t?"text-gray-400":"text-gray-500"),children:"Minimum 10 characters required. Be specific about your concerns or counter-proposal."}),(0,xr.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,xr.jsx)("button",{onClick:()=>{c(!1),h(""),u(null)},disabled:p,className:"px-4 py-2 rounded-lg ".concat("dark"===t?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"," transition-colors disabled:opacity-50"),children:"Cancel"}),(0,xr.jsx)("button",{onClick:async()=>{if(!m||m.trim().length<10)er.error("Please provide a detailed reason (minimum 10 characters)");else try{g(!0);const e=localStorage.getItem("token");await i.A.put("/api/instructor-agreements/".concat(d._id,"/reject"),{reason:m},{headers:{Authorization:"Bearer ".concat(e)}}),er.success("Agreement rejected. Admin has been notified."),c(!1),h(""),u(null),x()}catch(r){var e,t;console.error("Error rejecting agreement:",r),er.error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to reject agreement")}finally{g(!1)}},disabled:p||m.trim().length<10,className:"flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:p?(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,xr.jsx)("span",{children:"Submitting..."})]}):(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)(pr.A,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:"Submit Rejection"})]})})]})]})})]})},Ag=()=>{var e;const{t:t}=(0,ar.useTranslation)(),{user:r,weakPassword:n}=wr(),{socket:s}=jg()||{},o=Bd(),{celebrationState:l,celebrate:c,closeCelebration:d}=Am(),[u,m]=(0,a.useState)([]),[h,p]=(0,a.useState)(!0),[g,x]=(0,a.useState)(!1),[f,y]=(0,a.useState)(!1),[v,b]=(0,a.useState)(!1),[w,j]=(0,a.useState)(null),[k,N]=(0,a.useState)(!1),[C,A]=(0,a.useState)({name:"",description:"",category:"",level:"beginner",duration:8,cost:0,image:"",hasCertificate:!1,certificateMode:"manual_instructor",instructorCertificateRelease:!1,telegramGroupLink:"",allowPointsDiscount:!1}),[S,E]=(0,a.useState)([]),[D,P]=(0,a.useState)(!1),[T,_]=(0,a.useState)(""),[R,O]=(0,a.useState)(!1),[F,L]=(0,a.useState)([]),[M,I]=(0,a.useState)(!1),[B,q]=(0,a.useState)(""),[z,U]=(0,a.useState)(!1),[V,Y]=(0,a.useState)({pendingCertificates:0,pendingAssignments:0,pendingReuploads:0,canRequestPayout:!1,availableAmountSYP:0,minimumPayoutSYP:0,discounts:[]}),W=Boolean(V.pendingCertificates||V.pendingAssignments||V.pendingReuploads||V.canRequestPayout||V.discounts&&V.discounts.length>0),H=!1!==(null===r||void 0===r||null===(e=r.preferences)||void 0===e?void 0:e.enablePendingActionsAnimations)&&W,G=Bm(r,"createEditDeleteCourses"),K=e=>{if(!e)return"";const t=new Date(e).getTime()-Date.now();if(t<=0)return"expired";const r=Math.floor(t/6e4);if(r<60)return"".concat(r," min");const a=Math.floor(r/60);if(a<24)return"".concat(a,"h ").concat(r%60,"m");const n=Math.floor(a/24);return"".concat(n,"d ").concat(a%24,"h")},Q=(0,a.useCallback)(async()=>{try{var e,t,a;console.log("========== FRONTEND DEBUG =========="),console.log("Current user:",{id:null===r||void 0===r?void 0:r.id,email:null===r||void 0===r?void 0:r.email,role:null===r||void 0===r?void 0:r.role,instructorStatus:null===r||void 0===r?void 0:r.instructorStatus}),console.log("Fetching instructor courses from /api/courses/my-courses and pending summary...");const[n,s]=await Promise.all([i.A.get("/api/courses/my-courses"),i.A.get("/api/instructor/pending-summary")]);console.log("Courses response:",{success:n.data.success,count:n.data.count,coursesLength:(null===(e=n.data.courses)||void 0===e?void 0:e.length)||0}),n.data.courses&&n.data.courses.length>0&&console.log("First course sample:",{id:n.data.courses[0]._id,name:n.data.courses[0].name,instructor:n.data.courses[0].instructor}),m(n.data.courses||[]),console.log("\u2705 Successfully set courses:",(null===(t=n.data.courses)||void 0===t?void 0:t.length)||0);const o=(null===(a=s.data)||void 0===a?void 0:a.data)||{};Y(e=>(0,Be.A)((0,Be.A)({},e),o)),console.log("====================================")}catch(h){var n,s,o,l,c;if(console.error("========== ERROR FETCHING DATA =========="),console.error("Error details:",{message:h.message,status:null===(n=h.response)||void 0===n?void 0:n.status,statusText:null===(s=h.response)||void 0===s?void 0:s.statusText,data:null===(o=h.response)||void 0===o?void 0:o.data}),403===(null===(l=h.response)||void 0===l?void 0:l.status))console.error("\u274c Permission denied - user might not be an instructor"),er.error("Permission denied. Please ensure you are logged in as an instructor.");else if(401===(null===(c=h.response)||void 0===c?void 0:c.status))console.error("\u274c Not authenticated - token might be invalid"),er.error("Session expired. Please log in again.");else{var d,u;console.error("\u274c Unknown error occurred");const e=(null===(d=h.response)||void 0===d||null===(u=d.data)||void 0===u?void 0:u.message)||"Failed to load instructor dashboard data";er.error(e)}console.error("=========================================")}finally{p(!1)}},[r]);(0,a.useEffect)(()=>{Q(),$(),J()},[Q]),(0,a.useEffect)(()=>{if(!s)return;const e=e=>{e&&"object"===typeof e&&Y(t=>(0,Be.A)((0,Be.A)({},t),e))};return s.on("instructor.pending-updates",e),()=>{s.off("instructor.pending-updates",e)}},[s]);const $=async()=>{try{const e=(await i.A.get("/api/categories")).data.categories||[];console.log("Fetched categories:",e),E(e),e.length>0&&!C.category&&A(t=>(0,Be.A)((0,Be.A)({},t),{},{category:e[0].slug})),0===e.length&&(console.log("No categories found, retrying..."),setTimeout(async()=>{try{const e=(await i.A.get("/api/categories")).data.categories||[];console.log("Retry fetched categories:",e),E(e),e.length>0&&!C.category&&A(t=>(0,Be.A)((0,Be.A)({},t),{},{category:e[0].slug}))}catch(e){console.error("Retry fetch categories error:",e)}},1e3))}catch(e){console.error("Error fetching categories:",e)}},X=async()=>{if(T.trim())try{O(!0);const e=await i.A.post("/api/categories",{name:T,description:"".concat(T," courses")});await $(),A((0,Be.A)((0,Be.A)({},C),{},{category:e.data.category.slug})),_(""),P(!1),er.success("Category added successfully!")}catch(r){var e,t;console.error("Error adding category:",r),er.error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to add category")}finally{O(!1)}else er.error("Please enter a category name")},J=async()=>{try{const e=(await i.A.get("/api/levels")).data.levels||[];console.log("Fetched levels:",e),L(e),e.length>0&&!C.level&&A(t=>(0,Be.A)((0,Be.A)({},t),{},{level:e[0].slug}))}catch(e){console.error("Error fetching levels:",e)}};return h?(0,xr.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:["approved"!==(null===r||void 0===r?void 0:r.instructorStatus)&&(0,xr.jsx)("div",{className:"mb-6 p-4 rounded-lg bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",children:"Your instructor account is pending admin approval. You can browse but cannot create or update courses yet."}),"approved"===(null===r||void 0===r?void 0:r.instructorStatus)&&(0,xr.jsx)(Cg,{}),n&&("admin"===(null===r||void 0===r?void 0:r.role)||"instructor"===(null===r||void 0===r?void 0:r.role))&&(0,xr.jsxs)("div",{className:"mb-4 px-4 py-2 rounded-md border border-yellow-100 dark:border-yellow-900/40 bg-yellow-50/60 dark:bg-yellow-950/40 text-yellow-900 dark:text-yellow-200 text-sm flex items-center justify-between",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,xr.jsx)("span",{className:"text-base",children:"\u26a0\ufe0f"}),(0,xr.jsx)("span",{children:"Your password is considered weak. Please update it from your profile to better protect your instructor account and payouts."})]}),(0,xr.jsx)(Oe,{to:"/profile",className:"ml-4 inline-flex items-center px-3 py-1.5 rounded-md bg-yellow-600 text-white text-xs font-medium hover:bg-yellow-700",children:"Update"})]}),(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8",children:[(0,xr.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:[t("welcomeTitle"),", ",null===r||void 0===r?void 0:r.name,"!"]}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your courses, groups, and content"})]}),W?(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:10},animate:(0,Be.A)({opacity:1,y:0},H?{boxShadow:["0 0 0 0 rgba(250, 204, 21, 0)","0 0 0 10px rgba(250, 204, 21, 0.35)","0 0 0 0 rgba(250, 204, 21, 0)"]}:{}),transition:H?{opacity:{duration:.4,ease:"easeOut"},y:{duration:.4,ease:"easeOut"},boxShadow:{duration:2.2,repeat:1/0,repeatType:"mirror",ease:"easeInOut"}}:{duration:.4,ease:"easeOut"},className:"sticky top-0 z-30 mb-6 rounded-md px-4 py-2 text-sm flex flex-wrap items-center gap-3 border bg-gradient-to-r from-amber-50 via-yellow-50 to-orange-50 dark:from-amber-900/40 dark:via-yellow-900/40 dark:to-orange-900/40 text-amber-900 dark:text-amber-50 border-amber-300 dark:border-amber-500 shadow-lg",children:[(0,xr.jsxs)("span",{className:"font-bold flex items-center gap-2",children:[(0,xr.jsx)($h,{className:"w-4 h-4 text-yellow-500"}),(0,xr.jsx)("span",{children:"Pending actions:"})]}),V.pendingCertificates>0&&(0,xr.jsxs)(Oe,{to:"/instructor/certificates",className:"inline-flex items-center gap-1 text-xs px-2 py-1 rounded-full bg-indigo-100 dark:bg-indigo-900/40 text-indigo-800 dark:text-indigo-200 hover:bg-indigo-200 dark:hover:bg-indigo-800 transition-colors",children:[(0,xr.jsx)("span",{className:"font-semibold",children:V.pendingCertificates}),(0,xr.jsx)("span",{children:"certificate requests"})]}),V.pendingAssignments>0&&(0,xr.jsxs)(Oe,{to:"/instructor/grading",className:"inline-flex items-center gap-1 text-xs px-2 py-1 rounded-full bg-yellow-100 dark:bg-yellow-900/40 text-yellow-800 dark:text-yellow-200 hover:bg-yellow-200 dark:hover:bg-yellow-800 transition-colors",children:[(0,xr.jsx)("span",{className:"font-semibold",children:V.pendingAssignments}),(0,xr.jsx)("span",{children:"assignments to grade"})]}),V.pendingReuploads>0&&(0,xr.jsxs)(Oe,{to:"/instructor/grading",className:"inline-flex items-center gap-1 text-xs px-2 py-1 rounded-full bg-purple-100 dark:bg-purple-900/40 text-purple-800 dark:text-purple-200 hover:bg-purple-200 dark:hover:bg-purple-800 transition-colors",children:[(0,xr.jsx)("span",{className:"font-semibold",children:V.pendingReuploads}),(0,xr.jsx)("span",{children:"reupload requests"})]}),V.canRequestPayout&&(0,xr.jsx)(Oe,{to:"/instructor/earnings",className:"inline-flex items-center gap-1 text-xs px-2 py-1 rounded-full bg-green-100 dark:bg-green-900/40 text-green-800 dark:text-green-200 hover:bg-green-200 dark:hover:bg-green-800 transition-colors",children:(0,xr.jsx)("span",{children:"Can request payout now"})}),V.discounts&&V.discounts.length>0&&(0,xr.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-xs",children:[V.discounts.slice(0,2).map(e=>(0,xr.jsxs)(Oe,{to:"/instructor/courses/".concat(e.courseId,"/edit"),className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-purple-100 dark:bg-purple-900/40 text-purple-800 dark:text-purple-200 hover:bg-purple-200 dark:hover:bg-purple-800 transition-colors",children:[(0,xr.jsx)(Zc,{className:"w-3 h-3"}),(0,xr.jsx)("span",{className:"font-semibold truncate max-w-[120px]",children:e.courseName}),e.endsAt&&(0,xr.jsxs)("span",{className:"opacity-80",children:["ends in ",K(e.endsAt)]})]},e.courseId)),V.discounts.length>2&&(0,xr.jsxs)("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:["+",V.discounts.length-2," more"]})]})]}):(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},className:"sticky top-0 z-30 mb-6 rounded-md px-4 py-2 text-sm bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-200",children:"No pending actions \ud83c\udf89"}),(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"dashboard-stats grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[{title:"My Courses",value:u.length,icon:(0,xr.jsx)(Ra,{className:"w-6 h-6"}),color:"bg-blue-500"},{title:"Total Groups",value:u.reduce((e,t)=>{var r;return e+((null===(r=t.groups)||void 0===r?void 0:r.length)||0)},0),icon:(0,xr.jsx)(Xc,{className:"w-6 h-6"}),color:"bg-green-500"},{title:"Active Courses",value:u.filter(e=>e.isActive).length,icon:(0,xr.jsx)(Jc,{className:"w-6 h-6"}),color:"bg-purple-500"},{title:"My Earnings",value:"View",icon:(0,xr.jsx)(Kh,{className:"w-6 h-6"}),color:"bg-yellow-500",link:"/instructor/earnings"}].map((e,t)=>{const r=(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:e.title}),(0,xr.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.value})]}),(0,xr.jsx)("div",{className:"p-3 rounded-lg ".concat(e.color," text-white"),children:e.icon})]});return e.link?(0,xr.jsx)(Oe,{to:e.link,className:"card hover:shadow-lg transition-shadow",children:r},t):(0,xr.jsx)("div",{className:"card",children:r},t)})}),(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mb-8",children:[(0,xr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Quick Actions"}),(0,xr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,xr.jsx)("button",{onClick:()=>x(!0),disabled:"approved"!==(null===r||void 0===r?void 0:r.instructorStatus)||G,className:"create-course-btn card hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 text-left disabled:opacity-50 disabled:cursor-not-allowed",children:(0,xr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,xr.jsx)("div",{className:"p-3 bg-primary-100 dark:bg-primary-900 rounded-lg",children:(0,xr.jsx)(Xh,{className:"w-6 h-6 text-primary-600 dark:text-primary-400"})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Create New Course"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Start a new course"})]})]})}),(0,xr.jsx)(Oe,{to:"/instructor/earnings",className:"earnings-link card hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 text-left",children:(0,xr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,xr.jsx)("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900 rounded-lg",children:(0,xr.jsx)(Kh,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"My Earnings"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Track your income"})]})]})}),(0,xr.jsx)(Oe,{to:"/instructor/certificates",className:"card hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 text-left",children:(0,xr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,xr.jsx)("div",{className:"p-3 bg-indigo-100 dark:bg-indigo-900 rounded-lg",children:(0,xr.jsx)("svg",{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Certificate Management"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Manage certificate requests"})]})]})}),(0,xr.jsx)(Oe,{to:"/instructor/grading",className:"grading-link card hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 text-left",children:(0,xr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,xr.jsx)("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900 rounded-lg",children:(0,xr.jsx)("svg",{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Assignment Grading"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Grade student assignments"})]})]})})]})]}),(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"my-courses-section",children:[(0,xr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"My Courses"}),0===u.length?(0,xr.jsxs)("div",{className:"card text-center py-12",children:[(0,xr.jsx)(Ra,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,xr.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No courses yet"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Create your first course to start teaching"}),(0,xr.jsx)("button",{onClick:()=>x(!0),className:"btn-primary",disabled:"approved"!==(null===r||void 0===r?void 0:r.instructorStatus)||G,children:"Create Course"})]}):(0,xr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map((e,t)=>{var r,a;return(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1*t},className:"card hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300",children:[(0,xr.jsxs)("div",{className:"relative mb-4",children:[(0,xr.jsx)("div",{className:"w-full h-48 bg-gradient-to-br from-primary-100 to-primary-200 dark:from-primary-900 dark:to-primary-800 rounded-lg flex items-center justify-center",children:e.image?(0,xr.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover rounded-lg"}):(0,xr.jsx)(Ra,{className:"w-12 h-12 text-primary-600 dark:text-primary-400"})}),(0,xr.jsx)("div",{className:"absolute top-3 left-3",children:(0,xr.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200",children:e.level})})]}),(0,xr.jsxs)("div",{className:"space-y-3",children:[(0,xr.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:e.name}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm line-clamp-2",children:e.description}),(0,xr.jsx)("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400",children:(0,xr.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,xr.jsx)(Xc,{className:"w-4 h-4"}),(0,xr.jsxs)("span",{children:[(null===(r=e.groups)||void 0===r?void 0:r.length)||0," groups"]})]})}),(0,xr.jsx)("div",{className:"pt-4 pb-3 border-t border-gray-200 dark:border-gray-700",children:(0,xr.jsx)("div",{className:"flex items-center justify-between",children:(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Price"}),"approved"===(null===(a=e.discount)||void 0===a?void 0:a.status)?(0,xr.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,xr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,xr.jsxs)("span",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:[e.cost," ",e.currency||"SYP"]}),(0,xr.jsxs)("span",{className:"text-xs bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 px-2 py-0.5 rounded-full font-semibold",children:["-",e.discount.percentage,"%"]})]}),(0,xr.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400 line-through",children:[e.originalCost||e.discount.originalPrice," ",e.currency||"SYP"]})]}):(0,xr.jsx)("span",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400",children:e.totalPrice?"".concat(e.totalPrice," SYP"):"".concat(e.cost," ").concat(e.currency||"SYP")})]})})}),(0,xr.jsxs)("div",{className:"pt-3 space-y-2",children:[(0,xr.jsx)("div",{className:"flex items-center justify-end gap-2",children:(0,xr.jsx)(Oe,{to:"/instructor/courses/".concat(e._id,"/edit"),className:"btn-secondary inline-flex items-center gap-2 px-3 py-2",title:"Edit Course",children:"Edit Course"})}),(0,xr.jsxs)(Oe,{to:"/instructor/courses/".concat(e._id,"/groups"),className:"btn-primary w-full text-center inline-flex items-center justify-center gap-2",children:[(0,xr.jsx)(Xc,{className:"w-4 h-4"}),"Manage Groups"]})]})]})]},e._id)})})]}),g&&(0,xr.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 overflow-y-auto",children:(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-3xl p-6 my-8 max-h-[90vh] overflow-y-auto",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-4 sticky top-0 bg-white dark:bg-gray-800 pb-4 border-b border-gray-200 dark:border-gray-700 z-10",children:[(0,xr.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Create Course"}),(0,xr.jsx)("button",{onClick:()=>x(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-300 dark:hover:text-white",children:"\u2715"})]}),(0,xr.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{var t;y(!0);const e=localStorage.getItem("token");console.log("Checking token..."),console.log("Token exists:",!!e),console.log("Token value:",e),console.log("--------------------");const a=null===(t=(await i.A.post("/api/courses",C,{headers:{Authorization:"Bearer ".concat(e)}})).data)||void 0===t?void 0:t.course;a&&("approved"===a.approvalStatus||a.isPublished?c({eventType:"courseCreated",userName:null===r||void 0===r?void 0:r.name,courseName:a.name||C.name,userRole:"instructor",eventKey:"course_created_".concat(null===r||void 0===r?void 0:r.id,"_").concat(a._id)}):er.success('Course "'.concat(a.name,'" created! Waiting for admin approval.'),{duration:5e3,icon:"\u23f3"})),A({name:"",description:"",category:S.length>0?S[0].slug:"",level:"beginner",duration:8,cost:0,image:"",hasCertificate:!1,certificateMode:"manual_instructor",instructorCertificateRelease:!1,telegramGroupLink:"",allowPointsDiscount:!1}),x(!1),P(!1),_(""),await Q()}catch(l){var a,n;if(console.error("Create course failed:",l),null!==(a=l.response)&&void 0!==a&&null!==(n=a.data)&&void 0!==n&&n.errors&&l.response.data.errors.length>0){const e=l.response.data.errors.map(e=>"".concat(e.path||e.field,": ").concat(e.msg||e.message)).join("\n");er.error(e)}else{var s,o;er.error((null===(s=l.response)||void 0===s||null===(o=s.data)||void 0===o?void 0:o.message)||"Failed to create course")}}finally{y(!1)}},className:"space-y-4 pt-4",type:"submit",children:[(0,xr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Name"}),(0,xr.jsx)("input",{className:"input-field",value:C.name,onChange:e=>A((0,Be.A)((0,Be.A)({},C),{},{name:e.target.value})),required:!0})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Category *"}),(0,xr.jsxs)("div",{className:"flex gap-2",children:[(0,xr.jsxs)("select",{className:"input-field flex-1",value:C.category,onChange:e=>A((0,Be.A)((0,Be.A)({},C),{},{category:e.target.value})),required:!0,children:[(0,xr.jsx)("option",{value:"",children:"Select Category"}),S.map(e=>(0,xr.jsx)("option",{value:e.slug,children:e.name},e._id))]}),(0,xr.jsx)("button",{type:"button",onClick:()=>P(!D),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",title:"Add new category",children:(0,xr.jsx)(Xh,{className:"w-5 h-5"})})]}),D&&(0,xr.jsx)("div",{className:"mt-2 p-3 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-800",children:(0,xr.jsxs)("div",{className:"flex gap-2",children:[(0,xr.jsx)("input",{type:"text",className:"input-field flex-1",placeholder:"Enter new category name",value:T,onChange:e=>_(e.target.value),onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),X())}),(0,xr.jsx)("button",{type:"button",onClick:X,disabled:R,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50",children:R?"Adding...":"Add"}),(0,xr.jsx)("button",{type:"button",onClick:()=>{P(!1),_("")},className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-md hover:bg-gray-400 dark:hover:bg-gray-500 transition-colors",children:"Cancel"})]})})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Level"}),(0,xr.jsx)("div",{className:"relative",children:(0,xr.jsxs)("select",{className:"input-field",value:M?"__add_new__":C.level,onChange:e=>{"__add_new__"===e.target.value?I(!0):(A((0,Be.A)((0,Be.A)({},C),{},{level:e.target.value})),I(!1))},children:[F.map(e=>(0,xr.jsx)("option",{value:e.slug,children:e.name},e._id)),(0,xr.jsx)("option",{value:"__add_new__",children:"+ Add New Level"})]})}),M&&(0,xr.jsxs)("div",{className:"mt-2 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,xr.jsx)("input",{type:"text",className:"input-field mb-2",placeholder:"Enter new level name (e.g., Expert, Master)",value:B,onChange:e=>q(e.target.value)}),(0,xr.jsxs)("div",{className:"flex gap-2",children:[(0,xr.jsx)("button",{type:"button",onClick:async()=>{if(B.trim())try{U(!0);const e=await i.A.post("/api/levels",{name:B,description:"".concat(B," level courses"),order:F.length+1});await J(),A((0,Be.A)((0,Be.A)({},C),{},{level:e.data.level.slug})),q(""),I(!1),er.success("Level added successfully!")}catch(r){var e,t;console.error("Error adding level:",r),er.error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to add level")}finally{U(!1)}else er.error("Please enter a level name")},disabled:z,className:"btn-primary text-sm",children:z?"Adding...":"Add Level"}),(0,xr.jsx)("button",{type:"button",onClick:()=>{I(!1),q("")},className:"btn-secondary text-sm",children:"Cancel"})]})]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Duration (weeks)"}),(0,xr.jsx)("input",{type:"number",min:"1",className:"input-field",value:C.duration,onChange:e=>A((0,Be.A)((0,Be.A)({},C),{},{duration:Number(e.target.value)})),required:!0})]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Description"}),(0,xr.jsx)("textarea",{className:"input-field",rows:"4",value:C.description,onChange:e=>A((0,Be.A)((0,Be.A)({},C),{},{description:e.target.value})),required:!0})]}),(0,xr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Cost (SYR)"}),(0,xr.jsx)("input",{type:"number",min:"0",step:"0.01",className:"input-field",value:C.cost,onChange:e=>A((0,Be.A)((0,Be.A)({},C),{},{cost:Number(e.target.value)})),required:!0})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Image URL (optional)"}),(0,xr.jsx)("input",{className:"input-field",value:C.image,onChange:e=>A((0,Be.A)((0,Be.A)({},C),{},{image:e.target.value}))})]})]}),(0,xr.jsxs)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded-lg p-4",children:[(0,xr.jsxs)("div",{className:"flex items-start",children:[(0,xr.jsx)("input",{type:"checkbox",id:"hasCertificate",checked:C.hasCertificate,onChange:e=>{const t=e.target.checked;A(e=>(0,Be.A)((0,Be.A)({},e),{},{hasCertificate:t,certificateMode:t?e.certificateMode||"manual_instructor":"disabled",instructorCertificateRelease:!!t&&e.instructorCertificateRelease}))},className:"mt-1 h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),(0,xr.jsxs)("label",{htmlFor:"hasCertificate",className:"ml-3 flex-1",children:[(0,xr.jsx)("span",{className:"block text-sm font-medium text-gray-900 dark:text-white",children:"This course offers a certificate upon completion"}),(0,xr.jsxs)("span",{className:"block text-xs text-yellow-800 dark:text-yellow-200 mt-1",children:["\u26a0\ufe0f ",(0,xr.jsx)("strong",{children:"Important:"})," You must provide a certificate to students who complete all course requirements if you enable this option."]})]})]}),C.hasCertificate&&(0,xr.jsx)("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Certificate Mode"}),(0,xr.jsxs)("select",{className:"input-field w-full truncate",value:C.certificateMode,onChange:e=>{const t=e.target.value;A(e=>(0,Be.A)((0,Be.A)({},e),{},{certificateMode:t,instructorCertificateRelease:"manual_instructor"===t&&e.instructorCertificateRelease}))},children:[(0,xr.jsx)("option",{value:"manual_instructor",children:"Manual release by instructor (recommended)"}),(0,xr.jsx)("option",{value:"automatic",children:"Automatic when student completes and meets passing grade"})]}),(0,xr.jsx)("p",{className:"mt-1 text-xs text-gray-600 dark:text-gray-400",children:"In manual mode, you decide when to open certificate requests for each group. In automatic mode, students can request a certificate as soon as they complete the course and meet the passing grade."})]})})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Telegram Discussion Group Link (Optional)"}),(0,xr.jsx)("input",{type:"url",className:"input-field",value:C.telegramGroupLink,onChange:e=>A((0,Be.A)((0,Be.A)({},C),{},{telegramGroupLink:e.target.value})),placeholder:"https://t.me/yourgroup"}),(0,xr.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:["\ud83d\udca1 ",(0,xr.jsx)("strong",{children:"Tip:"}),' Name your Telegram group as "',(0,xr.jsxs)("em",{children:[C.name||"Course Name"," - Group Name"]}),'" for clarity.']})]}),(0,xr.jsx)("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 rounded-lg p-4",children:(0,xr.jsxs)("div",{className:"flex items-start",children:[(0,xr.jsx)("input",{type:"checkbox",id:"allowPointsDiscount",checked:C.allowPointsDiscount,onChange:e=>A((0,Be.A)((0,Be.A)({},C),{},{allowPointsDiscount:e.target.checked})),className:"mt-1 h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),(0,xr.jsxs)("label",{htmlFor:"allowPointsDiscount",className:"ml-3 flex-1",children:[(0,xr.jsx)("span",{className:"block text-sm font-medium text-gray-900 dark:text-white",children:"Supports Points Discount"}),(0,xr.jsxs)("span",{className:"block text-xs text-green-800 dark:text-green-200 mt-1",children:["\ud83d\udcb0 If enabled, students can use their reward balance to reduce payment. For example, each 500 points = 10,000 SYP (based on admin settings). ",(0,xr.jsx)("strong",{children:"The discount will be covered by the platform \u2014 your earnings will not be reduced."})]})]})]})}),(0,xr.jsxs)("div",{className:"flex justify-end gap-2 pt-2",children:[(0,xr.jsx)("button",{type:"button",onClick:()=>x(!1),className:"btn-secondary",children:"Cancel"}),(0,xr.jsx)("button",{type:"submit",className:"btn-primary",disabled:f,children:f?"Creating...":"Create"})]})]})]})}),(0,xr.jsx)(Ma,(0,Be.A)({isOpen:l.isOpen,onClose:d},l)),(0,xr.jsx)(Ng,{isOpen:v,onClose:()=>{b(!1),j(null)},onConfirm:async()=>{if(w)try{N(!0),await i.A.delete("/api/courses/".concat(w.id)),b(!1),j(null),await Q()}catch(r){var e,t;console.error("Delete course failed:",r),er.error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to delete course")}finally{N(!1)}},title:"Delete Course",message:'Are you sure you want to delete "'.concat(null===w||void 0===w?void 0:w.name,'"? This will also delete all groups, sections, and content associated with this course. This action cannot be undone.'),confirmText:"Delete Course",confirmButtonClass:"bg-red-600 hover:bg-red-700 text-white",loading:k}),(0,xr.jsx)(tl,{steps:Ld,tourKey:"instructor_dashboard",autoStart:o,showButton:!0})]})})},Sg=(0,nr.A)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Eg=(0,nr.A)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Dg=(0,nr.A)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Pg=()=>{var e,t,r,n,s,o;const{id:l}=ne(),{user:c}=(ae(),wr()),{theme:d}=Nr(),u=Bm(c,"createEditDeleteCourses"),m=Bm(c,"createDisableDiscounts"),[h,p]=(0,a.useState)(null),[g,x]=(0,a.useState)(!0),[f,y]=(0,a.useState)(!1),[v,b]=(0,a.useState)(!1),[w,j]=(0,a.useState)({name:"",description:"",category:"",level:"beginner",duration:4,cost:0,image:"",hasCertificate:!1,certificateMode:"automatic",instructorCertificateRelease:!1,telegramGroupLink:"",allowRatingAfterCompletion:!0,allowPointsDiscount:!0}),[k,N]=(0,a.useState)([]),[C,A]=(0,a.useState)([]),[S,E]=(0,a.useState)(!1),[D,P]=(0,a.useState)(null),[T,_]=(0,a.useState)(!1),[R,O]=(0,a.useState)(""),[F,L]=(0,a.useState)(!1),[M,I]=(0,a.useState)(!1),[B,q]=(0,a.useState)(""),[z,U]=(0,a.useState)(!1),[V,Y]=(0,a.useState)(!1),[W,H]=(0,a.useState)({discountPrice:0,timerDays:7}),[G,K]=(0,a.useState)(!1),[Q,$]=(0,a.useState)(!1),[X,J]=(0,a.useState)(!1),[Z,ee]=(0,a.useState)(!1),[te,re]=(0,a.useState)({open:!1,reason:"",submitting:!1}),se=(e,t)=>{var r;const a=null===e||void 0===e||null===(r=e.response)||void 0===r?void 0:r.data;if(Array.isArray(null===a||void 0===a?void 0:a.errors)&&a.errors.length>0){const e=a.errors.map(e=>e.msg||e.message).filter(Boolean);if(e.length>0)return e.join(" ")}return"string"===typeof(null===a||void 0===a?void 0:a.message)&&a.message.trim().length>0?a.message:t};(0,a.useEffect)(()=>{de(),ie(),le()},[l]);const ie=async()=>{try{const e=(await i.A.get("/api/categories")).data.categories||[];console.log("Fetched categories:",e),N(e),0===e.length&&(console.log("No categories found, retrying..."),setTimeout(async()=>{try{const e=await i.A.get("/api/categories");console.log("Retry fetched categories:",e.data.categories),N(e.data.categories||[])}catch(e){console.error("Retry fetch categories error:",e)}},1e3))}catch(e){console.error("Error fetching categories:",e),er.error("Failed to load categories. Please refresh the page.")}},oe=async()=>{if(R.trim())try{L(!0);const e=await i.A.post("/api/categories",{name:R,description:"".concat(R," courses")});await ie(),j((0,Be.A)((0,Be.A)({},w),{},{category:e.data.category.slug})),O(""),_(!1),er.success("Category added successfully!")}catch(e){console.error("Error adding category:",e);const t=se(e,"Failed to add category");er.error(t)}finally{L(!1)}else er.error("Please enter a category name")},le=async()=>{try{const e=(await i.A.get("/api/levels")).data.levels||[];console.log("Fetched levels:",e),A(e)}catch(e){console.error("Error fetching levels:",e)}},ce=async()=>{if(B.trim())try{U(!0);const e=await i.A.post("/api/levels",{name:B,description:"".concat(B," level courses"),order:C.length+1});await le(),j((0,Be.A)((0,Be.A)({},w),{},{level:e.data.level.slug})),q(""),I(!1),er.success("Level added successfully!")}catch(e){console.error("Error adding level:",e);const t=se(e,"Failed to add level");er.error(t)}finally{U(!1)}else er.error("Please enter a level name")},de=async()=>{try{const e=(await i.A.get("/api/courses/".concat(l))).data.course;p(e),j({name:e.name||"",description:e.description||"",category:e.category||"",level:e.level||"beginner",duration:e.duration||4,cost:e.cost||0,image:e.image||"",hasCertificate:void 0===e.offersCertificate||e.offersCertificate,certificateMode:e.certificateMode||"automatic",instructorCertificateRelease:e.instructorCertificateRelease||!1,telegramGroupLink:e.telegramGroupLink||"",allowRatingAfterCompletion:void 0===e.allowRatingAfterCompletion||e.allowRatingAfterCompletion,allowPointsDiscount:void 0===e.allowPointsDiscount||e.allowPointsDiscount}),e.discount&&"disabled"!==e.discount.status&&(Y("pending"===e.discount.status||"approved"===e.discount.status),H({discountPrice:e.discount.price||0,timerDays:e.discount.timerDays||7}))}catch(e){console.error("Fetch course error:",e),er.error("Failed to load course")}finally{x(!1)}};return g?(0,xr.jsx)("div",{className:"min-h-screen ".concat("dark"===d?"bg-gray-900":"bg-gray-50"," flex items-center justify-center"),children:(0,xr.jsxs)("div",{className:"text-center",children:[(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),(0,xr.jsx)("p",{className:"mt-4 ".concat("dark"===d?"text-gray-300":"text-gray-600"),children:"Loading course..."})]})}):h?(0,xr.jsxs)("div",{className:"min-h-screen ".concat("dark"===d?"bg-gray-900":"bg-gray-50"),children:[(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,xr.jsxs)(Oe,{to:"/instructor",className:"inline-flex items-center gap-2 mb-4 ".concat("dark"===d?"text-gray-400 hover:text-indigo-300":"text-gray-600 hover:text-indigo-600"),children:[(0,xr.jsx)(Em,{className:"w-4 h-4"}),"Back to Dashboard"]}),(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsx)("h1",{className:"text-3xl font-bold ".concat("dark"===d?"text-white":"text-gray-900"),children:f?"Edit Course":"Course Details"}),!f&&(0,xr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,xr.jsxs)("button",{onClick:()=>{u?er.error("Your instructor account is suspended. You cannot edit courses right now."):y(!0)},className:"btn-primary inline-flex items-center gap-2",disabled:"approved"!==(null===c||void 0===c?void 0:c.instructorStatus)||u,children:[(0,xr.jsx)(Sg,{className:"w-4 h-4"}),"Edit Course"]}),(0,xr.jsx)("button",{type:"button",onClick:async()=>{if(h)if(u)er.error("Your instructor account is suspended. You cannot archive or unarchive courses right now.");else try{$(!0);const e=await i.A.patch("/api/courses/".concat(l,"/archive"),{archive:!h.isArchived});p(e.data.course),er.success(e.data.message||(e.data.course.isArchived?"Course archived":"Course unarchived"));try{window.dispatchEvent(new CustomEvent("courses:updated"))}catch(qe){}}catch(e){console.error("Archive toggle error:",e);const t=se(e,"Failed to update archive status");er.error(t)}finally{$(!1)}},disabled:Q,className:"px-3 py-2 rounded-md border ".concat(null!==h&&void 0!==h&&h.isArchived?"border-green-300 text-green-700 bg-green-50":"border-yellow-300 text-yellow-700 bg-yellow-50"),children:Q?"Updating...":null!==h&&void 0!==h&&h.isArchived?"Unarchive":"Archive"}),"instructor"===(null===c||void 0===c?void 0:c.role)&&(0,xr.jsx)("button",{type:"button",onClick:()=>{h&&(u?er.error("Your instructor account is suspended. You cannot request course deletion right now."):re({open:!0,reason:"",submitting:!1}))},disabled:X||Z,className:"btn-request-delete",children:X?"Requesting...":Z?"Request Pending":"Request Delete"})]})]})]}),(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:f?(0,xr.jsx)("div",{className:"card",children:(0,xr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),u)er.error("Your instructor account is suspended. You cannot edit courses right now.");else if(w.description.length<10)er.error("Description must be at least 10 characters");else try{b(!0);const t=await i.A.put("/api/courses/".concat(l),w);if(t.data.confirmationRequired)return P(t.data),E(!0),void b(!1);await de(),y(!1),er.success("Course updated successfully!");try{window.dispatchEvent(new CustomEvent("courses:updated"))}catch(e){}}catch(t){console.error("Update course error:",t);const e=se(t,"Failed to update course");er.error(e)}finally{b(!1)}},className:"space-y-6",children:[(0,xr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Course Name *"}),(0,xr.jsx)("input",{type:"text",className:"input-field",value:w.name,onChange:e=>j((0,Be.A)((0,Be.A)({},w),{},{name:e.target.value})),required:!0,minLength:2})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Category *"}),(0,xr.jsxs)("div",{className:"flex gap-2",children:[(0,xr.jsxs)("select",{className:"input-field flex-1",value:w.category,onChange:e=>j((0,Be.A)((0,Be.A)({},w),{},{category:e.target.value})),required:!0,children:[(0,xr.jsx)("option",{value:"",children:"Select Category"}),k.map(e=>(0,xr.jsx)("option",{value:e.slug,children:e.name},e._id))]}),(0,xr.jsx)("button",{type:"button",onClick:()=>_(!T),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",title:"Add new category",children:(0,xr.jsx)(Xh,{className:"w-5 h-5"})})]}),T&&(0,xr.jsx)("div",{className:"mt-2 p-3 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-800",children:(0,xr.jsxs)("div",{className:"flex gap-2",children:[(0,xr.jsx)("input",{type:"text",className:"input-field flex-1",placeholder:"Enter new category name",value:R,onChange:e=>O(e.target.value),onKeyPress:e=>"Enter"===e.key&&oe()}),(0,xr.jsx)("button",{type:"button",onClick:oe,disabled:F,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50",children:F?"Adding...":"Add"}),(0,xr.jsx)("button",{type:"button",onClick:()=>{_(!1),O("")},className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-md hover:bg-gray-400 dark:hover:bg-gray-500 transition-colors",children:"Cancel"})]})})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Level *"}),(0,xr.jsxs)("div",{className:"flex gap-2",children:[(0,xr.jsxs)("select",{className:"input-field flex-1",value:M?"__add_new__":w.level,onChange:e=>{"__add_new__"===e.target.value?I(!0):(j((0,Be.A)((0,Be.A)({},w),{},{level:e.target.value})),I(!1))},children:[C.map(e=>(0,xr.jsx)("option",{value:e.slug,children:e.name},e._id)),(0,xr.jsx)("option",{value:"__add_new__",children:"+ Add New Level"})]}),(0,xr.jsx)("button",{type:"button",onClick:()=>I(!M),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",title:"Add new level",children:(0,xr.jsx)(Xh,{className:"w-5 h-5"})})]}),M&&(0,xr.jsx)("div",{className:"mt-2 p-3 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-800",children:(0,xr.jsxs)("div",{className:"flex gap-2",children:[(0,xr.jsx)("input",{type:"text",className:"input-field flex-1",placeholder:"Enter new level name (e.g., Expert, Master)",value:B,onChange:e=>q(e.target.value),onKeyPress:e=>"Enter"===e.key&&ce()}),(0,xr.jsx)("button",{type:"button",onClick:ce,disabled:z,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50",children:z?"Adding...":"Add"}),(0,xr.jsx)("button",{type:"button",onClick:()=>{I(!1),q("")},className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-md hover:bg-gray-400 dark:hover:bg-gray-500 transition-colors",children:"Cancel"})]})})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Duration (weeks) *"}),(0,xr.jsx)("input",{type:"number",min:"1",className:"input-field",value:w.duration,onChange:e=>j((0,Be.A)((0,Be.A)({},w),{},{duration:Number(e.target.value)})),required:!0})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Cost (SYR)"}),(0,xr.jsx)("input",{type:"number",min:"0",step:"0.01",className:"input-field",value:w.cost,onChange:e=>j((0,Be.A)((0,Be.A)({},w),{},{cost:Number(e.target.value)}))})]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Description * (min 10 characters)"}),(0,xr.jsx)("textarea",{className:"input-field",rows:"5",value:w.description,onChange:e=>j((0,Be.A)((0,Be.A)({},w),{},{description:e.target.value})),required:!0,minLength:10}),(0,xr.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[w.description.length," characters"]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Image URL (optional)"}),(0,xr.jsx)("input",{type:"text",className:"input-field",value:w.image,onChange:e=>j((0,Be.A)((0,Be.A)({},w),{},{image:e.target.value})),placeholder:"https://example.com/image.jpg"})]}),(0,xr.jsxs)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded-lg p-4",children:[(0,xr.jsxs)("div",{className:"flex items-start",children:[(0,xr.jsx)("input",{type:"checkbox",id:"hasCertificate",checked:w.hasCertificate,onChange:e=>{const t=e.target.checked;j((0,Be.A)((0,Be.A)({},w),{},{hasCertificate:t,certificateMode:t?w.certificateMode||"automatic":"disabled",instructorCertificateRelease:!!t&&w.instructorCertificateRelease}))},className:"mt-1 h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),(0,xr.jsxs)("label",{htmlFor:"hasCertificate",className:"ml-3 flex-1",children:[(0,xr.jsx)("span",{className:"block text-sm font-medium text-gray-900 dark:text-white",children:"This course offers a certificate upon completion"}),(0,xr.jsxs)("span",{className:"block text-xs text-yellow-800 dark:text-yellow-200 mt-1",children:["\u26a0\ufe0f ",(0,xr.jsx)("strong",{children:"Important:"})," You must provide a certificate to students who complete all course requirements if you enable this option."]})]})]}),w.hasCertificate&&(0,xr.jsxs)("div",{className:"mt-4 space-y-3",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Certificate Mode"}),(0,xr.jsxs)("select",{className:"input-field w-full",value:w.certificateMode,onChange:e=>{const t=e.target.value;j((0,Be.A)((0,Be.A)({},w),{},{certificateMode:t,instructorCertificateRelease:"manual_instructor"===t&&w.instructorCertificateRelease}))},children:[(0,xr.jsx)("option",{value:"automatic",children:"Automatic (after 100% progress)"}),(0,xr.jsx)("option",{value:"manual_instructor",children:"Manual instructor release"})]})]}),"manual_instructor"===w.certificateMode&&(0,xr.jsxs)("div",{className:"flex items-start",children:[(0,xr.jsx)("input",{type:"checkbox",id:"instructorCertificateRelease",checked:w.instructorCertificateRelease,onChange:e=>j((0,Be.A)((0,Be.A)({},w),{},{instructorCertificateRelease:e.target.checked})),className:"mt-1 h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),(0,xr.jsxs)("label",{htmlFor:"instructorCertificateRelease",className:"ml-3 flex-1",children:[(0,xr.jsx)("span",{className:"block text-sm font-medium text-gray-900 dark:text-white",children:"Allow students to request certificates now"}),(0,xr.jsx)("span",{className:"block text-xs text-gray-600 dark:text-gray-300 mt-1",children:"When enabled, enrolled students who meet the course requirements will be able to request a certificate."})]})]})]})]}),(0,xr.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-4",children:(0,xr.jsxs)("div",{className:"flex items-start",children:[(0,xr.jsx)("input",{type:"checkbox",id:"allowRatingAfterCompletion",checked:w.allowRatingAfterCompletion,onChange:e=>j((0,Be.A)((0,Be.A)({},w),{},{allowRatingAfterCompletion:e.target.checked})),className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,xr.jsxs)("label",{htmlFor:"allowRatingAfterCompletion",className:"ml-3 flex-1",children:[(0,xr.jsx)("span",{className:"block text-sm font-medium text-gray-900 dark:text-white",children:"Allow students to rate this course after completion"}),(0,xr.jsx)("span",{className:"block text-xs text-blue-800 dark:text-blue-200 mt-1",children:"When enabled, students who complete the course with a passing grade will see a single rating prompt on their dashboard and certificates page."})]})]})}),(0,xr.jsx)("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 rounded-lg p-4",children:(0,xr.jsxs)("div",{className:"flex items-start",children:[(0,xr.jsx)("input",{type:"checkbox",id:"allowPointsDiscount",checked:w.allowPointsDiscount,onChange:e=>j((0,Be.A)((0,Be.A)({},w),{},{allowPointsDiscount:e.target.checked})),className:"mt-1 h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),(0,xr.jsxs)("label",{htmlFor:"allowPointsDiscount",className:"ml-3 flex-1",children:[(0,xr.jsx)("span",{className:"block text-sm font-medium text-gray-900 dark:text-white",children:"Supports Points Discount"}),(0,xr.jsxs)("span",{className:"block text-xs text-green-800 dark:text-green-200 mt-1",children:["\ud83d\udcb0 If enabled, students can use their reward balance to reduce payment. For example, each 500 points = 10,000 SYP (based on admin settings). The discount will be shared proportionally between you and the platform based on your revenue split. If you turn this off, any wallet discounts will only reduce the platform's share \u2014 ",(0,xr.jsx)("strong",{children:"your earnings stay based on the full price."})]})]})]})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Telegram Discussion Group Link (Optional)"}),(0,xr.jsx)("input",{type:"url",className:"input-field",value:w.telegramGroupLink,onChange:e=>j((0,Be.A)((0,Be.A)({},w),{},{telegramGroupLink:e.target.value})),placeholder:"https://t.me/yourgroup"}),(0,xr.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:["\ud83d\udca1 ",(0,xr.jsx)("strong",{children:"Tip:"}),' Name your Telegram group as "',(0,xr.jsxs)("em",{children:[h.name||"Course Name"," - Group Name"]}),'" for clarity.']})]}),(0,xr.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,xr.jsxs)("button",{type:"button",onClick:()=>{y(!1),j({name:h.name||"",description:h.description||"",category:h.category||"programming",level:h.level||"beginner",duration:h.duration||4,cost:h.cost||0,image:h.image||"",hasCertificate:void 0===h.offersCertificate||h.offersCertificate,certificateMode:h.certificateMode||"automatic",instructorCertificateRelease:h.instructorCertificateRelease||!1,telegramGroupLink:h.telegramGroupLink||"",allowRatingAfterCompletion:void 0===h.allowRatingAfterCompletion||h.allowRatingAfterCompletion,allowPointsDiscount:void 0===h.allowPointsDiscount||h.allowPointsDiscount})},className:"btn-secondary inline-flex items-center gap-2",children:[(0,xr.jsx)(pr.A,{className:"w-4 h-4"}),"Cancel"]}),(0,xr.jsxs)("button",{type:"submit",disabled:v,className:"btn-primary inline-flex items-center gap-2",children:[(0,xr.jsx)(Eg,{className:"w-4 h-4"}),v?"Saving...":"Save Changes"]})]})]})}):(0,xr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,xr.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,xr.jsxs)("div",{className:"card",children:[(0,xr.jsx)("h2",{className:"text-2xl font-bold mb-4 ".concat("dark"===d?"text-white":"text-gray-900"),children:h.name}),(0,xr.jsx)("p",{className:"mb-6 ".concat("dark"===d?"text-gray-400":"text-gray-600"),children:h.description}),(0,xr.jsxs)("div",{className:"p-4 rounded-lg ".concat("dark"===d?"bg-gray-800":"bg-gray-50"),children:[(0,xr.jsx)(Ra,{className:"w-6 h-6 mb-2 ".concat("dark"===d?"text-indigo-400":"text-indigo-600")}),(0,xr.jsx)("p",{className:"text-sm ".concat("dark"===d?"text-gray-400":"text-gray-600"),children:"Category"}),(0,xr.jsx)("p",{className:"font-semibold ".concat("dark"===d?"text-white":"text-gray-900"," capitalize"),children:h.category})]}),(0,xr.jsxs)("div",{className:"p-4 rounded-lg ".concat("dark"===d?"bg-gray-800":"bg-gray-50"),children:[(0,xr.jsx)(Xc,{className:"w-6 h-6 mb-2 ".concat("dark"===d?"text-green-400":"text-green-600")}),(0,xr.jsx)("p",{className:"text-sm ".concat("dark"===d?"text-gray-400":"text-gray-600"),children:"Level"}),(0,xr.jsx)("p",{className:"font-semibold ".concat("dark"===d?"text-white":"text-gray-900"),children:h.level})]}),(0,xr.jsxs)("div",{className:"p-4 rounded-lg ".concat("dark"===d?"bg-gray-800":"bg-gray-50"),children:[(0,xr.jsx)(Dg,{className:"w-6 h-6 mb-2 ".concat("dark"===d?"text-purple-400":"text-purple-600")}),(0,xr.jsx)("p",{className:"text-sm ".concat("dark"===d?"text-gray-400":"text-gray-600"),children:"Duration"}),(0,xr.jsxs)("p",{className:"font-semibold ".concat("dark"===d?"text-white":"text-gray-900"),children:[h.duration," weeks"]})]}),(0,xr.jsxs)("div",{className:"p-4 rounded-lg ".concat("dark"===d?"bg-gray-800":"bg-gray-50"),children:[(0,xr.jsx)(Kh,{className:"w-6 h-6 mb-2 ".concat("dark"===d?"text-yellow-400":"text-yellow-600")}),(0,xr.jsx)("p",{className:"text-sm ".concat("dark"===d?"text-gray-400":"text-gray-600"),children:"Price"}),(0,xr.jsx)("p",{className:"font-semibold ".concat("dark"===d?"text-white":"text-gray-900"),children:h.totalPrice?"".concat(h.totalPrice," SYP"):"$".concat(h.cost)})]})]}),(0,xr.jsxs)("div",{className:"card",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,xr.jsx)("h3",{className:"text-xl font-bold ".concat("dark"===d?"text-white":"text-gray-900"),children:"Groups"}),(0,xr.jsxs)(Oe,{to:"/instructor/courses/".concat(h._id,"/groups"),className:"btn-primary inline-flex items-center gap-2",children:[(0,xr.jsx)(Xh,{className:"w-4 h-4"}),"Manage Groups"]})]}),h.groups&&h.groups.length>0?(0,xr.jsx)("div",{className:"space-y-3",children:h.groups.map(e=>(0,xr.jsxs)("div",{className:"p-4 rounded-lg flex items-center justify-between ".concat("dark"===d?"bg-gray-800":"bg-gray-50"),children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h4",{className:"font-semibold ".concat("dark"===d?"text-white":"text-gray-900"),children:e.name}),(0,xr.jsxs)("p",{className:"text-sm ".concat("dark"===d?"text-gray-400":"text-gray-600"),children:[Array.isArray(e.students)?e.students.filter(e=>"enrolled"===e.status&&e.student&&e.student._id).length:e.currentStudents||0," ","/ ",e.maxStudents," students"]})]}),(0,xr.jsx)(Oe,{to:"/instructor/groups/".concat(e._id,"/sections"),className:"btn-secondary",children:"View Sections"})]},e._id))}):(0,xr.jsx)("p",{className:"text-center py-8 ".concat("dark"===d?"text-gray-400":"text-gray-600"),children:"No groups yet. Create your first group to start enrolling students."})]})]}),(0,xr.jsx)("div",{className:"space-y-6",children:"approved"===(null===h||void 0===h?void 0:h.approvalStatus)&&(0,xr.jsxs)("div",{className:"card bg-gradient-to-br from-red-50 to-orange-50 dark:from-red-900/20 dark:to-orange-900/20 border-2 border-red-200 dark:border-red-700",children:[(0,xr.jsx)("h3",{className:"text-lg font-bold mb-4 ".concat("dark"===d?"text-white":"text-gray-900"," flex items-center gap-2"),children:"\ud83d\udd25 Discount Management"}),"pending"===(null===h||void 0===h||null===(e=h.discount)||void 0===e?void 0:e.status)&&(0,xr.jsx)("div",{className:"bg-yellow-100 dark:bg-yellow-900/30 border border-yellow-300 dark:border-yellow-700 rounded-lg p-3 text-sm text-yellow-800 dark:text-yellow-200 mb-4",children:"\u23f3 Your discount request is pending admin approval"}),"approved"===(null===h||void 0===h||null===(t=h.discount)||void 0===t?void 0:t.status)&&(0,xr.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,xr.jsx)("div",{className:"bg-green-100 dark:bg-green-900/30 border border-green-300 dark:border-green-700 rounded-lg p-3 text-sm text-green-800 dark:text-green-200",children:"\u2705 Discount Active!"}),(0,xr.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,xr.jsxs)("p",{className:"dark"===d?"text-gray-300":"text-gray-700",children:[(0,xr.jsx)("strong",{children:"Discount:"})," ",h.discount.percentage,"% OFF"]}),(0,xr.jsxs)("p",{className:"dark"===d?"text-gray-300":"text-gray-700",children:[(0,xr.jsx)("strong",{children:"Price:"})," ",h.discount.price," SYR"]}),(0,xr.jsxs)("p",{className:"dark"===d?"text-gray-300":"text-gray-700",children:[(0,xr.jsx)("strong",{children:"Ends:"})," ",new Date(h.discount.endDate).toLocaleDateString()]})]}),(0,xr.jsx)("button",{onClick:async()=>{if(m)er.error("Your instructor account is suspended. You cannot disable discounts right now.");else if(window.confirm("Are you sure you want to disable this discount?"))try{await i.A.put("/api/courses/".concat(l,"/discount/disable")),er.success("Discount disabled successfully"),await de(),Y(!1);try{window.dispatchEvent(new CustomEvent("courses:updated"))}catch(qe){}}catch(e){console.error("Disable discount error:",e);const t=se(e,"Failed to disable discount");er.error(t)}},className:"w-full px-3 py-2 bg-red-600 text-white text-sm rounded hover:bg-red-700 transition-colors",children:"Disable Discount"})]}),"rejected"===(null===h||void 0===h||null===(r=h.discount)||void 0===r?void 0:r.status)&&(0,xr.jsxs)("div",{className:"bg-red-100 dark:bg-red-900/30 border border-red-300 dark:border-red-700 rounded-lg p-3 text-sm text-red-800 dark:text-red-200 mb-4",children:["\u274c Rejected: ",h.discount.reasonReject]}),(!(null!==h&&void 0!==h&&h.discount)||"disabled"===(null===h||void 0===h||null===(n=h.discount)||void 0===n?void 0:n.status)||"rejected"===(null===h||void 0===h||null===(s=h.discount)||void 0===s?void 0:s.status))&&(0,xr.jsxs)("div",{className:"space-y-3",children:[(0,xr.jsxs)("div",{className:"flex items-start",children:[(0,xr.jsx)("input",{type:"checkbox",id:"enableDiscountStandalone",checked:V,onChange:e=>Y(e.target.checked),className:"mt-1 h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"}),(0,xr.jsxs)("label",{htmlFor:"enableDiscountStandalone",className:"ml-3 flex-1",children:[(0,xr.jsx)("span",{className:"block text-sm font-medium text-gray-900 dark:text-white",children:"Enable Discount"}),(0,xr.jsx)("span",{className:"block text-xs text-red-800 dark:text-red-200 mt-1",children:"Create limited-time offer"})]})]}),V&&(0,xr.jsxs)("div",{className:"space-y-3 bg-white dark:bg-gray-800 p-3 rounded-lg",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-xs font-medium mb-1",children:"Discount Price (SYR)"}),(0,xr.jsx)("input",{type:"number",min:"0",max:h.cost,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",value:W.discountPrice,onChange:e=>H((0,Be.A)((0,Be.A)({},W),{},{discountPrice:Number(e.target.value)})),placeholder:"Enter price"}),W.discountPrice>0&&h.cost>0&&(0,xr.jsxs)("p",{className:"text-xs text-green-600 mt-1",children:[Math.round((h.cost-W.discountPrice)/h.cost*100),"% discount"]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-xs font-medium mb-1",children:"Duration (Days)"}),(0,xr.jsx)("input",{type:"number",min:"1",max:"30",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",value:W.timerDays,onChange:e=>H((0,Be.A)((0,Be.A)({},W),{},{timerDays:Number(e.target.value)}))})]}),(0,xr.jsx)("button",{onClick:async()=>{if(m)er.error("Your instructor account is suspended. You cannot request discounts right now.");else if(!W.discountPrice||W.discountPrice>=w.cost)er.error("Discount price must be less than current course price");else try{K(!0),await i.A.post("/api/courses/".concat(l,"/discount/request"),{discountPrice:W.discountPrice,timerDays:W.timerDays}),er.success("Discount request submitted successfully!"),await de();try{window.dispatchEvent(new CustomEvent("courses:updated"))}catch(qe){}}catch(e){console.error("Request discount error:",e);const t=se(e,"Failed to request discount");er.error(t)}finally{K(!1)}},disabled:G||!W.discountPrice||W.discountPrice>=h.cost,className:"w-full px-4 py-2 bg-gradient-to-r from-red-600 to-orange-600 text-white rounded-md hover:from-red-700 hover:to-orange-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed font-medium text-sm",children:G?"Submitting...":"Request Approval"})]})]})]})})]})})]}),S&&D&&(0,xr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full p-6 my-8 max-h-[90vh] overflow-y-auto",children:[(0,xr.jsxs)("div",{className:"mb-4",children:[(0,xr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"\u26a0\ufe0f Course Cost Change Requires Confirmation"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:D.message})]}),(0,xr.jsxs)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded-lg p-4 mb-6",children:[(0,xr.jsx)("h3",{className:"font-semibold text-yellow-800 dark:text-yellow-200 mb-2",children:"Current Situation:"}),(0,xr.jsxs)("ul",{className:"space-y-2 text-sm text-yellow-700 dark:text-yellow-300",children:[(0,xr.jsxs)("li",{children:["\u2022 ",(0,xr.jsx)("strong",{children:"Old Cost:"})," ",D.data.oldCost.toLocaleString()," ",D.data.currency]}),(0,xr.jsxs)("li",{children:["\u2022 ",(0,xr.jsx)("strong",{children:"New Cost:"})," ",D.data.newCost.toLocaleString()," ",D.data.currency]}),(0,xr.jsxs)("li",{children:["\u2022 ",(0,xr.jsx)("strong",{children:"Total Paid Sections:"})," ",D.data.totalPaidSections.toLocaleString()," ",D.data.currency]}),(0,xr.jsxs)("li",{children:["\u2022 ",(0,xr.jsx)("strong",{children:"Scale Factor:"})," ",D.data.scaleFactor]})]})]}),(null===(o=D.data.affectedSections)||void 0===o?void 0:o.length)>0&&(0,xr.jsxs)("div",{className:"mb-6 max-h-64 overflow-y-auto border border-gray-200 dark:border-gray-700 rounded-lg",children:[(0,xr.jsxs)("h3",{className:"font-semibold text-gray-900 dark:text-white mb-3 px-3 pt-3 sticky top-0 bg-white dark:bg-gray-800",children:["Section Price Adjustments (",D.data.affectedSections.length," sections):"]}),(0,xr.jsx)("div",{className:"space-y-2 px-3 pb-3",children:D.data.affectedSections.map((e,t)=>(0,xr.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3 text-sm",children:[(0,xr.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:e.sectionName}),(0,xr.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:[e.oldPrice.toLocaleString()," \u2192 ",e.newPrice.toLocaleString()," ",D.data.currency]})]},t))})]}),(0,xr.jsxs)("div",{className:"mb-6",children:[(0,xr.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"How would you like to proceed?"}),(0,xr.jsxs)("div",{className:"space-y-3",children:[(0,xr.jsx)("button",{onClick:async()=>{try{b(!0),await i.A.post("/api/courses/cost-change/".concat(D.pendingChangeId,"/confirm-auto")),E(!1),P(null),await de(),y(!1),er.success("Course cost updated and section prices adjusted!");try{window.dispatchEvent(new CustomEvent("courses:updated"))}catch(qe){}}catch(e){console.error("Confirm auto-adjust error:",e);const t=se(e,"Failed to confirm cost change");er.error(t)}finally{b(!1)}},disabled:v,className:"w-full px-4 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 transition text-left",children:(0,xr.jsx)("div",{className:"flex items-center",children:(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsx)("p",{className:"font-semibold",children:"\u2705 Adjust Section Prices Automatically"}),(0,xr.jsxs)("p",{className:"text-sm text-indigo-100",children:["Section prices will be reduced proportionally (",D.data.scaleFactor,")"]})]})})}),(0,xr.jsx)("button",{onClick:()=>{E(!1),er("Please manually adjust section prices in the Groups \u2192 Sections page, then try updating the course cost again.")},className:"w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition text-left",children:(0,xr.jsx)("div",{className:"flex items-center",children:(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsx)("p",{className:"font-semibold",children:"\ud83d\udd27 Set Section Prices Manually"}),(0,xr.jsx)("p",{className:"text-sm text-blue-100",children:"Go to sections page to adjust prices individually"})]})})}),(0,xr.jsx)("button",{onClick:async()=>{try{await i.A.post("/api/courses/cost-change/".concat(D.pendingChangeId,"/cancel")),E(!1),P(null),j(e=>(0,Be.A)((0,Be.A)({},e),{},{cost:h.cost}))}catch(e){console.error("Cancel cost change error:",e),er.error("Failed to cancel cost change")}},className:"w-full px-4 py-3 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition text-left",children:(0,xr.jsx)("div",{className:"flex items-center",children:(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsx)("p",{className:"font-semibold",children:"\u274c Cancel Cost Change"}),(0,xr.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Keep the current course cost (",D.data.oldCost.toLocaleString()," ",D.data.currency,")"]})]})})})]})]}),(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:"\u2139\ufe0f Admin has been notified of this pending change"})]})}),te.open&&(0,xr.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:(0,xr.jsxs)("div",{className:"".concat("dark"===d?"bg-gray-800":"bg-white"," rounded-lg shadow-xl w-full max-w-lg"),children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h2",{className:"text-lg font-semibold ".concat("dark"===d?"text-white":"text-gray-900"),children:"Request Course Delete"}),(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"This will send a delete request to the admin. No data will be deleted until an admin approves. Once approved, deletion is permanent."})]}),(0,xr.jsx)("button",{type:"button",onClick:()=>re({open:!1,reason:"",submitting:!1}),className:"p-1 rounded-full text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800",children:(0,xr.jsx)(pr.A,{className:"w-4 h-4"})})]}),(0,xr.jsxs)("form",{onSubmit:async e=>{var t;if(null===e||void 0===e||null===(t=e.preventDefault)||void 0===t||t.call(e),!h)return;const r=(te.reason||"").trim();if(r.length<20)er.error("Please provide a detailed reason (at least 20 characters).");else try{var a;re(e=>(0,Be.A)((0,Be.A)({},e),{},{submitting:!0})),J(!0);const e=await i.A.post("/api/courses/".concat(l,"/request-delete"),{reason:r});er.success((null===(a=e.data)||void 0===a?void 0:a.message)||"Delete request submitted to admin."),ee(!0),re({open:!1,reason:"",submitting:!1})}catch(c){var n,s,o;console.error("Request delete course error:",c);const e=(null===(n=c.response)||void 0===n||null===(s=n.data)||void 0===s?void 0:s.message)||"Failed to request course deletion";400===(null===(o=c.response)||void 0===o?void 0:o.status)&&"string"===typeof e&&e.toLowerCase().includes("already a pending delete request")&&(ee(!0),re({open:!1,reason:"",submitting:!1})),er.error(e)}finally{J(!1),re(e=>(0,Be.A)((0,Be.A)({},e),{},{submitting:!1}))}},className:"px-6 py-4 space-y-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium mb-1 ".concat("dark"===d?"text-gray-300":"text-gray-700"),children:"Reason for deletion * (min 20 characters)"}),(0,xr.jsx)("textarea",{rows:4,value:te.reason,onChange:e=>re(t=>(0,Be.A)((0,Be.A)({},t),{},{reason:e.target.value})),className:"w-full px-3 py-2 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Explain why this course should be permanently deleted..."}),(0,xr.jsxs)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:[te.reason.trim().length," / 20"]})]}),(0,xr.jsxs)("div",{className:"px-0 py-0 flex justify-end gap-3",children:[(0,xr.jsx)("button",{type:"button",onClick:()=>re({open:!1,reason:"",submitting:!1}),disabled:te.submitting,className:"px-4 py-2 rounded-md border border-gray-300 dark:border-gray-700 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 disabled:opacity-50",children:"Cancel"}),(0,xr.jsx)("button",{type:"submit",disabled:te.submitting||te.reason.trim().length<20,className:"px-4 py-2 rounded-md bg-red-600 text-white text-sm hover:bg-red-700 disabled:opacity-60",children:te.submitting?"Submitting...":"Submit Request"})]})]})]})})]}):(0,xr.jsx)("div",{className:"min-h-screen ".concat("dark"===d?"bg-gray-900":"bg-gray-50"," flex items-center justify-center"),children:(0,xr.jsxs)("div",{className:"text-center",children:[(0,xr.jsx)("h2",{className:"text-2xl font-bold mb-4 ".concat("dark"===d?"text-white":"text-gray-900"),children:"Course Not Found"}),(0,xr.jsx)(Oe,{to:"/instructor",className:"btn-primary",children:"Back to Dashboard"})]})})};const Tg="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;function _g(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function Rg(e){return"nodeType"in e}function Og(e){var t,r;return e?_g(e)?e:Rg(e)&&null!=(t=null==(r=e.ownerDocument)?void 0:r.defaultView)?t:window:window}function Fg(e){const{Document:t}=Og(e);return e instanceof t}function Lg(e){return!_g(e)&&e instanceof Og(e).HTMLElement}function Mg(e){return e instanceof Og(e).SVGElement}function Ig(e){return e?_g(e)?e.document:Rg(e)?Fg(e)?e:Lg(e)||Mg(e)?e.ownerDocument:document:document:document}const Bg=Tg?a.useLayoutEffect:a.useEffect;function qg(e){const t=(0,a.useRef)(e);return Bg(()=>{t.current=e}),(0,a.useCallback)(function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return null==t.current?void 0:t.current(...r)},[])}function zg(e,t){void 0===t&&(t=[e]);const r=(0,a.useRef)(e);return Bg(()=>{r.current!==e&&(r.current=e)},t),r}function Ug(e,t){const r=(0,a.useRef)();return(0,a.useMemo)(()=>{const t=e(r.current);return r.current=t,t},[...t])}function Vg(e){const t=qg(e),r=(0,a.useRef)(null),n=(0,a.useCallback)(e=>{e!==r.current&&(null==t||t(e,r.current)),r.current=e},[]);return[r,n]}function Yg(e){const t=(0,a.useRef)();return(0,a.useEffect)(()=>{t.current=e},[e]),t.current}let Wg={};function Hg(e,t){return(0,a.useMemo)(()=>{if(t)return t;const r=null==Wg[e]?0:Wg[e]+1;return Wg[e]=r,e+"-"+r},[e,t])}function Gg(e){return function(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),n=1;n<r;n++)a[n-1]=arguments[n];return a.reduce((t,r)=>{const a=Object.entries(r);for(const[n,s]of a){const r=t[n];null!=r&&(t[n]=r+e*s)}return t},(0,Be.A)({},t))}}const Kg=Gg(1),Qg=Gg(-1);function $g(e){if(!e)return!1;const{KeyboardEvent:t}=Og(e.target);return t&&e instanceof t}function Xg(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=Og(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const Jg=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[Jg.Translate.toString(e),Jg.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:a}=e;return t+" "+r+"ms "+a}}}),Zg="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function ex(e){return e.matches(Zg)?e:e.querySelector(Zg)}const tx={display:"none"};function rx(e){let{id:t,value:r}=e;return a.createElement("div",{id:t,style:tx},r)}function ax(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;return a.createElement("div",{id:t,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":n,"aria-atomic":!0},r)}const nx=["transform"],sx=["id","accessibility","autoScroll","children","sensors","collisionDetection","measuring","modifiers"],ix=(0,a.createContext)(null);const ox={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},lx={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function cx(e){let{announcements:t=lx,container:r,hiddenTextDescribedById:n,screenReaderInstructions:s=ox}=e;const{announce:i,announcement:o}=function(){const[e,t]=(0,a.useState)(""),r=(0,a.useCallback)(e=>{null!=e&&t(e)},[]);return{announce:r,announcement:e}}(),l=Hg("DndLiveRegion"),[c,d]=(0,a.useState)(!1);if((0,a.useEffect)(()=>{d(!0)},[]),function(e){const t=(0,a.useContext)(ix);(0,a.useEffect)(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}((0,a.useMemo)(()=>({onDragStart(e){let{active:r}=e;i(t.onDragStart({active:r}))},onDragMove(e){let{active:r,over:a}=e;t.onDragMove&&i(t.onDragMove({active:r,over:a}))},onDragOver(e){let{active:r,over:a}=e;i(t.onDragOver({active:r,over:a}))},onDragEnd(e){let{active:r,over:a}=e;i(t.onDragEnd({active:r,over:a}))},onDragCancel(e){let{active:r,over:a}=e;i(t.onDragCancel({active:r,over:a}))}}),[i,t])),!c)return null;const u=a.createElement(a.Fragment,null,a.createElement(rx,{id:n,value:s.draggable}),a.createElement(ax,{id:l,announcement:o}));return r?(0,Ne.createPortal)(u,r):u}var dx;function ux(){}function mx(e,t){return(0,a.useMemo)(()=>({sensor:e,options:null!=t?t:{}}),[e,t])}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(dx||(dx={}));const hx=Object.freeze({x:0,y:0});function px(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function gx(e,t){let{data:{value:r}}=e,{data:{value:a}}=t;return r-a}function xx(e,t){let{data:{value:r}}=e,{data:{value:a}}=t;return a-r}function fx(e){let{left:t,top:r,height:a,width:n}=e;return[{x:t,y:r},{x:t+n,y:r},{x:t,y:r+a},{x:t+n,y:r+a}]}function yx(e,t){if(!e||0===e.length)return null;const[r]=e;return t?r[t]:r}function vx(e,t,r){return void 0===t&&(t=e.left),void 0===r&&(r=e.top),{x:t+.5*e.width,y:r+.5*e.height}}const bx=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:a}=e;const n=vx(t,t.left,t.top),s=[];for(const i of a){const{id:e}=i,t=r.get(e);if(t){const r=px(vx(t),n);s.push({id:e,data:{droppableContainer:i,value:r}})}}return s.sort(gx)};function wx(e,t){const r=Math.max(t.top,e.top),a=Math.max(t.left,e.left),n=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),i=n-a,o=s-r;if(a<n&&r<s){const r=t.width*t.height,a=e.width*e.height,n=i*o;return Number((n/(r+a-n)).toFixed(4))}return 0}const jx=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:a}=e;const n=[];for(const s of a){const{id:e}=s,a=r.get(e);if(a){const r=wx(a,t);r>0&&n.push({id:e,data:{droppableContainer:s,value:r}})}}return n.sort(xx)};function kx(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:hx}function Nx(e){return function(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),n=1;n<r;n++)a[n-1]=arguments[n];return a.reduce((t,r)=>(0,Be.A)((0,Be.A)({},t),{},{top:t.top+e*r.y,bottom:t.bottom+e*r.y,left:t.left+e*r.x,right:t.right+e*r.x}),(0,Be.A)({},t))}}const Cx=Nx(1);function Ax(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}const Sx={ignoreTransform:!1};function Ex(e,t){void 0===t&&(t=Sx);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:t,transformOrigin:a}=Og(e).getComputedStyle(e);t&&(r=function(e,t,r){const a=Ax(t);if(!a)return e;const{scaleX:n,scaleY:s,x:i,y:o}=a,l=e.left-i-(1-n)*parseFloat(r),c=e.top-o-(1-s)*parseFloat(r.slice(r.indexOf(" ")+1)),d=n?e.width/n:e.width,u=s?e.height/s:e.height;return{width:d,height:u,top:c,right:l+d,bottom:c+u,left:l}}(r,t,a))}const{top:a,left:n,width:s,height:i,bottom:o,right:l}=r;return{top:a,left:n,width:s,height:i,bottom:o,right:l}}function Dx(e){return Ex(e,{ignoreTransform:!0})}function Px(e,t){const r=[];return e?function a(n){if(null!=t&&r.length>=t)return r;if(!n)return r;if(Fg(n)&&null!=n.scrollingElement&&!r.includes(n.scrollingElement))return r.push(n.scrollingElement),r;if(!Lg(n)||Mg(n))return r;if(r.includes(n))return r;const s=Og(e).getComputedStyle(n);return n!==e&&function(e,t){void 0===t&&(t=Og(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(e=>{const a=t[e];return"string"===typeof a&&r.test(a)})}(n,s)&&r.push(n),function(e,t){return void 0===t&&(t=Og(e).getComputedStyle(e)),"fixed"===t.position}(n,s)?r:a(n.parentNode)}(e):r}function Tx(e){const[t]=Px(e,1);return null!=t?t:null}function _x(e){return Tg&&e?_g(e)?e:Rg(e)?Fg(e)||e===Ig(e).scrollingElement?window:Lg(e)?e:null:null:null}function Rx(e){return _g(e)?e.scrollX:e.scrollLeft}function Ox(e){return _g(e)?e.scrollY:e.scrollTop}function Fx(e){return{x:Rx(e),y:Ox(e)}}var Lx;function Mx(e){return!(!Tg||!e)&&e===document.scrollingElement}function Ix(e){const t={x:0,y:0},r=Mx(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},a={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=a.y,isRight:e.scrollLeft>=a.x,maxScroll:a,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(Lx||(Lx={}));const Bx={x:.2,y:.2};function qx(e,t,r,a,n){let{top:s,left:i,right:o,bottom:l}=r;void 0===a&&(a=10),void 0===n&&(n=Bx);const{isTop:c,isBottom:d,isLeft:u,isRight:m}=Ix(e),h={x:0,y:0},p={x:0,y:0},g=t.height*n.y,x=t.width*n.x;return!c&&s<=t.top+g?(h.y=Lx.Backward,p.y=a*Math.abs((t.top+g-s)/g)):!d&&l>=t.bottom-g&&(h.y=Lx.Forward,p.y=a*Math.abs((t.bottom-g-l)/g)),!m&&o>=t.right-x?(h.x=Lx.Forward,p.x=a*Math.abs((t.right-x-o)/x)):!u&&i<=t.left+x&&(h.x=Lx.Backward,p.x=a*Math.abs((t.left+x-i)/x)),{direction:h,speed:p}}function zx(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:r,right:a,bottom:n}=e.getBoundingClientRect();return{top:t,left:r,right:a,bottom:n,width:e.clientWidth,height:e.clientHeight}}function Ux(e){return e.reduce((e,t)=>Kg(e,Fx(t)),hx)}function Vx(e,t){if(void 0===t&&(t=Ex),!e)return;const{top:r,left:a,bottom:n,right:s}=t(e);Tx(e)&&(n<=0||s<=0||r>=window.innerHeight||a>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Yx=[["x",["left","right"],function(e){return e.reduce((e,t)=>e+Rx(t),0)}],["y",["top","bottom"],function(e){return e.reduce((e,t)=>e+Ox(t),0)}]];class Wx{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Px(t),a=Ux(r);this.rect=(0,Be.A)({},e),this.width=e.width,this.height=e.height;for(const[n,s,i]of Yx)for(const e of s)Object.defineProperty(this,e,{get:()=>{const t=i(r),s=a[n]-t;return this.rect[e]+s},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Hx{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)})},this.target=e}add(e,t,r){var a;null==(a=this.target)||a.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function Gx(e,t){const r=Math.abs(e.x),a=Math.abs(e.y);return"number"===typeof t?Math.sqrt(r**2+a**2)>t:"x"in t&&"y"in t?r>t.x&&a>t.y:"x"in t?r>t.x:"y"in t&&a>t.y}var Kx,Qx;function $x(e){e.preventDefault()}function Xx(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(Kx||(Kx={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"}(Qx||(Qx={}));const Jx={start:[Qx.Space,Qx.Enter],cancel:[Qx.Esc],end:[Qx.Space,Qx.Enter,Qx.Tab]},Zx=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case Qx.Right:return(0,Be.A)((0,Be.A)({},r),{},{x:r.x+25});case Qx.Left:return(0,Be.A)((0,Be.A)({},r),{},{x:r.x-25});case Qx.Down:return(0,Be.A)((0,Be.A)({},r),{},{y:r.y+25});case Qx.Up:return(0,Be.A)((0,Be.A)({},r),{},{y:r.y-25})}};class ef{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Hx(Ig(t)),this.windowListeners=new Hx(Og(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Kx.Resize,this.handleCancel),this.windowListeners.add(Kx.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Kx.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&Vx(r),t(hx)}handleKeyDown(e){if($g(e)){const{active:t,context:r,options:a}=this.props,{keyboardCodes:n=Jx,coordinateGetter:s=Zx,scrollBehavior:i="smooth"}=a,{code:o}=e;if(n.end.includes(o))return void this.handleEnd(e);if(n.cancel.includes(o))return void this.handleCancel(e);const{collisionRect:l}=r.current,c=l?{x:l.left,y:l.top}:hx;this.referenceCoordinates||(this.referenceCoordinates=c);const d=s(e,{active:t,context:r.current,currentCoordinates:c});if(d){const t=Qg(d,c),a={x:0,y:0},{scrollableAncestors:n}=r.current;for(const r of n){const n=e.code,{isTop:s,isRight:o,isLeft:l,isBottom:c,maxScroll:u,minScroll:m}=Ix(r),h=zx(r),p={x:Math.min(n===Qx.Right?h.right-h.width/2:h.right,Math.max(n===Qx.Right?h.left:h.left+h.width/2,d.x)),y:Math.min(n===Qx.Down?h.bottom-h.height/2:h.bottom,Math.max(n===Qx.Down?h.top:h.top+h.height/2,d.y))},g=n===Qx.Right&&!o||n===Qx.Left&&!l,x=n===Qx.Down&&!c||n===Qx.Up&&!s;if(g&&p.x!==d.x){const e=r.scrollLeft+t.x,s=n===Qx.Right&&e<=u.x||n===Qx.Left&&e>=m.x;if(s&&!t.y)return void r.scrollTo({left:e,behavior:i});a.x=s?r.scrollLeft-e:n===Qx.Right?r.scrollLeft-u.x:r.scrollLeft-m.x,a.x&&r.scrollBy({left:-a.x,behavior:i});break}if(x&&p.y!==d.y){const e=r.scrollTop+t.y,s=n===Qx.Down&&e<=u.y||n===Qx.Up&&e>=m.y;if(s&&!t.x)return void r.scrollTo({top:e,behavior:i});a.y=s?r.scrollTop-e:n===Qx.Down?r.scrollTop-u.y:r.scrollTop-m.y,a.y&&r.scrollBy({top:-a.y,behavior:i});break}}this.handleMove(e,Kg(Qg(d,this.referenceCoordinates),a))}}}handleMove(e,t){const{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function tf(e){return Boolean(e&&"distance"in e)}function rf(e){return Boolean(e&&"delay"in e)}ef.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:a=Jx,onActivation:n}=t,{active:s}=r;const{code:i}=e.nativeEvent;if(a.start.includes(i)){const t=s.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),null==n||n({event:e.nativeEvent}),!0)}return!1}}];class af{constructor(e,t,r){var a;void 0===r&&(r=function(e){const{EventTarget:t}=Og(e);return e instanceof t?e:Ig(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:n}=e,{target:s}=n;this.props=e,this.events=t,this.document=Ig(s),this.documentListeners=new Hx(this.document),this.listeners=new Hx(r),this.windowListeners=new Hx(Og(s)),this.initialCoordinates=null!=(a=Xg(n))?a:hx,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Kx.Resize,this.handleCancel),this.windowListeners.add(Kx.DragStart,$x),this.windowListeners.add(Kx.VisibilityChange,this.handleCancel),this.windowListeners.add(Kx.ContextMenu,$x),this.documentListeners.add(Kx.Keydown,this.handleKeydown),t){if(null!=r&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(rf(t))return this.timeoutId=setTimeout(this.handleStart,t.delay),void this.handlePending(t);if(tf(t))return void this.handlePending(t)}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:r,onPending:a}=this.props;a(r,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Kx.Click,Xx,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Kx.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:r,initialCoordinates:a,props:n}=this,{onMove:s,options:{activationConstraint:i}}=n;if(!a)return;const o=null!=(t=Xg(e))?t:hx,l=Qg(a,o);if(!r&&i){if(tf(i)){if(null!=i.tolerance&&Gx(l,i.tolerance))return this.handleCancel();if(Gx(l,i.distance))return this.handleStart()}return rf(i)&&Gx(l,i.tolerance)?this.handleCancel():void this.handlePending(i,l)}e.cancelable&&e.preventDefault(),s(o)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===Qx.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const nf={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class sf extends af{constructor(e){const{event:t}=e,r=Ig(t.target);super(e,nf,r)}}sf.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:a}=t;return!(!r.isPrimary||0!==r.button)&&(null==a||a({event:r}),!0)}}];const of={move:{name:"mousemove"},end:{name:"mouseup"}};var lf;!function(e){e[e.RightClick=2]="RightClick"}(lf||(lf={}));(class extends af{constructor(e){super(e,of,Ig(e.event.target))}}).activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:a}=t;return r.button!==lf.RightClick&&(null==a||a({event:r}),!0)}}];const cf={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};var df,uf;function mf(e){let{acceleration:t,activator:r=df.Pointer,canScroll:n,draggingRect:s,enabled:i,interval:o=5,order:l=uf.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:u,delta:m,threshold:h}=e;const p=function(e){let{delta:t,disabled:r}=e;const a=Yg(t);return Ug(e=>{if(r||!a||!e)return hf;const n={x:Math.sign(t.x-a.x),y:Math.sign(t.y-a.y)};return{x:{[Lx.Backward]:e.x[Lx.Backward]||-1===n.x,[Lx.Forward]:e.x[Lx.Forward]||1===n.x},y:{[Lx.Backward]:e.y[Lx.Backward]||-1===n.y,[Lx.Forward]:e.y[Lx.Forward]||1===n.y}}},[r,t,a])}({delta:m,disabled:!i}),[g,x]=function(){const e=(0,a.useRef)(null);return[(0,a.useCallback)((t,r)=>{e.current=setInterval(t,r)},[]),(0,a.useCallback)(()=>{null!==e.current&&(clearInterval(e.current),e.current=null)},[])]}(),f=(0,a.useRef)({x:0,y:0}),y=(0,a.useRef)({x:0,y:0}),v=(0,a.useMemo)(()=>{switch(r){case df.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case df.DraggableRect:return s}},[r,s,c]),b=(0,a.useRef)(null),w=(0,a.useCallback)(()=>{const e=b.current;if(!e)return;const t=f.current.x*y.current.x,r=f.current.y*y.current.y;e.scrollBy(t,r)},[]),j=(0,a.useMemo)(()=>l===uf.TreeOrder?[...d].reverse():d,[l,d]);(0,a.useEffect)(()=>{if(i&&d.length&&v){for(const e of j){if(!1===(null==n?void 0:n(e)))continue;const r=d.indexOf(e),a=u[r];if(!a)continue;const{direction:s,speed:i}=qx(e,a,v,t,h);for(const e of["x","y"])p[e][s[e]]||(i[e]=0,s[e]=0);if(i.x>0||i.y>0)return x(),b.current=e,g(w,o),f.current=i,void(y.current=s)}f.current={x:0,y:0},y.current={x:0,y:0},x()}else x()},[t,w,n,x,i,o,JSON.stringify(v),JSON.stringify(p),g,d,j,u,JSON.stringify(h)])}(class extends af{constructor(e){super(e,cf)}static setup(){return window.addEventListener(cf.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(cf.move.name,e)};function e(){}}}).activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:a}=t;const{touches:n}=r;return!(n.length>1)&&(null==a||a({event:r}),!0)}}],function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(df||(df={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(uf||(uf={}));const hf={x:{[Lx.Backward]:!1,[Lx.Forward]:!1},y:{[Lx.Backward]:!1,[Lx.Forward]:!1}};var pf,gf;!function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(pf||(pf={})),function(e){e.Optimized="optimized"}(gf||(gf={}));const xf=new Map;function ff(e,t){return Ug(r=>e?r||("function"===typeof t?t(e):e):null,[t,e])}function yf(e){let{callback:t,disabled:r}=e;const n=qg(t),s=(0,a.useMemo)(()=>{if(r||"undefined"===typeof window||"undefined"===typeof window.ResizeObserver)return;const{ResizeObserver:e}=window;return new e(n)},[r]);return(0,a.useEffect)(()=>()=>null==s?void 0:s.disconnect(),[s]),s}function vf(e){return new Wx(Ex(e),e)}function bf(e,t,r){void 0===t&&(t=vf);const[n,s]=(0,a.useState)(null);function i(){s(a=>{if(!e)return null;var n;if(!1===e.isConnected)return null!=(n=null!=a?a:r)?n:null;const s=t(e);return JSON.stringify(a)===JSON.stringify(s)?a:s})}const o=function(e){let{callback:t,disabled:r}=e;const n=qg(t),s=(0,a.useMemo)(()=>{if(r||"undefined"===typeof window||"undefined"===typeof window.MutationObserver)return;const{MutationObserver:e}=window;return new e(n)},[n,r]);return(0,a.useEffect)(()=>()=>null==s?void 0:s.disconnect(),[s]),s}({callback(t){if(e)for(const r of t){const{type:t,target:a}=r;if("childList"===t&&a instanceof HTMLElement&&a.contains(e)){i();break}}}}),l=yf({callback:i});return Bg(()=>{i(),e?(null==l||l.observe(e),null==o||o.observe(document.body,{childList:!0,subtree:!0})):(null==l||l.disconnect(),null==o||o.disconnect())},[e]),n}const wf=[];function jf(e,t){void 0===t&&(t=[]);const r=(0,a.useRef)(null);return(0,a.useEffect)(()=>{r.current=null},t),(0,a.useEffect)(()=>{const t=e!==hx;t&&!r.current&&(r.current=e),!t&&r.current&&(r.current=null)},[e]),r.current?Qg(e,r.current):hx}function kf(e){return(0,a.useMemo)(()=>e?function(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}(e):null,[e])}const Nf=[];function Cf(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Lg(t)?t:e}const Af=[{sensor:sf,options:{}},{sensor:ef,options:{}}],Sf={current:{}},Ef={draggable:{measure:Dx},droppable:{measure:Dx,strategy:pf.WhileDragging,frequency:gf.Optimized},dragOverlay:{measure:Ex}};class Df extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return null!=(t=null==(r=this.get(e))?void 0:r.node.current)?t:void 0}}const Pf={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Df,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ux},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Ef,measureDroppableContainers:ux,windowRect:null,measuringScheduled:!1},Tf={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ux,draggableNodes:new Map,over:null,measureDroppableContainers:ux},_f=(0,a.createContext)(Tf),Rf=(0,a.createContext)(Pf);function Of(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Df}}}function Ff(e,t){switch(t.type){case dx.DragStart:return(0,Be.A)((0,Be.A)({},e),{},{draggable:(0,Be.A)((0,Be.A)({},e.draggable),{},{initialCoordinates:t.initialCoordinates,active:t.active})});case dx.DragMove:return null==e.draggable.active?e:(0,Be.A)((0,Be.A)({},e),{},{draggable:(0,Be.A)((0,Be.A)({},e.draggable),{},{translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}})});case dx.DragEnd:case dx.DragCancel:return(0,Be.A)((0,Be.A)({},e),{},{draggable:(0,Be.A)((0,Be.A)({},e.draggable),{},{active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}})});case dx.RegisterDroppable:{const{element:r}=t,{id:a}=r,n=new Df(e.droppable.containers);return n.set(a,r),(0,Be.A)((0,Be.A)({},e),{},{droppable:(0,Be.A)((0,Be.A)({},e.droppable),{},{containers:n})})}case dx.SetDroppableDisabled:{const{id:r,key:a,disabled:n}=t,s=e.droppable.containers.get(r);if(!s||a!==s.key)return e;const i=new Df(e.droppable.containers);return i.set(r,(0,Be.A)((0,Be.A)({},s),{},{disabled:n})),(0,Be.A)((0,Be.A)({},e),{},{droppable:(0,Be.A)((0,Be.A)({},e.droppable),{},{containers:i})})}case dx.UnregisterDroppable:{const{id:r,key:a}=t,n=e.droppable.containers.get(r);if(!n||a!==n.key)return e;const s=new Df(e.droppable.containers);return s.delete(r),(0,Be.A)((0,Be.A)({},e),{},{droppable:(0,Be.A)((0,Be.A)({},e.droppable),{},{containers:s})})}default:return e}}function Lf(e){let{disabled:t}=e;const{active:r,activatorEvent:n,draggableNodes:s}=(0,a.useContext)(_f),i=Yg(n),o=Yg(null==r?void 0:r.id);return(0,a.useEffect)(()=>{if(!t&&!n&&i&&null!=o){if(!$g(i))return;if(document.activeElement===i.target)return;const e=s.get(o);if(!e)return;const{activatorNode:t,node:r}=e;if(!t.current&&!r.current)return;requestAnimationFrame(()=>{for(const e of[t.current,r.current]){if(!e)continue;const t=ex(e);if(t){t.focus();break}}})}},[n,t,s,o,i]),null}function Mf(e,t){let{transform:r}=t,a=(0,$a.A)(t,nx);return null!=e&&e.length?e.reduce((e,t)=>t((0,Be.A)({transform:e},a)),r):r}const If=(0,a.createContext)((0,Be.A)((0,Be.A)({},hx),{},{scaleX:1,scaleY:1}));var Bf;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}(Bf||(Bf={}));const qf=(0,a.memo)(function(e){var t,r,n,s;let{id:i,accessibility:o,autoScroll:l=!0,children:c,sensors:d=Af,collisionDetection:u=jx,measuring:m,modifiers:h}=e,p=(0,$a.A)(e,sx);const g=(0,a.useReducer)(Ff,void 0,Of),[x,f]=g,[y,v]=function(){const[e]=(0,a.useState)(()=>new Set),t=(0,a.useCallback)(t=>(e.add(t),()=>e.delete(t)),[e]);return[(0,a.useCallback)(t=>{let{type:r,event:a}=t;e.forEach(e=>{var t;return null==(t=e[r])?void 0:t.call(e,a)})},[e]),t]}(),[b,w]=(0,a.useState)(Bf.Uninitialized),j=b===Bf.Initialized,{draggable:{active:k,nodes:N,translate:C},droppable:{containers:A}}=x,S=null!=k?N.get(k):null,E=(0,a.useRef)({initial:null,translated:null}),D=(0,a.useMemo)(()=>{var e;return null!=k?{id:k,data:null!=(e=null==S?void 0:S.data)?e:Sf,rect:E}:null},[k,S]),P=(0,a.useRef)(null),[T,_]=(0,a.useState)(null),[R,O]=(0,a.useState)(null),F=zg(p,Object.values(p)),L=Hg("DndDescribedBy",i),M=(0,a.useMemo)(()=>A.getEnabled(),[A]),I=(B=m,(0,a.useMemo)(()=>({draggable:(0,Be.A)((0,Be.A)({},Ef.draggable),null==B?void 0:B.draggable),droppable:(0,Be.A)((0,Be.A)({},Ef.droppable),null==B?void 0:B.droppable),dragOverlay:(0,Be.A)((0,Be.A)({},Ef.dragOverlay),null==B?void 0:B.dragOverlay)}),[null==B?void 0:B.draggable,null==B?void 0:B.droppable,null==B?void 0:B.dragOverlay]));var B;const{droppableRects:q,measureDroppableContainers:z,measuringScheduled:U}=function(e,t){let{dragging:r,dependencies:n,config:s}=t;const[i,o]=(0,a.useState)(null),{frequency:l,measure:c,strategy:d}=s,u=(0,a.useRef)(e),m=function(){switch(d){case pf.Always:return!1;case pf.BeforeDragging:return r;default:return!r}}(),h=zg(m),p=(0,a.useCallback)(function(e){void 0===e&&(e=[]),h.current||o(t=>null===t?e:t.concat(e.filter(e=>!t.includes(e))))},[h]),g=(0,a.useRef)(null),x=Ug(t=>{if(m&&!r)return xf;if(!t||t===xf||u.current!==e||null!=i){const t=new Map;for(let r of e){if(!r)continue;if(i&&i.length>0&&!i.includes(r.id)&&r.rect.current){t.set(r.id,r.rect.current);continue}const e=r.node.current,a=e?new Wx(c(e),e):null;r.rect.current=a,a&&t.set(r.id,a)}return t}return t},[e,i,r,m,c]);return(0,a.useEffect)(()=>{u.current=e},[e]),(0,a.useEffect)(()=>{m||p()},[r,m]),(0,a.useEffect)(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),(0,a.useEffect)(()=>{m||"number"!==typeof l||null!==g.current||(g.current=setTimeout(()=>{p(),g.current=null},l))},[l,m,p,...n]),{droppableRects:x,measureDroppableContainers:p,measuringScheduled:null!=i}}(M,{dragging:j,dependencies:[C.x,C.y],config:I.droppable}),V=function(e,t){const r=null!=t?e.get(t):void 0,a=r?r.node.current:null;return Ug(e=>{var r;return null==t?null:null!=(r=null!=a?a:e)?r:null},[a,t])}(N,k),Y=(0,a.useMemo)(()=>R?Xg(R):null,[R]),W=function(){const e=!1===(null==T?void 0:T.autoScrollEnabled),t="object"===typeof l?!1===l.enabled:!1===l,r=j&&!e&&!t;if("object"===typeof l)return(0,Be.A)((0,Be.A)({},l),{},{enabled:r});return{enabled:r}}(),H=function(e,t){return ff(e,t)}(V,I.draggable.measure);!function(e){let{activeNode:t,measure:r,initialRect:n,config:s=!0}=e;const i=(0,a.useRef)(!1),{x:o,y:l}="boolean"===typeof s?{x:s,y:s}:s;Bg(()=>{if(!o&&!l||!t)return void(i.current=!1);if(i.current||!n)return;const e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;const a=kx(r(e),n);if(o||(a.x=0),l||(a.y=0),i.current=!0,Math.abs(a.x)>0||Math.abs(a.y)>0){const t=Tx(e);t&&t.scrollBy({top:a.y,left:a.x})}},[t,o,l,n,r])}({activeNode:null!=k?N.get(k):null,config:W.layoutShiftCompensation,initialRect:H,measure:I.draggable.measure});const G=bf(V,I.draggable.measure,H),K=bf(V?V.parentElement:null),Q=(0,a.useRef)({activatorEvent:null,active:null,activeNode:V,collisionRect:null,collisions:null,droppableRects:q,draggableNodes:N,draggingNode:null,draggingNodeRect:null,droppableContainers:A,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),$=A.getNodeFor(null==(t=Q.current.over)?void 0:t.id),X=function(e){let{measure:t}=e;const[r,n]=(0,a.useState)(null),s=yf({callback:(0,a.useCallback)(e=>{for(const{target:r}of e)if(Lg(r)){n(e=>{const a=t(r);return e?(0,Be.A)((0,Be.A)({},e),{},{width:a.width,height:a.height}):a});break}},[t])}),i=(0,a.useCallback)(e=>{const r=Cf(e);null==s||s.disconnect(),r&&(null==s||s.observe(r)),n(r?t(r):null)},[t,s]),[o,l]=Vg(i);return(0,a.useMemo)(()=>({nodeRef:o,rect:r,setRef:l}),[r,o,l])}({measure:I.dragOverlay.measure}),J=null!=(r=X.nodeRef.current)?r:V,Z=j?null!=(n=X.rect)?n:G:null,ee=Boolean(X.nodeRef.current&&X.rect),te=kx(re=ee?null:G,ff(re));var re;const ae=kf(J?Og(J):null),ne=function(e){const t=(0,a.useRef)(e),r=Ug(r=>e?r&&r!==wf&&e&&t.current&&e.parentNode===t.current.parentNode?r:Px(e):wf,[e]);return(0,a.useEffect)(()=>{t.current=e},[e]),r}(j?null!=$?$:V:null),se=function(e,t){void 0===t&&(t=Ex);const[r]=e,n=kf(r?Og(r):null),[s,i]=(0,a.useState)(Nf);function o(){i(()=>e.length?e.map(e=>Mx(e)?n:new Wx(t(e),e)):Nf)}const l=yf({callback:o});return Bg(()=>{null==l||l.disconnect(),o(),e.forEach(e=>null==l?void 0:l.observe(e))},[e]),s}(ne),ie=Mf(h,{transform:{x:C.x-te.x,y:C.y-te.y,scaleX:1,scaleY:1},activatorEvent:R,active:D,activeNodeRect:G,containerNodeRect:K,draggingNodeRect:Z,over:Q.current.over,overlayNodeRect:X.rect,scrollableAncestors:ne,scrollableAncestorRects:se,windowRect:ae}),oe=Y?Kg(Y,C):null,le=function(e){const[t,r]=(0,a.useState)(null),n=(0,a.useRef)(e),s=(0,a.useCallback)(e=>{const t=_x(e.target);t&&r(e=>e?(e.set(t,Fx(t)),new Map(e)):null)},[]);return(0,a.useEffect)(()=>{const t=n.current;if(e!==t){a(t);const i=e.map(e=>{const t=_x(e);return t?(t.addEventListener("scroll",s,{passive:!0}),[t,Fx(t)]):null}).filter(e=>null!=e);r(i.length?new Map(i):null),n.current=e}return()=>{a(e),a(t)};function a(e){e.forEach(e=>{const t=_x(e);null==t||t.removeEventListener("scroll",s)})}},[s,e]),(0,a.useMemo)(()=>e.length?t?Array.from(t.values()).reduce((e,t)=>Kg(e,t),hx):Ux(e):hx,[e,t])}(ne),ce=jf(le),de=jf(le,[G]),ue=Kg(ie,ce),me=Z?Cx(Z,ie):null,he=D&&me?u({active:D,collisionRect:me,droppableRects:q,droppableContainers:M,pointerCoordinates:oe}):null,pe=yx(he,"id"),[ge,xe]=(0,a.useState)(null),fe=function(e,t,r){return(0,Be.A)((0,Be.A)({},e),{},{scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1})}(ee?ie:Kg(ie,de),null!=(s=null==ge?void 0:ge.rect)?s:null,G),ye=(0,a.useRef)(null),ve=(0,a.useCallback)((e,t)=>{let{sensor:r,options:a}=t;if(null==P.current)return;const n=N.get(P.current);if(!n)return;const s=e.nativeEvent,i=new r({active:P.current,activeNode:n,event:s,options:a,context:Q,onAbort(e){if(!N.get(e))return;const{onDragAbort:t}=F.current,r={id:e};null==t||t(r),y({type:"onDragAbort",event:r})},onPending(e,t,r,a){if(!N.get(e))return;const{onDragPending:n}=F.current,s={id:e,constraint:t,initialCoordinates:r,offset:a};null==n||n(s),y({type:"onDragPending",event:s})},onStart(e){const t=P.current;if(null==t)return;const r=N.get(t);if(!r)return;const{onDragStart:a}=F.current,n={activatorEvent:s,active:{id:t,data:r.data,rect:E}};(0,Ne.unstable_batchedUpdates)(()=>{null==a||a(n),w(Bf.Initializing),f({type:dx.DragStart,initialCoordinates:e,active:t}),y({type:"onDragStart",event:n}),_(ye.current),O(s)})},onMove(e){f({type:dx.DragMove,coordinates:e})},onEnd:o(dx.DragEnd),onCancel:o(dx.DragCancel)});function o(e){return async function(){const{active:t,collisions:r,over:a,scrollAdjustedTranslate:n}=Q.current;let i=null;if(t&&n){const{cancelDrop:o}=F.current;if(i={activatorEvent:s,active:t,collisions:r,delta:n,over:a},e===dx.DragEnd&&"function"===typeof o){await Promise.resolve(o(i))&&(e=dx.DragCancel)}}P.current=null,(0,Ne.unstable_batchedUpdates)(()=>{f({type:e}),w(Bf.Uninitialized),xe(null),_(null),O(null),ye.current=null;const t=e===dx.DragEnd?"onDragEnd":"onDragCancel";if(i){const e=F.current[t];null==e||e(i),y({type:t,event:i})}})}}ye.current=i},[N]),be=(0,a.useCallback)((e,t)=>(r,a)=>{const n=r.nativeEvent,s=N.get(a);if(null!==P.current||!s||n.dndKit||n.defaultPrevented)return;const i={active:s};!0===e(r,t.options,i)&&(n.dndKit={capturedBy:t.sensor},P.current=a,ve(r,t))},[N,ve]),we=function(e,t){return(0,a.useMemo)(()=>e.reduce((e,r)=>{const{sensor:a}=r;return[...e,...a.activators.map(e=>({eventName:e.eventName,handler:t(e.handler,r)}))]},[]),[e,t])}(d,be);!function(e){(0,a.useEffect)(()=>{if(!Tg)return;const t=e.map(e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()});return()=>{for(const e of t)null==e||e()}},e.map(e=>{let{sensor:t}=e;return t}))}(d),Bg(()=>{G&&b===Bf.Initializing&&w(Bf.Initialized)},[G,b]),(0,a.useEffect)(()=>{const{onDragMove:e}=F.current,{active:t,activatorEvent:r,collisions:a,over:n}=Q.current;if(!t||!r)return;const s={active:t,activatorEvent:r,collisions:a,delta:{x:ue.x,y:ue.y},over:n};(0,Ne.unstable_batchedUpdates)(()=>{null==e||e(s),y({type:"onDragMove",event:s})})},[ue.x,ue.y]),(0,a.useEffect)(()=>{const{active:e,activatorEvent:t,collisions:r,droppableContainers:a,scrollAdjustedTranslate:n}=Q.current;if(!e||null==P.current||!t||!n)return;const{onDragOver:s}=F.current,i=a.get(pe),o=i&&i.rect.current?{id:i.id,rect:i.rect.current,data:i.data,disabled:i.disabled}:null,l={active:e,activatorEvent:t,collisions:r,delta:{x:n.x,y:n.y},over:o};(0,Ne.unstable_batchedUpdates)(()=>{xe(o),null==s||s(l),y({type:"onDragOver",event:l})})},[pe]),Bg(()=>{Q.current={activatorEvent:R,active:D,activeNode:V,collisionRect:me,collisions:he,droppableRects:q,draggableNodes:N,draggingNode:J,draggingNodeRect:Z,droppableContainers:A,over:ge,scrollableAncestors:ne,scrollAdjustedTranslate:ue},E.current={initial:Z,translated:me}},[D,V,he,me,N,J,Z,q,A,ge,ne,ue]),mf((0,Be.A)((0,Be.A)({},W),{},{delta:C,draggingRect:me,pointerCoordinates:oe,scrollableAncestors:ne,scrollableAncestorRects:se}));const je=(0,a.useMemo)(()=>({active:D,activeNode:V,activeNodeRect:G,activatorEvent:R,collisions:he,containerNodeRect:K,dragOverlay:X,draggableNodes:N,droppableContainers:A,droppableRects:q,over:ge,measureDroppableContainers:z,scrollableAncestors:ne,scrollableAncestorRects:se,measuringConfiguration:I,measuringScheduled:U,windowRect:ae}),[D,V,G,R,he,K,X,N,A,q,ge,z,ne,se,I,U,ae]),ke=(0,a.useMemo)(()=>({activatorEvent:R,activators:we,active:D,activeNodeRect:G,ariaDescribedById:{draggable:L},dispatch:f,draggableNodes:N,over:ge,measureDroppableContainers:z}),[R,we,D,G,f,L,N,ge,z]);return a.createElement(ix.Provider,{value:v},a.createElement(_f.Provider,{value:ke},a.createElement(Rf.Provider,{value:je},a.createElement(If.Provider,{value:fe},c)),a.createElement(Lf,{disabled:!1===(null==o?void 0:o.restoreFocus)})),a.createElement(cx,(0,Be.A)((0,Be.A)({},o),{},{hiddenTextDescribedById:L})))}),zf=(0,a.createContext)(null),Uf="button";function Vf(e){let{id:t,data:r,disabled:n=!1,attributes:s}=e;const i=Hg("Draggable"),{activators:o,activatorEvent:l,active:c,activeNodeRect:d,ariaDescribedById:u,draggableNodes:m,over:h}=(0,a.useContext)(_f),{role:p=Uf,roleDescription:g="draggable",tabIndex:x=0}=null!=s?s:{},f=(null==c?void 0:c.id)===t,y=(0,a.useContext)(f?If:zf),[v,b]=Vg(),[w,j]=Vg(),k=function(e,t){return(0,a.useMemo)(()=>e.reduce((e,r)=>{let{eventName:a,handler:n}=r;return e[a]=e=>{n(e,t)},e},{}),[e,t])}(o,t),N=zg(r);Bg(()=>(m.set(t,{id:t,key:i,node:v,activatorNode:w,data:N}),()=>{const e=m.get(t);e&&e.key===i&&m.delete(t)}),[m,t]);return{active:c,activatorEvent:l,activeNodeRect:d,attributes:(0,a.useMemo)(()=>({role:p,tabIndex:x,"aria-disabled":n,"aria-pressed":!(!f||p!==Uf)||void 0,"aria-roledescription":g,"aria-describedby":u.draggable}),[n,p,x,f,g,u.draggable]),isDragging:f,listeners:n?void 0:k,node:v,over:h,setNodeRef:b,setActivatorNodeRef:j,transform:y}}function Yf(){return(0,a.useContext)(Rf)}const Wf={timeout:25};function Hf(e,t,r){const a=e.slice();return a.splice(r<0?a.length+r:r,0,a.splice(t,1)[0]),a}function Gf(e,t){return e.reduce((e,r,a)=>{const n=t.get(r);return n&&(e[a]=n),e},Array(e.length))}function Kf(e){return null!==e&&e>=0}const Qf=e=>{let{rects:t,activeIndex:r,overIndex:a,index:n}=e;const s=Hf(t,a,r),i=t[n],o=s[n];return o&&i?{x:o.left-i.left,y:o.top-i.top,scaleX:o.width/i.width,scaleY:o.height/i.height}:null},$f={scaleX:1,scaleY:1},Xf=e=>{var t;let{activeIndex:r,activeNodeRect:a,index:n,rects:s,overIndex:i}=e;const o=null!=(t=s[r])?t:a;if(!o)return null;if(n===r){const e=s[i];return e?(0,Be.A)({x:0,y:r<i?e.top+e.height-(o.top+o.height):e.top-o.top},$f):null}const l=function(e,t,r){const a=e[t],n=e[t-1],s=e[t+1];if(!a)return 0;if(r<t)return n?a.top-(n.top+n.height):s?s.top-(a.top+a.height):0;return s?s.top-(a.top+a.height):n?a.top-(n.top+n.height):0}(s,n,r);return n>r&&n<=i?(0,Be.A)({x:0,y:-o.height-l},$f):n<r&&n>=i?(0,Be.A)({x:0,y:o.height+l},$f):(0,Be.A)({x:0,y:0},$f)};const Jf="Sortable",Zf=a.createContext({activeIndex:-1,containerId:Jf,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Qf,disabled:{draggable:!1,droppable:!1}});function ey(e){let{children:t,id:r,items:n,strategy:s=Qf,disabled:i=!1}=e;const{active:o,dragOverlay:l,droppableRects:c,over:d,measureDroppableContainers:u}=Yf(),m=Hg(Jf,r),h=Boolean(null!==l.rect),p=(0,a.useMemo)(()=>n.map(e=>"object"===typeof e&&"id"in e?e.id:e),[n]),g=null!=o,x=o?p.indexOf(o.id):-1,f=d?p.indexOf(d.id):-1,y=(0,a.useRef)(p),v=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(p,y.current),b=-1!==f&&-1===x||v,w=function(e){return"boolean"===typeof e?{draggable:e,droppable:e}:e}(i);Bg(()=>{v&&g&&u(p)},[v,p,g,u]),(0,a.useEffect)(()=>{y.current=p},[p]);const j=(0,a.useMemo)(()=>({activeIndex:x,containerId:m,disabled:w,disableTransforms:b,items:p,overIndex:f,useDragOverlay:h,sortedRects:Gf(p,c),strategy:s}),[x,m,w.draggable,w.droppable,b,p,f,c,h,s]);return a.createElement(Zf.Provider,{value:j},t)}const ty=e=>{let{id:t,items:r,activeIndex:a,overIndex:n}=e;return Hf(r,a,n).indexOf(t)},ry=e=>{let{containerId:t,isSorting:r,wasDragging:a,index:n,items:s,newIndex:i,previousItems:o,previousContainerId:l,transition:c}=e;return!(!c||!a)&&((o===s||n!==i)&&(!!r||i!==n&&t===l))},ay={duration:200,easing:"ease"},ny="transform",sy=Jg.Transition.toString({property:ny,duration:0,easing:"linear"}),iy={roleDescription:"sortable"};function oy(e){let{animateLayoutChanges:t=ry,attributes:r,disabled:n,data:s,getNewIndex:i=ty,id:o,strategy:l,resizeObserverConfig:c,transition:d=ay}=e;const{items:u,containerId:m,activeIndex:h,disabled:p,disableTransforms:g,sortedRects:x,overIndex:f,useDragOverlay:y,strategy:v}=(0,a.useContext)(Zf),b=function(e,t){var r,a;if("boolean"===typeof e)return{draggable:e,droppable:!1};return{draggable:null!=(r=null==e?void 0:e.draggable)?r:t.draggable,droppable:null!=(a=null==e?void 0:e.droppable)?a:t.droppable}}(n,p),w=u.indexOf(o),j=(0,a.useMemo)(()=>(0,Be.A)({sortable:{containerId:m,index:w,items:u}},s),[m,s,w,u]),k=(0,a.useMemo)(()=>u.slice(u.indexOf(o)),[u,o]),{rect:N,node:C,isOver:A,setNodeRef:S}=function(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:s}=e;const i=Hg("Droppable"),{active:o,dispatch:l,over:c,measureDroppableContainers:d}=(0,a.useContext)(_f),u=(0,a.useRef)({disabled:r}),m=(0,a.useRef)(!1),h=(0,a.useRef)(null),p=(0,a.useRef)(null),{disabled:g,updateMeasurementsFor:x,timeout:f}=(0,Be.A)((0,Be.A)({},Wf),s),y=zg(null!=x?x:n),v=yf({callback:(0,a.useCallback)(()=>{m.current?(null!=p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{d(Array.isArray(y.current)?y.current:[y.current]),p.current=null},f)):m.current=!0},[f]),disabled:g||!o}),b=(0,a.useCallback)((e,t)=>{v&&(t&&(v.unobserve(t),m.current=!1),e&&v.observe(e))},[v]),[w,j]=Vg(b),k=zg(t);return(0,a.useEffect)(()=>{v&&w.current&&(v.disconnect(),m.current=!1,v.observe(w.current))},[w,v]),(0,a.useEffect)(()=>(l({type:dx.RegisterDroppable,element:{id:n,key:i,disabled:r,node:w,rect:h,data:k}}),()=>l({type:dx.UnregisterDroppable,key:i,id:n})),[n]),(0,a.useEffect)(()=>{r!==u.current.disabled&&(l({type:dx.SetDroppableDisabled,id:n,key:i,disabled:r}),u.current.disabled=r)},[n,i,r,l]),{active:o,rect:h,isOver:(null==c?void 0:c.id)===n,node:w,over:c,setNodeRef:j}}({id:o,data:j,disabled:b.droppable,resizeObserverConfig:(0,Be.A)({updateMeasurementsFor:k},c)}),{active:E,activatorEvent:D,activeNodeRect:P,attributes:T,setNodeRef:_,listeners:R,isDragging:O,over:F,setActivatorNodeRef:L,transform:M}=Vf({id:o,data:j,attributes:(0,Be.A)((0,Be.A)({},iy),r),disabled:b.draggable}),I=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.useMemo)(()=>e=>{t.forEach(t=>t(e))},t)}(S,_),B=Boolean(E),q=B&&!g&&Kf(h)&&Kf(f),z=!y&&O,U=z&&q?M:null,V=q?null!=U?U:(null!=l?l:v)({rects:x,activeNodeRect:P,activeIndex:h,overIndex:f,index:w}):null,Y=Kf(h)&&Kf(f)?i({id:o,items:u,activeIndex:h,overIndex:f}):w,W=null==E?void 0:E.id,H=(0,a.useRef)({activeId:W,items:u,newIndex:Y,containerId:m}),G=u!==H.current.items,K=t({active:E,containerId:m,isDragging:O,isSorting:B,id:o,index:w,items:u,newIndex:H.current.newIndex,previousItems:H.current.items,previousContainerId:H.current.containerId,transition:d,wasDragging:null!=H.current.activeId}),Q=function(e){let{disabled:t,index:r,node:n,rect:s}=e;const[i,o]=(0,a.useState)(null),l=(0,a.useRef)(r);return Bg(()=>{if(!t&&r!==l.current&&n.current){const e=s.current;if(e){const t=Ex(n.current,{ignoreTransform:!0}),r={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(r.x||r.y)&&o(r)}}r!==l.current&&(l.current=r)},[t,r,n,s]),(0,a.useEffect)(()=>{i&&o(null)},[i]),i}({disabled:!K,index:w,node:C,rect:N});return(0,a.useEffect)(()=>{B&&H.current.newIndex!==Y&&(H.current.newIndex=Y),m!==H.current.containerId&&(H.current.containerId=m),u!==H.current.items&&(H.current.items=u)},[B,Y,m,u]),(0,a.useEffect)(()=>{if(W===H.current.activeId)return;if(null!=W&&null==H.current.activeId)return void(H.current.activeId=W);const e=setTimeout(()=>{H.current.activeId=W},50);return()=>clearTimeout(e)},[W]),{active:E,activeIndex:h,attributes:T,data:j,rect:N,index:w,newIndex:Y,items:u,isOver:A,isSorting:B,isDragging:O,listeners:R,node:C,overIndex:f,over:F,setNodeRef:I,setActivatorNodeRef:L,setDroppableNodeRef:S,setDraggableNodeRef:_,transform:null!=Q?Q:V,transition:function(){if(Q||G&&H.current.newIndex===w)return sy;if(z&&!$g(D)||!d)return;if(B||K)return Jg.Transition.toString((0,Be.A)((0,Be.A)({},d),{},{property:ny}));return}()}}function ly(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&"object"===typeof t.sortable&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const cy=[Qx.Down,Qx.Right,Qx.Up,Qx.Left],dy=(e,t)=>{let{context:{active:r,collisionRect:a,droppableRects:n,droppableContainers:s,over:i,scrollableAncestors:o}}=t;if(cy.includes(e.code)){if(e.preventDefault(),!r||!a)return;const t=[];s.getEnabled().forEach(r=>{if(!r||null!=r&&r.disabled)return;const s=n.get(r.id);if(s)switch(e.code){case Qx.Down:a.top<s.top&&t.push(r);break;case Qx.Up:a.top>s.top&&t.push(r);break;case Qx.Left:a.left>s.left&&t.push(r);break;case Qx.Right:a.left<s.left&&t.push(r)}});const l=(e=>{let{collisionRect:t,droppableRects:r,droppableContainers:a}=e;const n=fx(t),s=[];for(const i of a){const{id:e}=i,t=r.get(e);if(t){const r=fx(t),a=n.reduce((e,t,a)=>e+px(r[a],t),0),o=Number((a/4).toFixed(4));s.push({id:e,data:{droppableContainer:i,value:o}})}}return s.sort(gx)})({active:r,collisionRect:a,droppableRects:n,droppableContainers:t,pointerCoordinates:null});let c=yx(l,"id");if(c===(null==i?void 0:i.id)&&l.length>1&&(c=l[1].id),null!=c){const e=s.get(r.id),t=s.get(c),i=t?n.get(t.id):null,l=null==t?void 0:t.node.current;if(l&&i&&e&&t){const r=Px(l).some((e,t)=>o[t]!==e),n=uy(e,t),s=function(e,t){if(!ly(e)||!ly(t))return!1;if(!uy(e,t))return!1;return e.data.current.sortable.index<t.data.current.sortable.index}(e,t),c=r||!n?{x:0,y:0}:{x:s?a.width-i.width:0,y:s?a.height-i.height:0},d={x:i.left,y:i.top};return c.x&&c.y?d:Qg(d,c)}}}};function uy(e,t){return!(!ly(e)||!ly(t))&&e.data.current.sortable.containerId===t.data.current.sortable.containerId}const my=(0,nr.A)("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),hy=(0,nr.A)("FolderOpen",[["path",{d:"m6 14 1.45-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.55 6a2 2 0 0 1-1.94 1.5H4a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.93a2 2 0 0 1 1.66.9l.82 1.2a2 2 0 0 0 1.66.9H18a2 2 0 0 1 2 2v2",key:"1nmvlm"}]]),py=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,gy=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,xy=/\.(m3u8)($|\?)/i,fy=/\.(mpd)($|\?)/i,yy=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,vy=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,by=/vimeo\.com\/(?!progressive_redirect).+/,wy=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,jy=/open\.spotify\.com\/(\w+)\/(\w+)/i,ky=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+|(videos?\/|\?video=)\d+)($|\?)/,Ny=/tiktok\.com\/(?:player\/v1\/|share\/video\/|@[^/]+\/video\/)([0-9]+)/,Cy=(e,t)=>{if(Array.isArray(e)){for(const r of e){if("string"===typeof r&&Cy(r,t))return!0;if(Cy(r.src,t))return!0}return!1}return t(e)},Ay={html:e=>Cy(e,e=>py.test(e)||gy.test(e)),hls:e=>Cy(e,e=>xy.test(e)),dash:e=>Cy(e,e=>fy.test(e)),mux:e=>yy.test(e),youtube:e=>vy.test(e),vimeo:e=>by.test(e)&&!gy.test(e)&&!xy.test(e),wistia:e=>wy.test(e),spotify:e=>jy.test(e),twitch:e=>ky.test(e),tiktok:e=>Ny.test(e)};var Sy=a.forwardRef((e,t)=>{const r=py.test("".concat(e.src))?"audio":"video";return a.createElement(r,(0,Be.A)((0,Be.A)({},e),{},{ref:t}),e.children)});var Ey=[{key:"hls",name:"hls.js",canPlay:Ay.hls,canEnablePIP:()=>!0,player:(0,a.lazy)(()=>Promise.all([r.e(372),r.e(788),r.e(262)]).then(r.bind(r,7890)))},{key:"dash",name:"dash.js",canPlay:Ay.dash,canEnablePIP:()=>!0,player:(0,a.lazy)(()=>Promise.all([r.e(372),r.e(395)]).then(r.bind(r,8398)))},{key:"mux",name:"Mux",canPlay:Ay.mux,canEnablePIP:()=>!0,player:(0,a.lazy)(()=>Promise.all([r.e(372),r.e(788),r.e(723)]).then(r.bind(r,7333)))},{key:"youtube",name:"YouTube",canPlay:Ay.youtube,player:(0,a.lazy)(()=>r.e(446).then(r.bind(r,1702)))},{key:"vimeo",name:"Vimeo",canPlay:Ay.vimeo,player:(0,a.lazy)(()=>r.e(173).then(r.bind(r,83)))},{key:"wistia",name:"Wistia",canPlay:Ay.wistia,canEnablePIP:()=>!0,player:(0,a.lazy)(()=>r.e(340).then(r.bind(r,247)))},{key:"spotify",name:"Spotify",canPlay:Ay.spotify,canEnablePIP:()=>!1,player:(0,a.lazy)(()=>r.e(771).then(r.bind(r,5869)))},{key:"twitch",name:"Twitch",canPlay:Ay.twitch,canEnablePIP:()=>!1,player:(0,a.lazy)(()=>r.e(42).then(r.bind(r,4074)))},{key:"tiktok",name:"TikTok",canPlay:Ay.tiktok,canEnablePIP:()=>!1,player:(0,a.lazy)(()=>r.e(85).then(r.bind(r,155)))},{key:"html",name:"html",canPlay:Ay.html,canEnablePIP:()=>!0,player:Sy}];const Dy={width:"320px",height:"180px",volume:1,playbackRate:1,previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}"},Py=a.forwardRef((e,t)=>{const{playing:r,pip:n}=e,s=e.activePlayer,i=(0,a.useRef)(null),o=(0,a.useRef)(!0);(0,a.useEffect)(()=>{var t,a;i.current&&(i.current.paused&&!0===r&&i.current.play(),i.current.paused||!1!==r||i.current.pause(),i.current.playbackRate=null!=(t=e.playbackRate)?t:1,i.current.volume=null!=(a=e.volume)?a:1)}),(0,a.useEffect)(()=>{var e,t,r,a,s;if(i.current&&globalThis.document){if(n&&!document.pictureInPictureElement)try{null==(t=(e=i.current).requestPictureInPicture)||t.call(e)}catch(aw){}if(!n&&document.pictureInPictureElement)try{null==(a=(r=i.current).exitPictureInPicture)||a.call(r),null==(s=document.exitPictureInPicture)||s.call(document)}catch(aw){}}},[n]);if(!s)return null;const l={},c=["onReady","onStart"];for(const a in e)a.startsWith("on")&&!c.includes(a)&&(l[a]=e[a]);return a.createElement(s,(0,Be.A)((0,Be.A)({},l),{},{style:e.style,className:e.className,slot:e.slot,ref:(0,a.useCallback)(e=>{i.current=e,"function"===typeof t?t(e):null!==t&&(t.current=e)},[t]),src:e.src,crossOrigin:e.crossOrigin,preload:e.preload,controls:e.controls,muted:e.muted,autoPlay:e.autoPlay,loop:e.loop,playsInline:e.playsInline,config:e.config,onLoadStart:t=>{var r,a;o.current=!0,null==(r=e.onReady)||r.call(e),null==(a=e.onLoadStart)||a.call(e,t)},onPlay:t=>{var r,a;o.current&&(o.current=!1,null==(r=e.onStart)||r.call(e,t)),null==(a=e.onPlay)||a.call(e,t)}}),e.children)});Py.displayName="Player";var Ty=Py;const _y=(0,a.lazy)(()=>r.e(353).then(r.bind(r,6887))),Ry=[],Oy=e=>{let{children:t}=e;return t};var Fy=((e,t)=>{const r=a.forwardRef((r,n)=>{const s=(0,Be.A)((0,Be.A)({},Dy),r),{src:i,slot:o,className:l,style:c,width:d,height:u,fallback:m,wrapper:h}=s,[p,g]=(0,a.useState)(!!s.light);(0,a.useEffect)(()=>{s.light?g(!0):g(!1)},[s.light]);const x=e=>{var t;g(!1),null==(t=s.onClickPreview)||t.call(s,e)},f=null==h?Oy:h,y=!1===m?Oy:a.Suspense;return a.createElement(f,{slot:o,className:l,style:(0,Be.A)({width:d,height:u},c)},a.createElement(y,{fallback:m},p?(e=>{if(!e)return null;const{light:t,playIcon:r,previewTabIndex:n,oEmbedUrl:i,previewAriaLabel:o}=s;return a.createElement(_y,{src:e,light:t,playIcon:r,previewTabIndex:n,previewAriaLabel:o,oEmbedUrl:i,onClickPreview:x})})(i):(r=>{var i,c;const d=(r=>{for(const t of[...Ry,...e])if(r&&t.canPlay(r))return t;return t||null})(r);if(!d)return null;const{style:u,width:m,height:h,wrapper:p}=s,g=null==(i=s.config)?void 0:i[d.key];return a.createElement(Ty,(0,Be.A)((0,Be.A)({},s),{},{ref:n,activePlayer:null!=(c=d.player)?c:d,slot:p?void 0:o,className:p?void 0:l,style:p?{display:"block",width:"100%",height:"100%"}:(0,Be.A)({display:"block",width:m,height:h},u),config:g}))})(i)))});return r.displayName="ReactPlayer",r.addCustomPlayer=e=>{Ry.push(e)},r.removeCustomPlayers=()=>{Ry.length=0},r.canPlay=t=>{if(t)for(const r of[...Ry,...e])if(r.canPlay(t))return!0;return!1},r.canEnablePIP=t=>{var r;if(t)for(const a of[...Ry,...e])if(a.canPlay(t)&&(null==(r=a.canEnablePIP)?void 0:r.call(a)))return!0;return!1},r})(Ey,Ey[Ey.length-1]);const Ly=e=>{let{id:t,children:r,isDragging:a}=e;const{attributes:n,listeners:s,setNodeRef:i,transform:o,transition:l}=oy({id:t}),c={transform:Jg.Transform.toString(o),transition:l,opacity:a?.5:1};return(0,xr.jsx)("div",(0,Be.A)((0,Be.A)({ref:i,style:c},n),{},{children:(0,xr.jsxs)("div",{className:"flex items-center",children:[(0,xr.jsx)(my,(0,Be.A)({className:"w-5 h-5 mr-2 text-gray-500 dark:text-gray-400 cursor-move"},s)),r]})}))},My=e=>{let{videoUrl:t,onClose:r}=e;const[n,s]=(0,a.useState)(1),[i,o]=(0,a.useState)(!1),{theme:l}=Nr();return t?(0,xr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:(0,xr.jsxs)("div",{className:"relative w-full max-w-4xl bg-gray-900 rounded-lg overflow-hidden",children:[(0,xr.jsx)("button",{onClick:r,className:"absolute top-4 right-4 z-10 text-white hover:text-gray-300",children:(0,xr.jsx)(pr.A,{size:24})}),(0,xr.jsx)("div",{className:"aspect-video w-full",children:(0,xr.jsx)(Fy,{url:t,width:"100%",height:"100%",controls:!0,playbackRate:n,config:{file:{attributes:{controlsList:"nodownload"}}}})}),(0,xr.jsx)("div",{className:"p-4 bg-gray-800 flex items-center justify-between",children:(0,xr.jsxs)("div",{className:"relative",children:[(0,xr.jsxs)("button",{onClick:()=>o(!i),className:"flex items-center text-white",children:[(0,xr.jsxs)("span",{className:"mr-1",children:[n,"x"]}),(0,xr.jsx)(eh,{size:16})]}),i&&(0,xr.jsx)("div",{className:"absolute bottom-full left-0 mb-2 w-20 bg-gray-700 rounded-md shadow-lg z-10",children:[.5,.75,1,1.25,1.5,2].map(e=>(0,xr.jsxs)("button",{onClick:()=>{s(e),o(!1)},className:"w-full text-left px-4 py-2 text-sm ".concat(n===e?"bg-indigo-600 text-white":"text-gray-200 hover:bg-gray-600"),children:[e,"x"]},e))})]})})]})}):null},Iy=()=>{var e;const{courseId:t}=ne(),r=ae(),{theme:n}=Nr(),{user:s}=wr(),o=Bm(s,"manageGroupsSections"),l=Bm(s,"createEditDeleteLectures"),c=Bm(s,"createEditDeleteAssignments"),[d,u]=(0,a.useState)(null),[m,h]=(0,a.useState)([]),[p,g]=(0,a.useState)(!0),[x,f]=(0,a.useState)(null),[y,v]=(0,a.useState)(""),[b,w]=(0,a.useState)(!1),[j,k]=(0,a.useState)(!1),[N,C]=(0,a.useState)(null),[A,S]=(0,a.useState)(null),[E,D]=(0,a.useState)(!1),[P,T]=(0,a.useState)(null),[_,R]=(0,a.useState)(!1),[O,F]=(0,a.useState)(null),[L,M]=(0,a.useState)([]),[I,B]=(0,a.useState)(null),[q,z]=(0,a.useState)(null),[U,V]=(0,a.useState)([]),[Y,W]=(0,a.useState)({open:!1,group:null,reason:"",submitting:!1}),[H,G]=(0,a.useState)({name:"",level:"beginner",maxStudents:20,startDate:"",endDate:""}),[K,Q]=(0,a.useState)({name:"",isFree:!0,amount:0}),[$,X]=(0,a.useState)({title:"",description:"",videoFile:null,videoUrl:""}),[J,Z]=(0,a.useState)({title:"",description:"",file:null,fileUrl:""}),[ee,te]=(0,a.useState)({title:"",description:"",videoFile:null,videoUrl:"",file:null,fileUrl:""}),re=async()=>{try{g(!0);const e=localStorage.getItem("token"),r=await i.A.get("/api/courses/".concat(t),{headers:{Authorization:"Bearer ".concat(e)}});u(r.data.course);const a=await i.A.get("/api/groups?course=".concat(t),{headers:{Authorization:"Bearer ".concat(e)}});h(a.data.groups||[])}catch(e){console.error("Error fetching data:",e);const t=se(e,"Failed to fetch data");er.error(t)}finally{g(!1)}},se=(e,t)=>{var r;const a=null===e||void 0===e||null===(r=e.response)||void 0===r?void 0:r.data;if(Array.isArray(null===a||void 0===a?void 0:a.errors)&&a.errors.length>0){const e=a.errors.map(e=>e.msg||e.message).filter(Boolean);if(e.length>0)return e.join(" ")}return"string"===typeof(null===a||void 0===a?void 0:a.message)&&a.message.trim().length>0?a.message:t};(0,a.useEffect)(()=>{re()},[t]);const ie=async e=>{if(e.preventDefault(),N)if(o)er.error("Your instructor account is suspended. You cannot create sections right now.");else try{const e=localStorage.getItem("token");await i.A.post("/api/groups/".concat(N,"/sections"),K,{headers:{Authorization:"Bearer ".concat(e)}}),k(!1),Q({name:"",isFree:!0,amount:0}),re(),er.success("Section created successfully!")}catch(t){console.error("Error saving section:",t);const e=se(t,"Failed to create section");er.error(e)}},oe=async(e,t,r,a)=>{const{active:n,over:s}=e;if("lectures"===a&&l)er.error("Your instructor account is suspended. You cannot reorder lectures right now.");else if("lectures"!==a&&c)er.error("Your instructor account is suspended. You cannot reorder assignments or projects right now.");else if(n.id!==s.id){D(!0),h(e=>e.map(e=>{if(e._id===t){const t=e.sections.map(e=>{if(e._id===r){const t=[...e[a]||[]],r=t.findIndex(e=>e._id===n.id),i=t.findIndex(e=>e._id===s.id);if(-1===r||-1===i)return e;const o=Hf(t,r,i);return(0,Be.A)((0,Be.A)({},e),{},{[a]:o})}return e});return(0,Be.A)((0,Be.A)({},e),{},{sections:t})}return e}));try{var o,d,u;const e=localStorage.getItem("token");await i.A.put("/api/sections/".concat(r,"/reorder-").concat(a),{order:(null===(o=m.find(e=>e._id===t))||void 0===o||null===(d=o.sections.find(e=>e._id===r))||void 0===d||null===(u=d[a])||void 0===u?void 0:u.map(e=>e._id))||[]},{headers:{Authorization:"Bearer ".concat(e)}})}catch(p){console.error("Error saving order:",p),er.error("Failed to save order"),re()}finally{D(!1)}}};return p?(0,xr.jsx)("div",{className:"min-h-screen ".concat("dark"===n?"bg-gray-900":"bg-gray-50"," flex items-center justify-center"),children:(0,xr.jsxs)("div",{className:"text-center",children:[(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),(0,xr.jsx)("p",{className:"mt-4 ".concat("dark"===n?"text-gray-300":"text-gray-600"),children:"Loading groups..."})]})}):(0,xr.jsxs)("div",{className:"min-h-screen ".concat("dark"===n?"bg-gray-900 text-white":"bg-gray-50 text-gray-900"),children:[(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,xr.jsxs)("div",{className:"mb-8",children:[(0,xr.jsxs)("button",{onClick:()=>r("/instructor/dashboard"),className:"mb-4 flex items-center ".concat("dark"===n?"text-indigo-400 hover:text-indigo-300":"text-indigo-600 hover:text-indigo-800"),children:[(0,xr.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Dashboard"]}),(0,xr.jsxs)("h1",{className:"text-3xl font-bold",children:[null===d||void 0===d?void 0:d.name," - Groups Management"]}),(0,xr.jsx)("p",{className:"mt-2 ".concat("dark"===n?"text-gray-300":"text-gray-600"),children:"Manage groups, sections, and content for this course"})]}),(0,xr.jsx)("div",{className:"mb-6",children:(0,xr.jsxs)("button",{onClick:()=>{o?er.error("Your instructor account is suspended. You cannot create groups right now."):(f(null),G({name:"",level:"beginner",maxStudents:20,startDate:"",endDate:"",isActive:!0}),w(!0))},className:"btn-primary inline-flex items-center",children:[(0,xr.jsx)(Xh,{className:"w-4 h-4 mr-2"})," Add Group"]})}),0===m.length?(0,xr.jsxs)("div",{className:"p-12 text-center rounded-lg ".concat("dark"===n?"bg-gray-800":"bg-white shadow-md"),children:[(0,xr.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 ".concat("dark"===n?"text-gray-600":"text-gray-400"),children:(0,xr.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,xr.jsx)("p",{className:"text-lg mb-4 ".concat("dark"===n?"text-gray-400":"text-gray-600"),children:"No groups created yet"}),(0,xr.jsxs)("button",{onClick:()=>{o?er.error("Your instructor account is suspended. You cannot create groups right now."):w(!0)},className:"btn-primary inline-flex items-center",children:[(0,xr.jsx)(Xh,{className:"w-5 h-5 mr-2"})," Create Your First Group"]})]}):(0,xr.jsx)("div",{className:"space-y-6",children:m.map(e=>{var t;return(0,xr.jsxs)("div",{className:"rounded-lg overflow-hidden ".concat("dark"===n?"bg-gray-800":"bg-white shadow-md"," ").concat(e.isArchived?"ring-2 ring-yellow-400/60":""),children:[(0,xr.jsxs)("div",{className:"p-6 border-b ".concat("dark"===n?"border-gray-700":"border-gray-200"," flex items-center justify-between"),children:[(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsx)("h2",{className:"text-xl font-semibold",children:e.name}),(0,xr.jsxs)("div",{className:"mt-2 flex items-center space-x-6 text-sm ".concat("dark"===n?"text-gray-300":"text-gray-600"),children:[(0,xr.jsxs)("span",{className:"flex items-center",children:[(0,xr.jsx)(Xc,{className:"w-4 h-4 mr-1"}),(e.students||[]).filter(e=>"enrolled"===e.status&&e.student&&e.student._id).length," / ",e.maxStudents," Students"]}),(0,xr.jsxs)("span",{className:"flex items-center",children:[(0,xr.jsx)(Dg,{className:"w-4 h-4 mr-1"}),e.startDate?new Date(e.startDate).toLocaleDateString():"No start date"," - ",e.endDate?new Date(e.endDate).toLocaleDateString():"No end date"]}),e.isArchived&&(0,xr.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",children:"Archived"})]})]}),(0,xr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,xr.jsxs)("button",{onClick:()=>(async e=>{try{const t=localStorage.getItem("token"),r=await i.A.get("/api/groups/".concat(e._id),{headers:{Authorization:"Bearer ".concat(t)}});r.data.group&&r.data.group.students&&(F(r.data.group),M(r.data.group.students.filter(e=>"enrolled"===e.status&&e.student&&e.student._id)),R(!0))}catch(t){console.error("Error fetching students:",t),er.error("Failed to fetch students")}})(e),className:"btn-secondary inline-flex items-center",children:[(0,xr.jsx)(Xc,{className:"w-4 h-4 mr-1"})," View Students"]}),(0,xr.jsxs)("button",{onClick:()=>{return t=e._id,void r("/instructor/groups/".concat(t,"/sections"));var t},className:"btn-secondary inline-flex items-center",children:[(0,xr.jsx)(Ra,{className:"w-4 h-4 mr-1"})," Manage Sections"]}),(0,xr.jsxs)("button",{onClick:()=>(e=>{o?er.error("Your instructor account is suspended. You cannot edit groups right now."):(f(e),G({name:e.name,level:e.level||"beginner",maxStudents:e.maxStudents||20,startDate:e.startDate?e.startDate.split("T")[0]:"",endDate:e.endDate?e.endDate.split("T")[0]:""}),w(!0))})(e),className:"btn-secondary inline-flex items-center",children:[(0,xr.jsx)(Sg,{className:"w-4 h-4 mr-1"})," Edit"]}),(0,xr.jsx)("button",{onClick:()=>(async e=>{if(o)return void er.error("Your instructor account is suspended. You cannot archive or unarchive groups right now.");const t=e.isArchived?"unarchive":"archive",r="Archiving hides the group from new students while keeping full access for currently enrolled students. Nothing is deleted \u2014 it only becomes invisible to new enrollments.\n\n"+"Are you sure you want to ".concat(t," this group?");if(window.confirm(r))try{var a,n,s;B(e._id);const t=localStorage.getItem("token"),r=await i.A.patch("/api/groups/".concat(e._id,"/archive"),{archive:!e.isArchived},{headers:{Authorization:"Bearer ".concat(t)}}),o=(null===(a=r.data)||void 0===a?void 0:a.message)||(null!==(n=r.data)&&void 0!==n&&null!==(s=n.group)&&void 0!==s&&s.isArchived?"Group archived successfully. It will be hidden from new enrollments, but existing students keep access.":"Group unarchived successfully.");er.success(o),await re()}catch(l){console.error("Error updating group archive status:",l);const e=se(l,"Failed to update group archive status");er.error(e)}finally{B(null)}})(e),disabled:I===e._id,className:"px-3 py-2 rounded-md border text-sm ".concat(e.isArchived?"border-green-300 text-green-700 bg-green-50":"border-yellow-300 text-yellow-700 bg-yellow-50"),children:I===e._id?"Updating...":e.isArchived?"Unarchive":"Archive"}),(0,xr.jsx)("button",{onClick:()=>(e=>{e&&(o?er.error("Your instructor account is suspended. You cannot request group deletion right now."):W({open:!0,group:e,reason:"",submitting:!1}))})(e),disabled:q===e._id||U.includes(e._id),className:"btn-request-delete",children:q===e._id?"Requesting...":U.includes(e._id)?"Request Pending":"Request Delete"})]})]}),null===(t=e.sections)||void 0===t?void 0:t.map(t=>{var r,a,s,i;return(0,xr.jsxs)("div",{className:"p-6 border-b last:border-b-0 ".concat("dark"===n?"border-gray-700":"border-gray-200"),children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,xr.jsxs)("h3",{className:"text-lg font-medium flex items-center",children:[(0,xr.jsx)(hy,{className:"w-5 h-5 mr-2"}),t.name,!t.isFree&&(0,xr.jsxs)("span",{className:"ml-2 flex items-center text-green-600 dark:text-green-400",children:[(0,xr.jsx)(Kh,{className:"w-4 h-4 mr-1"}),"$",t.amount]})]}),(0,xr.jsxs)("button",{onClick:()=>{C(e._id),Q({name:"",isFree:!0,amount:0}),k(!0)},className:"btn-secondary",children:[(0,xr.jsx)(Xh,{className:"w-4 h-4 mr-2"})," Add Section"]})]}),(0,xr.jsxs)("div",{className:"mb-6",children:[(0,xr.jsxs)("h4",{className:"text-md font-medium mb-3 flex items-center ".concat("dark"===n?"text-gray-300":"text-gray-700"),children:[(0,xr.jsx)(zm,{className:"w-5 h-5 mr-2"}),"Lectures"]}),(0,xr.jsx)(qf,{collisionDetection:bx,onDragStart:e=>S(e.active.id),onDragEnd:r=>oe(r,e._id,t._id,"lectures"),children:(0,xr.jsx)(ey,{items:(null===(r=t.lectures)||void 0===r?void 0:r.map(e=>e._id))||[],strategy:Xf,children:null===(a=t.lectures)||void 0===a?void 0:a.map(e=>(0,xr.jsx)(Ly,{id:e._id,isDragging:A===e._id,children:(0,xr.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg mb-2 ".concat("dark"===n?"bg-gray-700":"bg-gray-100"),children:[(0,xr.jsxs)("div",{className:"flex items-center",children:[(0,xr.jsx)("span",{className:"dark"===n?"text-gray-300":"",children:e.title}),e.description&&(0,xr.jsxs)("span",{className:"ml-2 text-sm ".concat("dark"===n?"text-gray-400":"text-gray-500"),children:["- ",e.description.substring(0,50),"..."]})]}),(0,xr.jsxs)("div",{className:"flex space-x-2",children:[(0,xr.jsx)("button",{onClick:()=>T(e.videoUrl),className:"btn-icon",title:"Watch",children:(0,xr.jsx)(Mm.A,{className:"w-4 h-4"})}),(0,xr.jsx)("button",{className:"btn-icon",title:"Edit",children:(0,xr.jsx)(Sg,{className:"w-4 h-4"})}),(0,xr.jsx)("button",{className:"btn-icon text-red-500",title:"Delete",children:(0,xr.jsx)(kh,{className:"w-4 h-4"})})]})]})},e._id))})}),(0,xr.jsxs)("button",{onClick:()=>(async()=>{l?er.error("Your instructor account is suspended. You cannot add lectures right now."):er("Add lecture functionality - implement file upload and form")})(e._id,t._id),className:"btn-secondary mt-2 inline-flex items-center",children:[(0,xr.jsx)(Xh,{className:"w-4 h-4 mr-1"})," Add Lecture"]})]}),(0,xr.jsxs)("div",{className:"mb-6",children:[(0,xr.jsxs)("h4",{className:"text-md font-medium mb-3 flex items-center ".concat("dark"===n?"text-gray-300":"text-gray-700"),children:[(0,xr.jsx)(Um,{className:"w-5 h-5 mr-2"}),"Assignments"]}),(0,xr.jsx)(qf,{collisionDetection:bx,onDragStart:e=>S(e.active.id),onDragEnd:r=>oe(r,e._id,t._id,"assignments"),children:(0,xr.jsx)(ey,{items:(null===(s=t.assignments)||void 0===s?void 0:s.map(e=>e._id))||[],strategy:Xf,children:null===(i=t.assignments)||void 0===i?void 0:i.map(e=>(0,xr.jsx)(Ly,{id:e._id,isDragging:A===e._id,children:(0,xr.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg mb-2 ".concat("dark"===n?"bg-gray-700":"bg-gray-100"),children:[(0,xr.jsxs)("div",{className:"flex items-center",children:[(0,xr.jsx)("span",{className:"dark"===n?"text-gray-300":"",children:e.title}),e.description&&(0,xr.jsxs)("span",{className:"ml-2 text-sm ".concat("dark"===n?"text-gray-400":"text-gray-500"),children:["- ",e.description.substring(0,50),"..."]})]}),(0,xr.jsxs)("div",{className:"flex space-x-2",children:[(0,xr.jsx)("a",{href:e.fileUrl,download:!0,className:"btn-icon",title:"Download",children:(0,xr.jsx)(Vm,{className:"w-4 h-4"})}),(0,xr.jsx)("button",{className:"btn-icon",title:"Edit",children:(0,xr.jsx)(Sg,{className:"w-4 h-4"})}),(0,xr.jsx)("button",{className:"btn-icon text-red-500",title:"Delete",children:(0,xr.jsx)(kh,{className:"w-4 h-4"})})]})]})},e._id))})}),(0,xr.jsxs)("button",{onClick:()=>(async()=>{c?er.error("Your instructor account is suspended. You cannot add assignments right now."):er("Add assignment functionality - implement file upload and form")})(e._id,t._id),className:"btn-secondary mt-2 inline-flex items-center",children:[(0,xr.jsx)(Xh,{className:"w-4 h-4 mr-1"})," Add Assignment"]})]}),(0,xr.jsxs)("div",{className:"mb-6",children:[(0,xr.jsxs)("h4",{className:"text-md font-medium mb-3 flex items-center ".concat("dark"===n?"text-gray-300":"text-gray-700"),children:[(0,xr.jsx)(ur,{className:"w-5 h-5 mr-2"}),"Project"]}),t.project?(0,xr.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg ".concat("dark"===n?"bg-gray-700":"bg-gray-100"),children:[(0,xr.jsxs)("div",{className:"flex items-center",children:[(0,xr.jsx)("span",{className:"dark"===n?"text-gray-300":"",children:t.project.title}),t.project.description&&(0,xr.jsxs)("span",{className:"ml-2 text-sm ".concat("dark"===n?"text-gray-400":"text-gray-500"),children:["- ",t.project.description.substring(0,50),"..."]})]}),(0,xr.jsxs)("div",{className:"flex space-x-2",children:[(0,xr.jsx)("button",{onClick:()=>T(t.project.videoUrl),className:"btn-icon",title:"Watch Video",children:(0,xr.jsx)(Mm.A,{className:"w-4 h-4"})}),(0,xr.jsx)("a",{href:t.project.fileUrl,download:!0,className:"btn-icon",title:"Download",children:(0,xr.jsx)(Vm,{className:"w-4 h-4"})}),(0,xr.jsx)("button",{className:"btn-icon",title:"Edit",children:(0,xr.jsx)(Sg,{className:"w-4 h-4"})}),(0,xr.jsx)("button",{className:"btn-icon text-red-500",title:"Delete",children:(0,xr.jsx)(kh,{className:"w-4 h-4"})})]})]}):(0,xr.jsxs)("button",{onClick:()=>(async()=>{c?er.error("Your instructor account is suspended. You cannot add projects right now."):er("Add project functionality - implement file upload and form")})(e._id,t._id),className:"btn-secondary inline-flex items-center",children:[(0,xr.jsx)(Xh,{className:"w-4 h-4 mr-1"})," Add Project"]})]})]},t._id)}),j&&N===e._id&&(0,xr.jsxs)("div",{className:"p-4 border-t ".concat("dark"===n?"border-gray-700 bg-gray-700":"border-gray-200 bg-gray-50"),children:[(0,xr.jsx)("h3",{className:"text-lg font-medium mb-4 ".concat("dark"===n?"text-white":"text-gray-900"),children:"Create New Section"}),(0,xr.jsx)("form",{onSubmit:ie,children:(0,xr.jsxs)("div",{className:"space-y-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium mb-1 ".concat("dark"===n?"text-gray-300":"text-gray-700"),children:"Section Name"}),(0,xr.jsx)("input",{type:"text",value:K.name,onChange:e=>Q((0,Be.A)((0,Be.A)({},K),{},{name:e.target.value})),className:"input-field w-full",placeholder:"Enter section name",required:!0})]}),(0,xr.jsxs)("div",{className:"flex items-center",children:[(0,xr.jsx)("input",{type:"checkbox",id:"isFree-".concat(e._id),checked:K.isFree,onChange:e=>Q((0,Be.A)((0,Be.A)({},K),{},{isFree:e.target.checked})),className:"mr-2"}),(0,xr.jsx)("label",{htmlFor:"isFree-".concat(e._id),className:"dark"===n?"text-gray-300":"text-gray-700",children:"Free Section"})]}),!K.isFree&&(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium mb-1 ".concat("dark"===n?"text-gray-300":"text-gray-700"),children:"Amount ($)"}),(0,xr.jsx)("input",{type:"number",value:K.amount,onChange:e=>Q((0,Be.A)((0,Be.A)({},K),{},{amount:Math.max(0,parseFloat(e.target.value)||0)})),className:"input-field w-full",placeholder:"Enter amount",min:"0",max:(null===d||void 0===d?void 0:d.price)||1e3,step:"0.01",required:!0}),d&&(0,xr.jsxs)("p",{className:"text-xs mt-1 ".concat("dark"===n?"text-gray-400":"text-gray-500"),children:["Course price: $",d.price]})]}),(0,xr.jsxs)("div",{className:"flex space-x-2",children:[(0,xr.jsx)("button",{type:"submit",className:"btn-primary",children:"Create Section"}),(0,xr.jsx)("button",{type:"button",onClick:()=>k(!1),className:"btn-secondary",children:"Cancel"})]})]})})]})]},e._id)})})]}),b&&(0,xr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,xr.jsxs)("div",{className:"w-full max-w-md rounded-lg p-6 ".concat("dark"===n?"bg-gray-800":"bg-white"),children:[(0,xr.jsx)("h2",{className:"text-xl font-bold mb-4",children:x?"Edit Group":"Create New Group"}),(0,xr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),o)er.error("Your instructor account is suspended. You cannot create or edit groups right now.");else try{const e=localStorage.getItem("token"),r=x?"/api/groups/".concat(x._id):"/api/groups",a=x?"put":"post",n=x?(0,Be.A)({},H):(0,Be.A)((0,Be.A)({},H),{},{course:t});await i.A[a](r,n,{headers:{Authorization:"Bearer ".concat(e)}}),w(!1),f(null),G({name:"",level:"beginner",maxStudents:20,startDate:"",endDate:""}),re(),er.success("Group ".concat(x?"updated":"created"," successfully!"))}catch(r){console.error("Error saving group:",r);const e="Failed to ".concat(x?"update":"create"," group"),t=se(r,e);er.error(t)}},children:[(0,xr.jsxs)("div",{className:"space-y-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium mb-1 ".concat("dark"===n?"text-gray-300":"text-gray-700"),children:"Group Name"}),(0,xr.jsx)("input",{type:"text",value:H.name,onChange:e=>G((0,Be.A)((0,Be.A)({},H),{},{name:e.target.value})),className:"input-field w-full",required:!0})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium mb-1 ".concat("dark"===n?"text-gray-300":"text-gray-700"),children:"Level"}),(0,xr.jsxs)("select",{value:H.level,onChange:e=>G((0,Be.A)((0,Be.A)({},H),{},{level:e.target.value})),className:"input-field w-full",children:[(0,xr.jsx)("option",{value:"beginner",children:"Beginner"}),(0,xr.jsx)("option",{value:"intermediate",children:"Intermediate"}),(0,xr.jsx)("option",{value:"advanced",children:"Advanced"})]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium mb-1 ".concat("dark"===n?"text-gray-300":"text-gray-700"),children:"Max Students"}),(0,xr.jsx)("input",{type:"number",min:"1",value:H.maxStudents,onChange:e=>G((0,Be.A)((0,Be.A)({},H),{},{maxStudents:e.target.value})),className:"input-field w-full",required:!0})]}),(0,xr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium mb-1 ".concat("dark"===n?"text-gray-300":"text-gray-700"),children:"Start Date"}),(0,xr.jsx)("input",{type:"date",value:H.startDate,onChange:e=>G((0,Be.A)((0,Be.A)({},H),{},{startDate:e.target.value})),className:"input-field w-full"})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium mb-1 ".concat("dark"===n?"text-gray-300":"text-gray-700"),children:"End Date"}),(0,xr.jsx)("input",{type:"date",value:H.endDate,onChange:e=>G((0,Be.A)((0,Be.A)({},H),{},{endDate:e.target.value})),className:"input-field w-full"})]})]})]}),(0,xr.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,xr.jsx)("button",{type:"button",onClick:()=>{w(!1),f(null)},className:"btn-secondary",children:"Cancel"}),(0,xr.jsxs)("button",{type:"submit",className:"btn-primary",children:[x?"Update":"Create"," Group"]})]})]})]})}),Y.open&&Y.group&&(0,xr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,xr.jsxs)("div",{className:"w-full max-w-md rounded-lg shadow-lg ".concat("dark"===n?"bg-gray-800":"bg-white"),children:[(0,xr.jsxs)("div",{className:"px-6 py-4 border-b flex items-center justify-between ".concat("dark"===n?"border-gray-700":"border-gray-200"),children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h2",{className:"text-lg font-semibold",children:"Request Group Deletion"}),(0,xr.jsx)("p",{className:"mt-1 text-xs ".concat("dark"===n?"text-gray-400":"text-gray-600"),children:"This sends a request to the admin to permanently delete this group and all of its sections and content. No changes happen until an admin approves."})]}),(0,xr.jsx)("button",{type:"button",onClick:()=>W({open:!1,group:null,reason:"",submitting:!1}),className:"p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 ".concat("dark"===n?"text-gray-400":"text-gray-600"),children:(0,xr.jsx)(pr.A,{className:"w-4 h-4"})})]}),(0,xr.jsxs)("div",{className:"px-6 py-4 space-y-4",children:[(0,xr.jsx)("div",{className:"dark"===n?"text-gray-200":"text-gray-800",children:(0,xr.jsxs)("p",{className:"text-sm",children:[(0,xr.jsx)("span",{className:"font-medium",children:"Group:"})," ",null===(e=Y.group)||void 0===e?void 0:e.name]})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium mb-1 ".concat("dark"===n?"text-gray-200":"text-gray-700"),children:"Reason for deletion (minimum 20 characters)"}),(0,xr.jsx)("textarea",{rows:4,value:Y.reason,onChange:e=>W(t=>(0,Be.A)((0,Be.A)({},t),{},{reason:e.target.value})),className:"w-full rounded-md border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 ".concat("dark"===n?"bg-gray-900 border-gray-700 text-gray-100":"bg-white border-gray-300 text-gray-900"),placeholder:"Explain why this group should be deleted..."}),(0,xr.jsxs)("p",{className:"mt-1 text-xs ".concat("dark"===n?"text-gray-400":"text-gray-500"),children:[(Y.reason||"").trim().length," / 20"]})]})]}),(0,xr.jsxs)("div",{className:"px-6 py-4 border-t flex justify-end gap-3 ".concat("dark"===n?"border-gray-700":"border-gray-200"),children:[(0,xr.jsx)("button",{type:"button",onClick:()=>W({open:!1,group:null,reason:"",submitting:!1}),disabled:Y.submitting,className:"btn-secondary",children:"Cancel"}),(0,xr.jsx)("button",{type:"button",onClick:()=>(async e=>{if(!e)return;const t=(Y.reason||"").trim();if(t.length<20)er.error("Please provide a detailed reason (at least 20 characters).");else try{var r;z(e._id),W(e=>(0,Be.A)((0,Be.A)({},e),{},{submitting:!0}));const a=localStorage.getItem("token"),n=await i.A.post("/api/groups/".concat(e._id,"/request-delete"),{reason:t},{headers:{Authorization:"Bearer ".concat(a)}});er.success((null===(r=n.data)||void 0===r?void 0:r.message)||"Delete request submitted to admin."),V(t=>t.includes(e._id)?t:[...t,e._id]),W({open:!1,group:null,reason:"",submitting:!1})}catch(n){var a;console.error("Request group delete error:",n);const t=se(n,"Failed to request group deletion");400===(null===(a=n.response)||void 0===a?void 0:a.status)&&"string"===typeof t&&t.toLowerCase().includes("already a pending delete request")?(V(t=>t.includes(e._id)?t:[...t,e._id]),W({open:!1,group:null,reason:"",submitting:!1}),er.success(t)):(er.error(t),W(e=>(0,Be.A)((0,Be.A)({},e),{},{submitting:!1})))}finally{z(null),W(e=>(0,Be.A)((0,Be.A)({},e),{},{submitting:!1}))}})(Y.group),disabled:Y.submitting,className:"btn-primary",children:Y.submitting?"Submitting...":"Submit Request"})]})]})}),P&&(0,xr.jsx)(My,{videoUrl:P,onClose:()=>T(null)}),E&&(0,xr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,xr.jsxs)("div",{className:"p-4 rounded-lg flex items-center ".concat("dark"===n?"bg-gray-800":"bg-white"),children:[(0,xr.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-indigo-500 mr-2"}),(0,xr.jsx)("span",{children:"Saving changes..."})]})}),_&&(0,xr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,xr.jsxs)("div",{className:"rounded-lg shadow-xl max-w-4xl w-full max-h-[80vh] overflow-hidden ".concat("dark"===n?"bg-gray-800":"bg-white"),children:[(0,xr.jsx)("div",{className:"p-6 border-b ".concat("dark"===n?"border-gray-700":"border-gray-200"),children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("h2",{className:"text-2xl font-bold ".concat("dark"===n?"text-white":"text-gray-900"),children:["Enrolled Students (",L.length,")"]}),(0,xr.jsx)("button",{onClick:()=>{R(!1),F(null)},className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 ".concat("dark"===n?"text-gray-400":"text-gray-600"),children:(0,xr.jsx)(pr.A,{className:"w-6 h-6"})})]})}),(0,xr.jsx)("div",{className:"p-6 overflow-y-auto max-h-[calc(80vh-120px)]",children:0===L.length?(0,xr.jsxs)("div",{className:"text-center py-8",children:[(0,xr.jsx)(Xc,{className:"w-16 h-16 mx-auto mb-4 ".concat("dark"===n?"text-gray-600":"text-gray-400")}),(0,xr.jsx)("p",{className:"dark"===n?"text-gray-400":"text-gray-600",children:"No students enrolled in this group yet"})]}):(0,xr.jsx)("div",{className:"space-y-4",children:L.map(e=>{var t,r,a,s,i,o;(null===(t=e.student)||void 0===t?void 0:t.id)||null===(r=e.student)||void 0===r||r._id;return(0,xr.jsx)("div",{className:"p-4 rounded-lg border ".concat("dark"===n?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"),children:(0,xr.jsx)("div",{className:"flex items-start justify-between",children:(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,xr.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center ".concat("dark"===n?"bg-primary-900":"bg-primary-100"),children:(0,xr.jsx)(Xc,{className:"w-6 h-6 ".concat("dark"===n?"text-primary-400":"text-primary-600")})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h3",{className:"text-lg font-semibold ".concat("dark"===n?"text-white":"text-gray-900"),children:(null===(a=e.student)||void 0===a?void 0:a.name)||"Unknown Student"}),(0,xr.jsxs)("div",{className:"flex flex-wrap items-center gap-3 text-sm ".concat("dark"===n?"text-gray-400":"text-gray-600"),children:[(null===(s=e.student)||void 0===s?void 0:s.email)&&(0,xr.jsxs)("span",{className:"flex items-center",children:[(0,xr.jsx)(ja,{className:"w-4 h-4 mr-1"}),e.student.email]}),(null===(i=e.student)||void 0===i?void 0:i.phone)&&(0,xr.jsxs)("span",{className:"flex items-center",children:[(0,xr.jsx)(km,{className:"w-4 h-4 mr-1"}),e.student.phone]})]})]})]}),(0,xr.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm ".concat("dark"===n?"text-gray-300":"text-gray-700"),children:[(null===(o=e.student)||void 0===o?void 0:o.city)&&(0,xr.jsxs)("div",{className:"flex items-center",children:[(0,xr.jsx)(Nm,{className:"w-4 h-4 mr-1 flex-shrink-0"}),(0,xr.jsxs)("span",{children:[e.student.city,","," ",e.student.country||""]})]}),(0,xr.jsx)("div",{children:(0,xr.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("verified"===e.paymentStatus||"paid"===e.paymentStatus?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"partial"===e.paymentStatus?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"pending"===e.paymentStatus?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"),children:["verified"===e.paymentStatus?"All Paid":"partial"===e.paymentStatus?"Partially Paid":e.paymentStatus||"pending",void 0!==e.paidSections&&void 0!==e.totalSections&&(0,xr.jsxs)("span",{className:"ml-1",children:["(",e.paidSections,"/",e.totalSections," sections)"]})]})}),(0,xr.jsxs)("div",{className:"col-span-2 text-xs",children:["Enrolled:"," ",new Date(e.enrollmentDate).toLocaleDateString()]})]}),e.progress&&(0,xr.jsxs)("div",{className:"mt-4",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between text-xs mb-1",children:[(0,xr.jsxs)("span",{className:"flex items-center ".concat("dark"===n?"text-gray-400":"text-gray-600"),children:[(0,xr.jsx)(Jc,{className:"w-3 h-3 mr-1"}),"Overall Progress"]}),(0,xr.jsxs)("span",{className:"font-medium ".concat("dark"===n?"text-white":"text-gray-900"),children:[e.progress.total||0,"%"]})]}),(0,xr.jsx)("div",{className:"w-full rounded-full h-2 ".concat("dark"===n?"bg-gray-600":"bg-gray-200"),children:(0,xr.jsx)("div",{className:"bg-primary-600 dark:bg-primary-500 h-2 rounded-full transition-all",style:{width:"".concat(e.progress.total||0,"%")}})}),(0,xr.jsxs)("div",{className:"flex justify-between text-xs mt-2 ".concat("dark"===n?"text-gray-400":"text-gray-600"),children:[(0,xr.jsxs)("span",{children:["Lectures: ",e.progress.lectures||0]}),(0,xr.jsxs)("span",{children:["Assignments:"," ",e.progress.assignments||0]}),(0,xr.jsxs)("span",{children:["Projects: ",e.progress.projects||0]})]})]})]})})},e._id)})})}),(0,xr.jsx)("div",{className:"p-6 border-t ".concat("dark"===n?"border-gray-700":"border-gray-200"," flex justify-end"),children:(0,xr.jsx)("button",{onClick:()=>{R(!1),F(null)},className:"btn-secondary",children:"Close"})})]})})]})},By=()=>{var e;const{groupId:t}=ne(),r=ae(),{theme:n}=Nr(),{user:s}=wr(),[o,l]=(0,a.useState)(null),[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)(!0),[h,p]=(0,a.useState)(!1),[g,x]=(0,a.useState)(null),[f,y]=(0,a.useState)({name:"",description:"",isFree:!0,price:0,currency:"SYR",order:0}),[v,b]=(0,a.useState)(null),w=(e,t)=>{var r;const a=null===e||void 0===e||null===(r=e.response)||void 0===r?void 0:r.data;if(Array.isArray(null===a||void 0===a?void 0:a.errors)&&a.errors.length>0){const e=a.errors.map(e=>e.msg||e.message).filter(Boolean);if(e.length>0)return e.join(" ")}return"string"===typeof(null===a||void 0===a?void 0:a.message)&&a.message.trim().length>0?a.message:t},[j,k]=(0,a.useState)([]),[N,C]=(0,a.useState)({open:!1,section:null,reason:"",submitting:!1});(0,a.useEffect)(()=>{A()},[t]);const A=async()=>{try{m(!0);const e=localStorage.getItem("token"),r=await i.A.get("/api/groups/".concat(t),{headers:{Authorization:"Bearer ".concat(e)}});l(r.data.group);const a=await i.A.get("/api/sections/group/".concat(t),{headers:{Authorization:"Bearer ".concat(e)}});d(a.data.data||[])}catch(e){console.error("Error fetching data:",e);const t=w(e,"Failed to fetch data");er.error(t)}finally{m(!1)}},S=e=>{const{name:t,value:r,type:a,checked:n}=e.target;y(e=>(0,Be.A)((0,Be.A)({},e),{},{[t]:"checkbox"===a?n:r}))},E=()=>{p(!1),x(null),y({name:"",description:"",isFree:!0,price:0,currency:"SYR",order:0})};return u?(0,xr.jsx)("div",{className:"min-h-screen ".concat("dark"===n?"bg-gray-900":"bg-gray-50"," flex items-center justify-center"),children:(0,xr.jsxs)("div",{className:"text-center",children:[(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),(0,xr.jsx)("p",{className:"mt-4 ".concat("dark"===n?"text-gray-300":"text-gray-600"),children:"Loading sections..."})]})}):(0,xr.jsx)("div",{className:"min-h-screen ".concat("dark"===n?"bg-gray-900":"bg-gray-50"," py-8"),children:(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,xr.jsxs)("div",{className:"mb-8",children:[(0,xr.jsxs)("button",{onClick:()=>r("/instructor/courses/".concat(null===o||void 0===o?void 0:o.course._id,"/groups")),className:"mb-4 flex items-center ".concat("dark"===n?"text-indigo-400 hover:text-indigo-300":"text-indigo-600 hover:text-indigo-800"),children:[(0,xr.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Groups"]}),(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsxs)("h1",{className:"text-3xl font-bold ".concat("dark"===n?"text-white":"text-gray-900"),children:[null===o||void 0===o?void 0:o.name," - Sections"]}),(0,xr.jsxs)("p",{className:"mt-2 ".concat("dark"===n?"text-gray-400":"text-gray-600"),children:["Course: ",null===o||void 0===o||null===(e=o.course)||void 0===e?void 0:e.name]})]}),(0,xr.jsxs)("button",{onClick:()=>p(!0),className:"px-6 py-3 bg-indigo-100 text-indigo-700 rounded-md hover:bg-indigo-200 border border-indigo-200 transition flex items-center",children:[(0,xr.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Section"]})]})]}),(null===o||void 0===o?void 0:o.course)&&(0,xr.jsxs)("div",{className:"mb-6 p-4 rounded-lg ".concat("dark"===n?"bg-blue-900/30 border-blue-800":"bg-blue-50 border-blue-200"),children:[(0,xr.jsxs)("p",{className:"".concat("dark"===n?"text-blue-300":"text-blue-800"),children:[(0,xr.jsx)("strong",{children:"Course Total Price:"})," ",Qm(o.course.totalPriceCents||100*(o.course.totalCostSYR||o.course.totalPrice||o.course.cost||0)||0,o.course.currency||"SYR")]}),(0,xr.jsx)("p",{className:"text-xs mt-1 ".concat("dark"===n?"text-blue-400":"text-blue-600"),children:"The sum of all paid sections cannot exceed this amount."})]}),(0,xr.jsx)("div",{className:"".concat("dark"===n?"bg-gray-800":"bg-white"," shadow-md rounded-lg overflow-hidden"),children:0===c.length?(0,xr.jsxs)("div",{className:"p-8 text-center",children:[(0,xr.jsx)("p",{className:"".concat("dark"===n?"text-gray-400":"text-gray-500"),children:"No sections created yet."}),(0,xr.jsx)("button",{onClick:()=>p(!0),className:"mt-4 font-medium ".concat("dark"===n?"text-indigo-400 hover:text-indigo-300":"text-indigo-600 hover:text-indigo-800"),children:"Create your first section"})]}):(0,xr.jsx)("div",{className:"divide-y ".concat("dark"===n?"divide-gray-700":"divide-gray-200"),children:c.map(e=>{var t,a,o;return(0,xr.jsx)("div",{className:"p-6 transition ".concat("dark"===n?"hover:bg-gray-700":"hover:bg-gray-50"),children:(0,xr.jsxs)("div",{className:"flex items-start justify-between",children:[(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,xr.jsx)("h3",{className:"text-lg font-semibold ".concat("dark"===n?"text-white":"text-gray-900"),children:e.name}),(0,xr.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(e.isFree?"dark"===n?"bg-green-900/30 text-green-400":"bg-green-100 text-green-800":"dark"===n?"bg-yellow-900/30 text-yellow-400":"bg-yellow-100 text-yellow-800"),children:e.isFree?"\u2705 Free":"\ud83d\udcb0 ".concat(Qm(e.priceCents||0,e.currency||"SYR"))})]}),e.description&&(0,xr.jsx)("p",{className:"mt-2 text-sm ".concat("dark"===n?"text-gray-400":"text-gray-600"),children:e.description}),(0,xr.jsxs)("div",{className:"mt-3 flex items-center space-x-6 text-sm ".concat("dark"===n?"text-gray-400":"text-gray-500"),children:[(0,xr.jsxs)("span",{children:["\ud83d\udcf9 ",(null===(t=e.contentCounts)||void 0===t?void 0:t.lectures)||0," Lectures"]}),(0,xr.jsxs)("span",{children:["\ud83d\udcdd ",(null===(a=e.contentCounts)||void 0===a?void 0:a.assignments)||0," Assignments"]}),(0,xr.jsxs)("span",{children:["\ud83d\ude80 ",(null===(o=e.contentCounts)||void 0===o?void 0:o.projects)||0," Projects"]})]})]}),(0,xr.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,xr.jsx)("button",{onClick:()=>{return t=e._id,void r("/instructor/sections/".concat(t,"/content"));var t},className:"px-4 py-2 bg-indigo-100 text-indigo-700 rounded-md hover:bg-indigo-200 border border-indigo-200 transition",children:"Manage Content"}),(0,xr.jsx)("button",{onClick:()=>(e=>{var t;x(e),y({name:e.name,description:e.description||"",isFree:e.isFree,price:(t=e.priceCents||0,t/100),currency:e.currency||"SYR",order:e.order}),p(!0)})(e),className:"p-2 rounded-md transition ".concat("dark"===n?"text-blue-400 hover:bg-blue-900/20":"text-blue-600 hover:bg-blue-50"),title:"Edit",children:(0,xr.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),"admin"===(null===s||void 0===s?void 0:s.role)?(0,xr.jsx)("button",{onClick:()=>(async(e,t)=>{if(window.confirm('Are you sure you want to delete section "'.concat(t,'"?')))try{const t=localStorage.getItem("token");await i.A.delete("/api/sections/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),A(),er.success("Section deleted successfully!")}catch(r){console.error("Error deleting section:",r);const e=w(r,"Failed to delete section");er.error(e)}})(e._id,e.name),className:"p-2 rounded-md transition ".concat("dark"===n?"text-red-400 hover:bg-red-900/20":"text-red-600 hover:bg-red-50"),title:"Delete",children:(0,xr.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}):(0,xr.jsx)("button",{onClick:()=>(e=>{e&&C({open:!0,section:e,reason:"",submitting:!1})})(e),disabled:v===e._id||j.includes(e._id),className:"btn-request-delete",children:v===e._id?"Requesting...":j.includes(e._id)?"Request Pending":"Request Delete"})]})]})},e._id)})})}),h&&(0,xr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,xr.jsx)("div",{className:"".concat("dark"===n?"bg-gray-800":"bg-white"," rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-screen overflow-y-auto"),children:(0,xr.jsxs)("div",{className:"p-6",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,xr.jsx)("h2",{className:"text-2xl font-bold ".concat("dark"===n?"text-white":"text-gray-900"),children:g?"Edit Section":"Create New Section"}),(0,xr.jsx)("button",{onClick:E,className:"".concat("dark"===n?"text-gray-400 hover:text-gray-300":"text-gray-400 hover:text-gray-600"),children:(0,xr.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,xr.jsxs)("form",{onSubmit:g?async e=>{var t,r;if(e.preventDefault(),!f.isFree&&(null!==o&&void 0!==o&&null!==(t=o.course)&&void 0!==t&&t.totalPriceCents||null!==o&&void 0!==o&&null!==(r=o.course)&&void 0!==r&&r.totalPrice)){const e=$m(f.price),t=Number(o.course.totalPriceCents||100*o.course.totalPrice||0);if(e>t)return void er.error("Section price (".concat(Qm(e,f.currency),") cannot exceed the course total price (").concat(Qm(t,f.currency),")"))}try{const e=localStorage.getItem("token");await i.A.put("/api/sections/".concat(g._id),{name:f.name,description:f.description,isFree:f.isFree,priceCents:f.isFree?0:$m(f.price),currency:f.currency,order:f.order},{headers:{Authorization:"Bearer ".concat(e)}}),p(!1),x(null),y({name:"",description:"",isFree:!0,price:0,currency:"SYR",order:0}),A(),er.success("Section updated successfully!")}catch(a){console.error("Error updating section:",a);const e=w(a,"Failed to update section");er.error(e)}}:async e=>{if(e.preventDefault(),!f.isFree&&null!==o&&void 0!==o&&o.course){const e=$m(f.price),t=Number(o.course.totalPriceCents||100*(o.course.totalCostSYR||o.course.totalPrice||o.course.cost||0));if(e>t)return void er.error("Section price (".concat(Qm(e,f.currency),") cannot exceed the course total price (").concat(Qm(t,f.currency),")"))}try{const e=localStorage.getItem("token");await i.A.post("/api/sections",{name:f.name,description:f.description,groupId:t,courseId:o.course._id,isFree:f.isFree,priceCents:f.isFree?0:$m(f.price),currency:f.currency,order:f.order},{headers:{Authorization:"Bearer ".concat(e)}}),p(!1),y({name:"",description:"",isFree:!0,price:0,currency:"SYR",order:0}),A(),er.success("Section created successfully!")}catch(r){console.error("Error creating section:",r);const e=w(r,"Failed to create section");er.error(e)}},children:[(0,xr.jsxs)("div",{className:"space-y-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat("dark"===n?"text-gray-300":"text-gray-700"),children:"Section Name *"}),(0,xr.jsx)("input",{type:"text",name:"name",value:f.name,onChange:S,required:!0,className:"input-field w-full",placeholder:"e.g., Introduction to Python"})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat("dark"===n?"text-gray-300":"text-gray-700"),children:"Description"}),(0,xr.jsx)("textarea",{name:"description",value:f.description,onChange:S,rows:"3",className:"input-field w-full",placeholder:"Brief description of this section..."})]}),(0,xr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,xr.jsx)("input",{type:"checkbox",name:"isFree",checked:f.isFree,onChange:S,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),(0,xr.jsx)("label",{className:"text-sm font-medium ".concat("dark"===n?"text-gray-300":"text-gray-700"),children:"This section is free"})]}),!f.isFree&&(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat("dark"===n?"text-gray-300":"text-gray-700"),children:"Price (SYR) *"}),(0,xr.jsx)("input",{type:"number",name:"price",value:f.price,onChange:S,min:"0",step:"0.01",required:!f.isFree,className:"input-field w-full",placeholder:"6000.00"}),(null===o||void 0===o?void 0:o.course)&&(0,xr.jsxs)("p",{className:"mt-1 text-xs text-gray-500",children:["Maximum: ",Qm(o.course.totalPriceCents||100*(o.course.totalCostSYR||o.course.totalPrice||o.course.cost||0)||0,o.course.currency||"SYR")," (Course Total)"]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat("dark"===n?"text-gray-300":"text-gray-700"),children:"Order"}),(0,xr.jsx)("input",{type:"number",name:"order",value:f.order,onChange:S,min:"0",className:"input-field w-full",placeholder:"0"}),(0,xr.jsx)("p",{className:"mt-1 text-xs ".concat("dark"===n?"text-gray-400":"text-gray-500"),children:"Lower numbers appear first"})]})]}),(0,xr.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,xr.jsx)("button",{type:"button",onClick:E,className:"px-6 py-2 border rounded-md transition ".concat("dark"===n?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"),children:"Cancel"}),(0,xr.jsx)("button",{type:"submit",className:"px-6 py-2 bg-indigo-100 text-indigo-700 rounded-md hover:bg-indigo-200 border border-indigo-200 transition",children:g?"Update Section":"Create Section"})]})]})]})})}),N.open&&N.section&&(0,xr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,xr.jsxs)("div",{className:"".concat("dark"===n?"bg-gray-800":"bg-white"," rounded-lg shadow-xl max-w-lg w-full"),children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h2",{className:"text-lg font-semibold ".concat("dark"===n?"text-white":"text-gray-900"),children:"Request Section Delete"}),(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"You cannot delete sections directly. This will send a delete request to the admin. No data will be deleted until an admin approves."})]}),(0,xr.jsx)("button",{type:"button",onClick:()=>C({open:!1,section:null,reason:"",submitting:!1}),className:"p-1 rounded-full text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800",children:(0,xr.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,xr.jsxs)("form",{onSubmit:e=>{e.preventDefault(),N.section&&(async e=>{if(!e)return;const t=(N.reason||"").trim();if(t.length<20)er.error("Please provide a detailed reason (at least 20 characters).");else try{var r;b(e._id),C(e=>(0,Be.A)((0,Be.A)({},e),{},{submitting:!0}));const a=localStorage.getItem("token"),n=await i.A.post("/api/sections/".concat(e._id,"/request-delete"),{reason:t},{headers:{Authorization:"Bearer ".concat(a)}});k(t=>t.includes(e._id)?t:[...t,e._id]),C({open:!1,section:null,reason:"",submitting:!1}),er.success((null===(r=n.data)||void 0===r?void 0:r.message)||"Delete request submitted to admin. They must approve before this section can be deleted.")}catch(o){var a,n,s;console.error("Error requesting section delete:",o);const t=(null===(a=o.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message)||"Failed to submit delete request";400===(null===(s=o.response)||void 0===s?void 0:s.status)&&"string"===typeof t&&t.toLowerCase().includes("already a pending delete request")&&(k(t=>t.includes(e._id)?t:[...t,e._id]),C({open:!1,section:null,reason:"",submitting:!1})),er.error(t)}finally{b(null),C(e=>(0,Be.A)((0,Be.A)({},e),{},{submitting:!1}))}})(N.section)},className:"px-6 py-4 space-y-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsxs)("p",{className:"text-sm mb-2 ".concat("dark"===n?"text-gray-200":"text-gray-800"),children:["Section: ",(0,xr.jsx)("span",{className:"font-semibold",children:N.section.name})]}),(0,xr.jsx)("label",{className:"block text-sm font-medium mb-1 ".concat("dark"===n?"text-gray-300":"text-gray-700"),children:"Reason for deletion * (min 20 characters)"}),(0,xr.jsx)("textarea",{rows:4,value:N.reason,onChange:e=>C(t=>(0,Be.A)((0,Be.A)({},t),{},{reason:e.target.value})),className:"w-full px-3 py-2 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Explain why this section should be permanently deleted..."}),(0,xr.jsxs)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:[N.reason.trim().length," / 20"]})]}),(0,xr.jsxs)("div",{className:"flex justify-end gap-3 pt-2",children:[(0,xr.jsx)("button",{type:"button",onClick:()=>C({open:!1,section:null,reason:"",submitting:!1}),disabled:N.submitting,className:"px-4 py-2 rounded-md border text-sm ".concat("dark"===n?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"),children:"Cancel"}),(0,xr.jsx)("button",{type:"submit",disabled:N.submitting||N.reason.trim().length<20,className:"px-4 py-2 rounded-md bg-red-600 text-white text-sm hover:bg-red-700 disabled:opacity-60",children:N.submitting?"Submitting...":"Submit Request"})]})]})]})})]})})},qy=(0,nr.A)("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),zy=()=>{const{user:e}=wr(),[t,r]=(0,a.useState)([]),[n,s]=(0,a.useState)(!0),[o,l]=(0,a.useState)({}),c=async()=>{try{s(!0);const e=await i.A.get("/api/groups/pending-payments");r(e.data.pendingPayments||[]),console.log("Pending payments:",e.data.pendingPayments)}catch(qe){var e,t;console.error("Fetch pending payments error:",qe),er.error((null===(e=qe.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to load pending payments")}finally{s(!1)}};(0,a.useEffect)(()=>{c()},[]);const d=async(e,t)=>{var r;const a="".concat(e.groupId,"-").concat(null===(r=e.student)||void 0===r?void 0:r._id,"-").concat(e.type,"-").concat(e.month||e.sectionId||"initial");try{var n;l(e=>(0,Be.A)((0,Be.A)({},e),{},{[a]:!0}));const r={studentId:null===(n=e.student)||void 0===n?void 0:n._id,action:t,type:e.type};e.month&&(r.month=e.month),e.sectionId&&(r.sectionId=e.sectionId),await i.A.post("/api/groups/".concat(e.groupId,"/confirmPayment"),r),await c()}catch(qe){var s,o;console.error("Process payment error:",qe),er.error((null===(s=qe.response)||void 0===s||null===(o=s.data)||void 0===o?void 0:o.message)||"Failed to process payment")}finally{l(e=>(0,Be.A)((0,Be.A)({},e),{},{[a]:!1}))}};return n?(0,xr.jsx)("div",{className:"flex items-center justify-center min-h-[40vh]",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6",children:[(0,xr.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Pending Payments"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Review and verify student payment receipts"})]}),0===t.length?(0,xr.jsxs)("div",{className:"card text-center py-12",children:[(0,xr.jsx)(Kh,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,xr.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No pending payments"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"All payments have been processed"})]}):(0,xr.jsx)("div",{className:"space-y-4",children:t.map((e,t)=>{var r,a,n,s;const i="".concat(e.groupId,"-").concat(null===(r=e.student)||void 0===r?void 0:r._id,"-").concat(e.type,"-").concat(e.month||e.sectionId||"initial");return(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.05*t},className:"card",children:(0,xr.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,xr.jsx)("div",{className:"flex-1",children:(0,xr.jsxs)("div",{className:"flex items-start gap-3",children:[(0,xr.jsx)("div",{className:"p-2 bg-primary-100 dark:bg-primary-900 rounded-lg",children:(0,xr.jsx)(dr,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:null===(a=e.student)||void 0===a?void 0:a.name}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:null===(n=e.student)||void 0===n?void 0:n.email}),(0,xr.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,xr.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,xr.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Course:"}),(0,xr.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:e.courseName})]}),(0,xr.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,xr.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Group:"}),(0,xr.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:e.groupName})]}),(0,xr.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,xr.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Type:"}),(0,xr.jsx)("span",{className:"px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:"entry_fee"===e.type?"Entry Fee":"enrollment"===e.type?"Initial Enrollment":"section"===e.type?"Section - ".concat(e.sectionTitle||e.sectionId):"monthly"===e.type?"Monthly - ".concat(e.month):"Unknown"})]}),(0,xr.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,xr.jsx)(Kh,{className:"w-4 h-4 text-gray-500"}),(0,xr.jsxs)("span",{className:"font-medium text-gray-900 dark:text-white",children:["$",e.amount]})]}),(0,xr.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,xr.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Method:"}),(0,xr.jsx)("span",{className:"text-gray-600 dark:text-gray-400 capitalize",children:(null===(s=e.paymentMethod)||void 0===s?void 0:s.replace("_"," "))||"N/A"})]}),e.enrollmentDate&&(0,xr.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[(0,xr.jsx)(Dg,{className:"w-4 h-4"}),(0,xr.jsxs)("span",{children:["Enrolled: ",new Date(e.enrollmentDate).toLocaleDateString()]})]})]})]})]})}),(0,xr.jsxs)("div",{className:"flex flex-col gap-2",children:[e.receiptUrl&&(0,xr.jsxs)("a",{href:e.receiptUrl,target:"_blank",rel:"noopener noreferrer",className:"btn-secondary inline-flex items-center justify-center gap-2",children:[(0,xr.jsx)(qy,{className:"w-4 h-4"}),"View Receipt"]}),(0,xr.jsxs)("div",{className:"flex gap-2",children:[(0,xr.jsxs)("button",{onClick:()=>d(e,"verify"),disabled:!!o[i],className:"btn-primary inline-flex items-center gap-2 bg-green-600 hover:bg-green-700",children:[(0,xr.jsx)(Om,{className:"w-4 h-4"}),o[i]?"Processing...":"Verify"]}),(0,xr.jsxs)("button",{onClick:()=>d(e,"reject"),disabled:!!o[i],className:"btn-secondary text-red-600 hover:text-red-700 inline-flex items-center gap-2",children:[(0,xr.jsx)(Zm,{className:"w-4 h-4"}),"Reject"]})]})]})]})},i)})})]})})},Uy=()=>{const{user:e}=wr(),t=Bm(e,"issueCertificates"),[r,n]=(0,a.useState)([]),[s,o]=(0,a.useState)([]),[l,c]=(0,a.useState)({requested:0,issued:0,rejected:0}),[d,u]=(0,a.useState)(!0),[m,h]=(0,a.useState)({}),[p,g]=(0,a.useState)("requested"),[x,f]=(0,a.useState)(null),[y,v]=(0,a.useState)(null);(0,a.useEffect)(()=>{b()},[]),(0,a.useEffect)(()=>{if(s.length>0){const e=s.filter(e=>e.status===p);n(e)}},[p,s]);const b=async()=>{try{u(!0);const e=localStorage.getItem("token"),t=(await i.A.get("/api/certificates/requests",{headers:{Authorization:"Bearer ".concat(e)}})).data.requests||[];o(t);const r={requested:t.filter(e=>"requested"===e.status).length,issued:t.filter(e=>"issued"===e.status).length,rejected:t.filter(e=>"rejected"===e.status).length};c(r),n(t.filter(e=>e.status===p))}catch(r){var e,t;console.error("Error fetching certificate requests:",r),er.error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to fetch certificate requests")}finally{u(!1)}},w=e=>new Date(e).toLocaleDateString(),j=r.filter(e=>e.status===p);return(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,xr.jsxs)("div",{className:"mb-8",children:[(0,xr.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Certificate Management"}),(0,xr.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Manage student certificate requests"})]}),t&&(0,xr.jsx)("div",{className:"mb-6 bg-yellow-50 dark:bg-yellow-900/30 border border-yellow-200 dark:border-yellow-700 text-yellow-800 dark:text-yellow-100 px-4 py-3 rounded",children:"Your instructor account is currently suspended from issuing certificates. You can view requests, but approval and rejection actions are disabled."}),(0,xr.jsx)("div",{className:"mb-6 border-b border-gray-200 dark:border-gray-700",children:(0,xr.jsx)("nav",{className:"flex space-x-8",children:["requested","issued","rejected"].map(e=>(0,xr.jsxs)("button",{onClick:()=>g(e),className:"py-4 px-1 border-b-2 font-medium text-sm capitalize ".concat(p===e?"border-indigo-500 text-indigo-600 dark:text-indigo-400 dark:border-indigo-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"),children:[e," (",l[e]||0,")"]},e))})}),(0,xr.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:d?(0,xr.jsxs)("div",{className:"p-8 text-center",children:[(0,xr.jsxs)("svg",{className:"animate-spin mx-auto h-8 w-8 text-indigo-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,xr.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,xr.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,xr.jsx)("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading certificate requests..."})]}):0===j.length?(0,xr.jsxs)("div",{className:"p-8 text-center",children:[(0,xr.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,xr.jsxs)("h3",{className:"mt-4 text-lg font-medium text-gray-900 dark:text-white",children:["No ",p," certificates"]}),(0,xr.jsx)("p",{className:"mt-2 text-gray-500 dark:text-gray-400",children:"requested"===p?"There are no pending certificate requests.":"There are no ".concat(p," certificates.")})]}):(0,xr.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:j.map(e=>{var r,a,n,s,o,l;return(0,xr.jsxs)("div",{className:"p-6",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{className:"flex items-center",children:[(0,xr.jsx)("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center",children:(0,xr.jsx)("span",{className:"text-indigo-600 dark:text-indigo-400 font-medium",children:(null===(r=e.student)||void 0===r||null===(a=r.name)||void 0===a||null===(n=a.charAt(0))||void 0===n?void 0:n.toUpperCase())||"S"})}),(0,xr.jsxs)("div",{className:"ml-4",children:[(0,xr.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:null===(s=e.student)||void 0===s?void 0:s.name}),(0,xr.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[null===(o=e.course)||void 0===o?void 0:o.name," \u2022 Grade: ",e.courseGrade,"%"]}),(0,xr.jsxs)("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:["Requested on: ",w(e.createdAt),"issued"===p&&e.issuedAt&&(0,xr.jsxs)(xr.Fragment,{children:[" \u2022 Issued on: ",w(e.issuedAt)]}),"rejected"===p&&e.rejectionReason&&(0,xr.jsxs)(xr.Fragment,{children:[" \u2022 Reason: ",e.rejectionReason]})]})]})]}),(0,xr.jsx)("div",{className:"flex items-center space-x-3",children:"requested"===p?(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)("button",{onClick:()=>f(x===e._id?null:e._id),disabled:t,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50 focus:outline-none",children:x===e._id?"Cancel":"Approve"}),(0,xr.jsx)("button",{onClick:()=>{const r=prompt("Reason for rejection:");null!==r&&(async(e,r)=>{if(t)er.error("Your instructor account is suspended. You cannot reject certificate requests right now.");else try{h(t=>(0,Be.A)((0,Be.A)({},t),{},{[e]:"rejecting"}));const t=localStorage.getItem("token"),a=await i.A.post("/api/certificates/".concat(e,"/reject"),{reason:r},{headers:{Authorization:"Bearer ".concat(t)}});er.success(a.data.message),b()}catch(s){var a,n;console.error("Error rejecting certificate:",s),er.error((null===(a=s.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message)||"Failed to reject certificate")}finally{h(t=>{const r=(0,Be.A)({},t);return delete r[e],r})}})(e._id,r)},disabled:m[e._id]||t,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50 focus:outline-none",children:"Reject"})]}):"issued"===p?(0,xr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,xr.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:"Issued"}),(null===(l=e.certificateFile)||void 0===l?void 0:l.url)&&(0,xr.jsxs)("button",{onClick:()=>{const t=e.certificateFile.url.startsWith("http")?e.certificateFile.url:"".concat(i.A.defaults.baseURL||"http://localhost:5000").concat(e.certificateFile.url);window.open(t,"_blank")},className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none flex items-center",children:[(0,xr.jsxs)("svg",{className:"-ml-1 mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"View Certificate"]})]}):(0,xr.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",children:"Rejected"})})]}),x===e._id&&"requested"===p&&(0,xr.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,xr.jsx)("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-3",children:"Upload Certificate"}),(0,xr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,xr.jsx)("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:e=>v(e.target.files[0]),className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100 dark:file:bg-indigo-900/30 dark:file:text-indigo-400"}),(0,xr.jsxs)("button",{onClick:()=>(async e=>{if(t)er.error("Your instructor account is suspended. You cannot approve certificate requests right now.");else try{h(t=>(0,Be.A)((0,Be.A)({},t),{},{[e]:"approving"}));const t=localStorage.getItem("token"),r=new FormData;if(!y)return void er.error("Please select a certificate file");r.append("certificate",y);const a=await i.A.post("/api/certificates/".concat(e,"/approve"),r,{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"multipart/form-data"}});er.success(a.data.message),b(),f(null),v(null)}catch(n){var r,a;console.error("Error approving certificate:",n),er.error((null===(r=n.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Failed to approve certificate")}finally{h(t=>{const r=(0,Be.A)({},t);return delete r[e],r})}})(e._id),disabled:m[e._id]||!y||t,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 focus:outline-none flex items-center",children:["approving"===m[e._id]?(0,xr.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,xr.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,xr.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,"Confirm"]})]}),y&&(0,xr.jsxs)("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:["Selected file: ",y.name]})]})]},e._id)})})})]})})},Vy=e=>{var t,r,a,n,s;let{submission:i,grades:o,grading:l,handleGradeChange:c,handleGradeClick:d,handleDownloadSubmission:u,downloadingSubmissionId:m,formatDate:h}=e;return(0,xr.jsx)("div",{className:"p-6",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{className:"flex items-center",children:[(0,xr.jsx)("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center",children:(0,xr.jsx)("span",{className:"text-indigo-600 dark:text-indigo-400 font-medium",children:(null===(t=i.student)||void 0===t||null===(r=t.name)||void 0===r||null===(a=r.charAt(0))||void 0===a?void 0:a.toUpperCase())||"S"})}),(0,xr.jsxs)("div",{className:"ml-4",children:[(0,xr.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:null===(n=i.student)||void 0===n?void 0:n.name}),(0,xr.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[null===(s=i.content)||void 0===s?void 0:s.title,(i.reuploadUsed||null!=i.initialGradePercent)&&(0,xr.jsx)("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/40 dark:text-yellow-200",children:"Reupload"})]}),(0,xr.jsxs)("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:["Submitted on: ",h(i.updatedAt)]}),i.submissionFile&&(0,xr.jsx)("div",{className:"mt-2",children:(0,xr.jsxs)("button",{onClick:()=>u(i._id,i.submissionFile.originalName),disabled:m===i._id,className:"inline-flex items-center text-xs text-indigo-600 dark:text-indigo-400 hover:text-indigo-500 cursor-pointer ".concat(m===i._id?"opacity-60 cursor-not-allowed":""),children:[(0,xr.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),m===i._id?"Starting download...":"Download Submission"]})})]})]}),(0,xr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,xr.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Grade:"}),(0,xr.jsx)("input",{type:"number",min:"0",max:"100",value:o[i._id]||50,onChange:e=>c(i._id,e.target.value),className:"w-20 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),(0,xr.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"%"})]}),(0,xr.jsxs)("button",{onClick:()=>d(i._id,i),disabled:l[i._id],className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50 focus:outline-none flex items-center",children:[l[i._id]?(0,xr.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,xr.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,xr.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,"Submit Grade"]})]})]})})},Yy=()=>{var e,t;const{user:r}=wr(),n=Bm(r,"gradeAssignments"),[s,o]=(0,a.useState)([]),[l,c]=(0,a.useState)(!0),[d,u]=(0,a.useState)({}),[m,h]=(0,a.useState)({}),[p,g]=(0,a.useState)(null),[x,f]=(0,a.useState)(!1),[y,v]=(0,a.useState)(null),[b,w]=(0,a.useState)([]),[j,k]=(0,a.useState)(!0),[N,C]=(0,a.useState)({});(0,a.useEffect)(()=>{A(),S()},[]);const A=async()=>{try{c(!0);const e=localStorage.getItem("token"),t=((await i.A.get("/api/grading/pending",{headers:{Authorization:"Bearer ".concat(e)}})).data.pendingGrades||[]).filter(e=>e.content&&e.content._id&&e.student&&e.student._id);o(t);const r={};t.forEach(e=>{r[e._id]=50}),h(r)}catch(r){var e,t;console.error("Error fetching pending submissions:",r),er.error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to fetch pending submissions")}finally{c(!1)}},S=async()=>{try{k(!0);const e=localStorage.getItem("token"),t=await i.A.get("/api/grading/reuploads/pending",{headers:{Authorization:"Bearer ".concat(e)}});w(t.data.data||[])}catch(r){var e,t;console.error("Error fetching reupload requests:",r),er.error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to fetch reupload requests")}finally{k(!1)}},E=(e,t)=>{h(r=>(0,Be.A)((0,Be.A)({},r),{},{[e]:Math.min(100,Math.max(0,Number(t)||0))}))},D=(e,t)=>{n?er.error("Your instructor account is suspended. You cannot submit grades right now."):(v({id:e,data:t}),f(!0))},P=async(e,t)=>{if(n)return void er.error("Your instructor account is suspended. You cannot approve or reject reupload requests right now.");const r=e._id;try{C(e=>(0,Be.A)((0,Be.A)({},e),{},{[r]:!0}));const a=localStorage.getItem("token"),n="/api/contents/".concat(e.content._id,"/reupload/").concat(t);let s="";const o={studentId:e.student._id};if("reject"===t){const e=window.prompt("Optional reason for rejection (shown to the student):");e&&e.trim()&&(s=e.trim(),o.reason=s)}await i.A.post(n,o,{headers:{Authorization:"Bearer ".concat(a)}}),er.success("approve"===t?"Reupload request approved":"Reupload request rejected"),w(e=>e.filter(e=>e._id!==r))}catch(o){var a,s;console.error("Error processing reupload request:",o),er.error((null===(a=o.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||"Failed to process reupload request")}finally{C(e=>{const t=(0,Be.A)({},e);return delete t[r],t})}},T=e=>new Date(e).toLocaleDateString(),_=a.useMemo(()=>{const e={};return s.forEach(t=>{var r,a,n;const s=(null===(r=t.course)||void 0===r?void 0:r._id)||"unknown",i=(null===(a=t.course)||void 0===a?void 0:a.name)||"Unknown Course",o=(null===(n=t.content)||void 0===n?void 0:n.type)||"assignment";e[s]||(e[s]={courseName:i,assignments:[],projects:[]}),"project"===o?e[s].projects.push(t):e[s].assignments.push(t)}),e},[s]),R=async(e,t)=>{try{console.log("[InstructorDownload] Attempting to download submission:",e),g(e);const r=localStorage.getItem("token"),a=await i.A.get("/api/grading/submissions/".concat(e,"/download"),{headers:{Authorization:"Bearer ".concat(r)},responseType:"blob",validateStatus:e=>e<500});if(console.log("[InstructorDownload] Response received:",{dataSize:a.data.size,dataType:a.data.type,status:a.status,headers:a.headers}),204===a.status||200===a.status&&0===a.data.size)return console.log("[InstructorDownload] Download intercepted by external download manager"),void er.success("Download started (handled by download manager)");if(a.status>=400)throw new Error("Server returned status ".concat(a.status));if(a.data.type&&a.data.type.includes("json")){const e=await a.data.text();try{const t=JSON.parse(e);throw new Error(t.message||"Download failed")}catch(qe){throw new Error("Invalid response from server")}}if(!a.data||0===a.data.size)return console.log("[InstructorDownload] Empty response - might be handled externally"),void er.success("Download started");const n=a.headers["content-disposition"];let s=t||"submission.rar";if(n){const e=n.match(/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/i);e&&e[1]&&(s=e[1].replace(/["']/g,"").trim())}s.match(/\.(rar|zip)$/i)||(s+=".rar"),console.log("[InstructorDownload] Creating download with filename:",s);const o=window.URL.createObjectURL(a.data),l=document.createElement("a");l.href=o,l.setAttribute("download",s),document.body.appendChild(l),l.click(),setTimeout(()=>{document.body.removeChild(l),window.URL.revokeObjectURL(o)},100),er.success("Submission downloaded successfully")}catch(r){console.error("[InstructorDownload] Error downloading submission:",r),er.error(r.message||"Failed to download submission")}finally{setTimeout(()=>{g(t=>t===e?null:t)},1200)}};return(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,xr.jsxs)("div",{className:"mb-8",children:[(0,xr.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Assignment Grading"}),(0,xr.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Grade pending student submissions"})]}),n&&(0,xr.jsx)("div",{className:"mb-6 bg-yellow-50 dark:bg-yellow-900/30 border border-yellow-200 dark:border-yellow-700 text-yellow-800 dark:text-yellow-100 px-4 py-3 rounded",children:"Your instructor account is currently suspended from grading assignments. You can view pending submissions, but grading and reupload actions are disabled."}),(0,xr.jsx)(Ng,{isOpen:x,onClose:()=>{f(!1),v(null)},onConfirm:async()=>{if(!y)return;const e=y.id,t=y.data;try{if(u(t=>(0,Be.A)((0,Be.A)({},t),{},{[e]:!0})),!t.content||!t.content._id)return er.error("This assignment has been deleted. Removing from list..."),void o(t=>t.filter(t=>t._id!==e));if(!t.student||!t.student._id)return er.error("Student information is missing. Removing from list..."),void o(t=>t.filter(t=>t._id!==e));const r=localStorage.getItem("token"),a=m[e];await i.A.post("/api/contents/".concat(t.content._id,"/grade"),{studentId:t.student._id,gradePercent:a,feedback:""},{headers:{Authorization:"Bearer ".concat(r)}}),er.success("Grade submitted successfully"),o(t=>t.filter(t=>t._id!==e)),f(!1),v(null)}catch(n){var r,a;console.error("Error submitting grade:",n),er.error((null===(r=n.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Failed to submit grade")}finally{u(t=>{const r=(0,Be.A)({},t);return delete r[e],r})}},title:"Confirm Grade Submission",message:"Are you sure you want to submit a grade of ".concat(y?m[y.id]:0,"% for ").concat((null===y||void 0===y||null===(e=y.data)||void 0===e||null===(t=e.student)||void 0===t?void 0:t.name)||"this student","? This action cannot be easily undone."),confirmText:"Submit Grade",confirmButtonClass:"bg-indigo-600 hover:bg-indigo-700 text-white",loading:!!y&&d[y.id],icon:(0,xr.jsx)("svg",{className:"w-12 h-12 text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden mb-8",children:[(0,xr.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Reupload Requests"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Approve or reject one-time reupload requests from students."})]})}),j?(0,xr.jsx)("div",{className:"p-6 text-center text-gray-500 dark:text-gray-400",children:"Loading reupload requests..."}):0===b.length?(0,xr.jsx)("div",{className:"p-6 text-center text-gray-500 dark:text-gray-400",children:"No pending reupload requests."}):(0,xr.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:b.map(e=>{var t,r,a,n;return(0,xr.jsxs)("div",{className:"p-6 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h3",{className:"text-md font-medium text-gray-900 dark:text-white",children:(null===(t=e.student)||void 0===t?void 0:t.name)||"Unknown Student"}),(0,xr.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[(null===(r=e.course)||void 0===r?void 0:r.name)||"Unknown Course"," \u2022 ",(null===(a=e.content)||void 0===a?void 0:a.title)||"Unknown Item"," (",(null===(n=e.content)||void 0===n?void 0:n.type)||"assignment",")"]}),"number"===typeof e.gradePercent&&(0,xr.jsxs)("p",{className:"mt-1 text-xs text-gray-600 dark:text-gray-300",children:["Current grade: ",Math.round(100*(e.gradePercent||0))/100,"%"]}),e.reuploadReason&&(0,xr.jsxs)("p",{className:"mt-2 text-xs text-gray-600 dark:text-gray-300",children:["Reason: ",e.reuploadReason]}),e.reuploadRequestedAt&&(0,xr.jsxs)("p",{className:"mt-1 text-xs text-gray-400 dark:text-gray-500",children:["Requested at: ",new Date(e.reuploadRequestedAt).toLocaleString()]})]}),(0,xr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,xr.jsx)("button",{type:"button",onClick:()=>P(e,"approve"),disabled:N[e._id],className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:N[e._id]?"Approving...":"Approve"}),(0,xr.jsx)("button",{type:"button",onClick:()=>P(e,"reject"),disabled:N[e._id],className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:N[e._id]?"Rejecting...":"Reject"})]})]},e._id)})})]}),(0,xr.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:l?(0,xr.jsxs)("div",{className:"p-8 text-center",children:[(0,xr.jsxs)("svg",{className:"animate-spin mx-auto h-8 w-8 text-indigo-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,xr.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,xr.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,xr.jsx)("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading submissions..."})]}):0===s.length?(0,xr.jsxs)("div",{className:"p-8 text-center",children:[(0,xr.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,xr.jsx)("h3",{className:"mt-4 text-lg font-medium text-gray-900 dark:text-white",children:"No pending submissions"}),(0,xr.jsx)("p",{className:"mt-2 text-gray-500 dark:text-gray-400",children:"All assignments have been graded."})]}):(0,xr.jsx)("div",{children:Object.entries(_).map(e=>{let[t,r]=e;return(0,xr.jsxs)("div",{className:"mb-8",children:[(0,xr.jsxs)("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 dark:from-indigo-700 dark:to-purple-800 px-6 py-4",children:[(0,xr.jsx)("h2",{className:"text-xl font-bold text-white",children:r.courseName}),(0,xr.jsxs)("p",{className:"text-sm text-indigo-100 mt-1",children:[r.assignments.length," assignment",1!==r.assignments.length?"s":""," \u2022 ",r.projects.length," project",1!==r.projects.length?"s":""]})]}),r.assignments.length>0&&(0,xr.jsxs)("div",{className:"border-b border-gray-200 dark:border-gray-700",children:[(0,xr.jsx)("div",{className:"bg-green-50 dark:bg-green-900/20 px-6 py-3",children:(0,xr.jsxs)("h3",{className:"text-md font-semibold text-green-800 dark:text-green-200",children:["\ud83d\udcdd ASSIGNMENTS (",r.assignments.length,")"]})}),(0,xr.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:r.assignments.map(e=>(0,xr.jsx)(Vy,{submission:e,grades:m,grading:d,handleGradeChange:E,handleGradeClick:D,handleDownloadSubmission:R,downloadingSubmissionId:p,formatDate:T},e._id))})]}),r.projects.length>0&&(0,xr.jsxs)("div",{className:"border-b border-gray-200 dark:border-gray-700",children:[(0,xr.jsx)("div",{className:"bg-purple-50 dark:bg-purple-900/20 px-6 py-3",children:(0,xr.jsxs)("h3",{className:"text-md font-semibold text-purple-800 dark:text-purple-200",children:["\ud83c\udfaf PROJECTS (",r.projects.length,")"]})}),(0,xr.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:r.projects.map(e=>(0,xr.jsx)(Vy,{submission:e,grades:m,grading:d,handleGradeChange:E,handleGradeClick:D,handleDownloadSubmission:R,downloadingSubmissionId:p,formatDate:T},e._id))})]})]},t)})})})]})})};var Wy=r(2823),Hy=r.n(Wy);const Gy=()=>{var e,t,r;const{t:n,i18n:s}=(0,ar.useTranslation)(),{user:o,setUser:l,logout:c}=wr(),[d,u]=(ae(),(0,a.useState)("profile")),[m,h]=(0,a.useState)(!0),[p,g]=(0,a.useState)(!1),[x,f]=(0,a.useState)(!1),[y,v]=(0,a.useState)(""),[b,w]=(0,a.useState)(!1),[j,k]=(0,a.useState)(null),[N,C]=(0,a.useState)(null),[A,S]=(0,a.useState)({emailChangeCount:0,phoneChangeCount:0}),[E,D]=(0,a.useState)(!1),[P,T]=(0,a.useState)(""),[_,R]=(0,a.useState)(""),[O,F]=(0,a.useState)(!1),[L,M]=(0,a.useState)(0),[I,B]=(0,a.useState)(!1),[q,z]=(0,a.useState)(!1),[U,V]=(0,a.useState)(""),[Y,W]=(0,a.useState)(!1),[H,G]=(0,a.useState)(!1),K="rtl"===s.dir(),[Q,$]=(0,a.useState)([]),[X,J]=(0,a.useState)([]),[Z,ee]=(0,a.useState)(null),[te,re]=(0,a.useState)(null),[ne,se]=(0,a.useState)(!1),[ie,oe]=(0,a.useState)({paymentMethod:"",receiverName:"",receiverEmail:"",receiverPhone:"",receiverLocation:"",accountDetails:"",isActive:!0}),le=Array.isArray(X)?X.filter(e=>e&&e.key&&e.name&&!1!==e.isActive):[],[ce,de]=(0,a.useState)({name:"",email:"",phone:"",bio:"",aboutMe:"",avatar:"",expertise:[],socialLinks:{linkedin:"",github:"",twitter:"",website:""}}),[ue,me]=(0,a.useState)(""),[he,pe]=(0,a.useState)(null),[ge,xe]=(0,a.useState)({maxVideoSizeMB:500,introVideoMaxReuploads:3}),[fe,ye]=(0,a.useState)(null),[ve,be]=(0,a.useState)(!1),[we,je]=(0,a.useState)(0),[ke,Ne]=(0,a.useState)(""),[Ce,Ae]=(0,a.useState)(null),[Se,Ee]=(0,a.useState)(null),De=(0,a.useRef)(null),Pe=(0,a.useRef)(null),Te=(0,a.useRef)(!1),_e=(0,a.useRef)(2e3),[Re,Fe]=(0,a.useState)(null),[Le,Me]=(0,a.useState)(null),[Ie,qe]=(0,a.useState)(null),[ze,Ue]=(0,a.useState)(null);(0,a.useEffect)(()=>{$e(),"receivers"===d&&Ze(),"agreement"!==d&&"introVideo"!==d||He(),"introVideo"===d&&Ge()},[d]),(0,a.useEffect)(()=>{(async()=>{try{var e;const t=localStorage.getItem("token"),r=await i.A.get("/api/storage/config",{headers:{Authorization:"Bearer ".concat(t)}});Ae((null===(e=r.data)||void 0===e?void 0:e.data)||null)}catch(At){Ae(null)}})()},[]);const Ve=(0,a.useCallback)(()=>{Pe.current&&(clearTimeout(Pe.current),Pe.current=null),Te.current=!1,_e.current=2e3},[]),Ye=(0,a.useCallback)(async(e,t)=>{if(e&&!Te.current){Te.current=!0;try{var r;const a=await i.A.get("/api/video-upload-jobs/".concat(encodeURIComponent(e)),{headers:{Authorization:"Bearer ".concat(t)}}),n=null===a||void 0===a||null===(r=a.data)||void 0===r?void 0:r.data,s="number"===typeof(null===n||void 0===n?void 0:n.percent)?n.percent:0,o="string"===typeof(null===n||void 0===n?void 0:n.status)?n.status:null,l="string"===typeof(null===n||void 0===n?void 0:n.error)?n.error:null,c="number"===typeof(null===n||void 0===n?void 0:n.bytesUploaded)?n.bytesUploaded:null,d="number"===typeof(null===n||void 0===n?void 0:n.totalBytes)?n.totalBytes:null;if(Fe(o),Me(l),qe(c),Ue(d),"number"===typeof s&&je(s),"completed"===o||"failed"===o||"canceled"===o)return void Ve()}catch(aw){var a;const t=null===aw||void 0===aw||null===(a=aw.response)||void 0===a?void 0:a.status;if(404===t)return;429===t&&(_e.current=Math.min(2*_e.current,3e4))}finally{Te.current=!1}}},[Ve]),We=(0,a.useCallback)((e,t)=>{if(Ve(),!e)return;_e.current=2e3;const r=async()=>{await Ye(e,t),Pe.current&&clearTimeout(Pe.current),Pe.current=setTimeout(r,_e.current)};r()},[Ye,Ve]),He=async()=>{try{const e=localStorage.getItem("token"),t=await i.A.get("/api/instructor-agreements/my-agreement",{headers:{Authorization:"Bearer ".concat(e)}});ee(t.data.data)}catch(e){console.error("Error fetching agreements:",e),er.error("Failed to load agreements")}},Ge=async()=>{try{var e;const l=await i.A.get("/api/admin/settings/public");var t,r;if(null!==(e=l.data)&&void 0!==e&&e.data)xe({maxVideoSizeMB:null!==(t=l.data.data.maxVideoSizeMB)&&void 0!==t?t:500,introVideoMaxReuploads:null!==(r=l.data.data.introVideoMaxReuploads)&&void 0!==r?r:3});if(null!==o&&void 0!==o&&o._id)try{var a;const e=localStorage.getItem("token"),t=await i.A.get("/api/instructor/".concat(o._id,"/video-info"),{headers:e?{Authorization:"Bearer ".concat(e)}:{}});null!==(a=t.data)&&void 0!==a&&a.success&&pe(t.data.data)}catch(s){var n;404!==(null===(n=s.response)||void 0===n?void 0:n.status)&&console.error("Error fetching intro video info:",s)}}catch(l){console.error("Error fetching intro video settings:",l)}},Ke=!!((null===Z||void 0===Z?void 0:Z.recentAgreements)||[]).some(e=>"approved"===e.status&&e.isActive),Qe=(null===Z||void 0===Z||null===(e=Z.signupAgreement)||void 0===e?void 0:e.reuploadAttempts)||0,$e=async()=>{try{h(!0);const e=localStorage.getItem("token"),t=(await i.A.get("/api/users/profile",{headers:{Authorization:"Bearer ".concat(e)}})).data.user;de({name:t.name||"",email:t.email||"",phone:t.phone||"",bio:t.bio||"",aboutMe:t.aboutMe||"",avatar:t.avatar||"",expertise:t.expertise||[],socialLinks:t.socialLinks||{linkedin:"",github:"",twitter:"",website:""}}),C(t.avatar||null),S({emailChangeCount:t.emailChangeCount||0,phoneChangeCount:t.phoneChangeCount||0})}catch(e){console.error("Error fetching profile:",e),er.error("Failed to load profile")}finally{h(!1)}};(0,a.useEffect)(()=>{if(L<=0)return;const e=setInterval(()=>{M(e=>e>0?e-1:0)},1e3);return()=>clearInterval(e)},[L]);const Xe=e=>{const{name:t,value:r}=e.target;["linkedin","github","twitter","website"].includes(t)?(e=>{const{name:t,value:r}=e.target;de(e=>(0,Be.A)((0,Be.A)({},e),{},{socialLinks:(0,Be.A)((0,Be.A)({},e.socialLinks),{},{[t]:r})}))})(e):de(e=>(0,Be.A)((0,Be.A)({},e),{},{[t]:r}))},Je=()=>{ue.trim()&&!ce.expertise.includes(ue.trim())&&(de(e=>(0,Be.A)((0,Be.A)({},e),{},{expertise:[...e.expertise,ue.trim()]})),me(""))},Ze=async()=>{try{const r=localStorage.getItem("token"),a=await i.A.get("/api/instructor/payment-receivers",{headers:{Authorization:"Bearer ".concat(r)}});$(a.data.data||[]);try{var e,t;const r=await i.A.get("/api/admin/settings/public"),a=Array.isArray(null===r||void 0===r||null===(e=r.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.paymentProviders)?r.data.data.paymentProviders:[];J(a)}catch(At){J([])}}catch(r){console.error("Error fetching receivers:",r)}},et=e=>{const{name:t,value:r,type:a,checked:n}=e.target;oe(e=>(0,Be.A)((0,Be.A)({},e),{},{[t]:"checkbox"===a?n:r}))};return m?(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:(0,xr.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,xr.jsxs)("div",{className:"mb-8",children:[(0,xr.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Instructor Settings"}),(0,xr.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Manage your profile and preferences"})]}),(0,xr.jsxs)("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 border border-indigo-200 dark:border-indigo-800 rounded-lg p-4 mb-6 flex items-center justify-between",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,xr.jsx)("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/40 rounded",children:(0,xr.jsx)(Pm,{className:"w-5 h-5 text-indigo-700 dark:text-indigo-300"})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("div",{className:"font-semibold text-indigo-900 dark:text-indigo-200",children:"Security Settings"}),(0,xr.jsx)("div",{className:"text-sm text-indigo-800/80 dark:text-indigo-200/80",children:"Manage Two-Factor Authentication (2FA) and trusted devices"})]})]}),(0,xr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,xr.jsx)(Oe,{to:"/security",className:"px-3 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Manage 2FA"}),(0,xr.jsx)(Oe,{to:"/security/devices",className:"px-3 py-2 border border-indigo-300 dark:border-indigo-700 text-indigo-800 dark:text-indigo-200 rounded-md hover:bg-indigo-100 dark:hover:bg-indigo-900/30",children:"Trusted Devices"})]})]}),(0,xr.jsx)("div",{className:"settings-tabs mb-6",children:(0,xr.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700",children:(0,xr.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[(0,xr.jsxs)("button",{type:"button",onClick:()=>u("profile"),className:"".concat("profile"===d?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300"," flex items-center py-4 px-1 border-b-2 font-medium text-sm transition-colors"),children:[(0,xr.jsx)(dr,{className:"w-5 h-5 mr-2"}),"Profile"]}),(0,xr.jsxs)("button",{type:"button",onClick:()=>u("receivers"),className:"".concat("receivers"===d?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300"," flex items-center py-4 px-1 border-b-2 font-medium text-sm transition-colors"),children:[(0,xr.jsx)(Kh,{className:"w-5 h-5 mr-2"}),"Payment Receivers"]}),(0,xr.jsxs)("button",{type:"button",onClick:()=>u("introVideo"),className:"".concat("introVideo"===d?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300"," flex items-center py-4 px-1 border-b-2 font-medium text-sm transition-colors"),children:[(0,xr.jsx)(zm,{className:"w-5 h-5 mr-2"}),"Introduction Video"]}),(0,xr.jsxs)("button",{type:"button",onClick:()=>u("agreement"),className:"".concat("agreement"===d?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300"," flex items-center py-4 px-1 border-b-2 font-medium text-sm transition-colors"),children:[(0,xr.jsx)(Um,{className:"w-5 h-5 mr-2"}),"Agreement"]})]})})}),"profile"===d&&(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=ce.socialLinks||{},r=[["linkedin","LinkedIn"],["github","GitHub"],["twitter","Twitter"],["website","Website"]];for(const[i,o]of r){const e=t[i];if(!e)continue;const r=e.trim();if(!r)continue;let a;try{a=new URL(r)}catch(aw){return void er.error("".concat(o," URL is invalid."))}if("https:"!==a.protocol)return void er.error("".concat(o," URL must start with https://"))}try{g(!0);const e=localStorage.getItem("token"),t=new FormData;t.append("name",ce.name),t.append("email",ce.email),t.append("phone",ce.phone),t.append("bio",ce.bio),t.append("aboutMe",ce.aboutMe),t.append("expertise",JSON.stringify(ce.expertise)),t.append("socialLinks",JSON.stringify(ce.socialLinks)),j&&t.append("avatar",j);const r=await i.A.put("/api/users/profile",t,{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"multipart/form-data"}});l&&r.data.user&&l(r.data.user),er.success("Profile updated successfully"),k(null)}catch(s){var a,n;console.error("Error updating profile:",s),er.error((null===(a=s.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message)||"Failed to update profile")}finally{g(!1)}},className:"space-y-6 profile-settings",children:[(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[(0,xr.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:n("profileInformation")||"Basic Information"}),(0,xr.jsxs)("div",{className:"mb-6",children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Profile Picture"}),(0,xr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,xr.jsx)("div",{className:"relative",children:N?(0,xr.jsx)("img",{src:N,alt:"Avatar preview",className:"w-24 h-24 rounded-full object-cover border-2 border-gray-300 dark:border-gray-600"}):(0,xr.jsx)("div",{className:"w-24 h-24 rounded-full bg-indigo-600 flex items-center justify-center text-white text-3xl font-bold",children:(null===(t=ce.name)||void 0===t||null===(r=t.charAt(0))||void 0===r?void 0:r.toUpperCase())||"I"})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("input",{type:"file",id:"avatar-instructor",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){if(t.size>5242880)return void er.error("Image must be less than 5MB");if(!t.type.startsWith("image/"))return void er.error("Please select an image file");k(t),C(URL.createObjectURL(t))}},className:"hidden"}),(0,xr.jsx)("label",{htmlFor:"avatar-instructor",className:"cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:"Choose Image"}),(0,xr.jsx)("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:"JPG, PNG, GIF or WEBP. Max size: 5MB"})]})]})]}),(0,xr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:n("name")}),(0,xr.jsx)("input",{type:"text",name:"name",value:ce.name,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed",required:!0}),(0,xr.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:n("nameCanOnlyBeChanged")||"Name can only be changed in Profile section"})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:n("email")}),(0,xr.jsx)("input",{type:"email",name:"email",value:ce.email,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed",required:!0}),(0,xr.jsxs)("div",{className:"mt-1 flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[(0,xr.jsx)("span",{children:n("emailChangeableOnce")||"Email (changeable once)"}),(0,xr.jsxs)("span",{children:[n("emailChangesRemaining")||"Email changes remaining",": ",Math.max(0,1-(A.emailChangeCount||0))]})]}),(0,xr.jsx)("button",{type:"button",onClick:()=>D(!0),disabled:A.emailChangeCount>=1,className:"mt-2 inline-flex items-center px-3 py-1.5 border border-indigo-500 text-indigo-600 dark:text-indigo-300 rounded-md text-xs hover:bg-indigo-50 dark:hover:bg-indigo-900/20 disabled:opacity-50 disabled:cursor-not-allowed",children:n("changeEmail")||"Change Email"})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:n("phone")}),(0,xr.jsx)("input",{type:"tel",name:"phone",value:ce.phone,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}),(0,xr.jsxs)("div",{className:"mt-1 flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[(0,xr.jsx)("span",{children:n("phoneChangeableOnce")||"Phone number (changeable once)"}),(0,xr.jsxs)("span",{children:[n("phoneChangesRemaining")||"Phone changes remaining",": ",Math.max(0,1-(A.phoneChangeCount||0))]})]}),(0,xr.jsx)("button",{type:"button",onClick:()=>z(!0),disabled:A.phoneChangeCount>=1,className:"mt-2 inline-flex items-center px-3 py-1.5 border border-indigo-500 text-indigo-600 dark:text-indigo-300 rounded-md text-xs hover:bg-indigo-50 dark:hover:bg-indigo-900/20 disabled:opacity-50 disabled:cursor-not-allowed",children:n("changePhoneNumber")||"Change Phone Number"})]})]}),(0,xr.jsxs)("div",{className:"mt-2 rounded-md bg-yellow-50 dark:bg-yellow-900/30 px-3 py-2 flex items-start space-x-2",children:[(0,xr.jsx)($h,{className:"w-4 h-4 text-yellow-600 dark:text-yellow-400 mt-0.5"}),(0,xr.jsx)("p",{className:"text-xs text-yellow-800 dark:text-yellow-200",children:n("instructorPublicInfoWarning")||"Warning: Your email, username, and intro video are publicly visible to students. Please make sure the information you enter is accurate and appropriate."})]}),(0,xr.jsxs)("div",{className:"mt-4",children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Short Bio (max 2000 characters)"}),(0,xr.jsx)("textarea",{name:"bio",value:ce.bio,onChange:Xe,rows:3,maxLength:2e3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"A brief introduction about yourself..."}),(0,xr.jsxs)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:[ce.bio.length,"/2000 characters"]})]})]}),(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[(0,xr.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"About Me"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Tell students about yourself, your experience, and teaching philosophy"}),(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-700 rounded-md quill-editor-dark",children:[(0,xr.jsx)(Hy(),{theme:"snow",value:ce.aboutMe,onChange:e=>{de(t=>(0,Be.A)((0,Be.A)({},t),{},{aboutMe:e}))},modules:{toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{color:[]},{background:[]}],["link"],["clean"]]},className:"dark:text-white",style:{minHeight:"200px"}}),(0,xr.jsx)("style",{children:"\n                .quill-editor-dark .ql-toolbar {\n                  background: white;\n                  border-color: #d1d5db;\n                }\n                .dark .quill-editor-dark .ql-toolbar {\n                  background: #374151;\n                  border-color: #4b5563;\n                }\n                .dark .quill-editor-dark .ql-stroke {\n                  stroke: #e5e7eb;\n                }\n                .dark .quill-editor-dark .ql-fill {\n                  fill: #e5e7eb;\n                }\n                .dark .quill-editor-dark .ql-picker-label {\n                  color: #e5e7eb;\n                }\n                .dark .quill-editor-dark .ql-picker-options {\n                  background: #374151;\n                  border-color: #4b5563;\n                }\n                .dark .quill-editor-dark .ql-picker-item {\n                  color: #e5e7eb;\n                }\n                .dark .quill-editor-dark .ql-editor {\n                  background: #1f2937;\n                  color: #e5e7eb;\n                }\n              "})]})]}),(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[(0,xr.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Areas of Expertise"}),(0,xr.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,xr.jsx)("input",{type:"text",value:ue,onChange:e=>me(e.target.value),onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),Je()),placeholder:"Add expertise (e.g., Web Development)",className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500"}),(0,xr.jsx)("button",{type:"button",onClick:Je,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition",children:"Add"})]}),(0,xr.jsx)("div",{className:"flex flex-wrap gap-2",children:ce.expertise.map((e,t)=>(0,xr.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-300",children:[e,(0,xr.jsx)("button",{type:"button",onClick:()=>(e=>{de(t=>(0,Be.A)((0,Be.A)({},t),{},{expertise:t.expertise.filter((t,r)=>r!==e)}))})(t),className:"ml-2 text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-200",children:"\xd7"})]},t))})]}),(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[(0,xr.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Social Links"}),(0,xr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"LinkedIn"}),(0,xr.jsx)("input",{type:"url",name:"linkedin",value:ce.socialLinks.linkedin,onChange:Xe,placeholder:"https://linkedin.com/in/yourprofile",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",pattern:"https://.*",title:"Please enter a valid HTTPS URL"})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"GitHub"}),(0,xr.jsx)("input",{type:"url",name:"github",value:ce.socialLinks.github,onChange:Xe,placeholder:"https://github.com/yourprofile",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",pattern:"https://.*",title:"Please enter a valid HTTPS URL"})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Twitter"}),(0,xr.jsx)("input",{type:"url",name:"twitter",value:ce.socialLinks.twitter,onChange:Xe,placeholder:"https://twitter.com/yourprofile",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",pattern:"https://.*",title:"Please enter a valid HTTPS URL"})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Website"}),(0,xr.jsx)("input",{type:"url",name:"website",value:ce.socialLinks.website,onChange:Xe,placeholder:"https://yourwebsite.com",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",pattern:"https://.*",title:"Please enter a valid HTTPS URL"})]})]})]}),(0,xr.jsx)("div",{className:"flex justify-end",children:(0,xr.jsxs)("button",{type:"submit",disabled:p,className:"px-6 py-3 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition flex items-center",children:[p&&(0,xr.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,xr.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,xr.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Save Settings"]})})]}),E&&(0,xr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full p-6 ".concat(K?"text-right":""),dir:K?"rtl":"ltr",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-4 ".concat(K?"flex-row-reverse":""),children:[(0,xr.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:n("changeEmail")||"Change Email"}),(0,xr.jsx)("button",{type:"button",onClick:()=>{D(!1),T(""),R(""),G(!1)},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 text-xl leading-none",children:"\xd7"})]}),(0,xr.jsxs)("div",{className:"space-y-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:n("newEmail")||"New Email"}),(0,xr.jsx)("input",{type:"email",value:P,onChange:e=>T(e.target.value),placeholder:n("enterNewEmail")||"Enter your new email",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,xr.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,xr.jsx)("div",{className:"flex items-center justify-between space-x-3",children:(0,xr.jsx)("button",{type:"button",onClick:async()=>{if(!P)return void er.error(n("enterNewEmail")||"Please enter a new email");const e=P.trim();if(/^\S+@\S+\.\S+$/.test(e))try{var t;F(!0);const r=localStorage.getItem("token"),a=await i.A.post("/api/users/change-email/request",{newEmail:e},{headers:{Authorization:"Bearer ".concat(r)}});G(!0);const s=null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.cooldownRemainingSeconds;M("number"===typeof s&&s>0?s:60),er.success(n("verificationCodeSent")||"Verification code sent to your new email")}catch(s){var r,a;const e=null===s||void 0===s||null===(r=s.response)||void 0===r?void 0:r.status,t=null===s||void 0===s||null===(a=s.response)||void 0===a?void 0:a.data;if(429===e&&"number"===typeof(null===t||void 0===t?void 0:t.cooldownRemainingSeconds)){const e=t.cooldownRemainingSeconds;M(e),er.error(n("youCanRequestNewCodeIn",{seconds:e})||(null===t||void 0===t?void 0:t.message)||"Please wait before requesting a new verification code.")}else{const e=null===t||void 0===t?void 0:t.message;"You have already changed your email once"===e?er.error(n("youHaveAlreadyChangedEmailOnce")||e):er.error(n("failedToSendVerificationCode")||e||"Failed to send verification code")}}finally{F(!1)}else er.error(n("invalidEmailFormat")||"Please enter a valid email address.")},disabled:O||A.emailChangeCount>=1||L>0,className:"flex-1 px-3 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:O?n("sendingCode")||"Sending code...":n("sendVerificationCode")||"Send Verification Code"})}),L>0&&(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:n("youCanRequestNewCodeIn",{seconds:L})||"You can request a new code in ".concat(L," seconds.")})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:n("verificationCode")||"Verification Code"}),(0,xr.jsx)("input",{type:"text",value:_,onChange:e=>R(e.target.value),placeholder:n("enterVerificationCode")||"Enter the 6-digit code",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500"}),H&&(0,xr.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:n("verificationCodeSentHint")||"A verification code was sent to your new email and is valid for 10 minutes."})]}),(0,xr.jsxs)("div",{className:"flex justify-end space-x-3 mt-2",children:[(0,xr.jsx)("button",{type:"button",onClick:()=>{D(!1),T(""),R(""),G(!1)},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 text-sm",children:n("cancel")}),(0,xr.jsx)("button",{type:"button",onClick:async()=>{const e=(P||"").trim(),t=(_||"").trim();if(e&&t)try{var r;B(!0);const a=localStorage.getItem("token"),s=await i.A.post("/api/users/change-email/verify",{newEmail:e,verificationCode:t},{headers:{Authorization:"Bearer ".concat(a)}}),o=null===s||void 0===s||null===(r=s.data)||void 0===r?void 0:r.user;o&&(l&&l(o),de(e=>(0,Be.A)((0,Be.A)({},e),{},{email:o.email||e.email})),S(e=>(0,Be.A)((0,Be.A)({},e),{},{emailChangeCount:"number"===typeof o.emailChangeCount?o.emailChangeCount:(e.emailChangeCount||0)+1}))),er.success(n("emailChangedSuccessfully")||"Email changed successfully"),D(!1),T(""),R(""),G(!1)}catch(o){var a,s;const e=null===o||void 0===o||null===(a=o.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message;"You have already changed your email once"===e?er.error(n("youHaveAlreadyChangedEmailOnce")||e):"Invalid verification code"===e?er.error(n("invalidVerificationCode")||e):"Verification code has expired. Please request a new code."===e?er.error(n("verificationCodeExpired")||e):er.error(n("failedToVerifyEmail")||e||"Failed to verify email change")}finally{B(!1)}else er.error(n("enterVerificationCode")||"Please enter your new email and verification code")},disabled:I,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:I?n("verifying")||"Verifying...":n("verifyEmail")||"Verify Email"})]})]})]})}),q&&(0,xr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full p-6 ".concat(K?"text-right":""),dir:K?"rtl":"ltr",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-4 ".concat(K?"flex-row-reverse":""),children:[(0,xr.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:n("changePhoneNumber")||"Change Phone Number"}),(0,xr.jsx)("button",{type:"button",onClick:()=>{z(!1),V("")},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 text-xl leading-none",children:"\xd7"})]}),(0,xr.jsxs)("div",{className:"space-y-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:n("phone")}),(0,xr.jsxs)("div",{className:"flex",children:[(0,xr.jsx)("span",{className:"inline-flex items-center px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-l-md bg-gray-50 dark:bg-gray-700 text-gray-700 dark:text-gray-200 text-sm",children:"+963"}),(0,xr.jsx)("input",{type:"tel",value:U,onChange:e=>{const t=e.target.value.replace(/\D/g,"").slice(0,10);V(t)},placeholder:n("enterNewPhone")||"Enter your new phone number (09xxxxxxxx)",className:"flex-1 px-3 py-2 border border-l-0 border-gray-300 dark:border-gray-600 rounded-r-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,xr.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:n("phoneMustStartWith09")||"Phone number must be 10 digits starting with 09"})]}),(0,xr.jsxs)("div",{className:"flex justify-end space-x-3 mt-2",children:[(0,xr.jsx)("button",{type:"button",onClick:()=>{z(!1),V("")},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 text-sm",children:n("cancel")}),(0,xr.jsx)("button",{type:"button",onClick:async()=>{const e=(U||"").trim();if(!e)return void er.error(n("phone")||"Phone number is required");if(/^09\d{8}$/.test(e))try{var t;W(!0);const r=localStorage.getItem("token"),a=new FormData;a.append("phone",e);const s=await i.A.put("/api/users/profile",a,{headers:{Authorization:"Bearer ".concat(r),"Content-Type":"multipart/form-data"}}),o=null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t.user;o&&(l&&l(o),de(e=>(0,Be.A)((0,Be.A)({},e),{},{phone:o.phone||e.phone})),S(e=>(0,Be.A)((0,Be.A)({},e),{},{phoneChangeCount:"number"===typeof o.phoneChangeCount?o.phoneChangeCount:(e.phoneChangeCount||0)+1}))),er.success(n("phoneChangedSuccessfully")||"Phone number updated successfully"),z(!1),V("")}catch(s){var r,a;const e=null===s||void 0===s||null===(r=s.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message;"Phone number already exists"===e?er.error(n("phoneNumberAlreadyExists")||e):"You have already changed your phone number"===e?er.error(n("youHaveAlreadyChangedPhoneNumber")||e):"Phone number must be 10 digits starting with 09"===e?er.error(n("phoneMustStartWith09")||e):er.error(n("failedToChangePhone")||e||"Failed to change phone number")}finally{W(!1)}else er.error(n("phoneMustStartWith09")||"Phone number must be 10 digits starting with 09")},disabled:Y,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:Y?n("updating")||"Updating...":n("confirmPhoneChange")||"Confirm Phone Change"})]})]})]})}),(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mt-6 border-2 border-red-200 dark:border-red-900",children:[(0,xr.jsxs)("div",{className:"flex items-start space-x-3 mb-4",children:[(0,xr.jsx)($h,{className:"w-6 h-6 text-red-600 flex-shrink-0 mt-1"}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h2",{className:"text-xl font-bold text-red-600 dark:text-red-400",children:"Danger Zone"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Irreversible and destructive actions"})]})]}),(0,xr.jsx)("div",{className:"border-t border-red-200 dark:border-red-900 pt-4",children:(0,xr.jsxs)("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4",children:[(0,xr.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Delete Account"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Permanently delete your account and all associated data. This action cannot be undone."}),(0,xr.jsxs)("button",{onClick:()=>f(!0),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition flex items-center space-x-2",children:[(0,xr.jsx)($h,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:"Delete My Account"})]})]})})]}),x&&(0,xr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full p-6",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,xr.jsx)("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center",children:(0,xr.jsx)($h,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}),(0,xr.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Delete Account"})]}),(0,xr.jsxs)("div",{className:"mb-6",children:[(0,xr.jsx)("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:"This action is permanent and cannot be undone. All your data including:"}),(0,xr.jsxs)("ul",{className:"list-disc list-inside text-sm text-gray-600 dark:text-gray-400 space-y-1 mb-4",children:[(0,xr.jsx)("li",{children:"Profile information"}),(0,xr.jsx)("li",{children:"Your courses"}),(0,xr.jsx)("li",{children:"Student enrollments"}),(0,xr.jsx)("li",{children:"Course content"}),(0,xr.jsx)("li",{children:"Messages and notifications"})]}),(0,xr.jsx)("p",{className:"text-gray-700 dark:text-gray-300 font-semibold",children:"will be permanently deleted from our servers."})]}),(0,xr.jsxs)("div",{className:"mb-6",children:[(0,xr.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Type ",(0,xr.jsx)("span",{className:"font-bold text-red-600",children:'"DELETE MY ACCOUNT"'})," to confirm"]}),(0,xr.jsx)("input",{type:"text",value:y,onChange:e=>v(e.target.value),placeholder:"DELETE MY ACCOUNT",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-red-500"})]}),(0,xr.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,xr.jsx)("button",{onClick:()=>{f(!1),v("")},disabled:b,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancel"}),(0,xr.jsx)("button",{onClick:async()=>{if("DELETE MY ACCOUNT"===y)try{w(!0);const e=localStorage.getItem("token");await i.A.delete("/api/users/account",{headers:{Authorization:"Bearer ".concat(e)}}),er.success("Account deleted successfully"),c()}catch(r){var e,t;console.error("Error deleting account:",r),er.error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to delete account")}finally{w(!1)}else er.error('Please type "DELETE MY ACCOUNT" to confirm')},disabled:"DELETE MY ACCOUNT"!==y||b,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:b?(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsxs)("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,xr.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,xr.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 74 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,xr.jsx)("span",{children:"Deleting..."})]}):(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)($h,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:"Delete Account"})]})})]})]})})]}),"introVideo"===d&&(0,xr.jsx)("div",{className:"space-y-6",children:(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[(0,xr.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Introduction Video"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Upload or replace your instructor introduction video. This video appears on your public instructor profile."})]})}),(0,xr.jsxs)("div",{className:"mb-4 text-xs text-gray-600 dark:text-gray-400",children:[(0,xr.jsxs)("p",{children:["Max video size: ",(0,xr.jsxs)("span",{className:"font-semibold",children:[ge.maxVideoSizeMB," MB"]})]}),ge.introVideoMaxReuploads>=0&&(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsxs)("p",{children:["Max reupload attempts:"," ",(0,xr.jsx)("span",{className:"font-semibold",children:ge.introVideoMaxReuploads})]}),(0,xr.jsxs)("p",{children:["Used attempts:"," ",(0,xr.jsx)("span",{className:"font-semibold",children:Qe}),ge.introVideoMaxReuploads>0&&(0,xr.jsxs)("span",{children:[" ","(",Math.max(ge.introVideoMaxReuploads-Qe,0)," ","remaining)"]})]})]})]}),(0,xr.jsxs)("div",{className:"space-y-3",children:[fe?(0,xr.jsx)("div",{className:"space-y-3",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-md bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,xr.jsx)(zm,{className:"w-6 h-6 text-green-600 dark:text-green-400"}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:fe.name}),(0,xr.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[(fe.size/1048576).toFixed(2)," MB"]})]})]}),(0,xr.jsx)("button",{type:"button",onClick:()=>{ye(null)},className:"text-red-600 hover:text-red-700 text-xs font-medium",children:"Remove"})]})}):(0,xr.jsxs)("label",{className:"flex flex-col items-center justify-center w-full h-48 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[(0,xr.jsxs)("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[(0,xr.jsx)(zm,{className:"w-10 h-10 mb-3 text-gray-400"}),(0,xr.jsxs)("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:[(0,xr.jsx)("span",{className:"font-semibold",children:"Click to select"})," or drag and drop"]}),(0,xr.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["MP4, MOV, AVI, or WEBM (Max ",ge.maxVideoSizeMB,"MB)"]})]}),(0,xr.jsx)("input",{type:"file",className:"hidden",accept:"video/mp4,video/quicktime,video/x-msvideo,video/webm",onChange:e=>{const t=e.target.files[0];if(!t)return;if(!["video/mp4","video/quicktime","video/x-msvideo","video/webm"].includes(t.type))return void er.error("Invalid video format. Please upload MP4, MOV, AVI, or WEBM");const r=1024*(ge.maxVideoSizeMB||500)*1024;t.size>r?er.error("Video size cannot exceed ".concat(ge.maxVideoSizeMB,"MB")):(Ne(""),ye(t))}})]}),ke&&(0,xr.jsx)("p",{className:"text-xs text-red-600 dark:text-red-400",children:ke}),ve&&(0,xr.jsxs)("div",{className:"space-y-1",children:[(0,xr.jsxs)("div",{className:"flex justify-between text-xs text-gray-600 dark:text-gray-400",children:[(0,xr.jsx)("span",{children:"processing"===Re?"Finalizing...":"queued"===Re?"Preparing upload...":"failed"===Re?"Upload failed":"Uploading..."}),(0,xr.jsxs)("span",{children:[we,"%"]})]}),(0,xr.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,xr.jsx)("div",{className:"bg-indigo-600 h-2 rounded-full transition-all",style:{width:"".concat(we,"%")}})}),"number"===typeof Ie&&"number"===typeof ze&&ze>0&&(0,xr.jsxs)("div",{className:"text-[11px] text-center text-gray-500 dark:text-gray-400",children:[Math.min(100,Math.round(100*Ie/ze)),"% \u2022 ",(Ie/1024/1024).toFixed(1)," / ",(ze/1024/1024).toFixed(1)," MB"]})]}),(0,xr.jsx)("div",{className:"flex justify-end",children:(0,xr.jsx)("button",{type:"button",onClick:async()=>{if(fe)try{var e;be(!0),je(0),Ne("");const t=localStorage.getItem("token"),r=Boolean(null===Ce||void 0===Ce?void 0:Ce.isYouTubeEnabled)&&"youtube"===(null===Ce||void 0===Ce?void 0:Ce.videoProvider),a=new FormData;if(a.append("video",fe),r){const e="undefined"!==typeof crypto&&"function"===typeof crypto.randomUUID?crypto.randomUUID():"".concat(Date.now(),"-").concat(Math.random().toString(16).slice(2));Ee(e),De.current=e,Fe("uploading"),Me(null),qe(null),Ue(null),a.append("uploadSessionId",e),We(e,t)}else Ee(null),De.current=null,Fe(null),Me(null),qe(null),Ue(null);const n=await i.A.put("/api/instructor/reupload-intro-video",a,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(t)},onUploadProgress:e=>{const t=e.total,a="number"===typeof e.progress?e.progress:null;if(!t&&null===a)return;const n=t?Math.round(100*e.loaded/t):Math.round(100*a);if(r)return n>=100||t&&e.loaded>=t?void je(0):void je(n);je(n)}});er.success((null===(e=n.data)||void 0===e?void 0:e.message)||"Intro video uploaded successfully"),ye(null),He(),Ge()}catch(n){var t,r,a;console.error("Intro video upload error:",n);const e=null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message,s=null===(a=n.response)||void 0===a?void 0:a.status,i=(400===s||403===s)&&"string"===typeof e&&e.trim().length>0?e:"Failed to upload video, please contact admin";Ne(i),er.error(i)}finally{Ve(),be(!1),null!==Ce&&void 0!==Ce&&Ce.isYouTubeEnabled&&"youtube"===(null===Ce||void 0===Ce?void 0:Ce.videoProvider)||je(0),Ee(null),De.current=null}else er.error("Please select an introduction video first")},disabled:ve||!fe,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:ve?(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsxs)("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,xr.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,xr.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,xr.jsx)("span",{children:"Uploading..."})]}):(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)(zm,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:"Upload Intro Video"})]})})})]})]})}),"receivers"===d&&(0,xr.jsx)("div",{className:"space-y-6 payment-receivers",children:(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,xr.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Payment Receivers"}),(0,xr.jsxs)("button",{onClick:()=>{se(!0),re(null),oe({paymentMethod:"",receiverName:"",receiverEmail:"",receiverPhone:"",receiverLocation:"",accountDetails:"",isActive:!0})},className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition",children:[(0,xr.jsx)(Xh,{className:"w-4 h-4"}),"Add Receiver"]})]}),0===Q.length?(0,xr.jsxs)("div",{className:"text-center py-12",children:[(0,xr.jsx)(Kh,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"No payment receivers configured"})]}):(0,xr.jsx)("div",{className:"space-y-4",children:Q.map(e=>{var t;return(0,xr.jsx)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:shadow-md transition",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,xr.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:(null===(t=le.find(t=>t.key===(e.providerKey||e.paymentMethod)))||void 0===t?void 0:t.name)||e.providerKey||e.paymentMethod}),!1!==e.isActive&&(0,xr.jsx)("span",{className:"px-2 py-1 text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 rounded-full",children:"Active"})]}),(0,xr.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(0,xr.jsx)("strong",{children:"Name:"})," ",e.receiverName]}),e.receiverEmail&&(0,xr.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(0,xr.jsx)("strong",{children:"Email:"})," ",e.receiverEmail]}),(0,xr.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(0,xr.jsx)("strong",{children:"Phone:"})," ",e.receiverPhone]}),e.receiverLocation&&(0,xr.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(0,xr.jsx)("strong",{children:"Location:"})," ",e.receiverLocation]}),e.accountDetails&&(0,xr.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(0,xr.jsx)("strong",{children:"Details:"})," ",e.accountDetails]})]}),(0,xr.jsxs)("div",{className:"flex gap-2",children:[(0,xr.jsx)("button",{onClick:()=>(e=>{re(e),se(!0),oe({paymentMethod:e.providerKey||e.paymentMethod,receiverName:e.receiverName,receiverEmail:e.receiverEmail||"",receiverPhone:e.receiverPhone,receiverLocation:e.receiverLocation||"",accountDetails:e.accountDetails||"",isActive:!1!==e.isActive})})(e),className:"p-2 text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded transition",children:(0,xr.jsx)(jh,{className:"w-4 h-4"})}),(0,xr.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this payment receiver?"))try{const t=localStorage.getItem("token"),r=Q.filter(t=>t._id!==e);await i.A.put("/api/instructor/payment-receivers",{paymentReceivers:r},{headers:{Authorization:"Bearer ".concat(t)}}),$(r),er.success("Payment receiver deleted")}catch(t){er.error("Failed to delete receiver")}})(e._id),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition",children:(0,xr.jsx)(kh,{className:"w-4 h-4"})})]})]})},e._id)})}),ne&&(0,xr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!ie.paymentMethod||!ie.receiverName||!ie.receiverPhone)return void er.error("Please fill in all required fields");if(/^09\d{8}$/.test(ie.receiverPhone))try{g(!0);const e=localStorage.getItem("token"),t={providerKey:ie.paymentMethod,paymentMethod:ie.paymentMethod,receiverName:ie.receiverName,receiverEmail:ie.receiverEmail||"",receiverPhone:ie.receiverPhone,receiverLocation:ie.receiverLocation||"",accountDetails:ie.accountDetails||"",isActive:ie.isActive};let r;r=te?Q.map(e=>e._id===te._id?(0,Be.A)((0,Be.A)({},t),{},{_id:e._id}):e):[...Q,(0,Be.A)((0,Be.A)({},t),{},{_id:Date.now().toString()})],await i.A.put("/api/instructor/payment-receivers",{paymentReceivers:r},{headers:{Authorization:"Bearer ".concat(e)}}),$(r),se(!1),re(null),er.success(te?"Receiver updated":"Receiver added")}catch(t){er.error("Failed to save receiver")}finally{g(!1)}else er.error("Phone number must start with 09 and be exactly 10 digits (e.g., 0912345678)")},className:"mt-6 border-t border-gray-200 dark:border-gray-700 pt-6",children:[(0,xr.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:[te?"Edit":"Add"," Payment Receiver"]}),(0,xr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Payment Method *"}),(0,xr.jsxs)("select",{name:"paymentMethod",value:ie.paymentMethod,onChange:et,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,xr.jsx)("option",{value:"",children:"Select method..."}),le.length>0?le.map(e=>(0,xr.jsx)("option",{value:e.key,children:e.name},e.key)):(0,xr.jsx)("option",{value:"other",children:"Other"})]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Receiver Name *"}),(0,xr.jsx)("input",{type:"text",name:"receiverName",value:ie.receiverName,onChange:et,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),(0,xr.jsx)("input",{type:"email",name:"receiverEmail",value:ie.receiverEmail,onChange:et,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number *"}),(0,xr.jsx)("input",{type:"text",name:"receiverPhone",value:ie.receiverPhone,onChange:et,placeholder:"0912345678",pattern:"09\\d{8}",maxLength:"10",required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),(0,xr.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Must start with 09 and be exactly 10 digits"})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Location"}),(0,xr.jsx)("input",{type:"text",name:"receiverLocation",value:ie.receiverLocation,onChange:et,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,xr.jsxs)("div",{className:"md:col-span-2",children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Account Details"}),(0,xr.jsx)("textarea",{name:"accountDetails",value:ie.accountDetails,onChange:et,rows:2,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,xr.jsxs)("div",{className:"md:col-span-2 flex items-center",children:[(0,xr.jsx)("input",{type:"checkbox",name:"isActive",checked:ie.isActive,onChange:et,className:"mr-2"}),(0,xr.jsx)("label",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Active"})]})]}),(0,xr.jsxs)("div",{className:"flex justify-end gap-2 mt-4",children:[(0,xr.jsx)("button",{type:"button",onClick:()=>se(!1),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancel"}),(0,xr.jsx)("button",{type:"submit",disabled:p,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50 save-settings-btn",children:p?"Saving...":"Save"})]})]})]})}),"agreement"===d&&(0,xr.jsxs)("div",{className:"space-y-6",children:[(null===Z||void 0===Z?void 0:Z.signupAgreement)&&(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[(0,xr.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Initial Signup Agreement"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Your original instructor application agreement"}),(0,xr.jsx)("div",{className:"p-4 rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50",children:(0,xr.jsx)("div",{className:"flex items-start justify-between",children:(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,xr.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:"Signup Agreement"}),(0,xr.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat("approved"===Z.signupAgreement.status?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"pending"===Z.signupAgreement.status?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"),children:Z.signupAgreement.status}),(0,xr.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(Ke?"bg-gray-200 text-gray-600 dark:bg-gray-700 dark:text-gray-400":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400"),children:Ke?"INACTIVE":"ACTIVE"})]}),(0,xr.jsxs)("div",{className:"mb-3",children:[(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Agreement Date"}),(0,xr.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:new Date(Z.signupAgreement.agreedAt).toLocaleDateString()})]}),Z.signupAgreement.introductionVideo&&(0,xr.jsx)("div",{className:"mb-3",children:(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"\u2713 Introduction video submitted"})}),Z.signupAgreement.agreementPdfUrl&&(0,xr.jsxs)("button",{onClick:async()=>{try{const e=localStorage.getItem("token"),t=await fetch(Z.signupAgreement.agreementPdfUrl,{headers:{Authorization:"Bearer ".concat(e)}});if(!t.ok)throw new Error("File not available on server");const r=await t.blob(),a=window.URL.createObjectURL(r),n=document.createElement("a");n.href=a;const s=Z.signupAgreement.agreementPdfUrl.split("/").pop()||"agreement.pdf";n.download=s,document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(a),er.success("Agreement downloaded successfully")}catch(e){console.error("Download error:",e),er.error(e.message||"Failed to download agreement")}},className:"inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[(0,xr.jsx)(Vm,{className:"w-4 h-4"}),"Download Agreement PDF"]})]})})})]}),null!==Z&&void 0!==Z&&Z.recentAgreements&&Z.recentAgreements.length>0?(0,xr.jsx)(xr.Fragment,{children:(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[(0,xr.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Revenue Split Agreements"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"View and download your current revenue sharing agreements"}),(0,xr.jsx)("div",{className:"space-y-4",children:Z.recentAgreements.map(e=>(0,xr.jsx)("div",{className:"p-4 rounded-lg border ".concat(e.isActive&&"approved"===e.status?"border-green-300 dark:border-green-700 bg-green-50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"),children:(0,xr.jsxs)("div",{className:"flex items-start justify-between",children:[(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,xr.jsxs)("span",{className:"font-semibold text-gray-900 dark:text-white",children:["Version ",e.version]}),(0,xr.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat("custom"===e.agreementType?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400"),children:e.agreementType}),(0,xr.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat("approved"===e.status?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"pending"===e.status?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"),children:e.status}),e.isActive&&"approved"===e.status&&(0,xr.jsx)("span",{className:"px-2 py-1 text-xs font-bold rounded-full bg-green-500 text-white",children:"ACTIVE"})]}),(0,xr.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-2",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Your Share"}),(0,xr.jsxs)("p",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:[e.instructorPercentage,"%"]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Platform Share"}),(0,xr.jsxs)("p",{className:"text-lg font-bold text-purple-600 dark:text-purple-400",children:[e.platformPercentage,"%"]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Date"}),(0,xr.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:new Date(e.createdAt).toLocaleDateString()})]})]})]}),e.pdfUrl&&(0,xr.jsxs)("a",{href:e.pdfUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 ml-4",children:[(0,xr.jsx)(Vm,{className:"w-4 h-4"}),"Download PDF"]})]})},e._id))})]})}):!(null!==Z&&void 0!==Z&&Z.signupAgreement)&&(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-12 text-center",children:[(0,xr.jsx)(Um,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,xr.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No Agreements Found"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Your instructor agreements will appear here once they're generated."})]})]})]})})},Ky=()=>{var e,t;const{t:r,i18n:n}=(0,ar.useTranslation)(),{user:s,setUser:o,logout:l}=wr(),c=ae(),[d,u]=(0,a.useState)(!0),[m,h]=(0,a.useState)(!1),[p,g]=(0,a.useState)(null),[x,f]=(0,a.useState)(null),[y,v]=(0,a.useState)(!1),[b,w]=(0,a.useState)(""),[j,k]=(0,a.useState)(!1),[N,C]=(0,a.useState)({name:"",email:"",phone:"",bio:"",aboutMe:"",jobRole:"Learner",avatar:""}),[A,S]=(0,a.useState)({emailChangeCount:0,phoneChangeCount:0}),[E,D]=(0,a.useState)(!1),[P,T]=(0,a.useState)(""),[_,R]=(0,a.useState)(""),[O,F]=(0,a.useState)(!1),[L,M]=(0,a.useState)(0),[I,B]=(0,a.useState)(!1),[q,z]=(0,a.useState)(!1),[U,V]=(0,a.useState)(""),[Y,W]=(0,a.useState)(!1),[H,G]=(0,a.useState)(!1),K="rtl"===n.dir();(0,a.useEffect)(()=>{Q()},[]);const Q=async()=>{try{var e;if(u(!0),"suspended"===(null===s||void 0===s?void 0:s.status)&&null!==s&&void 0!==s&&null!==(e=s.restrictions)&&void 0!==e&&e.changeSettings)return er.error("Your account is suspended. You cannot access settings."),void c("/student");const t=localStorage.getItem("token"),r=(await i.A.get("/api/users/profile",{headers:{Authorization:"Bearer ".concat(t)}})).data.user;C({name:r.name||"",email:r.email||"",phone:r.phone||"",bio:r.bio||"",aboutMe:r.aboutMe||"",jobRole:r.jobRole||"Learner",avatar:r.avatar||""}),f(r.avatar||null),S({emailChangeCount:r.emailChangeCount||0,phoneChangeCount:r.phoneChangeCount||0})}catch(t){console.error("Error fetching profile:",t),er.error(r("failedToLoadProfile"))}finally{u(!1)}},$=e=>{const{name:t,value:r}=e.target;C(e=>(0,Be.A)((0,Be.A)({},e),{},{[t]:r}))};(0,a.useEffect)(()=>{if(L<=0)return;const e=setInterval(()=>{M(e=>e>0?e-1:0)},1e3);return()=>clearInterval(e)},[L]);return d?(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:(0,xr.jsxs)("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,xr.jsxs)("div",{className:"mb-8",children:[(0,xr.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:r("studentSettings")}),(0,xr.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:r("manageProfileAndPreferences")})]}),(0,xr.jsxs)("form",{onSubmit:async e=>{var t;if(e.preventDefault(),"suspended"===(null===s||void 0===s?void 0:s.status)&&null!==s&&void 0!==s&&null!==(t=s.restrictions)&&void 0!==t&&t.changeProfile)er.error("Your account is suspended. You cannot change your profile information.");else try{h(!0);const e=localStorage.getItem("token"),t=new FormData;t.append("name",N.name),t.append("email",N.email),t.append("phone",N.phone),t.append("bio",N.bio),t.append("aboutMe",N.aboutMe),t.append("jobRole",N.jobRole),p&&t.append("avatar",p);const r=await i.A.put("/api/users/profile",t,{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"multipart/form-data"}});o&&r.data.user&&o(r.data.user),er.success("Profile updated successfully"),g(null)}catch(n){var r,a;console.error("Error updating profile:",n),er.error((null===(r=n.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Failed to update profile")}finally{h(!1)}},className:"space-y-6",children:[(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[(0,xr.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:r("profileInformation")}),(0,xr.jsxs)("div",{className:"space-y-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r("profilePicture")}),(0,xr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,xr.jsx)("div",{className:"relative",children:x?(0,xr.jsx)("img",{src:x,alt:r("avatarPreview"),className:"w-24 h-24 rounded-full object-cover border-2 border-gray-300 dark:border-gray-600"}):(0,xr.jsx)("div",{className:"w-24 h-24 rounded-full bg-indigo-600 flex items-center justify-center text-white text-3xl font-bold",children:(null===(e=N.name)||void 0===e||null===(t=e.charAt(0))||void 0===t?void 0:t.toUpperCase())||"S"})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("input",{type:"file",id:"avatar",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){if(t.size>5242880)return void er.error(r("imageMustBeLess5MB"));if(!t.type.startsWith("image/"))return void er.error(r("pleaseSelectImage"));g(t),f(URL.createObjectURL(t))}},className:"hidden"}),(0,xr.jsx)("label",{htmlFor:"avatar",className:"cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:r("chooseImage")}),(0,xr.jsx)("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:r("imageRequirements")})]})]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r("name")}),(0,xr.jsx)("input",{type:"text",name:"name",value:N.name,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed",required:!0}),(0,xr.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:r("nameCanOnlyBeChanged")})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r("email")}),(0,xr.jsx)("input",{type:"email",name:"email",value:N.email,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed",required:!0}),(0,xr.jsxs)("div",{className:"mt-1 flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[(0,xr.jsx)("span",{children:r("emailChangeableOnce")||"Email (changeable once)"}),(0,xr.jsxs)("span",{children:[r("emailChangesRemaining")||"Email changes remaining",": ",Math.max(0,1-(A.emailChangeCount||0))]})]}),(0,xr.jsx)("button",{type:"button",onClick:()=>D(!0),disabled:A.emailChangeCount>=1,className:"mt-2 inline-flex items-center px-3 py-1.5 border border-indigo-500 text-indigo-600 dark:text-indigo-300 rounded-md text-xs hover:bg-indigo-50 dark:hover:bg-indigo-900/20 disabled:opacity-50 disabled:cursor-not-allowed",children:r("changeEmail")||"Change Email"})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r("phone")}),(0,xr.jsx)("input",{type:"tel",name:"phone",value:N.phone,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}),(0,xr.jsxs)("div",{className:"mt-1 flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[(0,xr.jsx)("span",{children:r("phoneChangeableOnce")||"Phone number (changeable once)"}),(0,xr.jsxs)("span",{children:[r("phoneChangesRemaining")||"Phone changes remaining",": ",Math.max(0,1-(A.phoneChangeCount||0))]})]}),(0,xr.jsx)("button",{type:"button",onClick:()=>z(!0),disabled:A.phoneChangeCount>=1,className:"mt-2 inline-flex items-center px-3 py-1.5 border border-indigo-500 text-indigo-600 dark:text-indigo-300 rounded-md text-xs hover:bg-indigo-50 dark:hover:bg-indigo-900/20 disabled:opacity-50 disabled:cursor-not-allowed",children:r("changePhoneNumber")||"Change Phone Number"})]}),(0,xr.jsxs)("div",{className:"mt-2 rounded-md bg-yellow-50 dark:bg-yellow-900/30 px-3 py-2 flex items-start space-x-2",children:[(0,xr.jsx)($h,{className:"w-4 h-4 text-yellow-600 dark:text-yellow-400 mt-0.5"}),(0,xr.jsx)("p",{className:"text-xs text-yellow-800 dark:text-yellow-200",children:r("studentEmailUsernameWarning")||"Note: You can change your email one time only. Your username appears on your certificates, so make sure it is correct before requesting changes."})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r("jobRole")}),(0,xr.jsx)("input",{type:"text",name:"jobRole",value:N.jobRole,onChange:$,maxLength:100,placeholder:r("jobRolePlaceholder"),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r("shortBio")}),(0,xr.jsx)("textarea",{name:"bio",value:N.bio,onChange:$,rows:3,maxLength:500,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:r("bioBriefIntro")}),(0,xr.jsxs)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:[N.bio.length,"/500 ",r("charactersCount")]})]})]})]}),(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[(0,xr.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:r("aboutMeDetailed")}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:r("shareMoreAboutYourself")}),(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-700 rounded-md quill-editor-dark",children:[(0,xr.jsx)(Hy(),{theme:"snow",value:N.aboutMe,onChange:e=>{C(t=>(0,Be.A)((0,Be.A)({},t),{},{aboutMe:e}))},modules:{toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{color:[]},{background:[]}],["link"],["clean"]]},className:"dark:text-white",style:{minHeight:"200px"}}),(0,xr.jsx)("style",{children:"\n                .quill-editor-dark .ql-toolbar {\n                  background: white;\n                  border-color: #d1d5db;\n                }\n                .dark .quill-editor-dark .ql-toolbar {\n                  background: #374151;\n                  border-color: #4b5563;\n                }\n                .dark .quill-editor-dark .ql-stroke {\n                  stroke: #e5e7eb;\n                }\n                .dark .quill-editor-dark .ql-fill {\n                  fill: #e5e7eb;\n                }\n                .dark .quill-editor-dark .ql-picker-label {\n                  color: #e5e7eb;\n                }\n                .dark .quill-editor-dark .ql-picker-options {\n                  background: #374151;\n                  border-color: #4b5563;\n                }\n                .dark .quill-editor-dark .ql-picker-item {\n                  color: #e5e7eb;\n                }\n                .dark .quill-editor-dark .ql-editor {\n                  background: #1f2937;\n                  color: #e5e7eb;\n                }\n              "})]})]}),(0,xr.jsx)("div",{className:"flex justify-end",children:(0,xr.jsxs)("button",{type:"submit",disabled:m,className:"px-6 py-3 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition flex items-center",children:[m&&(0,xr.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,xr.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,xr.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r("saveSettings")]})})]}),E&&(0,xr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full p-6 ".concat(K?"text-right":""),dir:K?"rtl":"ltr",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-4 ".concat(K?"flex-row-reverse":""),children:[(0,xr.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:r("changeEmail")||"Change Email"}),(0,xr.jsx)("button",{type:"button",onClick:()=>{D(!1),T(""),R(""),G(!1)},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 text-xl leading-none",children:"\xd7"})]}),(0,xr.jsxs)("div",{className:"space-y-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r("newEmail")||"New Email"}),(0,xr.jsx)("input",{type:"email",value:P,onChange:e=>T(e.target.value),placeholder:r("enterNewEmail")||"Enter your new email",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,xr.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,xr.jsx)("div",{className:"flex items-center justify-between space-x-3",children:(0,xr.jsx)("button",{type:"button",onClick:async()=>{if(!P)return void er.error(r("enterNewEmail")||"Please enter a new email");const e=P.trim();if(/^\S+@\S+\.\S+$/.test(e))try{var t;F(!0);const a=localStorage.getItem("token"),n=await i.A.post("/api/users/change-email/request",{newEmail:e},{headers:{Authorization:"Bearer ".concat(a)}});G(!0);const s=null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.cooldownRemainingSeconds;M("number"===typeof s&&s>0?s:60),er.success(r("verificationCodeSent")||"Verification code sent")}catch(s){var a,n;console.error("Error sending verification code:",s);const e=null===s||void 0===s||null===(a=s.response)||void 0===a?void 0:a.status,t=null===s||void 0===s||null===(n=s.response)||void 0===n?void 0:n.data;if(429===e&&"number"===typeof(null===t||void 0===t?void 0:t.cooldownRemainingSeconds)){const e=t.cooldownRemainingSeconds;M(e),er.error(r("youCanRequestNewCodeIn",{seconds:e})||(null===t||void 0===t?void 0:t.message)||"Please wait before requesting a new verification code.")}else er.error((null===t||void 0===t?void 0:t.message)||r("failedToSendVerificationCode")||"Failed to send verification code")}finally{F(!1)}else er.error(r("invalidEmailFormat")||"Please enter a valid email address.")},disabled:O||A.emailChangeCount>=1||L>0,className:"flex-1 px-3 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:O?r("sendingCode")||"Sending code...":r("sendVerificationCode")||"Send Verification Code"})}),L>0&&(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:r("youCanRequestNewCodeIn",{seconds:L})||"You can request a new code in ".concat(L," seconds.")})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r("verificationCode")||"Verification Code"}),(0,xr.jsx)("input",{type:"text",value:_,onChange:e=>R(e.target.value),placeholder:r("enterVerificationCode")||"Enter the 6-digit code",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500"}),H&&(0,xr.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:r("verificationCodeSentHint")||"A verification code was sent to your new email and is valid for 10 minutes."})]}),(0,xr.jsxs)("div",{className:"flex justify-end space-x-3 mt-2",children:[(0,xr.jsx)("button",{type:"button",onClick:()=>{D(!1),T(""),R(""),G(!1)},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 text-sm",children:r("cancel")}),(0,xr.jsx)("button",{type:"button",onClick:async()=>{const e=(P||"").trim(),t=(_||"").trim();if(e&&t)try{var a;B(!0);const n=localStorage.getItem("token"),s=await i.A.post("/api/users/change-email/verify",{newEmail:e,verificationCode:t},{headers:{Authorization:"Bearer ".concat(n)}}),l=null===s||void 0===s||null===(a=s.data)||void 0===a?void 0:a.user;l&&(o&&o(l),C(e=>(0,Be.A)((0,Be.A)({},e),{},{email:l.email||e.email})),S(e=>(0,Be.A)((0,Be.A)({},e),{},{emailChangeCount:"number"===typeof l.emailChangeCount?l.emailChangeCount:(e.emailChangeCount||0)+1}))),er.success(r("emailChangedSuccessfully")||"Email changed successfully"),D(!1),T(""),R(""),G(!1)}catch(l){var n,s;const e=null===l||void 0===l||null===(n=l.response)||void 0===n||null===(s=n.data)||void 0===s?void 0:s.message;"You have already changed your email once"===e?er.error(r("youHaveAlreadyChangedEmailOnce")||e):"Invalid verification code"===e?er.error(r("invalidVerificationCode")||e):"Verification code has expired. Please request a new code."===e?er.error(r("verificationCodeExpired")||e):er.error(r("failedToVerifyEmail")||e||"Failed to verify email change")}finally{B(!1)}else er.error(r("enterVerificationCode")||"Please enter your new email and verification code")},disabled:I,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:I?r("verifying")||"Verifying...":r("verifyEmail")||"Verify Email"})]})]})]})}),q&&(0,xr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full p-6 ".concat(K?"text-right":""),dir:K?"rtl":"ltr",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-4 ".concat(K?"flex-row-reverse":""),children:[(0,xr.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:r("changePhoneNumber")||"Change Phone Number"}),(0,xr.jsx)("button",{type:"button",onClick:()=>{z(!1),V("")},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 text-xl leading-none",children:"\xd7"})]}),(0,xr.jsxs)("div",{className:"space-y-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r("phone")}),(0,xr.jsxs)("div",{className:"flex",children:[(0,xr.jsx)("span",{className:"inline-flex items-center px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-l-md bg-gray-50 dark:bg-gray-700 text-gray-700 dark:text-gray-200 text-sm",children:"+963"}),(0,xr.jsx)("input",{type:"tel",value:U,onChange:e=>{const t=e.target.value.replace(/\D/g,"").slice(0,10);V(t)},placeholder:r("enterNewPhone")||"Enter your new phone number (09xxxxxxxx)",className:"flex-1 px-3 py-2 border border-l-0 border-gray-300 dark:border-gray-600 rounded-r-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,xr.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:r("phoneMustStartWith09")||"Phone number must be 10 digits starting with 09"})]}),(0,xr.jsxs)("div",{className:"flex justify-end space-x-3 mt-2",children:[(0,xr.jsx)("button",{type:"button",onClick:()=>{z(!1),V("")},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 text-sm",children:r("cancel")}),(0,xr.jsx)("button",{type:"button",onClick:async()=>{const e=(U||"").trim();if(!e)return void er.error(r("phone")||"Phone number is required");if(/^09\d{8}$/.test(e))try{var t;W(!0);const a=localStorage.getItem("token"),n=new FormData;n.append("phone",e);const s=await i.A.put("/api/users/profile",n,{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"multipart/form-data"}}),l=null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t.user;l&&(o&&o(l),C(e=>(0,Be.A)((0,Be.A)({},e),{},{phone:l.phone||e.phone})),S(e=>(0,Be.A)((0,Be.A)({},e),{},{phoneChangeCount:"number"===typeof l.phoneChangeCount?l.phoneChangeCount:(e.phoneChangeCount||0)+1}))),er.success(r("phoneChangedSuccessfully")||"Phone number updated successfully"),z(!1),V("")}catch(s){var a,n;const e=null===s||void 0===s||null===(a=s.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message;"Phone number already exists"===e?er.error(r("phoneNumberAlreadyExists")||e):"You have already changed your phone number"===e?er.error(r("youHaveAlreadyChangedPhoneNumber")||e):"Phone number must be 10 digits starting with 09"===e?er.error(r("phoneMustStartWith09")||e):er.error(r("failedToChangePhone")||e||"Failed to change phone number")}finally{W(!1)}else er.error(r("phoneMustStartWith09")||"Phone number must be 10 digits starting with 09")},disabled:Y,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:Y?r("updating")||"Updating...":r("confirmPhoneChange")||"Confirm Phone Change"})]})]})]})}),(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mt-6 border-2 border-red-200 dark:border-red-900",children:[(0,xr.jsxs)("div",{className:"flex items-start space-x-3 mb-4",children:[(0,xr.jsx)($h,{className:"w-6 h-6 text-red-600 flex-shrink-0 mt-1"}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h2",{className:"text-xl font-bold text-red-600 dark:text-red-400",children:r("dangerZone")}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:r("irreversibleActions")})]})]}),(0,xr.jsx)("div",{className:"border-t border-red-200 dark:border-red-900 pt-4",children:(0,xr.jsxs)("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4",children:[(0,xr.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:r("deleteAccount")}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:r("permanentlyDeleteAccount")}),(0,xr.jsxs)("button",{onClick:()=>v(!0),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition flex items-center space-x-2",children:[(0,xr.jsx)($h,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:r("deleteMyAccount")})]})]})})]}),y&&(0,xr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full p-6",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,xr.jsx)("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center",children:(0,xr.jsx)($h,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}),(0,xr.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:r("deleteAccountConfirmTitle")})]}),(0,xr.jsxs)("div",{className:"mb-6",children:[(0,xr.jsx)("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:r("thisActionPermanent")}),(0,xr.jsxs)("ul",{className:"list-disc list-inside text-sm text-gray-600 dark:text-gray-400 space-y-1 mb-4",children:[(0,xr.jsx)("li",{children:r("profileInfo")}),(0,xr.jsx)("li",{children:r("courseEnrollments")}),(0,xr.jsx)("li",{children:r("certificatesData")}),(0,xr.jsx)("li",{children:r("progressAndGrades")}),(0,xr.jsx)("li",{children:r("messagesAndNotifications")})]}),(0,xr.jsx)("p",{className:"text-gray-700 dark:text-gray-300 font-semibold",children:r("willBePermanentlyDeleted")})]}),(0,xr.jsxs)("div",{className:"mb-6",children:[(0,xr.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[r("typeToConfirm")," ",(0,xr.jsxs)("span",{className:"font-bold text-red-600",children:['"',r("deleteMyAccountCaps"),'"']})," ",r("toConfirm")]}),(0,xr.jsx)("input",{type:"text",value:b,onChange:e=>w(e.target.value),placeholder:r("deleteMyAccountCaps"),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-red-500"})]}),(0,xr.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,xr.jsx)("button",{onClick:()=>{v(!1),w("")},disabled:j,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:r("cancel")}),(0,xr.jsx)("button",{onClick:async()=>{if("DELETE MY ACCOUNT"===b)try{k(!0);const e=localStorage.getItem("token");await i.A.delete("/api/users/account",{headers:{Authorization:"Bearer ".concat(e)}}),er.success("Account deleted successfully"),l()}catch(a){var e,t;console.error("Error deleting account:",a),er.error((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to delete account")}finally{k(!1)}else er.error(r("pleaseTypeToConfirm"))},disabled:"DELETE MY ACCOUNT"!==b||j,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:j?(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsxs)("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,xr.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,xr.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,xr.jsx)("span",{children:r("deleting")})]}):(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)($h,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:r("deleteAccount")})]})})]})]})})]})})},Qy=(0,nr.A)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),$y=(0,nr.A)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Xy=(0,nr.A)("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]),Jy=(0,nr.A)("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),Zy=(0,nr.A)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),ev=()=>{var e;const{t:t}=(0,ar.useTranslation)(),r=ae(),{user:n,weakPassword:s}=wr(),{connected:o,socket:l}=jg()||{},[c,d]=(0,a.useState)({totalStudents:0,totalInstructors:0,totalCourses:0,totalEnrollments:0}),[u,m]=(0,a.useState)([]),[h,p]=(0,a.useState)([]),[g,x]=(0,a.useState)([]),[f,y]=(0,a.useState)(!1),[v,b]=(0,a.useState)([]),[w,j]=(0,a.useState)(!0),[k,N]=(0,a.useState)([]),[C,A]=(0,a.useState)({payouts:0,studentPayments:0,deleteRequests:0,applications:0,agreements:0,pendingCourses:0}),S=Boolean(C.payouts||C.studentPayments||C.deleteRequests||C.applications||C.agreements||C.pendingCourses),E=!1!==(null===n||void 0===n||null===(e=n.preferences)||void 0===e?void 0:e.enablePendingActionsAnimations)&&S;(0,a.useEffect)(()=>{D()},[]),(0,a.useEffect)(()=>{if(!l)return;const e=e=>{e&&"object"===typeof e&&A(t=>(0,Be.A)((0,Be.A)({},t),e))};return l.on("admin.pending-updates",e),()=>{l.off("admin.pending-updates",e)}},[l]);const D=async()=>{try{var e;localStorage.getItem("token");const[t,r,a,n,s,o,l,c]=await Promise.all([i.A.get("/api/users/students"),i.A.get("/api/users/instructors"),i.A.get("/api/courses"),i.A.get("/api/groups"),i.A.get("/api/users/instructors/pending"),i.A.get("/api/courses/pending"),i.A.get("/api/courses/discounts/all"),i.A.get("/api/admin/pending-summary")]),u=t.data.students||[],h=r.data.instructors||[],g=a.data.courses||[],f=(n.data.groups||[]).reduce((e,t)=>e+t.students.filter(e=>"pending"===e.status).length,0);d({students:u.length,instructors:h.length,courses:g.length,pendingEnrollments:f}),m(s.data.instructors||[]),p(o.data.courses||[]),x(l.data.discounts||l.data.courses||[]);const y=(null===(e=c.data)||void 0===e?void 0:e.data)||{};A(e=>(0,Be.A)((0,Be.A)({},e),y)),b([{type:"enrollment",message:"New student enrolled in JavaScript Course",time:"2 hours ago",status:"pending"},{type:"course",message:'New course "Python for Beginners" created',time:"4 hours ago",status:"success"},{type:"user",message:'New instructor "John Doe" registered',time:"6 hours ago",status:"success"},{type:"enrollment",message:"Student completed React Course",time:"8 hours ago",status:"success"}])}catch(t){console.error("Error fetching data:",t)}finally{j(!1)}};return w?(0,xr.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s&&("admin"===(null===n||void 0===n?void 0:n.role)||"instructor"===(null===n||void 0===n?void 0:n.role))&&(0,xr.jsxs)("div",{className:"mb-4 px-4 py-2 rounded-md border border-yellow-100 dark:border-yellow-900/40 bg-yellow-50/60 dark:bg-yellow-950/40 text-yellow-900 dark:text-yellow-200 text-sm flex items-center justify-between",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,xr.jsx)("span",{className:"text-base",children:"\u26a0\ufe0f"}),(0,xr.jsx)("span",{children:"Your password is considered weak. For stronger protection, please update it from your profile settings."})]}),(0,xr.jsx)(Oe,{to:"/profile",className:"ml-4 inline-flex items-center px-3 py-1.5 rounded-md bg-yellow-600 text-white text-xs font-medium hover:bg-yellow-700",children:"Update"})]}),(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8",children:[(0,xr.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:[t("welcomeTitle"),", ",null===n||void 0===n?void 0:n.name,"!"]}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your academy and oversee all operations"})]}),"admin"===(null===n||void 0===n?void 0:n.role)&&(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:10},animate:(0,Be.A)({opacity:1,y:0},E?{boxShadow:["0 0 0 0 rgba(129, 140, 248, 0)","0 0 0 10px rgba(129, 140, 248, 0.35)","0 0 0 0 rgba(129, 140, 248, 0)"]}:{}),transition:E?{opacity:{duration:.4,ease:"easeOut"},y:{duration:.4,ease:"easeOut"},boxShadow:{duration:2.2,repeat:1/0,repeatType:"mirror",ease:"easeInOut"}}:{duration:.4,ease:"easeOut"},className:"sticky top-0 z-30 mb-6 rounded-md px-4 py-2 text-sm md:text-base flex flex-wrap items-center gap-3 border ".concat(S?"bg-gradient-to-r from-indigo-50 via-sky-50 to-purple-50 dark:from-indigo-900/40 dark:via-slate-900/60 dark:to-purple-900/40 text-indigo-950 dark:text-indigo-50 border-indigo-500 dark:border-indigo-400 shadow-lg":"bg-gray-100 dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-200"),children:S?(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsxs)("span",{className:"font-bold text-base md:text-lg flex items-center gap-2 tracking-wide",children:[(0,xr.jsx)($h,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:"Pending actions:"})]}),(0,xr.jsxs)("button",{type:"button",onClick:()=>r("/admin/instructor-payments"),className:"inline-flex items-center gap-1 text-xs px-2 py-1 rounded-full bg-yellow-100 dark:bg-yellow-900/40 text-yellow-800 dark:text-yellow-200 hover:bg-yellow-200 dark:hover:bg-yellow-800 transition-colors",children:[(0,xr.jsx)("span",{className:"font-extrabold text-red-200 md:text-red-300 text-lg leading-none",children:C.payouts}),(0,xr.jsx)("span",{children:"instructor payouts"})]}),(0,xr.jsxs)("button",{type:"button",onClick:()=>r("/admin/payment-verification"),className:"inline-flex items-center gap-1 text-xs px-2 py-1 rounded-full bg-blue-100 dark:bg-blue-900/40 text-blue-800 dark:text-blue-200 hover:bg-blue-200 dark:hover:bg-blue-800 transition-colors",children:[(0,xr.jsx)("span",{className:"font-extrabold text-red-200 md:text-red-300 text-lg leading-none",children:C.studentPayments}),(0,xr.jsx)("span",{children:"student payments"})]}),(0,xr.jsxs)("button",{type:"button",onClick:()=>r("/admin/delete-requests"),className:"inline-flex items-center gap-1 text-xs px-2 py-1 rounded-full bg-red-100 dark:bg-red-900/40 text-red-800 dark:text-red-200 hover:bg-red-200 dark:hover:bg-red-800 transition-colors",children:[(0,xr.jsx)("span",{className:"font-extrabold text-red-200 md:text-red-300 text-lg leading-none",children:C.deleteRequests}),(0,xr.jsx)("span",{children:"delete requests"})]}),C.pendingCourses>0&&(0,xr.jsxs)("button",{type:"button",onClick:()=>r("/admin/courses"),className:"inline-flex items-center gap-1 text-xs px-2 py-1 rounded-full bg-emerald-100 dark:bg-emerald-900/40 text-emerald-800 dark:text-emerald-200 hover:bg-emerald-200 dark:hover:bg-emerald-800 transition-colors",children:[(0,xr.jsx)("span",{className:"font-extrabold text-red-200 md:text-red-300 text-lg leading-none",children:C.pendingCourses}),(0,xr.jsx)("span",{children:"pending course approvals"})]}),(0,xr.jsxs)("button",{type:"button",onClick:()=>r("/admin/instructor-applications"),className:"inline-flex items-center gap-1 text-xs px-2 py-1 rounded-full bg-purple-100 dark:bg-purple-900/40 text-purple-800 dark:text-purple-200 hover:bg-purple-200 dark:hover:bg-purple-800 transition-colors",children:[(0,xr.jsx)("span",{className:"font-extrabold text-red-200 md:text-red-300 text-lg leading-none",children:C.applications}),(0,xr.jsx)("span",{children:"instructor applications"})]}),(0,xr.jsxs)("button",{type:"button",onClick:()=>r("/admin/instructor-agreements"),className:"inline-flex items-center gap-1 text-xs px-2 py-1 rounded-full bg-indigo-100 dark:bg-indigo-900/40 text-indigo-800 dark:text-indigo-200 hover:bg-indigo-200 dark:hover:bg-indigo-800 transition-colors",children:[(0,xr.jsx)("span",{className:"font-extrabold text-red-200 md:text-red-300 text-lg leading-none",children:C.agreements}),(0,xr.jsx)("span",{children:"rejected agreements"})]})]}):(0,xr.jsxs)("span",{className:"flex items-center gap-2",children:[(0,xr.jsx)("span",{role:"img","aria-label":"no pending",children:"\ud83c\udf89"}),(0,xr.jsx)("span",{children:"No pending actions"})]})}),(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[{title:"Total Students",value:c.students,icon:(0,xr.jsx)(Xc,{className:"w-6 h-6"}),color:"bg-blue-500",borderColor:"border-blue-500/60 dark:border-blue-400/60",change:"+12%"},{title:"Instructors",value:c.instructors,icon:(0,xr.jsx)(Qy,{className:"w-6 h-6"}),color:"bg-green-500",borderColor:"border-green-500/60 dark:border-green-400/60",change:"+5%"},{title:"Active Courses",value:c.courses,icon:(0,xr.jsx)(Ra,{className:"w-6 h-6"}),color:"bg-purple-500",borderColor:"border-purple-500/60 dark:border-purple-400/60",change:"+8%"},{title:"Pending Enrollments",value:c.pendingEnrollments,icon:(0,xr.jsx)(Zc,{className:"w-6 h-6"}),color:"bg-yellow-500",borderColor:"border-yellow-500/60 dark:border-yellow-400/60",change:"3 new"}].map((e,t)=>(0,xr.jsx)("div",{className:"card border-2 ".concat(e.borderColor||"border-gray-200 dark:border-gray-700"),children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:e.title}),(0,xr.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.value}),(0,xr.jsx)("p",{className:"text-xs text-green-600 dark:text-green-400",children:e.change})]}),(0,xr.jsx)("div",{className:"p-3 rounded-lg ".concat(e.color," text-white"),children:e.icon})]})},t))}),(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mb-8",children:[(0,xr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Quick Actions"}),(0,xr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,xr.jsx)(Oe,{to:"/admin/students",className:"card hover:shadow-lg transition-shadow duration-300 border-2 border-blue-200 dark:border-blue-700",children:(0,xr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,xr.jsx)("div",{className:"flex-shrink-0 p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,xr.jsx)(Xc,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Manage Students"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"View and manage student accounts"})]})]})}),(0,xr.jsx)(Oe,{to:"/admin/youtube-videos",className:"card hover:shadow-lg transition-shadow duration-300 border-2 border-indigo-200 dark:border-indigo-700",children:(0,xr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,xr.jsx)("div",{className:"flex-shrink-0 p-3 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg",children:(0,xr.jsx)($y,{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400"})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Hosted Video Library"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Review and manage video lifecycle"})]})]})}),(0,xr.jsx)(Oe,{to:"/admin/youtube-configuration",className:"card hover:shadow-lg transition-shadow duration-300 border-2 border-red-200 dark:border-red-700",children:(0,xr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,xr.jsx)("div",{className:"flex-shrink-0 p-3 bg-red-100 dark:bg-red-900/30 rounded-lg",children:(0,xr.jsx)("svg",{className:"w-6 h-6 text-red-600 dark:text-red-400",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",children:(0,xr.jsx)("path",{d:"M23.498 6.186a2.99 2.99 0 0 0-2.104-2.116C19.516 3.5 12 3.5 12 3.5s-7.516 0-9.394.57A2.99 2.99 0 0 0 .502 6.186C0 8.072 0 12 0 12s0 3.928.502 5.814a2.99 2.99 0 0 0 2.104 2.116C4.484 20.5 12 20.5 12 20.5s7.516 0 9.394-.57a2.99 2.99 0 0 0 2.104-2.116C24 15.928 24 12 24 12s0-3.928-.502-5.814zM9.75 15.5v-7l6.5 3.5-6.5 3.5z"})})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"YouTube Configuration"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Connect & monitor platform uploads"})]})]})}),(0,xr.jsx)(Oe,{to:"/admin/telegram-files",className:"card hover:shadow-lg transition-shadow duration-300 border-2 border-blue-200 dark:border-blue-700",children:(0,xr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,xr.jsx)("div",{className:"flex-shrink-0 p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,xr.jsx)(Xy,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Telegram Files"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Audit & manage Telegram file lifecycle"})]})]})}),(0,xr.jsx)(Oe,{to:"/admin/delete-requests",className:"card hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 text-left border-2 border-red-200 dark:border-red-700",children:(0,xr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,xr.jsx)("div",{className:"flex-shrink-0 p-3 bg-red-100 dark:bg-red-900/30 rounded-lg",children:(0,xr.jsx)(Fm,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Delete Requests"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Review course & group delete requests from instructors"})]})]})}),(0,xr.jsx)(Oe,{to:"/admin/instructors",className:"card hover:shadow-lg transition-shadow duration-300 border-2 border-green-200 dark:border-green-700",children:(0,xr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,xr.jsx)("div",{className:"p-3 bg-green-100 dark:bg-green-900 rounded-lg",children:(0,xr.jsx)(Qy,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Manage Instructors"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Add and manage instructors"})]})]})}),(0,xr.jsx)(Oe,{to:"/admin/payment-verification",className:"card hover:shadow-lg transition-shadow duration-300 border-2 border-emerald-200 dark:border-emerald-700",children:(0,xr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,xr.jsx)("div",{className:"flex-shrink-0 p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:(0,xr.jsx)("svg",{className:"w-6 h-6 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Students Payments"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Verify student payments"})]})]})}),(0,xr.jsx)(Oe,{to:"/admin/instructor-payments",className:"card hover:shadow-lg transition-shadow duration-300 border-2 border-yellow-200 dark:border-yellow-700",children:(0,xr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,xr.jsx)("div",{className:"flex-shrink-0 p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:(0,xr.jsx)("svg",{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Instructor Payments"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Manage instructor payouts"})]})]})}),(0,xr.jsx)(Oe,{to:"/admin/payment-earnings",className:"card hover:shadow-lg transition-shadow duration-300 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 border-2 border-green-200 dark:border-green-700",children:(0,xr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,xr.jsx)("div",{className:"flex-shrink-0 p-3 bg-green-600 rounded-lg",children:(0,xr.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"\ud83d\udcb0 Payment Earnings"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Platform revenue dashboard"})]})]})}),(0,xr.jsx)(Oe,{to:"/admin/instructor-agreements",className:"card hover:shadow-lg transition-shadow duration-300 border-2 border-indigo-200 dark:border-indigo-700",children:(0,xr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,xr.jsx)("div",{className:"flex-shrink-0 p-3 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg",children:(0,xr.jsx)("svg",{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Instructors Agreement"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Manage instructor agreements and history"})]})]})}),(0,xr.jsx)(Oe,{to:"/admin/certificates",className:"card hover:shadow-lg transition-shadow duration-300 border-2 border-indigo-200 dark:border-indigo-700",children:(0,xr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,xr.jsx)("div",{className:"flex-shrink-0 p-3 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg",children:(0,xr.jsx)("svg",{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Certificate Management"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Manage all certificates"})]})]})}),(0,xr.jsx)(Oe,{to:"/admin/discounts",className:"card hover:shadow-lg transition-shadow duration-300 border-2 border-red-200 dark:border-red-700",children:(0,xr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,xr.jsx)("div",{className:"flex-shrink-0 p-3 bg-red-100 dark:bg-red-900/30 rounded-lg",children:(0,xr.jsx)(Jy,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Discount Management"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Manage course discounts"})]})]})}),(0,xr.jsx)(Oe,{to:"/admin/courses",className:"card hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 text-left border-2 border-purple-200 dark:border-purple-700",children:(0,xr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,xr.jsx)("div",{className:"p-3 bg-purple-100 dark:bg-purple-900 rounded-lg",children:(0,xr.jsx)(Ra,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Course Management"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"View, edit, and manage all courses"})]})]})}),(0,xr.jsx)(Oe,{to:"/admin/categories",className:"card hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 text-left border-2 border-orange-200 dark:border-orange-700",children:(0,xr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,xr.jsx)("div",{className:"p-3 bg-orange-100 dark:bg-orange-900 rounded-lg",children:(0,xr.jsx)(Jy,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Category Management"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Organize and manage course categories"})]})]})}),(0,xr.jsx)(Oe,{to:"/admin/levels",className:"card hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 text-left border-2 border-purple-200 dark:border-purple-700",children:(0,xr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,xr.jsx)("div",{className:"p-3 bg-purple-100 dark:bg-purple-900 rounded-lg",children:(0,xr.jsx)(Zy,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Level Management"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Organize and manage course difficulty levels"})]})]})}),(0,xr.jsx)(Oe,{to:"/admin/backup",className:"card hover:shadow-lg transition-shadow duration-300 border-2 border-indigo-200 dark:border-indigo-700",children:(0,xr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,xr.jsx)("div",{className:"flex-shrink-0 p-3 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg",children:(0,xr.jsx)($y,{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400"})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Backup Management"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Send full backups, restore from JSON, and run cleanup"})]})]})}),(0,xr.jsx)(Oe,{to:"/admin/instructor-applications",className:"card hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 text-left border-2 border-pink-200 dark:border-pink-700",children:(0,xr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,xr.jsx)("div",{className:"p-3 bg-pink-100 dark:bg-pink-900 rounded-lg",children:(0,xr.jsx)(Qy,{className:"w-6 h-6 text-pink-600 dark:text-pink-400"})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Instructor Applications"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Review and approve new instructors"})]})]})}),(0,xr.jsx)(Oe,{to:"/admin/global-settings",className:"card hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 text-left bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20 border-2 border-orange-200 dark:border-orange-700",children:(0,xr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,xr.jsx)("div",{className:"p-3 bg-orange-600 rounded-lg",children:(0,xr.jsx)(ur,{className:"w-6 h-6 text-white"})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"\u2699\ufe0f Global Settings"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Configure platform settings"})]})]})}),(0,xr.jsx)(Oe,{to:"/admin/gamification",className:"card hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 text-left bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-900/20 dark:to-yellow-800/20 border-2 border-yellow-200 dark:border-yellow-700",children:(0,xr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,xr.jsx)("div",{className:"p-3 bg-yellow-500 rounded-lg",children:(0,xr.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 21l4-4 4 4M12 17V3m0 0l4 4m-4-4L8 7"})})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"\ud83c\udfc6 Gamification Management"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Manage points, badges, and titles"})]})]})})]})]})]})})},tv=(0,nr.A)("School",[["path",{d:"m4 6 8-4 8 4",key:"1q0ilc"}],["path",{d:"m18 10 4 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-8l4-2",key:"1vwozw"}],["path",{d:"M14 22v-4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v4",key:"cpkuc4"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]),rv=(0,nr.A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),av=(0,nr.A)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),nv=(0,nr.A)("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),sv=(0,nr.A)("PauseCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]),iv=(0,nr.A)("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),ov=(0,nr.A)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),lv=e=>{let{icon:t,label:r,value:a,color:n}=e;return(0,xr.jsx)("div",{className:"".concat({blue:"bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400",green:"bg-green-100 dark:bg-green-900/20 text-green-600 dark:text-green-400",purple:"bg-purple-100 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400",yellow:"bg-yellow-100 dark:bg-yellow-900/20 text-yellow-600 dark:text-yellow-400",indigo:"bg-indigo-100 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400",red:"bg-red-100 dark:bg-red-900/20 text-red-600 dark:text-red-400"}[n]," rounded-lg p-4"),children:(0,xr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,xr.jsx)(t,{className:"w-5 h-5"}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-2xl font-bold",children:a}),(0,xr.jsx)("p",{className:"text-sm opacity-80",children:r})]})]})})},cv=e=>{let{user:t,isOpen:r,onClose:n,onDeleted:s}=e;const[o,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(null),[u,m]=(0,a.useState)(!1),[h,p]=(0,a.useState)(!1),[g,x]=(0,a.useState)("");(0,a.useEffect)(()=>{r&&t&&f()},[r,t]);const f=async()=>{try{const e=localStorage.getItem("token"),r=await i.A.get("/api/user-deletion/".concat(t._id,"/deletion-preview"),{headers:{Authorization:"Bearer ".concat(e)}});d(r.data.data)}catch(e){console.error("Error fetching deletion preview:",e),er.error("Failed to load deletion preview")}};if(!r||!t||!c)return null;const y="student"===t.role,v="instructor"===t.role;return(0,xr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,xr.jsx)("div",{className:"p-2 bg-red-100 dark:bg-red-900/20 rounded-lg",children:(0,xr.jsx)($h,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}),(0,xr.jsxs)("div",{children:[(0,xr.jsxs)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Delete ",y?"Student":"Instructor"," Account"]}),(0,xr.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"This action cannot be undone"})]})]}),(0,xr.jsx)("button",{onClick:n,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition",children:(0,xr.jsx)(pr.A,{className:"w-5 h-5"})})]}),(0,xr.jsxs)("div",{className:"p-6 space-y-6",children:[(0,xr.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[(0,xr.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"User Information"}),(0,xr.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,xr.jsxs)("p",{className:"text-gray-600 dark:text-gray-300",children:[(0,xr.jsx)("strong",{children:"Name:"})," ",c.user.name]}),(0,xr.jsxs)("p",{className:"text-gray-600 dark:text-gray-300",children:[(0,xr.jsx)("strong",{children:"Email:"})," ",c.user.email]}),(0,xr.jsxs)("p",{className:"text-gray-600 dark:text-gray-300",children:[(0,xr.jsx)("strong",{children:"Role:"})," ",c.user.role]})]})]}),(0,xr.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:(0,xr.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,xr.jsx)($h,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h4",{className:"font-semibold text-red-900 dark:text-red-300",children:"Warning: Permanent Deletion"}),(0,xr.jsx)("p",{className:"text-sm text-red-800 dark:text-red-400 mt-1",children:"The following data will be permanently deleted and cannot be recovered:"})]})]})}),y&&(0,xr.jsxs)("div",{className:"space-y-4",children:[(0,xr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,xr.jsx)(lv,{icon:Ra,label:"Enrollments",value:c.willDelete.enrollments,color:"blue"}),(0,xr.jsx)(lv,{icon:Um,label:"Progress Records",value:c.willDelete.progress,color:"green"}),(0,xr.jsx)(lv,{icon:Oa,label:"Certificate Requests",value:c.willDelete.certificateRequests,color:"purple"}),(0,xr.jsx)(lv,{icon:Um,label:"Submissions",value:c.willDelete.submissions,color:"indigo"}),(0,xr.jsx)(lv,{icon:cr,label:"Ratings",value:c.willDelete.ratings,color:"yellow"}),(0,xr.jsx)(lv,{icon:ov,label:"Comments",value:c.willDelete.comments,color:"red"})]}),(0,xr.jsxs)("div",{className:"space-y-3",children:[(0,xr.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"Deletion Mode"}),(0,xr.jsxs)("label",{className:"flex items-start space-x-3 p-4 border-2 rounded-lg cursor-pointer transition hover:bg-gray-50 dark:hover:bg-gray-700/50",style:{borderColor:h?"#E5E7EB":"#4F46E5"},children:[(0,xr.jsx)("input",{type:"radio",name:"studentDeletionMode",checked:!h,onChange:()=>p(!1),className:"mt-1"}),(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:"Anonymize & Preserve History (Recommended)"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Replace the student with an anonymized placeholder in enrollments, certificates, progress, grades, and payments, while removing their login access."})]})]}),(0,xr.jsxs)("label",{className:"flex items-start space-x-3 p-4 border-2 rounded-lg cursor-pointer transition hover:bg-gray-50 dark:hover:bg-gray-700/50",style:{borderColor:h?"#EF4444":"#E5E7EB"},children:[(0,xr.jsx)("input",{type:"radio",name:"studentDeletionMode",checked:h,onChange:()=>p(!0),className:"mt-1"}),(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsx)("p",{className:"font-medium text-red-600 dark:text-red-400",children:"Delete Everything"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Permanently delete the student account and all related data, including enrollments, progress, grades, certificates, comments, ratings, payments, achievements, and notifications."})]})]})]})]}),v&&(0,xr.jsxs)(xr.Fragment,{children:[c.courses&&c.courses.length>0&&(0,xr.jsxs)("div",{className:"space-y-3",children:[(0,xr.jsxs)("h4",{className:"font-semibold text-gray-900 dark:text-white",children:["Courses (",c.courses.length,")"]}),(0,xr.jsx)("div",{className:"max-h-48 overflow-y-auto space-y-2 border border-gray-200 dark:border-gray-700 rounded-lg p-3",children:c.courses.map(e=>(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg border border-gray-200 dark:border-gray-700",children:[(0,xr.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:e.title}),(0,xr.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e.enrollments," student",1!==e.enrollments?"s":""," enrolled"]})]},e.id))})]}),(0,xr.jsxs)("div",{className:"space-y-3",children:[(0,xr.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"Deletion Mode"}),(0,xr.jsxs)("label",{className:"flex items-start space-x-3 p-4 border-2 rounded-lg cursor-pointer transition hover:bg-gray-50 dark:hover:bg-gray-700/50",style:{borderColor:u?"#E5E7EB":"#4F46E5"},children:[(0,xr.jsx)("input",{type:"radio",name:"deletionMode",checked:!u,onChange:()=>m(!1),className:"mt-1"}),(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:"Keep Courses (Recommended)"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Delete instructor but reassign their courses to admin. Students can continue accessing the courses."})]})]}),(0,xr.jsxs)("label",{className:"flex items-start space-x-3 p-4 border-2 rounded-lg cursor-pointer transition hover:bg-gray-50 dark:hover:bg-gray-700/50",style:{borderColor:u?"#EF4444":"#E5E7EB"},children:[(0,xr.jsx)("input",{type:"radio",name:"deletionMode",checked:u,onChange:()=>m(!0),className:"mt-1"}),(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsx)("p",{className:"font-medium text-red-600 dark:text-red-400",children:"Delete Everything"}),(0,xr.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Delete instructor AND all their courses. This will affect ",c.willDelete.enrollments," student enrollments."]})]})]})]}),(0,xr.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,xr.jsx)(lv,{icon:Ra,label:u?"Courses to Delete":"Courses to Reassign",value:c.willDelete.courses,color:u?"red":"blue"}),(0,xr.jsx)(lv,{icon:Xc,label:u?"Enrollments to Delete":"Student Enrollments",value:c.willDelete.enrollments,color:u?"red":"green"}),(0,xr.jsx)(lv,{icon:Um,label:"Sections",value:c.willDelete.sections,color:"purple"})]}),u&&(0,xr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,xr.jsx)(lv,{icon:cr,label:"Ratings",value:c.willDelete.ratings,color:"yellow"}),(0,xr.jsx)(lv,{icon:Um,label:"Cloud Assets",value:c.willDelete.cloudinaryAssets+c.willDelete.youtubeVideos,color:"indigo"})]}),(0,xr.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:(0,xr.jsxs)("p",{className:"text-sm text-blue-800 dark:text-blue-400",children:[(0,xr.jsx)("strong",{children:"Note:"})," PDF agreements (",c.willDelete.agreements,") will be deleted regardless of the mode chosen."]})})]}),(0,xr.jsxs)("div",{className:"space-y-2",children:[(0,xr.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Type ",(0,xr.jsx)("span",{className:"font-bold text-red-600",children:"DELETE"})," to confirm:"]}),(0,xr.jsx)("input",{type:"text",value:g,onChange:e=>x(e.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-red-500 dark:bg-gray-700 dark:text-white",placeholder:"Type DELETE"})]})]}),(0,xr.jsxs)("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 dark:border-gray-700",children:[(0,xr.jsx)("button",{onClick:n,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition",disabled:o,children:"Cancel"}),(0,xr.jsxs)("button",{onClick:async()=>{if("DELETE"===g)try{l(!0);const e=localStorage.getItem("token"),r="student"===t.role?"/api/user-deletion/student/".concat(t._id):"/api/user-deletion/instructor/".concat(t._id),a="instructor"===t.role?{deleteCourses:u}:"student"===t.role?{mode:h?"hard_delete":"anonymize"}:{},o=await i.A.delete(r,{headers:{Authorization:"Bearer ".concat(e)},data:a});er.success(o.data.message),s(),n()}catch(a){var e,r;console.error("Error deleting user:",a),er.error((null===(e=a.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.message)||"Failed to delete user")}finally{l(!1)}else er.error("Please type DELETE to confirm")},disabled:o||"DELETE"!==g,className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition flex items-center space-x-2",children:[(0,xr.jsx)(kh,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:o?"Deleting...":"Delete Account"})]})]})]})})},dv=()=>{const{t:e}=(0,ar.useTranslation)(),[t,r]=(0,a.useState)([]),[n,s]=(0,a.useState)([]),[o,l]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)(!0),[h,p]=(0,a.useState)(""),[g,x]=(0,a.useState)(null),[f,y]=(0,a.useState)(!1),[v,b]=(0,a.useState)({name:"",email:""}),[w,j]=(0,a.useState)(null),[k,N]=(0,a.useState)(!1),[C,A]=(0,a.useState)(null),[S,E]=(0,a.useState)(""),[D,P]=(0,a.useState)(!1),[T,_]=(0,a.useState)(null),[R,O]=(0,a.useState)(""),[F,L]=(0,a.useState)(!1),[M,I]=(0,a.useState)({enrollNewCourses:!1,continueCourses:!1,accessCoursePages:!1,requestCertificate:!1,changeProfile:!1,changeSettings:!1,dashboardAccess:!1}),[B,q]=(0,a.useState)(null);(0,a.useEffect)(()=>{z(),U()},[]),(0,a.useEffect)(()=>{if(h){const e=t.filter(e=>e.name.toLowerCase().includes(h.toLowerCase())||e.email.toLowerCase().includes(h.toLowerCase()));l(e);const r=n.filter(e=>e.name.toLowerCase().includes(h.toLowerCase())||e.email.toLowerCase().includes(h.toLowerCase()));d(r)}else l(t),d(n)},[h,t,n]);const z=async()=>{try{m(!0);const e=(await i.A.get("/api/users/students")).data.students||[];r(e),l(e)}catch(e){console.error("Error fetching students:",e)}finally{m(!1)}},U=async()=>{try{const e=localStorage.getItem("token"),t=await i.A.get("/api/users/pending-registrations",{headers:{Authorization:"Bearer ".concat(e)}}),r=(t.data.registrations||[]).filter(e=>"student"===e.role);s(r),d(r)}catch(e){console.error("Error fetching pending registrations:",e)}},V=(e,t)=>{var r;const a=null===e||void 0===e||null===(r=e.response)||void 0===r?void 0:r.data;if(Array.isArray(null===a||void 0===a?void 0:a.errors)&&a.errors.length>0){const e=a.errors.map(e=>e.msg||e.message).filter(Boolean);if(e.length>0)return e.join(" ")}return"string"===typeof(null===a||void 0===a?void 0:a.message)&&a.message.trim().length>0?a.message:t},Y=()=>{y(!1),x(null),b({name:"",email:""})};return u?(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,xr.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8",children:[(0,xr.jsxs)(Oe,{to:"/admin",className:"inline-flex items-center space-x-2 text-primary-600 hover:text-primary-700 mb-4",children:[(0,xr.jsx)(Em,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:"Back to Dashboard"})]}),(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Student Management"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage all students and their enrollments"})]}),(0,xr.jsx)("div",{className:"flex items-center space-x-4",children:(0,xr.jsxs)("div",{className:"relative",children:[(0,xr.jsx)(ad,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,xr.jsx)("input",{type:"text",placeholder:"Search students...",value:h,onChange:e=>p(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500"})]})})]})]}),c.length>0&&(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.05},className:"mb-6",children:[(0,xr.jsxs)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border-2 border-yellow-200 dark:border-yellow-800 rounded-lg p-4 mb-4",children:[(0,xr.jsxs)("h3",{className:"text-lg font-semibold text-yellow-900 dark:text-yellow-200 mb-1",children:["Pending Email Verifications (",c.length,")"]}),(0,xr.jsx)("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"These students have registered but haven't verified their email yet"})]}),(0,xr.jsx)("div",{className:"space-y-3",children:c.map(e=>(0,xr.jsx)("div",{className:"card border-2 border-yellow-200 dark:border-yellow-800",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,xr.jsx)("div",{className:"w-10 h-10 rounded-full bg-yellow-100 dark:bg-yellow-900 flex items-center justify-center",children:(0,xr.jsx)(ja,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white",children:e.name}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.email}),e.phone&&(0,xr.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:["Phone: ",e.phone]})]})]}),(0,xr.jsxs)("div",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:["Registered: ",new Date(e.createdAt).toLocaleDateString()]})]}),(0,xr.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this pending registration?"))try{const t=localStorage.getItem("token");await i.A.delete("/api/users/pending-registrations/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),await U()}catch(t){console.error("Error deleting pending registration:",t),er.error("Failed to delete pending registration")}})(e._id),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete pending registration",children:(0,xr.jsx)(kh,{className:"w-5 h-5"})})]})},e._id))})]}),(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"space-y-4",children:0===o.length&&0===c.length?(0,xr.jsxs)("div",{className:"card text-center py-12",children:[(0,xr.jsx)(Xc,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:h?"No students found":"No students yet"})]}):0===o.length?(0,xr.jsx)("div",{className:"card text-center py-8",children:(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:h?"No verified students found":"All students are pending verification"})}):o.map(t=>(0,xr.jsx)("div",{className:"card",children:(0,xr.jsxs)("div",{className:"flex items-start justify-between",children:[(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,xr.jsx)("div",{className:"w-12 h-12 rounded-full bg-primary-100 dark:bg-primary-900 flex items-center justify-center",children:(0,xr.jsx)(Xc,{className:"w-6 h-6 text-primary-600 dark:text-primary-400"})}),(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[t.name,t.isBanned&&(0,xr.jsx)("span",{className:"ml-2 text-xs px-2 py-1 bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200 rounded-full",children:"Banned"})]}),(0,xr.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600 dark:text-gray-400 mt-1",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,xr.jsx)(ja,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:t.email})]}),t.phone&&(0,xr.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,xr.jsx)(km,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:t.phone})]}),t.city&&(0,xr.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,xr.jsx)(Nm,{className:"w-4 h-4"}),(0,xr.jsxs)("span",{children:[t.city,", ",t.country||""]})]}),t.school&&(0,xr.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,xr.jsx)(tv,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:t.school})]})]}),(0,xr.jsxs)("div",{className:"mt-1 flex flex-wrap items-center gap-3 text-xs text-gray-500 dark:text-gray-400",children:[(0,xr.jsxs)("span",{children:[e("emailChangesRemaining")||"Email changes remaining",":"," ",Math.max(0,1-(t.emailChangeCount||0))]}),(0,xr.jsxs)("span",{children:[e("phoneChangesRemaining")||"Phone changes remaining",":"," ",Math.max(0,1-(t.phoneChangeCount||0))]})]})]})]}),t.aboutMe&&(0,xr.jsxs)("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,xr.jsx)(rv,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),(0,xr.jsx)("span",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:"About Me"})]}),(0,xr.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:t.aboutMe})]}),t.certificates&&t.certificates.length>0&&(0,xr.jsxs)("div",{className:"mb-4 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,xr.jsx)(Oa,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),(0,xr.jsxs)("span",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:["Certificates Earned (",t.certificates.length,")"]})]}),(0,xr.jsx)("div",{className:"flex flex-wrap gap-2",children:t.certificates.map((e,t)=>{var r;return(0,xr.jsx)("span",{className:"text-xs px-2 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded",children:(null===(r=e.course)||void 0===r?void 0:r.name)||"Certificate"},t)})})]}),t.enrolledCourses&&t.enrolledCourses.length>0&&(0,xr.jsxs)("div",{className:"mt-4",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,xr.jsx)(Ra,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}),(0,xr.jsxs)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Enrolled Courses (",t.enrolledCourses.length,")"]})]}),(0,xr.jsx)("div",{className:"space-y-2",children:t.enrolledCourses.map(e=>{var t,r,a,n,s;return(0,xr.jsxs)("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,xr.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:(null===(t=e.course)||void 0===t?void 0:t.name)||"Unknown Course"}),(0,xr.jsxs)("div",{className:"flex flex-wrap items-center gap-3 mt-1 text-xs text-gray-600 dark:text-gray-400",children:[(0,xr.jsxs)("span",{children:["Group: ",(null===(r=e.group)||void 0===r?void 0:r.name)||"N/A"]}),(0,xr.jsxs)("span",{children:["Level: ",(null===(a=e.course)||void 0===a?void 0:a.level)||"N/A"]}),(0,xr.jsxs)("span",{children:["Category: ",(null===(n=e.course)||void 0===n?void 0:n.category)||"N/A"]})]}),e.paymentStatus&&(0,xr.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[(0,xr.jsxs)("span",{className:"px-2 py-0.5 text-xs font-medium rounded ".concat("verified"===e.paymentStatus?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"pending"===e.paymentStatus?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"),children:["Payment: ",e.paymentStatus]}),e.paymentMethod&&"none"!==e.paymentMethod&&(0,xr.jsxs)("span",{className:"px-2 py-0.5 text-xs bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 rounded",children:["Method: ",e.paymentMethod.replace(/_/g," ")]}),e.entryFeePaid&&(0,xr.jsx)("span",{className:"px-2 py-0.5 text-xs bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200 rounded",children:"Entry Fee Paid"})]})]}),(0,xr.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat("enrolled"===e.status?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"pending"===e.status?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"),children:e.status})]}),void 0!==e.overallGrade&&(0,xr.jsxs)("div",{className:"mt-2",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between text-xs mb-1",children:[(0,xr.jsxs)("span",{className:"text-gray-600 dark:text-gray-400 flex items-center",children:[(0,xr.jsx)(Jc,{className:"w-3 h-3 mr-1"}),"Progress"]}),(0,xr.jsxs)("span",{className:"font-medium text-gray-900 dark:text-white",children:[(null===(s=e.overallGrade)||void 0===s?void 0:s.toFixed(0))||0,"%"]})]}),(0,xr.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,xr.jsx)("div",{className:"bg-primary-600 dark:bg-primary-500 h-2 rounded-full transition-all",style:{width:"".concat(e.overallGrade||0,"%")}})}),void 0!==e.completedLectures&&(0,xr.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[e.completedLectures," lectures completed"]})]}),e.paymentStatus&&(0,xr.jsxs)("div",{className:"mt-2 flex items-center flex-wrap gap-2 text-xs",children:[(0,xr.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Payment:"}),(0,xr.jsxs)("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium ".concat("verified"===e.paymentStatus||"paid"===e.paymentStatus?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"partial"===e.paymentStatus?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"pending"===e.paymentStatus?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"),children:["verified"===e.paymentStatus?"All Paid":"partial"===e.paymentStatus?"Partially Paid":e.paymentStatus,void 0!==e.paidSections&&void 0!==e.totalSections&&(0,xr.jsxs)("span",{className:"ml-1",children:["(",e.paidSections,"/",e.totalSections," sections)"]})]}),e.paymentMethod&&"none"!==e.paymentMethod&&(0,xr.jsxs)("span",{className:"text-gray-500 dark:text-gray-400",children:["via ",e.paymentMethod.replace(/_/g," ")]})]})]},e._id)})})]})]}),(0,xr.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,xr.jsx)("button",{onClick:()=>(e=>{x(e),b({name:e.name,email:e.email}),y(!0)})(t),className:"p-2 text-blue-600 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Edit Student",children:(0,xr.jsx)(Sg,{className:"w-5 h-5"})}),t.isBanned?(0,xr.jsx)("button",{onClick:()=>(async(e,t)=>{if(window.confirm("Are you sure you want to unban ".concat(t,"?")))try{await i.A.put("/api/users/".concat(e,"/unban")),await z(),er.success("Student unbanned successfully")}catch(r){console.error("Unban failed:",r);const e=V(r,"Failed to unban student");er.error(e)}})(t._id,t.name),className:"p-2 text-green-600 hover:bg-green-50 dark:text-green-400 dark:hover:bg-green-900/20 rounded-lg transition-colors",title:"Unban Student",children:(0,xr.jsx)(Om,{className:"w-5 h-5"})}):(0,xr.jsx)("button",{onClick:()=>A({id:t._id,name:t.name}),className:"p-2 text-orange-600 hover:bg-orange-50 dark:text-orange-400 dark:hover:bg-orange-900/20 rounded-lg transition-colors",title:"Ban Student",children:(0,xr.jsx)(av,{className:"w-5 h-5"})}),t.isSuspended?(0,xr.jsx)("button",{onClick:()=>(async(e,t)=>{if(window.confirm("Are you sure you want to unsuspend ".concat(t,"?")))try{await i.A.put("/api/users/".concat(e,"/unsuspend")),await z(),er.success("Student unsuspended successfully")}catch(r){console.error("Unsuspend failed:",r);const e=V(r,"Failed to unsuspend student");er.error(e)}})(t._id,t.name),className:"p-2 text-teal-600 hover:bg-teal-50 dark:text-teal-400 dark:hover:bg-teal-900/20 rounded-lg transition-colors",title:"Unsuspend Student",children:(0,xr.jsx)(nv,{className:"w-5 h-5"})}):(0,xr.jsx)("button",{onClick:()=>_({id:t._id,name:t.name}),className:"p-2 text-purple-600 hover:bg-purple-50 dark:text-purple-400 dark:hover:bg-purple-900/20 rounded-lg transition-colors",title:"Suspend Student",children:(0,xr.jsx)(sv,{className:"w-5 h-5"})}),(0,xr.jsx)("button",{onClick:()=>(async(t,r)=>{if(window.confirm(e("resetChangeLimitsConfirm",{name:r})||"Reset email/phone change limits for ".concat(r,"? This will allow them to change email and phone again.")))try{q(t),await i.A.put("/api/users/".concat(t,"/reset-change-limits")),await z(),er.success(e("resetChangeLimitsSuccess")||"Email/phone change limits have been reset.")}catch(a){console.error("Reset change limits failed:",a);const t=V(a,e("resetChangeLimitsFailed")||"Failed to reset email/phone change limits");er.error(t)}finally{q(null)}})(t._id,t.name),disabled:B===t._id,className:"p-2 text-indigo-600 hover:bg-indigo-50 dark:text-indigo-300 dark:hover:bg-indigo-900/20 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:e("resetChangeLimitsTooltip")||"Reset email/phone change limits",children:(0,xr.jsx)(iv,{className:"w-5 h-5"})}),(0,xr.jsx)("button",{onClick:()=>j(t),className:"btn-secondary p-2 text-red-600 hover:text-red-700",title:"Delete Student",children:(0,xr.jsx)(kh,{className:"w-5 h-5"})})]})]})},t._id))})]}),f&&(0,xr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full p-6",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,xr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Edit Student"}),(0,xr.jsx)("button",{onClick:Y,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:(0,xr.jsx)(pr.A,{className:"w-6 h-6"})})]}),(0,xr.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await i.A.put("/api/users/".concat(g._id),v),await z(),Y()}catch(t){console.error("Error updating student:",t);const e=V(t,"Failed to update student");er.error(e)}},className:"space-y-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Name"}),(0,xr.jsx)("input",{type:"text",value:v.name,onChange:e=>b((0,Be.A)((0,Be.A)({},v),{},{name:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500",required:!0})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),(0,xr.jsx)("input",{type:"email",value:v.email,onChange:e=>b((0,Be.A)((0,Be.A)({},v),{},{email:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500",required:!0})]}),(0,xr.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,xr.jsxs)("button",{type:"submit",className:"flex-1 btn-primary flex items-center justify-center space-x-2",children:[(0,xr.jsx)(Eg,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:"Save Changes"})]}),(0,xr.jsx)("button",{type:"button",onClick:Y,className:"flex-1 btn-secondary",children:"Cancel"})]})]})]})}),C&&(0,xr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full p-6",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,xr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Ban Student"}),(0,xr.jsx)("button",{onClick:()=>{A(null),E("")},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:(0,xr.jsx)(pr.A,{className:"w-6 h-6"})})]}),(0,xr.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:["Are you sure you want to ban ",(0,xr.jsx)("strong",{children:C.name}),"? They will not be able to log in until unbanned."]}),(0,xr.jsxs)("div",{className:"mb-4",children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Ban Reason (required)"}),(0,xr.jsx)("textarea",{value:S,onChange:e=>E(e.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-orange-500",rows:3,placeholder:"Explain why this student is being banned...",required:!0})]}),(0,xr.jsxs)("div",{className:"flex space-x-3",children:[(0,xr.jsx)("button",{onClick:async()=>{if(C&&S.trim())try{P(!0),await i.A.put("/api/users/".concat(C.id,"/ban"),{reason:S}),await z(),A(null),E(""),er.success("Student banned successfully")}catch(e){console.error("Ban failed:",e);const t=V(e,"Failed to ban student");er.error(t)}finally{P(!1)}else er.error("Please provide a ban reason")},disabled:D||!S.trim(),className:"flex-1 bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:D?"Banning...":"Ban Student"}),(0,xr.jsx)("button",{onClick:()=>{A(null),E("")},className:"flex-1 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white px-4 py-2 rounded-lg font-medium hover:bg-gray-300 dark:hover:bg-gray-600",children:"Cancel"})]})]})}),T&&(0,xr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-lg w-full p-6 max-h-[90vh] overflow-y-auto",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,xr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Suspend Student"}),(0,xr.jsx)("button",{onClick:()=>{_(null),O("")},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:(0,xr.jsx)(pr.A,{className:"w-6 h-6"})})]}),(0,xr.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:["Suspending ",(0,xr.jsx)("strong",{children:T.name})," will restrict their access based on the selected options below."]}),(0,xr.jsxs)("div",{className:"mb-6",children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Select Restrictions to Apply:"}),(0,xr.jsx)("div",{className:"space-y-3 bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[{key:"enrollNewCourses",label:"Block enrollment in new courses"},{key:"continueCourses",label:'Disable "Continue Course" button'},{key:"accessCoursePages",label:"Prevent direct access to course pages"},{key:"requestCertificate",label:"Block certificate requests"},{key:"changeProfile",label:"Prevent profile information changes"},{key:"changeSettings",label:"Block access to student settings"},{key:"dashboardAccess",label:"Block access to student dashboard"}].map(e=>{let{key:t,label:r}=e;return(0,xr.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,xr.jsx)("input",{type:"checkbox",checked:M[t],onChange:e=>I(r=>(0,Be.A)((0,Be.A)({},r),{},{[t]:e.target.checked})),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),(0,xr.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:r})]},t)})})]}),(0,xr.jsxs)("div",{className:"mb-6",children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Suspension Reason *"}),(0,xr.jsx)("textarea",{value:R,onChange:e=>O(e.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 dark:bg-gray-700 dark:text-white resize-none",rows:"3",placeholder:"Enter the reason for suspension (minimum 5 characters)..."})]}),(0,xr.jsxs)("div",{className:"flex space-x-3",children:[(0,xr.jsx)("button",{onClick:async()=>{if(!T||!R.trim())return void er.error("Please provide a suspension reason");if(Object.values(M).some(e=>e))try{L(!0),await i.A.put("/api/users/".concat(T.id,"/suspend"),{reason:R,restrictions:M}),await z(),_(null),O(""),I({enrollNewCourses:!1,continueCourses:!1,accessCoursePages:!1,requestCertificate:!1,changeProfile:!1,changeSettings:!1,dashboardAccess:!1}),er.success("Student suspended successfully")}catch(e){console.error("Suspend failed:",e);const t=V(e,"Failed to suspend student");er.error(t)}finally{L(!1)}else er.error("Please select at least one restriction to apply")},disabled:F||!R.trim()||R.length<5||!Object.values(M).some(e=>e),className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:F?(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Suspending..."]}):"Suspend Student"}),(0,xr.jsx)("button",{onClick:()=>{_(null),O("")},className:"flex-1 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white px-4 py-2 rounded-lg font-medium hover:bg-gray-300 dark:hover:bg-gray-600",children:"Cancel"})]})]})}),(0,xr.jsx)(cv,{user:w,isOpen:!!w,onClose:()=>j(null),onDeleted:z})]})},uv=()=>{const{t:e}=(0,ar.useTranslation)(),[t,r]=(0,a.useState)([]),[n,s]=(0,a.useState)([]),[o,l]=(0,a.useState)(!0),[c,d]=(0,a.useState)(""),[u,m]=(0,a.useState)(null),[h,p]=(0,a.useState)(!1),[g,x]=(0,a.useState)(null),[f,y]=(0,a.useState)({name:"",email:""}),[v,b]=(0,a.useState)(null),[w,j]=(0,a.useState)(null),[k,N]=(0,a.useState)(""),[C,A]=(0,a.useState)(!1),[S,E]=(0,a.useState)(null),[D,P]=(0,a.useState)(""),[T,_]=(0,a.useState)(!1),[R,O]=(0,a.useState)({createEditDeleteLectures:!1,createEditDeleteAssignments:!1,manageActiveTests:!1,manageGroupsSections:!1,createEditDeleteCourses:!1,createDisableDiscounts:!1,removeStudents:!1,gradeAssignments:!1,issueCertificates:!1,requestPayout:!1}),[F,L]=(0,a.useState)(null),M=(e,t)=>{var r;const a=null===e||void 0===e||null===(r=e.response)||void 0===r?void 0:r.data;if(Array.isArray(null===a||void 0===a?void 0:a.errors)&&a.errors.length>0){const e=a.errors.map(e=>e.msg||e.message).filter(Boolean);if(e.length>0)return e.join(" ")}return"string"===typeof(null===a||void 0===a?void 0:a.message)&&a.message.trim().length>0?a.message:t};(0,a.useEffect)(()=>{I()},[]),(0,a.useEffect)(()=>{if(c){const e=t.filter(e=>e.name.toLowerCase().includes(c.toLowerCase())||e.email.toLowerCase().includes(c.toLowerCase()));s(e)}else s(t)},[c,t]);const I=async()=>{try{l(!0);const e=(await i.A.get("/api/users/instructors?includeDeleted=true")).data.instructors||[],t=await Promise.all(e.map(async e=>{try{const t=await i.A.get("/api/courses?instructor=".concat(e._id));return(0,Be.A)((0,Be.A)({},e),{},{courses:t.data.courses||[]})}catch(t){return(0,Be.A)((0,Be.A)({},e),{},{courses:[]})}}));r(t),s(t)}catch(e){console.error("Error fetching instructors:",e)}finally{l(!1)}},B=()=>{p(!1),m(null),y({name:"",email:""})};return o?(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,xr.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8",children:[(0,xr.jsxs)(Oe,{to:"/admin",className:"inline-flex items-center space-x-2 text-primary-600 hover:text-primary-700 mb-4",children:[(0,xr.jsx)(Em,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:"Back to Dashboard"})]}),(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Instructor Management"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage all instructors and their courses"})]}),(0,xr.jsx)("div",{className:"flex items-center space-x-4",children:(0,xr.jsxs)("div",{className:"relative",children:[(0,xr.jsx)(ad,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,xr.jsx)("input",{type:"text",placeholder:"Search instructors...",value:c,onChange:e=>d(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500"})]})})]})]}),(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"space-y-4",children:0===n.length?(0,xr.jsxs)("div",{className:"card text-center py-12",children:[(0,xr.jsx)(Qy,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:c?"No instructors found":"No instructors yet"})]}):n.map(r=>{const a=r.isDeleted||"deleted"===r.status;return(0,xr.jsx)("div",{className:"card",children:(0,xr.jsxs)("div",{className:"flex items-start justify-between",children:[(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,xr.jsx)("div",{className:"w-10 h-10 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center",children:(0,xr.jsx)(Qy,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),(0,xr.jsxs)("div",{children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,xr.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:r.name}),r.approved?(0,xr.jsx)(Om,{className:"w-4 h-4 text-green-600"}):(0,xr.jsx)(Zm,{className:"w-4 h-4 text-red-600"}),r.trustedInstructor&&(0,xr.jsxs)("span",{className:"px-2 py-1 bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300 text-xs font-medium rounded-full flex items-center",children:[(0,xr.jsx)(Qy,{className:"w-3 h-3 mr-1 fill-current"}),"Trusted"]}),a&&(0,xr.jsx)("span",{className:"px-2 py-1 bg-red-100 dark:bg-red-900/40 text-red-800 dark:text-red-300 text-xs font-semibold rounded-full",children:"Deleted Instructor"})]}),(0,xr.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[(0,xr.jsx)(ja,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:r.email})]}),(0,xr.jsxs)("div",{className:"mt-1 flex flex-wrap items-center gap-3 text-xs text-gray-500 dark:text-gray-400",children:[(0,xr.jsxs)("span",{children:[e("emailChangesRemaining")||"Email changes remaining",":"," ",Math.max(0,1-(r.emailChangeCount||0))]}),(0,xr.jsxs)("span",{children:[e("phoneChangesRemaining")||"Phone changes remaining",":"," ",Math.max(0,1-(r.phoneChangeCount||0))]})]})]})]}),r.courses&&r.courses.length>0&&(0,xr.jsxs)("div",{className:"mt-4 ml-13",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,xr.jsx)(Ra,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}),(0,xr.jsxs)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Created Courses (",r.courses.length,")"]})]}),(0,xr.jsx)("div",{className:"space-y-2",children:r.courses.map(e=>{var t;return(0,xr.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.name}),(0,xr.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[e.category," \u2022 ",e.level]})]}),(0,xr.jsxs)("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:[(null===(t=e.groups)||void 0===t?void 0:t.length)||0," groups"]})]},e._id)})})]})]}),(0,xr.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,xr.jsx)("button",{onClick:()=>(async(e,r)=>{const a=r?"trust":"untrust",n=t.find(t=>t._id===e);if(window.confirm("Are you sure you want to ".concat(a," ").concat(null===n||void 0===n?void 0:n.name,"?\n\n")+(r?"\u2705 Trusted instructors can create and publish courses without admin approval.":"\u26a0\ufe0f This instructor will need admin approval for all new courses.")))try{await i.A.put("/api/users/instructor/".concat(e,"/trust"),{trusted:r}),await I(),er.success("Instructor ".concat(r?"trusted":"untrusted"," successfully"))}catch(s){console.error("Toggle trust failed:",s);const e=M(s,"Failed to update instructor trust status");er.error(e)}})(r._id,!r.trustedInstructor),disabled:a,className:"p-2 rounded-lg transition-colors ".concat(r.trustedInstructor?"text-yellow-600 hover:bg-yellow-50 dark:text-yellow-400 dark:hover:bg-yellow-900/20":"text-gray-600 hover:bg-gray-50 dark:text-gray-400 dark:hover:bg-gray-700"),title:r.trustedInstructor?"Untrust Instructor (Require Approval)":"Trust Instructor (Auto-Approve Courses)",children:(0,xr.jsx)(Qy,{className:"w-5 h-5 ".concat(r.trustedInstructor?"fill-current":"")})}),(0,xr.jsx)("button",{onClick:()=>(e=>{x(e)})(r),className:"p-2 text-gray-600 hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"View Profile",children:(0,xr.jsx)(Kd,{className:"w-5 h-5"})}),(0,xr.jsx)("button",{onClick:()=>(e=>{m(e),y({name:e.name,email:e.email}),p(!0)})(r),disabled:a,className:"p-2 text-blue-600 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Edit Instructor",children:(0,xr.jsx)(Sg,{className:"w-5 h-5"})}),r.isBanned?(0,xr.jsx)("button",{onClick:()=>(async(e,t)=>{if(window.confirm("Are you sure you want to unban ".concat(t,"?")))try{await i.A.put("/api/users/".concat(e,"/unban")),await I(),er.success("Instructor unbanned successfully")}catch(r){console.error("Unban failed:",r);const e=M(r,"Failed to unban instructor");er.error(e)}})(r._id,r.name),disabled:a,className:"p-2 text-green-600 hover:bg-green-50 dark:text-green-400 dark:hover:bg-green-900/20 rounded-lg transition-colors",title:"Unban Instructor",children:(0,xr.jsx)(Om,{className:"w-5 h-5"})}):(0,xr.jsx)("button",{onClick:()=>j({id:r._id,name:r.name}),disabled:a,className:"p-2 text-orange-600 hover:bg-orange-50 dark:text-orange-400 dark:hover:bg-orange-900/20 rounded-lg transition-colors",title:"Ban Instructor",children:(0,xr.jsx)(av,{className:"w-5 h-5"})}),r.isSuspended?(0,xr.jsx)("button",{onClick:()=>(async(e,t)=>{if(window.confirm("Are you sure you want to unsuspend ".concat(t,"?")))try{await i.A.put("/api/users/".concat(e,"/unsuspend")),await I(),er.success("Instructor unsuspended successfully")}catch(r){console.error("Unsuspend failed:",r);const e=M(r,"Failed to unsuspend instructor");er.error(e)}})(r._id,r.name),disabled:a,className:"p-2 text-teal-600 hover:bg-teal-50 dark:text-teal-400 dark:hover:bg-teal-900/20 rounded-lg transition-colors",title:"Unsuspend Instructor",children:(0,xr.jsx)(nv,{className:"w-5 h-5"})}):(0,xr.jsx)("button",{onClick:()=>E({id:r._id,name:r.name}),disabled:a,className:"p-2 text-purple-600 hover:bg-purple-50 dark:text-purple-400 dark:hover:bg-purple-900/20 rounded-lg transition-colors",title:"Suspend Instructor",children:(0,xr.jsx)(sv,{className:"w-5 h-5"})}),(0,xr.jsx)("button",{onClick:()=>(async(t,r)=>{if(window.confirm(e("resetChangeLimitsConfirm",{name:r})||"Reset email/phone change limits for ".concat(r,"? This will allow them to change email and phone again.")))try{L(t),await i.A.put("/api/users/".concat(t,"/reset-change-limits")),await I(),er.success(e("resetChangeLimitsSuccess")||"Email/phone change limits have been reset.")}catch(a){console.error("Reset change limits failed:",a);const t=M(a,e("resetChangeLimitsFailed")||"Failed to reset email/phone change limits");er.error(t)}finally{L(null)}})(r._id,r.name),disabled:a||F===r._id,className:"p-2 text-indigo-600 hover:bg-indigo-50 dark:text-indigo-300 dark:hover:bg-indigo-900/20 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:e("resetChangeLimitsTooltip")||"Reset email/phone change limits",children:(0,xr.jsx)(iv,{className:"w-5 h-5"})}),(0,xr.jsx)("button",{onClick:()=>b(r._id),disabled:a,className:"p-2 text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete Instructor",children:(0,xr.jsx)(kh,{className:"w-5 h-5"})}),(0,xr.jsx)("button",{onClick:()=>(async(e,t)=>{if(window.confirm("Reset intro video upload attempts for ".concat(t,"? Instructor will be able to reupload again (limit resets to 0).")))try{await i.A.put("/api/instructor/admin/".concat(e,"/reset-intro-video")),er.success("Intro video reupload attempts reset successfully.")}catch(r){console.error("Reset intro video failed:",r);const e=M(r,"Failed to reset intro video status");er.error(e)}})(r._id,r.name),disabled:a,className:"p-2 text-indigo-600 hover:bg-indigo-50 dark:text-indigo-300 dark:hover:bg-indigo-900/20 rounded-lg transition-colors",title:"Reset intro video uploads (allow reupload)",children:(0,xr.jsx)(iv,{className:"w-5 h-5"})})]})]})},r._id)})})]}),g&&(0,xr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-lg w-full p-6 max-h-[90vh] overflow-y-auto",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,xr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Instructor Profile"}),(0,xr.jsx)("button",{onClick:()=>{x(null)},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:(0,xr.jsx)(pr.A,{className:"w-6 h-6"})})]}),(0,xr.jsxs)("div",{className:"space-y-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Name"}),(0,xr.jsx)("p",{className:"text-base font-semibold text-gray-900 dark:text-white",children:g.name})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Email"}),(0,xr.jsx)("p",{className:"text-base text-gray-900 dark:text-white break-all",children:g.email}),g.deletedEmail&&(0,xr.jsxs)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:["Original email: ",g.deletedEmail]})]}),(0,xr.jsxs)("div",{className:"flex items-center space-x-2",children:[g.approved?(0,xr.jsx)(Om,{className:"w-4 h-4 text-green-600"}):(0,xr.jsx)(Zm,{className:"w-4 h-4 text-red-600"}),(0,xr.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:g.approved?"Approved instructor":"Not approved"}),(g.isDeleted||"deleted"===g.status)&&(0,xr.jsx)("span",{className:"ml-2 px-2 py-0.5 text-[10px] font-semibold rounded-full bg-red-100 text-red-700 dark:bg-red-900/40 dark:text-red-300",children:"Deleted Instructor"})]}),Array.isArray(g.courses)&&g.courses.length>0&&(0,xr.jsxs)("div",{children:[(0,xr.jsxs)("p",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:["Courses (",g.courses.length,")"]}),(0,xr.jsx)("div",{className:"space-y-2",children:g.courses.map(e=>{var t;return(0,xr.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.name}),(0,xr.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[e.category," \u2022 ",e.level]})]}),(0,xr.jsxs)("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:[(null===(t=e.groups)||void 0===t?void 0:t.length)||0," groups"]})]},e._id)})})]})]})]})}),h&&(0,xr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full p-6",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,xr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Edit Instructor"}),(0,xr.jsx)("button",{onClick:B,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:(0,xr.jsx)(pr.A,{className:"w-6 h-6"})})]}),(0,xr.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await i.A.put("/api/users/".concat(u._id),f),await I(),B()}catch(t){console.error("Error updating instructor:",t);const e=M(t,"Failed to update instructor");er.error(e)}},className:"space-y-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Name"}),(0,xr.jsx)("input",{type:"text",value:f.name,onChange:e=>y((0,Be.A)((0,Be.A)({},f),{},{name:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500",required:!0})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),(0,xr.jsx)("input",{type:"email",value:f.email,onChange:e=>y((0,Be.A)((0,Be.A)({},f),{},{email:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500",required:!0})]}),(0,xr.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,xr.jsxs)("button",{type:"submit",className:"flex-1 btn-primary flex items-center justify-center space-x-2",children:[(0,xr.jsx)(Eg,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:"Save Changes"})]}),(0,xr.jsx)("button",{type:"button",onClick:B,className:"flex-1 btn-secondary",children:"Cancel"})]})]})]})}),w&&(0,xr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full p-6",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,xr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Ban Instructor"}),(0,xr.jsx)("button",{onClick:()=>{j(null),N("")},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:(0,xr.jsx)(pr.A,{className:"w-6 h-6"})})]}),(0,xr.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:["Are you sure you want to ban ",(0,xr.jsx)("strong",{children:w.name}),"? They will not be able to log in until unbanned."]}),(0,xr.jsxs)("div",{className:"mb-4",children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Ban Reason (required)"}),(0,xr.jsx)("textarea",{value:k,onChange:e=>N(e.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-orange-500",rows:3,placeholder:"Explain why this instructor is being banned...",required:!0})]}),(0,xr.jsxs)("div",{className:"flex space-x-3",children:[(0,xr.jsx)("button",{onClick:async()=>{if(w&&k.trim())try{A(!0),await i.A.put("/api/users/".concat(w.id,"/ban"),{reason:k}),await I(),j(null),N(""),er.success("Instructor banned successfully")}catch(e){console.error("Ban failed:",e);const t=M(e,"Failed to ban instructor");er.error(t)}finally{A(!1)}else er.error("Please provide a ban reason")},disabled:C||!k.trim(),className:"flex-1 bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:C?"Banning...":"Ban Instructor"}),(0,xr.jsx)("button",{onClick:()=>{j(null),N("")},className:"flex-1 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white px-4 py-2 rounded-lg font-medium hover:bg-gray-300 dark:hover:bg-gray-600",children:"Cancel"})]})]})}),S&&(0,xr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,xr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Suspend Instructor"}),(0,xr.jsx)("button",{onClick:()=>{E(null),P("")},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:(0,xr.jsx)(pr.A,{className:"w-6 h-6"})})]}),(0,xr.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:["Suspending ",(0,xr.jsx)("strong",{children:S.name})," will restrict their access based on the selected permissions below."]}),(0,xr.jsxs)("div",{className:"mb-6",children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Select Permissions to Restrict:"}),(0,xr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[{key:"createEditDeleteLectures",label:"Create / Edit / Delete lectures and videos"},{key:"createEditDeleteAssignments",label:"Create / Edit / Delete assignments and projects"},{key:"manageActiveTests",label:"Manage active tests"},{key:"manageGroupsSections",label:"Create / Edit / Delete groups and sections"},{key:"createEditDeleteCourses",label:"Create / Edit / Delete courses"},{key:"createDisableDiscounts",label:"Create / Disable discounts"},{key:"removeStudents",label:"Remove students from group or course"},{key:"gradeAssignments",label:"Grade assignments and projects"},{key:"issueCertificates",label:"Issue certificates"},{key:"requestPayout",label:"Request payout"}].map(e=>{let{key:t,label:r}=e;return(0,xr.jsxs)("label",{className:"flex items-start space-x-3 cursor-pointer",children:[(0,xr.jsx)("input",{type:"checkbox",checked:R[t],onChange:e=>O(r=>(0,Be.A)((0,Be.A)({},r),{},{[t]:e.target.checked})),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500 mt-0.5"}),(0,xr.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300 leading-tight",children:r})]},t)})})]}),(0,xr.jsxs)("div",{className:"mb-6",children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Suspension Reason *"}),(0,xr.jsx)("textarea",{value:D,onChange:e=>P(e.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 dark:bg-gray-700 dark:text-white resize-none",rows:"3",placeholder:"Enter the reason for suspension (minimum 5 characters)..."})]}),(0,xr.jsxs)("div",{className:"flex space-x-3",children:[(0,xr.jsx)("button",{onClick:async()=>{if(!S||!D.trim())return void er.error("Please provide a suspension reason");if(Object.values(R).some(e=>e))try{_(!0),await i.A.put("/api/users/".concat(S.id,"/suspend"),{reason:D,restrictions:R}),await I(),E(null),P(""),O({createEditDeleteLectures:!1,createEditDeleteAssignments:!1,manageActiveTests:!1,manageGroupsSections:!1,createEditDeleteCourses:!1,createDisableDiscounts:!1,removeStudents:!1,gradeAssignments:!1,issueCertificates:!1,requestPayout:!1}),er.success("Instructor suspended successfully")}catch(e){console.error("Suspend failed:",e);const t=M(e,"Failed to suspend instructor");er.error(t)}finally{_(!1)}else er.error("Please select at least one restriction to apply")},disabled:T||!D.trim()||D.length<5||!Object.values(R).some(e=>e),className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:T?(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Suspending..."]}):"Suspend Instructor"}),(0,xr.jsx)("button",{onClick:()=>{E(null),P("")},className:"flex-1 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white px-4 py-2 rounded-lg font-medium hover:bg-gray-300 dark:hover:bg-gray-600",children:"Cancel"})]})]})}),v&&(0,xr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full p-6 max-h-[90vh] overflow-y-auto",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,xr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Confirm Delete"}),(0,xr.jsx)("button",{onClick:()=>b(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:(0,xr.jsx)(pr.A,{className:"w-6 h-6"})})]}),(0,xr.jsxs)("div",{className:"text-gray-600 dark:text-gray-400 mb-6 text-sm space-y-4",children:[(0,xr.jsxs)("p",{children:["Deleting an instructor will ",(0,xr.jsx)("span",{className:"font-semibold",children:"soft-delete their account"})," while keeping all teaching history, courses, and financial records intact."]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"font-semibold text-gray-800 dark:text-gray-100 mb-1",children:"What WILL be deleted"}),(0,xr.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-sm",children:[(0,xr.jsx)("li",{children:"Instructor\u2019s login access (account is marked as deleted and cannot log in)."}),(0,xr.jsx)("li",{children:"Instructor\u2019s personal profile fields (email, phone, country, city, school, bio, social links)."}),(0,xr.jsx)("li",{children:"Instructor application form (InstructorApplication)."}),(0,xr.jsx)("li",{children:"Instructor payout settings and payment receivers."})]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"font-semibold text-gray-800 dark:text-gray-100 mb-1",children:"What will NOT be deleted"}),(0,xr.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-sm",children:[(0,xr.jsx)("li",{children:"Courses created by this instructor (they remain published/visible)."}),(0,xr.jsx)("li",{children:"Students enrolled in those courses, their enrollments, progress, grades, and attempts."}),(0,xr.jsx)("li",{children:"All course content: sections, lessons, quizzes, assignments, files, and videos."}),(0,xr.jsx)("li",{children:"Messages and conversation history between the instructor and students."}),(0,xr.jsx)("li",{children:"Notifications sent by this instructor."}),(0,xr.jsx)("li",{children:"Certificates issued by the course."}),(0,xr.jsx)("li",{children:"All payments, transactions, and earnings history."}),(0,xr.jsx)("li",{children:"All PDF agreements and signed revenue split documents."}),(0,xr.jsx)("li",{children:"InstructorAgreement records and signup agreement documents (they remain viewable & downloadable)."})]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"font-semibold text-gray-800 dark:text-gray-100 mb-1",children:"What will happen to the courses"}),(0,xr.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-sm",children:[(0,xr.jsx)("li",{children:"Courses keep all their content and enrolled students."}),(0,xr.jsxs)("li",{children:["Courses are marked as ",(0,xr.jsx)("span",{className:"font-semibold",children:"orphaned"})," (no active owner)."]}),(0,xr.jsxs)("li",{children:["The ",(0,xr.jsx)("code",{children:"instructor"})," field is set to ",(0,xr.jsx)("code",{children:"null"}),", and ",(0,xr.jsx)("code",{children:"originalInstructor"})," is locked to this instructor."]}),(0,xr.jsxs)("li",{children:["You can later assign a new owner from ",(0,xr.jsx)("span",{className:"font-semibold",children:"Admin \u2192 Course Management \u2192 Change Course Owner"}),"."]})]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"font-semibold text-gray-800 dark:text-gray-100 mb-1",children:"Messages and admin views"}),(0,xr.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-sm",children:[(0,xr.jsx)("li",{children:"Messages between the instructor and students remain intact with the original name snapshot."}),(0,xr.jsx)("li",{children:"No messages are deleted."}),(0,xr.jsxs)("li",{children:["In admin financial and agreement views, this instructor will be labeled as",(0,xr.jsx)("span",{className:"ml-1 font-semibold",children:"\u201cDeleted Instructor\u201d."})]})]})]}),(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:"After deletion, the instructor\u2019s email and phone become available for reuse, but all legal and financial records remain permanently stored for audit and tax purposes."})]}),(0,xr.jsxs)("div",{className:"flex space-x-3",children:[(0,xr.jsx)("button",{onClick:()=>(async e=>{try{await i.A.delete("/api/users/".concat(e)),await I(),b(null)}catch(t){console.error("Error deleting instructor:",t);const e=M(t,"Failed to delete instructor");er.error(e)}})(v),className:"flex-1 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Delete"}),(0,xr.jsx)("button",{onClick:()=>b(null),className:"flex-1 btn-secondary",children:"Cancel"})]})]})})]})},mv=()=>{const e=ae(),[t,r]=(0,a.useState)([]),[n,s]=(0,a.useState)([]),[o,l]=(0,a.useState)(!0),[c,d]=(0,a.useState)(""),[u,m]=(0,a.useState)(null),[h,p]=(0,a.useState)([]),[g,x]=(0,a.useState)([]),[f,y]=(0,a.useState)(null),[v,b]=(0,a.useState)([]),[w,j]=(0,a.useState)(!1),[k,N]=(0,a.useState)(!1),C=(e,t)=>{var r;const a=null===e||void 0===e||null===(r=e.response)||void 0===r?void 0:r.data;if(Array.isArray(null===a||void 0===a?void 0:a.errors)&&a.errors.length>0){const e=a.errors.map(e=>e.msg||e.message).filter(Boolean);if(e.length>0)return e.join(" ")}return"string"===typeof(null===a||void 0===a?void 0:a.message)&&a.message.trim().length>0?a.message:t};(0,a.useEffect)(()=>{A(),S()},[]),(0,a.useEffect)(()=>{if(c){const e=t.filter(e=>e.name.toLowerCase().includes(c.toLowerCase())||e.category.toLowerCase().includes(c.toLowerCase()));s(e)}else s(t)},[c,t]);const A=async()=>{try{l(!0);const t=localStorage.getItem("token"),a=(await i.A.get("/api/courses/all",{headers:t?{Authorization:"Bearer ".concat(t)}:{}})).data.courses||[],n=[];for(const r of a)try{const e=await i.A.get("/api/groups?course=".concat(r._id));n.push((0,Be.A)((0,Be.A)({},r),{},{groupsList:e.data.groups||[]})),await new Promise(e=>setTimeout(e,50))}catch(e){console.error("Error fetching groups for course ".concat(r._id,":"),e),n.push((0,Be.A)((0,Be.A)({},r),{},{groupsList:[]}))}r(n),s(n)}catch(e){console.error("Error fetching courses:",e)}finally{l(!1)}},S=async()=>{try{const e=await i.A.get("/api/courses/pending");p(e.data.courses||[])}catch(e){console.error("Error fetching pending courses:",e)}},E=async e=>{y({course:e,newInstructorId:""}),v&&0!==v.length||await(async()=>{try{j(!0);const e=localStorage.getItem("token"),t=await i.A.get("/api/users/instructors",{headers:e?{Authorization:"Bearer ".concat(e)}:{}});b(t.data.instructors||[])}catch(e){console.error("Error fetching instructors:",e),er.error("Failed to load instructors")}finally{j(!1)}})()};return o?(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,xr.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8",children:[(0,xr.jsxs)(Oe,{to:"/admin",className:"inline-flex items-center space-x-2 text-primary-600 hover:text-primary-700 mb-4",children:[(0,xr.jsx)(Em,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:"Back to Dashboard"})]}),(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Course Management"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage all courses and their groups"})]}),(0,xr.jsx)("div",{className:"flex items-center space-x-4",children:(0,xr.jsxs)("div",{className:"relative",children:[(0,xr.jsx)(ad,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,xr.jsx)("input",{type:"text",placeholder:"Search courses...",value:c,onChange:e=>d(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500"})]})})]})]}),h.length>0&&(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mb-8",children:[(0,xr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Pending Course Approvals"}),(0,xr.jsx)("div",{className:"card",children:(0,xr.jsx)("div",{className:"space-y-4",children:h.map(e=>{var t;return(0,xr.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,xr.jsxs)("div",{className:"flex-1 mr-4",children:[(0,xr.jsx)("p",{className:"font-medium text-gray-900 dark:text-white text-lg",children:e.name}),(0,xr.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mt-1 text-sm text-gray-600 dark:text-gray-300",children:[(0,xr.jsxs)("span",{children:["Instructor: ",null===(t=e.instructor)||void 0===t?void 0:t.name]}),(0,xr.jsxs)("span",{children:["Category: ",e.category]}),(0,xr.jsxs)("span",{children:["Level: ",e.level]})]}),e.description&&(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2 line-clamp-2",children:e.description})]}),(0,xr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,xr.jsxs)("button",{onClick:()=>(async e=>{try{x(t=>[...t,"course-".concat(e)]),await i.A.put("/api/courses/".concat(e,"/approve")),await Promise.all([S(),A()]),er.success("Course approved successfully!")}catch(t){console.error("Error approving course:",t);const e=C(t,"Failed to approve course");er.error(e)}finally{x(t=>t.filter(t=>t!=="course-".concat(e)))}})(e._id),disabled:g.includes("course-".concat(e._id)),className:"btn-primary flex items-center gap-2 px-4 py-2",children:[(0,xr.jsx)(Om,{className:"w-4 h-4"}),g.includes("course-".concat(e._id))?"Processing...":"Approve"]}),(0,xr.jsxs)("button",{onClick:()=>(async e=>{const t=prompt("Enter rejection reason (optional):");try{x(t=>[...t,"course-".concat(e)]),await i.A.put("/api/courses/".concat(e,"/reject"),{reason:t}),await Promise.all([S(),A()]),er.success("Course rejected.")}catch(r){console.error("Error rejecting course:",r);const e=C(r,"Failed to reject course");er.error(e)}finally{x(t=>t.filter(t=>t!=="course-".concat(e)))}})(e._id),disabled:g.includes("course-".concat(e._id)),className:"btn-secondary flex items-center gap-2 px-4 py-2 bg-red-100 text-red-700 hover:bg-red-200 dark:bg-red-900 dark:text-red-200 dark:hover:bg-red-800",children:[(0,xr.jsx)(Fm,{className:"w-4 h-4"}),"Reject"]})]})]},e._id)})})})]}),(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:0===n.length?(0,xr.jsxs)("div",{className:"col-span-full card text-center py-12",children:[(0,xr.jsx)(Ra,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:c?"No courses found":"No courses yet"})]}):n.map(t=>{var r;return(0,xr.jsxs)("div",{className:"card hover:shadow-xl transition-shadow",children:[(0,xr.jsx)("div",{className:"h-48 bg-gradient-to-br from-primary-500 to-primary-700 rounded-t-xl flex items-center justify-center",children:t.image?(0,xr.jsx)("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover rounded-t-xl"}):(0,xr.jsx)(Ra,{className:"w-16 h-16 text-white"})}),(0,xr.jsxs)("div",{className:"p-6",children:[(0,xr.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:t.name}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 line-clamp-2",children:t.description}),(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,xr.jsx)("span",{className:"px-2 py-1 text-xs font-medium bg-primary-100 text-primary-800 dark:bg-primary-900 dark:text-primary-200 rounded-full",children:t.category}),(0,xr.jsx)("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200 rounded-full",children:t.level})]}),t.isArchived&&(0,xr.jsx)("span",{className:"px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200 rounded-full",children:"Archived"})]}),t.totalPrice>0&&(0,xr.jsx)("div",{className:"mb-4",children:(0,xr.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total Price: ",(0,xr.jsxs)("span",{className:"font-bold text-gray-900 dark:text-white",children:[t.totalPrice.toLocaleString()," ",t.currency||"SYP"]})]})}),(0,xr.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,xr.jsx)(Xc,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}),(0,xr.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(null===(r=t.groupsList)||void 0===r?void 0:r.length)||0," groups"]})]}),(0,xr.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("span",{className:"font-semibold",children:"Instructor:"})," ",t.isOrphaned||!t.instructor?(0,xr.jsx)("span",{className:"font-medium",children:"Unassigned (orphaned)"}):(0,xr.jsxs)("span",{className:"font-medium inline-flex items-center space-x-2",children:[(0,xr.jsx)("span",{children:t.instructor.name}),(t.instructor.isDeleted||"deleted"===t.instructor.status)&&(0,xr.jsx)("span",{className:"px-2 py-0.5 text-[10px] font-semibold rounded-full bg-red-100 text-red-700 dark:bg-red-900/40 dark:text-red-300",children:"Deleted Instructor"})]})]}),t.isOrphaned&&t.originalInstructor&&(0,xr.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:["Original instructor: ",t.originalInstructor.name]})]}),(0,xr.jsxs)("div",{className:"space-y-2",children:[(0,xr.jsxs)("div",{className:"flex space-x-2",children:[(0,xr.jsxs)("button",{onClick:()=>{return r=t._id,void e("/courses/".concat(r));var r},className:"flex-1 btn-secondary flex items-center justify-center space-x-1 text-sm",title:"View Course",children:[(0,xr.jsx)(Kd,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:"View"})]}),(0,xr.jsxs)("button",{onClick:()=>{return r=t._id,void e("/admin/courses/".concat(r,"/edit"));var r},className:"flex-1 btn-secondary flex items-center justify-center space-x-1 text-sm",title:"Edit Course",children:[(0,xr.jsx)(Sg,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:"Edit"})]}),(0,xr.jsx)("button",{onClick:()=>m(t._id),className:"p-2 text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete Course",children:(0,xr.jsx)(kh,{className:"w-4 h-4"})})]}),(0,xr.jsxs)("button",{onClick:()=>E(t),className:"btn-secondary w-full flex items-center justify-center space-x-2 text-sm",title:"Change Course Owner",children:[(0,xr.jsx)(dr,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:"Change Course Owner"})]}),(0,xr.jsxs)("button",{onClick:()=>{return r=t._id,void e("/app/courses/".concat(r,"/groups"));var r},className:"btn-primary w-full flex items-center justify-center space-x-2",title:"Manage Groups",children:[(0,xr.jsx)(Xc,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:"Group Management"})]})]})]})]},t._id)})})]}),u&&(0,xr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full p-6",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,xr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Confirm Delete"}),(0,xr.jsx)("button",{onClick:()=>m(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:(0,xr.jsx)(pr.A,{className:"w-6 h-6"})})]}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Are you sure you want to delete this course? This action cannot be undone and will remove all associated groups and enrollments."}),(0,xr.jsxs)("div",{className:"flex space-x-3",children:[(0,xr.jsx)("button",{onClick:()=>(async e=>{try{await i.A.delete("/api/courses/".concat(e)),await A(),m(null)}catch(t){console.error("Error deleting course:",t);const e=C(t,"Failed to delete course");er.error(e)}})(u),className:"flex-1 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Delete"}),(0,xr.jsx)("button",{onClick:()=>m(null),className:"flex-1 btn-secondary",children:"Cancel"})]})]})}),f&&(0,xr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-lg w-full p-6",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,xr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Change Course Owner"}),(0,xr.jsx)("button",{onClick:()=>y(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:(0,xr.jsx)(pr.A,{className:"w-6 h-6"})})]}),(0,xr.jsxs)("div",{className:"mb-4",children:[(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2",children:"You are about to change the owner of this course:"}),(0,xr.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:f.course.name}),(0,xr.jsx)("p",{className:"mt-3 text-xs text-gray-500 dark:text-gray-400",children:"The new instructor will immediately gain full access to manage this course and its groups. The previous instructor (even if still active) will lose the ability to edit, delete, or manage this course. All students, progress, payments, earnings, and agreements remain unchanged."})]}),(0,xr.jsxs)("div",{className:"mb-6",children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Select New Instructor"}),(0,xr.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:f.newInstructorId,onChange:e=>y(t=>(0,Be.A)((0,Be.A)({},t),{},{newInstructorId:e.target.value})),children:[(0,xr.jsx)("option",{value:"",children:"Choose an instructor..."}),v.filter(e=>!e.isDeleted&&"deleted"!==e.status).map(e=>(0,xr.jsxs)("option",{value:e._id,children:[e.name," (",e.email,")"]},e._id))]}),w&&(0,xr.jsx)("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:"Loading instructors..."})]}),(0,xr.jsxs)("div",{className:"flex space-x-3",children:[(0,xr.jsx)("button",{onClick:()=>y(null),className:"flex-1 btn-secondary",disabled:k,children:"Cancel"}),(0,xr.jsx)("button",{onClick:async()=>{if(null!==f&&void 0!==f&&f.newInstructorId)try{N(!0);const e=localStorage.getItem("token");await i.A.put("/api/courses/".concat(f.course._id,"/reassign-instructor"),{newInstructorId:f.newInstructorId},e?{headers:{Authorization:"Bearer ".concat(e)}}:{}),er.success("Course owner changed successfully"),await A(),y(null)}catch(e){console.error("Error changing course owner:",e);const t=C(e,"Failed to change course owner");er.error(t)}finally{N(!1)}else er.error("Please select a new instructor")},className:"flex-1 bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",disabled:k||!f.newInstructorId,children:k?"Changing Owner...":"Change Owner"})]})]})})]})},hv=(0,nr.A)("Folder",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}]]),pv=()=>{const{user:e}=wr(),[t,r]=(0,a.useState)([]),[n,s]=(0,a.useState)(!0),[o,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(!1),[h,p]=(0,a.useState)(null),[g,x]=(0,a.useState)(null),[f,y]=(0,a.useState)(!1),[v,b]=(0,a.useState)({name:"",description:"",icon:""}),[w,j]=(0,a.useState)(null),[k,N]=(0,a.useState)(null),[C,A]=(0,a.useState)(""),[S,E]=(0,a.useState)(!1);(0,a.useEffect)(()=>{D()},[]);const D=async()=>{try{s(!0);const e=await i.A.get("/api/categories/admin/all");r(e.data.categories||[])}catch(e){console.error("Error fetching categories:",e),er.error("Failed to load categories")}finally{s(!1)}},P=async e=>{h===e?(p(null),x(null)):(p(e),await(async e=>{try{y(!0);const t=await i.A.get("/api/categories/".concat(e,"/stats"));x(t.data.stats)}catch(t){console.error("Error fetching category stats:",t),er.error("Failed to load category details")}finally{y(!1)}})(e))};return n?(0,xr.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center gap-3",children:[(0,xr.jsx)(Jy,{className:"w-8 h-8 text-primary-600"}),"Category Management"]}),(0,xr.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Manage course categories, view statistics, and maintain consistency"})]}),(0,xr.jsxs)("button",{onClick:()=>l(!0),className:"btn-primary flex items-center gap-2",children:[(0,xr.jsx)(Xh,{className:"w-5 h-5"}),"Add Category"]})]}),(0,xr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,xr.jsx)("div",{className:"card p-6",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Categories"}),(0,xr.jsx)("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-1",children:t.length})]}),(0,xr.jsx)("div",{className:"p-3 bg-primary-100 dark:bg-primary-900 rounded-lg",children:(0,xr.jsx)(hv,{className:"w-6 h-6 text-primary-600"})})]})}),(0,xr.jsx)("div",{className:"card p-6",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Courses"}),(0,xr.jsx)("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-1",children:t.reduce((e,t)=>e+t.courseCount,0)})]}),(0,xr.jsx)("div",{className:"p-3 bg-green-100 dark:bg-green-900 rounded-lg",children:(0,xr.jsx)(Ra,{className:"w-6 h-6 text-green-600"})})]})}),(0,xr.jsx)("div",{className:"card p-6",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active Instructors"}),(0,xr.jsx)("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-1",children:t.reduce((e,t)=>e+t.instructorCount,0)})]}),(0,xr.jsx)("div",{className:"p-3 bg-blue-100 dark:bg-blue-900 rounded-lg",children:(0,xr.jsx)(Xc,{className:"w-6 h-6 text-blue-600"})})]})})]}),(0,xr.jsx)("div",{className:"space-y-4",children:0===t.length?(0,xr.jsxs)("div",{className:"card p-12 text-center",children:[(0,xr.jsx)(hv,{className:"w-16 h-16 text-gray-400 dark:text-gray-600 mx-auto mb-4"}),(0,xr.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No categories yet"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Create your first category to start organizing courses"}),(0,xr.jsx)("button",{onClick:()=>l(!0),className:"btn-primary",children:"Create Category"})]}):t.map(e=>(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card overflow-hidden",children:[(0,xr.jsx)("div",{className:"p-6",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,xr.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:e.name}),(0,xr.jsx)("span",{className:"px-2 py-1 text-xs font-medium bg-primary-100 dark:bg-primary-900 text-primary-800 dark:text-primary-200 rounded",children:e.slug})]}),e.description&&(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:e.description}),(0,xr.jsxs)("div",{className:"flex items-center gap-4 mt-3 text-sm text-gray-600 dark:text-gray-400",children:[(0,xr.jsxs)("span",{className:"flex items-center gap-1",children:[(0,xr.jsx)(Ra,{className:"w-4 h-4"}),e.courseCount," courses"]}),(0,xr.jsxs)("span",{className:"flex items-center gap-1",children:[(0,xr.jsx)(Xc,{className:"w-4 h-4"}),e.instructorCount," instructors"]})]})]}),(0,xr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,xr.jsx)("button",{onClick:()=>(e=>{j(e),b({name:e.name,description:e.description||"",icon:e.icon||""}),d(!0)})(e),className:"p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Edit category",children:(0,xr.jsx)(Sg,{className:"w-5 h-5"})}),(0,xr.jsx)("button",{onClick:()=>(e=>{N(e),A(""),m(!0)})(e),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete category",children:(0,xr.jsx)(kh,{className:"w-5 h-5"})}),(0,xr.jsx)("button",{onClick:()=>P(e._id),className:"p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:h===e._id?(0,xr.jsx)(zh,{className:"w-5 h-5"}):(0,xr.jsx)(eh,{className:"w-5 h-5"})})]})]})}),(0,xr.jsx)(tr.N,{children:h===e._id&&(0,xr.jsx)(rr.P.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50",children:(0,xr.jsx)("div",{className:"p-6",children:f?(0,xr.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):g&&g.courses.length>0?(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Courses in this category:"}),(0,xr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.courses.map(e=>(0,xr.jsxs)("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[(0,xr.jsx)("h5",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),e.instructor&&(0,xr.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["By ",e.instructor.name]}),(0,xr.jsx)("span",{className:"inline-block mt-2 px-2 py-1 text-xs font-medium rounded ".concat("approved"===e.status?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200"),children:e.status})]},e._id))})]}):(0,xr.jsx)("p",{className:"text-center text-gray-600 dark:text-gray-400 py-4",children:"No courses in this category yet"})})})})]},e._id))}),o&&(0,xr.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:(0,xr.jsxs)(rr.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md p-6",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,xr.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Add New Category"}),(0,xr.jsx)("button",{onClick:()=>l(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-white",children:(0,xr.jsx)(pr.A,{className:"w-5 h-5"})})]}),(0,xr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),v.name.trim())try{E(!0),await i.A.post("/api/categories",v),er.success("Category created successfully"),l(!1),b({name:"",description:"",icon:""}),D()}catch(a){var t,r;console.error("Error creating category:",a),er.error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to create category")}finally{E(!1)}else er.error("Category name is required")},className:"space-y-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Category Name *"}),(0,xr.jsx)("input",{type:"text",value:v.name,onChange:e=>b((0,Be.A)((0,Be.A)({},v),{},{name:e.target.value})),className:"input-field",placeholder:"e.g., Design, Business, etc.",required:!0})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Description"}),(0,xr.jsx)("textarea",{value:v.description,onChange:e=>b((0,Be.A)((0,Be.A)({},v),{},{description:e.target.value})),className:"input-field",rows:"3",placeholder:"Brief description of this category"})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Icon (optional)"}),(0,xr.jsx)("input",{type:"text",value:v.icon,onChange:e=>b((0,Be.A)((0,Be.A)({},v),{},{icon:e.target.value})),className:"input-field",placeholder:"e.g., code, book, globe"})]}),(0,xr.jsxs)("div",{className:"flex justify-end gap-2 pt-4",children:[(0,xr.jsx)("button",{type:"button",onClick:()=>l(!1),className:"btn-secondary",disabled:S,children:"Cancel"}),(0,xr.jsx)("button",{type:"submit",className:"btn-primary",disabled:S,children:S?"Creating...":"Create Category"})]})]})]})}),c&&w&&(0,xr.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:(0,xr.jsxs)(rr.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md p-6",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,xr.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Edit Category"}),(0,xr.jsx)("button",{onClick:()=>d(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-white",children:(0,xr.jsx)(pr.A,{className:"w-5 h-5"})})]}),(0,xr.jsx)("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:(0,xr.jsxs)("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[(0,xr.jsx)("strong",{children:"Note:"})," Renaming this category will automatically update all ",w.courseCount," linked courses."]})}),(0,xr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),v.name.trim())try{E(!0),await i.A.put("/api/categories/".concat(w._id),v),er.success("Category updated successfully"),d(!1),j(null),b({name:"",description:"",icon:""}),D()}catch(a){var t,r;console.error("Error updating category:",a),er.error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to update category")}finally{E(!1)}else er.error("Category name is required")},className:"space-y-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Category Name *"}),(0,xr.jsx)("input",{type:"text",value:v.name,onChange:e=>b((0,Be.A)((0,Be.A)({},v),{},{name:e.target.value})),className:"input-field",required:!0})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Description"}),(0,xr.jsx)("textarea",{value:v.description,onChange:e=>b((0,Be.A)((0,Be.A)({},v),{},{description:e.target.value})),className:"input-field",rows:"3"})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Icon (optional)"}),(0,xr.jsx)("input",{type:"text",value:v.icon,onChange:e=>b((0,Be.A)((0,Be.A)({},v),{},{icon:e.target.value})),className:"input-field"})]}),(0,xr.jsxs)("div",{className:"flex justify-end gap-2 pt-4",children:[(0,xr.jsx)("button",{type:"button",onClick:()=>d(!1),className:"btn-secondary",disabled:S,children:"Cancel"}),(0,xr.jsx)("button",{type:"submit",className:"btn-primary",disabled:S,children:S?"Updating...":"Update Category"})]})]})]})}),u&&k&&(0,xr.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:(0,xr.jsxs)(rr.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md p-6",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,xr.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[(0,xr.jsx)($h,{className:"w-6 h-6 text-red-600"}),"Delete Category"]}),(0,xr.jsx)("button",{onClick:()=>m(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-white",children:(0,xr.jsx)(pr.A,{className:"w-5 h-5"})})]}),(0,xr.jsxs)("div",{className:"mb-6",children:[(0,xr.jsxs)("p",{className:"text-gray-900 dark:text-white mb-4",children:["You are about to delete the category: ",(0,xr.jsx)("strong",{children:k.name})]}),k.courseCount>0&&(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg mb-4",children:(0,xr.jsxs)("p",{className:"text-red-800 dark:text-red-200 text-sm",children:[(0,xr.jsx)("strong",{children:"Warning:"})," This category has ",(0,xr.jsxs)("strong",{children:[k.courseCount," course(s)"]}),". You must select a replacement category to reassign these courses."]})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Replacement Category *"}),(0,xr.jsxs)("select",{value:C,onChange:e=>A(e.target.value),className:"input-field",required:!0,children:[(0,xr.jsx)("option",{value:"",children:"Select a category..."}),t.filter(e=>e._id!==k._id).map(e=>(0,xr.jsxs)("option",{value:e._id,children:[e.name," (",e.courseCount," courses)"]},e._id))]}),(0,xr.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:["All ",k.courseCount," courses will be moved to this category"]})]})]})]}),(0,xr.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,xr.jsx)("button",{type:"button",onClick:()=>m(!1),className:"btn-secondary",disabled:S,children:"Cancel"}),(0,xr.jsx)("button",{onClick:async()=>{try{E(!0);const e=C?{replacementCategoryId:C}:{};await i.A.delete("/api/categories/".concat(k._id),{data:e}),er.success("Category deleted successfully"),m(!1),N(null),A(""),D()}catch(n){var e,t,r,a;if(console.error("Error deleting category:",n),null!==(e=n.response)&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.requiresReplacement)er.error("This category has ".concat(n.response.data.affectedCourses," courses. Please select a replacement category."));else er.error((null===(r=n.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Failed to delete category")}finally{E(!1)}},className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors disabled:opacity-50",disabled:S||k.courseCount>0&&!C,children:S?"Deleting...":"Delete Category"})]})]})})]})},gv=()=>{const{user:e}=wr(),[t,r]=(0,a.useState)([]),[n,s]=(0,a.useState)(!0),[o,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(!1),[h,p]=(0,a.useState)(null),[g,x]=(0,a.useState)(null),[f,y]=(0,a.useState)(!1),[v,b]=(0,a.useState)({name:"",description:"",order:0}),[w,j]=(0,a.useState)(null),[k,N]=(0,a.useState)(null),[C,A]=(0,a.useState)(""),[S,E]=(0,a.useState)(""),[D,P]=(0,a.useState)(!1);(0,a.useEffect)(()=>{T()},[]);const T=async()=>{try{s(!0);const e=await i.A.get("/api/levels/admin/all");r(e.data.levels||[])}catch(e){console.error("Error fetching levels:",e),er.error("Failed to load levels")}finally{s(!1)}},_=async e=>{h===e?(p(null),x(null)):(p(e),await(async e=>{try{y(!0);const t=await i.A.get("/api/levels/".concat(e,"/stats"));x(t.data.stats)}catch(t){console.error("Error fetching level stats:",t),er.error("Failed to load level details")}finally{y(!1)}})(e))};return n?(0,xr.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center gap-3",children:[(0,xr.jsx)(Zy,{className:"w-8 h-8 text-primary-600"}),"Level Management"]}),(0,xr.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Manage course levels, view statistics, and maintain consistency"})]}),(0,xr.jsxs)("button",{onClick:()=>l(!0),className:"btn-primary flex items-center gap-2",children:[(0,xr.jsx)(Xh,{className:"w-5 h-5"}),"Add Level"]})]}),(0,xr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,xr.jsx)("div",{className:"card p-6",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Levels"}),(0,xr.jsx)("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-1",children:t.length})]}),(0,xr.jsx)("div",{className:"p-3 bg-primary-100 dark:bg-primary-900 rounded-lg",children:(0,xr.jsx)(Zy,{className:"w-6 h-6 text-primary-600"})})]})}),(0,xr.jsx)("div",{className:"card p-6",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Courses"}),(0,xr.jsx)("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-1",children:t.reduce((e,t)=>e+t.courseCount,0)})]}),(0,xr.jsx)("div",{className:"p-3 bg-green-100 dark:bg-green-900 rounded-lg",children:(0,xr.jsx)(Ra,{className:"w-6 h-6 text-green-600"})})]})}),(0,xr.jsx)("div",{className:"card p-6",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active Instructors"}),(0,xr.jsx)("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-1",children:t.reduce((e,t)=>e+t.instructorCount,0)})]}),(0,xr.jsx)("div",{className:"p-3 bg-blue-100 dark:bg-blue-900 rounded-lg",children:(0,xr.jsx)(Xc,{className:"w-6 h-6 text-blue-600"})})]})})]}),(0,xr.jsx)("div",{className:"space-y-4",children:0===t.length?(0,xr.jsxs)("div",{className:"card p-12 text-center",children:[(0,xr.jsx)(Zy,{className:"w-16 h-16 text-gray-400 dark:text-gray-600 mx-auto mb-4"}),(0,xr.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No levels yet"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Create your first level to start organizing courses by difficulty"}),(0,xr.jsx)("button",{onClick:()=>l(!0),className:"btn-primary",children:"Create Level"})]}):t.map(e=>(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card overflow-hidden",children:[(0,xr.jsx)("div",{className:"p-6",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,xr.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:e.name}),(0,xr.jsx)("span",{className:"px-2 py-1 text-xs font-medium bg-primary-100 dark:bg-primary-900 text-primary-800 dark:text-primary-200 rounded",children:e.slug}),(0,xr.jsxs)("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded",children:["Order: ",e.order]})]}),e.description&&(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:e.description}),(0,xr.jsxs)("div",{className:"flex items-center gap-4 mt-3 text-sm text-gray-600 dark:text-gray-400",children:[(0,xr.jsxs)("span",{className:"flex items-center gap-1",children:[(0,xr.jsx)(Ra,{className:"w-4 h-4"}),e.courseCount," courses"]}),(0,xr.jsxs)("span",{className:"flex items-center gap-1",children:[(0,xr.jsx)(Xc,{className:"w-4 h-4"}),e.instructorCount," instructors"]})]})]}),(0,xr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,xr.jsx)("button",{onClick:()=>(e=>{j(e),b({name:e.name,description:e.description||"",order:e.order||0}),d(!0)})(e),className:"p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Edit level",children:(0,xr.jsx)(Sg,{className:"w-5 h-5"})}),(0,xr.jsx)("button",{onClick:()=>(e=>{N(e),A(""),E(""),m(!0)})(e),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete level",children:(0,xr.jsx)(kh,{className:"w-5 h-5"})}),(0,xr.jsx)("button",{onClick:()=>_(e._id),className:"p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:h===e._id?(0,xr.jsx)(zh,{className:"w-5 h-5"}):(0,xr.jsx)(eh,{className:"w-5 h-5"})})]})]})}),(0,xr.jsx)(tr.N,{children:h===e._id&&(0,xr.jsx)(rr.P.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50",children:(0,xr.jsx)("div",{className:"p-6",children:f?(0,xr.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):g&&g.courses.length>0?(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Courses at this level:"}),(0,xr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.courses.map(e=>(0,xr.jsxs)("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[(0,xr.jsx)("h5",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),e.instructor&&(0,xr.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["By ",e.instructor.name]}),(0,xr.jsx)("span",{className:"inline-block mt-2 px-2 py-1 text-xs font-medium rounded ".concat("approved"===e.status?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200"),children:e.status})]},e._id))})]}):(0,xr.jsx)("p",{className:"text-center text-gray-600 dark:text-gray-400 py-4",children:"No courses at this level yet"})})})})]},e._id))}),o&&(0,xr.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:(0,xr.jsxs)(rr.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md p-6",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,xr.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Add New Level"}),(0,xr.jsx)("button",{onClick:()=>l(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-white",children:(0,xr.jsx)(pr.A,{className:"w-5 h-5"})})]}),(0,xr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),v.name.trim())try{P(!0),await i.A.post("/api/levels",v),er.success("Level created successfully"),l(!1),b({name:"",description:"",order:0}),T()}catch(a){var t,r;console.error("Error creating level:",a),er.error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to create level")}finally{P(!1)}else er.error("Level name is required")},className:"space-y-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Level Name *"}),(0,xr.jsx)("input",{type:"text",value:v.name,onChange:e=>b((0,Be.A)((0,Be.A)({},v),{},{name:e.target.value})),className:"input-field",placeholder:"e.g., Expert, Master, etc.",required:!0})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Description"}),(0,xr.jsx)("textarea",{value:v.description,onChange:e=>b((0,Be.A)((0,Be.A)({},v),{},{description:e.target.value})),className:"input-field",rows:"3",placeholder:"Brief description of this level"})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Order (for sorting)"}),(0,xr.jsx)("input",{type:"number",value:v.order,onChange:e=>b((0,Be.A)((0,Be.A)({},v),{},{order:parseInt(e.target.value)})),className:"input-field",placeholder:"1, 2, 3..."})]}),(0,xr.jsxs)("div",{className:"flex justify-end gap-2 pt-4",children:[(0,xr.jsx)("button",{type:"button",onClick:()=>l(!1),className:"btn-secondary",disabled:D,children:"Cancel"}),(0,xr.jsx)("button",{type:"submit",className:"btn-primary",disabled:D,children:D?"Creating...":"Create Level"})]})]})]})}),c&&w&&(0,xr.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:(0,xr.jsxs)(rr.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md p-6",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,xr.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Edit Level"}),(0,xr.jsx)("button",{onClick:()=>d(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-white",children:(0,xr.jsx)(pr.A,{className:"w-5 h-5"})})]}),(0,xr.jsx)("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:(0,xr.jsxs)("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[(0,xr.jsx)("strong",{children:"Note:"})," Renaming this level will automatically update all ",w.courseCount," linked courses."]})}),(0,xr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),v.name.trim())try{P(!0),await i.A.put("/api/levels/".concat(w._id),v),er.success("Level updated successfully"),d(!1),j(null),b({name:"",description:"",order:0}),T()}catch(a){var t,r;console.error("Error updating level:",a),er.error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to update level")}finally{P(!1)}else er.error("Level name is required")},className:"space-y-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Level Name *"}),(0,xr.jsx)("input",{type:"text",value:v.name,onChange:e=>b((0,Be.A)((0,Be.A)({},v),{},{name:e.target.value})),className:"input-field",required:!0})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Description"}),(0,xr.jsx)("textarea",{value:v.description,onChange:e=>b((0,Be.A)((0,Be.A)({},v),{},{description:e.target.value})),className:"input-field",rows:"3"})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Order (for sorting)"}),(0,xr.jsx)("input",{type:"number",value:v.order,onChange:e=>b((0,Be.A)((0,Be.A)({},v),{},{order:parseInt(e.target.value)})),className:"input-field"})]}),(0,xr.jsxs)("div",{className:"flex justify-end gap-2 pt-4",children:[(0,xr.jsx)("button",{type:"button",onClick:()=>d(!1),className:"btn-secondary",disabled:D,children:"Cancel"}),(0,xr.jsx)("button",{type:"submit",className:"btn-primary",disabled:D,children:D?"Updating...":"Update Level"})]})]})]})}),u&&k&&(0,xr.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:(0,xr.jsxs)(rr.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md p-6",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,xr.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[(0,xr.jsx)($h,{className:"w-6 h-6 text-red-600"}),"Delete Level"]}),(0,xr.jsx)("button",{onClick:()=>m(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-white",children:(0,xr.jsx)(pr.A,{className:"w-5 h-5"})})]}),(0,xr.jsxs)("div",{className:"mb-6",children:[(0,xr.jsxs)("p",{className:"text-gray-900 dark:text-white mb-4",children:["You are about to delete the level: ",(0,xr.jsx)("strong",{children:k.name})]}),k.courseCount>0&&(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg mb-4",children:(0,xr.jsxs)("p",{className:"text-red-800 dark:text-red-200 text-sm",children:[(0,xr.jsx)("strong",{children:"Warning:"})," This level has ",(0,xr.jsxs)("strong",{children:[k.courseCount," course(s)"]}),". You must select a replacement level or create a new one."]})}),(0,xr.jsxs)("div",{className:"space-y-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Replacement Level (Option 1)"}),(0,xr.jsxs)("select",{value:C,onChange:e=>{A(e.target.value),e.target.value&&E("")},className:"input-field",children:[(0,xr.jsx)("option",{value:"",children:"Select a level..."}),t.filter(e=>e._id!==k._id).map(e=>(0,xr.jsxs)("option",{value:e._id,children:[e.name," (",e.courseCount," courses)"]},e._id))]})]}),(0,xr.jsx)("div",{className:"text-center text-gray-600 dark:text-gray-400 font-medium",children:"- OR -"}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Create New Level (Option 2)"}),(0,xr.jsx)("input",{type:"text",value:S,onChange:e=>{E(e.target.value),e.target.value&&A("")},className:"input-field",placeholder:"Enter new level name..."}),(0,xr.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"A new level will be created and all courses will be reassigned to it"})]})]})]})]}),(0,xr.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,xr.jsx)("button",{type:"button",onClick:()=>m(!1),className:"btn-secondary",disabled:D,children:"Cancel"}),(0,xr.jsx)("button",{onClick:async()=>{try{P(!0);const e={};C&&(e.replacementLevelId=C),S&&(e.newLevelName=S),await i.A.delete("/api/levels/".concat(k._id),{data:e}),er.success("Level deleted successfully"),m(!1),N(null),A(""),E(""),T()}catch(n){var e,t,r,a;if(console.error("Error deleting level:",n),null!==(e=n.response)&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.requiresReplacement)er.error("This level has ".concat(n.response.data.affectedCourses," courses. Please select a replacement level or create a new one."));else er.error((null===(r=n.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Failed to delete level")}finally{P(!1)}},className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors disabled:opacity-50",disabled:D||k.courseCount>0&&!C&&!S,children:D?"Deleting...":"Delete Level"})]})]})})]})},xv=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[s,o]=(0,a.useState)({});(0,a.useEffect)(()=>{l()},[]);const l=async()=>{try{n(!0);const e=localStorage.getItem("token"),r=await i.A.get("/api/enroll/payments",{headers:{Authorization:"Bearer ".concat(e)}});t(r.data.payments||[])}catch(a){var e,r;if(console.error("Error fetching payments:",a),a.response&&404!==a.response.status)er.error((null===(e=a.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.message)||"Failed to fetch payments");t([])}finally{n(!1)}},c=async function(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{o(t=>(0,Be.A)((0,Be.A)({},t),{},{[e]:!0}));const n=localStorage.getItem("token");let s;"approve"===r?s=await i.A.post("/api/section-payments/".concat(e,"/approve"),{},{headers:{Authorization:"Bearer ".concat(n)}}):"reject"===r&&(s=await i.A.post("/api/section-payments/".concat(e,"/reject"),{rejectionReason:a},{headers:{Authorization:"Bearer ".concat(n)}})),t(t=>t.filter(t=>t._id!==e)),er.success(s.data.message),l()}catch(c){var n,s;console.error("Error processing payment:",c),er.error((null===(n=c.response)||void 0===n||null===(s=n.data)||void 0===s?void 0:s.message)||"Failed to process payment")}finally{o(t=>{const r=(0,Be.A)({},t);return delete r[e],r})}},d=e=>{if(e.startsWith("http"))window.open(e,"_blank");else{const t="".concat(i.A.defaults.baseURL||"http://localhost:5000").concat(e);window.open(t,"_blank")}};return r?(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,xr.jsx)("div",{className:"mb-8",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Payment Verification"}),(0,xr.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Verify student payments for course sections"})]}),e.length>0&&(0,xr.jsxs)("div",{className:"flex space-x-3",children:[(0,xr.jsxs)("button",{onClick:async()=>{if(window.confirm("Are you sure you want to approve all ".concat(e.length," pending payments?")))try{const t=localStorage.getItem("token");await Promise.all(e.map(e=>i.A.post("/api/section-payments/".concat(e._id,"/approve"),{},{headers:{Authorization:"Bearer ".concat(t)}}))),er.success("All payments approved successfully"),l()}catch(t){console.error("Error approving all payments:",t),er.error("Failed to approve all payments")}},className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition flex items-center space-x-2",children:[(0,xr.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,xr.jsx)("span",{children:"Approve All"})]}),(0,xr.jsxs)("button",{onClick:async()=>{const t=prompt("Enter rejection reason for all payments:");if(null!==t&&window.confirm("Are you sure you want to reject all ".concat(e.length," pending payments?")))try{const r=localStorage.getItem("token");await Promise.all(e.map(e=>i.A.post("/api/section-payments/".concat(e._id,"/reject"),{rejectionReason:t},{headers:{Authorization:"Bearer ".concat(r)}}))),er.success("All payments rejected successfully"),l()}catch(r){console.error("Error rejecting all payments:",r),er.error("Failed to reject all payments")}},className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition flex items-center space-x-2",children:[(0,xr.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),(0,xr.jsx)("span",{children:"Reject All"})]})]})]})}),0===e.length?(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-8 text-center",children:[(0,xr.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,xr.jsx)("h3",{className:"mt-4 text-lg font-medium text-gray-900 dark:text-white",children:"No pending payments"}),(0,xr.jsx)("p",{className:"mt-2 text-gray-500 dark:text-gray-400",children:"All payments have been processed."})]}):(0,xr.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:(0,xr.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:e.map(e=>{var t,r,a,n;return e&&e._id?(0,xr.jsx)("div",{className:"p-6",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,xr.jsx)("div",{className:"flex-shrink-0",children:(0,xr.jsx)("div",{className:"h-10 w-10 rounded-full bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center",children:(0,xr.jsx)("svg",{className:"h-6 w-6 text-indigo-600 dark:text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})})}),(0,xr.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,xr.jsx)("h2",{className:"text-lg font-medium text-gray-900 dark:text-white truncate",children:null===(t=e.student)||void 0===t?void 0:t.name}),(0,xr.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:[null===(r=e.section)||void 0===r?void 0:r.name," \u2022 ",null===(a=e.course)||void 0===a?void 0:a.name]})]})]}),(0,xr.jsxs)("div",{className:"mt-4 flex items-center space-x-6 text-sm",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Original Price"}),(0,xr.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:Qm(e.baseAmountSYP||e.originalCoursePrice||e.amountCents,e.currency)})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Student Pays"}),(0,xr.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:Qm(e.finalAmountCents||e.amountCents,e.currency)})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Wallet Used"}),(0,xr.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:e.balanceUsed>0?"- ".concat(Qm(e.balanceUsed,e.currency)):"No balance"})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Method"}),(0,xr.jsx)("p",{className:"font-medium text-gray-900 dark:text-white capitalize",children:e.paymentMethod.replace("_"," ")})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Submitted"}),(0,xr.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:new Date(e.submittedAt).toLocaleDateString()})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-1",children:"Receipt"}),(null===(n=e.receipt)||void 0===n?void 0:n.url)&&(0,xr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,xr.jsx)("img",{src:e.receipt.url.startsWith("http")?e.receipt.url:"".concat(i.A.defaults.baseURL||"http://localhost:5000").concat(e.receipt.url),alt:"Receipt preview",className:"h-16 w-16 object-cover rounded border border-gray-300 dark:border-gray-600 cursor-pointer hover:opacity-80 transition",onClick:()=>d(e.receipt.url),onError:t=>{console.error("Failed to load receipt image:",e.receipt.url),t.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24"%3E%3Cpath fill="%23999" d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/%3E%3C/svg%3E',er.error("Failed to load receipt image")}}),(0,xr.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,xr.jsxs)("button",{onClick:()=>d(e.receipt.url),className:"text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-500 dark:hover:text-indigo-300 flex items-center",children:[(0,xr.jsxs)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"View"]}),(0,xr.jsxs)("button",{onClick:()=>{var t;return(async(e,t)=>{try{const r=e.startsWith("http")?e:"".concat(i.A.defaults.baseURL||"http://localhost:5000").concat(e),a=localStorage.getItem("token"),n=await fetch(r,{headers:{Authorization:"Bearer ".concat(a)}});if(!n.ok)throw new Error("Failed to download: ".concat(n.status," ").concat(n.statusText));const s=await n.blob(),o=window.URL.createObjectURL(s),l=document.createElement("a");l.href=o;const c=s.type.split("/")[1]||"jpg";l.download="receipt_".concat(t.replace(/\s+/g,"_"),"_").concat(Date.now(),".").concat(c),document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(o),er.success("Receipt downloaded successfully")}catch(r){console.error("Error downloading receipt:",r),er.error("Failed to download receipt: ".concat(r.message))}})(e.receipt.url,null===(t=e.student)||void 0===t?void 0:t.name)},className:"text-sm font-medium text-green-600 dark:text-green-400 hover:text-green-500 dark:hover:text-green-300 flex items-center",children:[(0,xr.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download"]})]})]})]})]})]}),(0,xr.jsxs)("div",{className:"ml-4 flex-shrink-0 flex space-x-2",children:[(0,xr.jsxs)("button",{onClick:()=>(async e=>{const t=prompt("Enter rejection reason:");null!==t&&await c(e,"reject",t)})(e._id),disabled:s[e._id],className:"px-4 py-2 border border-red-600 text-red-600 dark:text-red-400 dark:border-red-400 rounded-md hover:bg-red-50 dark:hover:bg-red-900/20 disabled:opacity-50 transition flex items-center",children:[s[e._id]?(0,xr.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-red-600 dark:text-red-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,xr.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,xr.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,"Reject"]}),(0,xr.jsxs)("button",{onClick:()=>(async e=>{await c(e,"approve")})(e._id),disabled:s[e._id],className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 transition flex items-center",children:[s[e._id]?(0,xr.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,xr.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,xr.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,"Approve"]})]})]})},"payment-".concat(e._id)):null})})})]})})},fv=()=>{const{user:e}=wr(),[t,r]=(0,a.useState)({requested:[],issued:[],rejected:[]}),[n,s]=(0,a.useState)(!0),[o,l]=(0,a.useState)({}),[c,d]=(0,a.useState)("requested"),[u,m]=(0,a.useState)(null),[h,p]=(0,a.useState)(null);(0,a.useEffect)(()=>{g()},[]);const g=async()=>{try{s(!0);const e=localStorage.getItem("token"),[t,a,n]=await Promise.all([i.A.get("/api/certificates/requests",{params:{status:"requested"},headers:{Authorization:"Bearer ".concat(e)}}).catch(()=>({data:{requests:[]}})),i.A.get("/api/certificates/requests",{params:{status:"issued"},headers:{Authorization:"Bearer ".concat(e)}}).catch(()=>({data:{requests:[]}})),i.A.get("/api/certificates/requests",{params:{status:"rejected"},headers:{Authorization:"Bearer ".concat(e)}}).catch(()=>({data:{requests:[]}}))]);r({requested:t.data.requests||[],issued:a.data.requests||[],rejected:n.data.requests||[]})}catch(e){console.error("Error fetching certificate requests:",e),er.error("Failed to fetch certificate requests")}finally{s(!1)}},x=t[c]||[];return(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,xr.jsxs)("div",{className:"mb-8",children:[(0,xr.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Certificate Management"}),(0,xr.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Manage all student certificate requests"})]}),(0,xr.jsx)("div",{className:"mb-6 border-b border-gray-200 dark:border-gray-700",children:(0,xr.jsx)("nav",{className:"flex space-x-8",children:["requested","issued","rejected"].map(e=>{var r;return(0,xr.jsxs)("button",{onClick:()=>d(e),className:"py-4 px-1 border-b-2 font-medium text-sm capitalize ".concat(c===e?"border-indigo-500 text-indigo-600 dark:text-indigo-400 dark:border-indigo-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"),children:[e," (",(null===(r=t[e])||void 0===r?void 0:r.length)||0,")"]},e)})})}),(0,xr.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:n?(0,xr.jsxs)("div",{className:"p-8 text-center",children:[(0,xr.jsxs)("svg",{className:"animate-spin mx-auto h-8 w-8 text-indigo-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,xr.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,xr.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,xr.jsx)("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading certificate requests..."})]}):0===x.length?(0,xr.jsxs)("div",{className:"p-8 text-center",children:[(0,xr.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,xr.jsxs)("h3",{className:"mt-4 text-lg font-medium text-gray-900 dark:text-white",children:["No ",c," certificates"]}),(0,xr.jsx)("p",{className:"mt-2 text-gray-500 dark:text-gray-400",children:"requested"===c?"There are no pending certificate requests.":"There are no ".concat(c," certificates.")})]}):(0,xr.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:x.map(t=>{var r,a,n,s,d,x;return(0,xr.jsxs)("div",{className:"p-6",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{className:"flex items-center",children:[(0,xr.jsx)("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center",children:(0,xr.jsx)("span",{className:"text-indigo-600 dark:text-indigo-400 font-medium",children:(null===(r=t.student)||void 0===r||null===(a=r.name)||void 0===a||null===(n=a.charAt(0))||void 0===n?void 0:n.toUpperCase())||"S"})}),(0,xr.jsxs)("div",{className:"ml-4",children:[(0,xr.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:null===(s=t.student)||void 0===s?void 0:s.name}),(0,xr.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[null===(d=t.course)||void 0===d?void 0:d.name," \u2022 Grade: ",t.courseGrade,"%"]}),(0,xr.jsxs)("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:["Requested on: ",(x=t.createdAt,new Date(x).toLocaleDateString())]})]})]}),(0,xr.jsxs)("div",{className:"flex items-center space-x-3",children:["requested"===c?(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)("button",{onClick:()=>m(u===t._id?null:t._id),className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none",children:u===t._id?"Cancel":"Approve"}),(0,xr.jsx)("button",{onClick:()=>{const e=prompt("Reason for rejection:");null!==e&&(async(e,t)=>{try{l(t=>(0,Be.A)((0,Be.A)({},t),{},{[e]:"rejecting"}));const r=localStorage.getItem("token"),a=await i.A.post("/api/certificates/".concat(e,"/reject"),{reason:t},{headers:{Authorization:"Bearer ".concat(r)}});er.success(a.data.message),g()}catch(n){var r,a;console.error("Error rejecting certificate:",n),er.error((null===(r=n.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Failed to reject certificate")}finally{l(t=>{const r=(0,Be.A)({},t);return delete r[e],r})}})(t._id,e)},disabled:o[t._id],className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50 focus:outline-none",children:"Reject"})]}):"issued"===c?(0,xr.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:"Issued"}):(0,xr.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",children:"Rejected"}),"admin"===e.role&&(0,xr.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this certificate request?"))try{l(t=>(0,Be.A)((0,Be.A)({},t),{},{[e]:"deleting"}));const t=localStorage.getItem("token");await i.A.delete("/api/certificates/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),er.success("Certificate request deleted"),g()}catch(a){var t,r;console.error("Error deleting certificate request:",a),er.error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to delete certificate request")}finally{l(t=>{const r=(0,Be.A)({},t);return delete r[e],r})}})(t._id),disabled:o[t._id],className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 disabled:opacity-50 focus:outline-none",children:"Delete"})]})]}),u===t._id&&"requested"===c&&(0,xr.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,xr.jsx)("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-3",children:"Upload Certificate"}),(0,xr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,xr.jsx)("input",{type:"file",accept:".rar",onChange:e=>p(e.target.files[0]),className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100 dark:file:bg-indigo-900/30 dark:file:text-indigo-400"}),(0,xr.jsxs)("button",{onClick:()=>(async e=>{try{l(t=>(0,Be.A)((0,Be.A)({},t),{},{[e]:"approving"}));const t=localStorage.getItem("token"),r=new FormData;if(!h)return void er.error("Please select a certificate file");r.append("certificate",h);const a=await i.A.post("/api/certificates/".concat(e,"/approve"),r,{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"multipart/form-data"}});er.success(a.data.message),g(),m(null),p(null)}catch(a){var t,r;console.error("Error approving certificate:",a),er.error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to approve certificate")}finally{l(t=>{const r=(0,Be.A)({},t);return delete r[e],r})}})(t._id),disabled:o[t._id]||!h,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 focus:outline-none flex items-center",children:["approving"===o[t._id]?(0,xr.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,xr.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,xr.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,"Confirm"]})]}),h&&(0,xr.jsxs)("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:["Selected file: ",h.name]})]})]},t._id)})})})]})})},yv=()=>{const{user:e,weakPassword:t}=wr(),[r,n]=(0,a.useState)(!0),[s,o]=(0,a.useState)(!1),[l,c]=(0,a.useState)([]),[d,u]=(0,a.useState)([]),[m,h]=(0,a.useState)(null),[p,g]=(0,a.useState)(!1),[x,f]=(0,a.useState)(!0),[y,v]=(0,a.useState)(!1),[b,w]=(0,a.useState)(""),[j,k]=(0,a.useState)(""),N=Array.isArray(d)?d.filter(e=>e&&e.key&&e.name&&!1!==e.isActive):[],[C,A]=(0,a.useState)({paymentMethod:"",receiverName:"",receiverEmail:"",receiverPhone:"",receiverLocation:"",accountDetails:"",isActive:!0}),S={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{color:[]},{background:[]}],["link"],["clean"]]};(0,a.useEffect)(()=>{E(),D()},[]);const E=async()=>{try{n(!0);const e=localStorage.getItem("token"),t=await i.A.get("/api/admin/settings/payment-receivers",{headers:{Authorization:"Bearer ".concat(e)}});c(t.data.data||[]),u(t.data.providers||[])}catch(e){console.error("Error fetching settings:",e),er.error("Failed to load settings")}finally{n(!1)}},D=async()=>{try{f(!0);const e=localStorage.getItem("token"),t=await i.A.get("/api/policies",{headers:{Authorization:"Bearer ".concat(e)}});if(t.data.success&&Array.isArray(t.data.data)){const e=t.data.data.find(e=>"privacy"===e.type),r=t.data.data.find(e=>"terms"===e.type);w((null===e||void 0===e?void 0:e.content)||""),k((null===r||void 0===r?void 0:r.content)||"")}}catch(e){console.error("Error fetching policies:",e),er.error("Failed to load policies")}finally{f(!1)}},P=e=>{const{name:t,value:r,type:a,checked:n}=e.target;A(e=>(0,Be.A)((0,Be.A)({},e),{},{[t]:"checkbox"===a?n:r}))};return r?(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,xr.jsxs)("div",{className:"mb-8",children:[(0,xr.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Admin Settings"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Manage platform settings and payment receivers"})]}),(0,xr.jsxs)("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 border border-indigo-200 dark:border-indigo-800 rounded-lg p-4 mb-6 flex items-center justify-between",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,xr.jsx)("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/40 rounded",children:(0,xr.jsx)(Pm,{className:"w-5 h-5 text-indigo-700 dark:text-indigo-300"})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("div",{className:"font-semibold text-indigo-900 dark:text-indigo-200",children:"Security Settings"}),(0,xr.jsx)("div",{className:"text-sm text-indigo-800/80 dark:text-indigo-200/80",children:"Manage Two-Factor Authentication (2FA) and trusted devices"})]})]}),(0,xr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,xr.jsx)(Oe,{to:"/security",className:"px-3 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Manage 2FA"}),(0,xr.jsx)(Oe,{to:"/security/devices",className:"px-3 py-2 border border-indigo-300 dark:border-indigo-700 text-indigo-800 dark:text-indigo-200 rounded-md hover:bg-indigo-100 dark:hover:bg-indigo-900/30",children:"Trusted Devices"})]})]}),(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-6",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Payment Receivers"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Configure receiver information for each payment method"})]}),(0,xr.jsxs)("button",{onClick:()=>{g(!0),h(null),A({paymentMethod:"",receiverName:"",receiverEmail:"",receiverPhone:"",receiverLocation:"",accountDetails:"",isActive:!0})},className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition",children:[(0,xr.jsx)(Xh,{className:"w-5 h-5 mr-2"}),"Add Receiver"]})]}),p&&(0,xr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),C.paymentMethod&&C.receiverName&&C.receiverPhone)try{o(!0);const e=localStorage.getItem("token"),t={providerKey:C.paymentMethod,paymentMethod:C.paymentMethod,receiverName:C.receiverName,receiverEmail:C.receiverEmail||"",receiverPhone:C.receiverPhone,receiverLocation:C.receiverLocation||"",accountDetails:C.accountDetails||"",isActive:C.isActive};let r;if(m){const e=m.providerKey||m.paymentMethod;r=l.map(r=>(r.providerKey||r.paymentMethod)===e?t:r)}else{if(l.some(e=>(e.providerKey||e.paymentMethod)===C.paymentMethod))return void er.error("Payment method already has a receiver configured");r=[...l,t]}await i.A.put("/api/admin/settings/payment-receivers",{paymentReceivers:r},{headers:{Authorization:"Bearer ".concat(e)}}),c(r),g(!1),h(null),A({paymentMethod:"",receiverName:"",receiverEmail:"",receiverPhone:"",receiverLocation:"",accountDetails:"",isActive:!0}),er.success(m?"Receiver updated successfully":"Receiver added successfully")}catch(a){var t,r;console.error("Error saving receiver:",a),er.error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to save receiver")}finally{o(!1)}else er.error("Please fill in all required fields")},className:"mb-6 p-4 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700",children:[(0,xr.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:m?"Edit Payment Receiver":"Add Payment Receiver"}),(0,xr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Payment Method *"}),(0,xr.jsxs)("select",{name:"paymentMethod",value:C.paymentMethod,onChange:P,disabled:!!m,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:opacity-50",required:!0,children:[(0,xr.jsx)("option",{value:"",children:"Select payment method"}),N.length>0?N.map(e=>(0,xr.jsx)("option",{value:e.key,children:e.name},e.key)):(0,xr.jsx)("option",{value:"other",children:"Other"})]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Receiver Name *"}),(0,xr.jsx)("input",{type:"text",name:"receiverName",value:C.receiverName,onChange:P,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),(0,xr.jsx)("input",{type:"email",name:"receiverEmail",value:C.receiverEmail,onChange:P,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number *"}),(0,xr.jsx)("input",{type:"text",name:"receiverPhone",value:C.receiverPhone,onChange:P,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Location"}),(0,xr.jsx)("input",{type:"text",name:"receiverLocation",value:C.receiverLocation,onChange:P,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,xr.jsxs)("div",{className:"md:col-span-2",children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Account Details"}),(0,xr.jsx)("textarea",{name:"accountDetails",value:C.accountDetails,onChange:P,rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Bank account number, IBAN, or other relevant details"})]}),(0,xr.jsx)("div",{className:"md:col-span-2",children:(0,xr.jsxs)("label",{className:"flex items-center",children:[(0,xr.jsx)("input",{type:"checkbox",name:"isActive",checked:C.isActive,onChange:P,className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),(0,xr.jsx)("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Active"})]})})]}),(0,xr.jsxs)("div",{className:"flex justify-end space-x-3 mt-4",children:[(0,xr.jsx)("button",{type:"button",onClick:()=>{g(!1),h(null)},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancel"}),(0,xr.jsxs)("button",{type:"submit",disabled:s,className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50",children:[(0,xr.jsx)(Eg,{className:"w-5 h-5 mr-2"}),s?"Saving...":"Save"]})]})]}),(0,xr.jsx)("div",{className:"space-y-4",children:0===l.length?(0,xr.jsx)("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:'No payment receivers configured. Click "Add Receiver" to get started.'}):l.map(e=>{var t;return(0,xr.jsx)("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:shadow-md transition",children:(0,xr.jsxs)("div",{className:"flex items-start justify-between",children:[(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,xr.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:(null===(t=N.find(t=>t.key===(e.providerKey||e.paymentMethod)))||void 0===t?void 0:t.name)||e.providerKey||e.paymentMethod}),!1!==e.isActive&&(0,xr.jsx)("span",{className:"px-2 py-1 text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 rounded-full",children:"Active"})]}),(0,xr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-600 dark:text-gray-400",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("span",{className:"font-medium",children:"Name:"})," ",e.receiverName]}),e.receiverEmail&&(0,xr.jsxs)("div",{children:[(0,xr.jsx)("span",{className:"font-medium",children:"Email:"})," ",e.receiverEmail]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("span",{className:"font-medium",children:"Phone:"})," ",e.receiverPhone]}),e.receiverLocation&&(0,xr.jsxs)("div",{children:[(0,xr.jsx)("span",{className:"font-medium",children:"Location:"})," ",e.receiverLocation]}),e.accountDetails&&(0,xr.jsxs)("div",{className:"md:col-span-2",children:[(0,xr.jsx)("span",{className:"font-medium",children:"Account:"})," ",e.accountDetails]})]})]}),(0,xr.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,xr.jsx)("button",{onClick:()=>(e=>{const t=e.providerKey||e.paymentMethod;h(e),g(!0),A({paymentMethod:t,receiverName:e.receiverName,receiverEmail:e.receiverEmail||"",receiverPhone:e.receiverPhone,receiverLocation:e.receiverLocation||"",accountDetails:e.accountDetails||"",isActive:!1!==e.isActive})})(e),className:"p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-md transition",title:"Edit",children:(0,xr.jsx)(jh,{className:"w-5 h-5"})}),(0,xr.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this payment receiver?"))try{const t=localStorage.getItem("token"),r=l.filter(t=>(t.providerKey||t.paymentMethod)!==e);await i.A.put("/api/admin/settings/payment-receivers",{paymentReceivers:r},{headers:{Authorization:"Bearer ".concat(t)}}),c(r),er.success("Payment receiver deleted successfully")}catch(a){var t,r;console.error("Error deleting receiver:",a),er.error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to delete receiver")}})(e.providerKey||e.paymentMethod),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-md transition",title:"Delete",children:(0,xr.jsx)(kh,{className:"w-5 h-5"})})]})]})},e._id||e.providerKey||e.paymentMethod)})})]}),(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[(0,xr.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,xr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,xr.jsx)("div",{className:"p-3 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg",children:(0,xr.jsx)(Um,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Legal Policies"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Manage the Privacy Policy and Terms of Service shown to students before registration."})]})]})}),x?(0,xr.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Privacy & Policy (HTML)"}),(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-700 rounded-md quill-editor-dark",children:[(0,xr.jsx)(Hy(),{theme:"snow",value:b,onChange:w,modules:S,className:"dark:text-white",style:{minHeight:"200px"}}),(0,xr.jsx)("style",{children:"\n                      .quill-editor-dark .ql-toolbar {\n                        background: white;\n                        border-color: #d1d5db;\n                      }\n                      .dark .quill-editor-dark .ql-toolbar {\n                        background: #374151;\n                        border-color: #4b5563;\n                      }\n                      .dark .quill-editor-dark .ql-stroke {\n                        stroke: #e5e7eb;\n                      }\n                      .dark .quill-editor-dark .ql-fill {\n                        fill: #e5e7eb;\n                      }\n                      .dark .quill-editor-dark .ql-picker-label {\n                        color: #e5e7eb;\n                      }\n                      .dark .quill-editor-dark .ql-picker-options {\n                        background: #374151;\n                        border-color: #4b5563;\n                      }\n                      .dark .quill-editor-dark .ql-picker-item {\n                        color: #e5e7eb;\n                      }\n                      .dark .quill-editor-dark .ql-editor {\n                        background: #1f2937;\n                        color: #e5e7eb;\n                      }\n                    "})]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Terms of Service (HTML)"}),(0,xr.jsx)("div",{className:"bg-white dark:bg-gray-700 rounded-md quill-editor-dark",children:(0,xr.jsx)(Hy(),{theme:"snow",value:j,onChange:k,modules:S,className:"dark:text-white",style:{minHeight:"200px"}})})]})]}),(0,xr.jsx)("div",{className:"flex justify-end mt-6",children:(0,xr.jsxs)("button",{type:"button",onClick:async()=>{try{v(!0);const e=localStorage.getItem("token");await Promise.all([i.A.put("/api/policies/privacy",{content:b},{headers:{Authorization:"Bearer ".concat(e)}}),i.A.put("/api/policies/terms",{content:j},{headers:{Authorization:"Bearer ".concat(e)}})]),er.success("Policies updated successfully")}catch(r){var e,t;console.error("Error saving policies:",r),er.error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to save policies")}finally{v(!1)}},disabled:y,className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50",children:[(0,xr.jsx)(Eg,{className:"w-5 h-5 mr-2"}),y?"Saving...":"Save Policies"]})})]})]})]})})},vv=()=>{var e,t;const[r,n]=(0,a.useState)([]),[s,o]=(0,a.useState)(!0),[l,c]=(0,a.useState)("pending"),[d,u]=(0,a.useState)(null),[m,h]=(0,a.useState)({open:!1,request:null,action:null,adminNote:""});(0,a.useEffect)(()=>{p()},[l]);const p=async()=>{try{o(!0);const e=localStorage.getItem("token"),t=l?{status:l}:{},r=await i.A.get("/api/delete-requests",{params:t,headers:{Authorization:"Bearer ".concat(e)}});n(r.data.data||[])}catch(r){var e,t;console.error("Error fetching delete requests:",r),er.error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to load delete requests")}finally{o(!1)}},g=e=>{if(!e)return"-";switch(e.targetType){case"course":return"Course";case"group":return"Group";case"section":return"Section";case"content":return"Content";default:return e.targetType||"Unknown"}},x=e=>{if(!e)return"-";var t,r,a;if("course"===e.targetType)return(null===(t=e.course)||void 0===t?void 0:t.name)||"-";if("group"===e.targetType)return(null===(r=e.group)||void 0===r?void 0:r.name)||"-";if("section"===e.targetType)return(null===(a=e.section)||void 0===a?void 0:a.name)||"-";if("content"===e.targetType){if(!e.content)return"-";const t=e.content.title||"Untitled content";return e.content.type?"".concat(t," (").concat(e.content.type,")"):t}return"-"},f=e=>{var t,r,a,n,s,i,o,l,c,d,u,m,h,p,g;if(!e)return"-";const x=(null===(t=e.course)||void 0===t?void 0:t.name)||(null===(r=e.group)||void 0===r||null===(a=r.course)||void 0===a?void 0:a.name)||(null===(n=e.section)||void 0===n||null===(s=n.course)||void 0===s?void 0:s.name)||(null===(i=e.content)||void 0===i||null===(o=i.course)||void 0===o?void 0:o.name),f=(null===(l=e.group)||void 0===l?void 0:l.name)||(null===(c=e.section)||void 0===c||null===(d=c.group)||void 0===d?void 0:d.name)||(null===(u=e.content)||void 0===u||null===(m=u.group)||void 0===m?void 0:m.name),y=(null===(h=e.section)||void 0===h?void 0:h.name)||(null===(p=e.content)||void 0===p||null===(g=p.section)||void 0===g?void 0:g.name),v=[];return x&&v.push("Course: ".concat(x)),f&&v.push("Group: ".concat(f)),y&&v.push("Section: ".concat(y)),v.length?v.join(" \u2022 "):"-"},y=e=>{return e?"course"===e.targetType?(null===(t=e.course)||void 0===t?void 0:t._id)||e.course||"-":"group"===e.targetType?(null===(r=e.group)||void 0===r?void 0:r._id)||e.group||"-":"section"===e.targetType?(null===(a=e.section)||void 0===a?void 0:a._id)||e.section||"-":"content"===e.targetType&&((null===(n=e.content)||void 0===n?void 0:n._id)||e.content)||"-":"-";var t,r,a,n},v=e=>{if(!e||!e.analytics)return"";const t="number"===typeof e.analytics.enrollmentCount?e.analytics.enrollmentCount:null;if(null===t)return"";const r=1===t?"student":"students";return"course"===e.targetType?t>0?"Course currently has ".concat(t," ").concat(r," linked. Deletion may be blocked by safety rules."):"No active enrollments detected for this course.":"group"===e.targetType?t>0?"Group currently has ".concat(t," ").concat(r," linked. Deletion may be blocked unless enrollments are handled first."):"No active enrollments detected for this group.":""},b=(e,t)=>{e&&t&&h({open:!0,request:e,action:t,adminNote:""})},w=()=>{h({open:!1,request:null,action:null,adminNote:""})},j=e=>e?new Date(e).toLocaleString():"-";return s?(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,xr.jsxs)("div",{className:"mb-8 flex items-center justify-between",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Delete Requests"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Review instructor requests to permanently delete courses, groups, sections, and content. Approving a request will attempt to delete the requested item immediately, subject to safety rules (for example, courses with enrolled students cannot be deleted)."})]}),(0,xr.jsxs)(Oe,{to:"/admin",className:"inline-flex items-center gap-2 px-4 py-2 rounded-md bg-indigo-50 text-indigo-700 border border-indigo-200 hover:bg-indigo-100 dark:bg-indigo-900/30 dark:text-indigo-200 dark:border-indigo-700 dark:hover:bg-indigo-900/50 text-sm font-medium",children:[(0,xr.jsx)(Em,{className:"w-4 h-4"}),"Back to Dashboard"]})]}),(0,xr.jsxs)("div",{className:"mb-6 flex items-center gap-2",children:[(0,xr.jsxs)("button",{type:"button",onClick:()=>c("pending"),className:"px-3 py-1.5 rounded-full text-sm border ".concat("pending"===l?"bg-yellow-600 text-white border-yellow-600":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-700"),children:[(0,xr.jsx)(Zc,{className:"w-4 h-4 inline mr-1"})," Pending"]}),(0,xr.jsxs)("button",{type:"button",onClick:()=>c("approved"),className:"px-3 py-1.5 rounded-full text-sm border ".concat("approved"===l?"bg-green-600 text-white border-green-600":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-700"),children:[(0,xr.jsx)(Om,{className:"w-4 h-4 inline mr-1"})," Approved"]}),(0,xr.jsxs)("button",{type:"button",onClick:()=>c("rejected"),className:"px-3 py-1.5 rounded-full text-sm border ".concat("rejected"===l?"bg-red-600 text-white border-red-600":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-700"),children:[(0,xr.jsx)(Fm,{className:"w-4 h-4 inline mr-1"})," Rejected"]})]}),0===r.length?(0,xr.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-8 text-center",children:(0,xr.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:"No delete requests found for this filter."})}):(0,xr.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:(0,xr.jsxs)("div",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,xr.jsxs)("div",{className:"grid grid-cols-7 px-6 py-3 bg-gray-50 dark:bg-gray-900 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[(0,xr.jsx)("div",{children:"Type"}),(0,xr.jsx)("div",{children:"Target"}),(0,xr.jsx)("div",{children:"Requested By"}),(0,xr.jsx)("div",{children:"Reason"}),(0,xr.jsx)("div",{children:"Requested At"}),(0,xr.jsx)("div",{children:"Status"}),(0,xr.jsx)("div",{className:"text-right",children:"Actions"})]}),r.map(e=>{var t,r,a;return(0,xr.jsxs)("div",{className:"grid grid-cols-7 px-6 py-4 text-sm items-center gap-3 border-t border-gray-100 dark:border-gray-700",children:[(0,xr.jsx)("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:g(e)}),(0,xr.jsxs)("div",{className:"text-gray-800 dark:text-gray-200",children:[(0,xr.jsx)("div",{children:x(e)}),(0,xr.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:f(e)}),(0,xr.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-500 mt-0.5 break-all",children:["ID: ",y(e)]}),v(e)&&(0,xr.jsx)("div",{className:"text-xs text-amber-700 dark:text-amber-300 mt-0.5",children:v(e)})]}),(0,xr.jsxs)("div",{className:"text-gray-700 dark:text-gray-300",children:[(0,xr.jsx)("div",{children:(null===(t=e.requestedBy)||void 0===t?void 0:t.name)||"Unknown"}),(0,xr.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:null===(r=e.requestedBy)||void 0===r?void 0:r.email})]}),(0,xr.jsxs)("div",{className:"text-gray-600 dark:text-gray-300 whitespace-pre-line break-words",children:[e.reason||"-","rejected"===e.status&&(e.rejectionReason||e.adminNote)&&(0,xr.jsxs)("div",{className:"mt-1 text-xs text-red-700 dark:text-red-300",children:[(0,xr.jsx)("span",{className:"font-semibold",children:"Admin reason:"})," ",e.rejectionReason||e.adminNote]})]}),(0,xr.jsx)("div",{className:"text-gray-600 dark:text-gray-300",children:j(e.createdAt)}),(0,xr.jsx)("div",{children:(0,xr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat((a=e.status,"approved"===a?"bg-green-100 text-green-800":"rejected"===a?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800")),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})}),(0,xr.jsx)("div",{className:"flex justify-end gap-2",children:"pending"===e.status?(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)("button",{type:"button",onClick:()=>b(e,"approve"),disabled:d===e._id,className:"px-3 py-1.5 rounded-md bg-green-600 text-white text-xs hover:bg-green-700 disabled:opacity-50",children:d===e._id?"Working...":"Approve"}),(0,xr.jsx)("button",{type:"button",onClick:()=>b(e,"reject"),disabled:d===e._id,className:"px-3 py-1.5 rounded-md bg-red-100 text-red-700 text-xs hover:bg-red-200 dark:bg-red-900 dark:text-red-200 dark:hover:bg-red-800 disabled:opacity-50",children:"Reject"})]}):(0,xr.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Resolved ",j(e.resolvedAt)]})})]},e._id)})]})}),m.open&&m.request&&(0,xr.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-xl w-full max-w-lg",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"approve"===m.action?"Approve Delete Request":"Reject Delete Request"}),(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"approve"===m.action?"Approving will attempt to permanently delete the target item immediately, respecting safety rules.":"Provide a clear explanation for rejecting this delete request. This will be stored in the audit log."})]}),(0,xr.jsx)("button",{type:"button",onClick:w,className:"p-1 rounded-full text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800",children:(0,xr.jsx)(pr.A,{className:"w-4 h-4"})})]}),(0,xr.jsxs)("div",{className:"px-6 py-4 space-y-4",children:[(0,xr.jsxs)("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:[(0,xr.jsxs)("p",{className:"mb-1",children:[(0,xr.jsx)("span",{className:"font-medium",children:"Type:"})," ",g(m.request)]}),(0,xr.jsxs)("p",{className:"mb-1",children:[(0,xr.jsx)("span",{className:"font-medium",children:"Target:"})," ",x(m.request)]}),(0,xr.jsx)("p",{className:"mb-1 text-xs text-gray-500 dark:text-gray-400",children:f(m.request)}),(0,xr.jsxs)("p",{className:"mb-1 text-xs text-gray-500 dark:text-gray-400 break-all",children:[(0,xr.jsx)("span",{className:"font-medium",children:"Target ID:"})," ",y(m.request)]}),v(m.request)&&(0,xr.jsx)("p",{className:"mb-1 text-xs text-yellow-700 dark:text-yellow-300",children:v(m.request)}),(0,xr.jsxs)("p",{className:"mb-1",children:[(0,xr.jsx)("span",{className:"font-medium",children:"Requested by:"})," ",(null===(e=m.request.requestedBy)||void 0===e?void 0:e.name)||"Unknown"," (",(null===(t=m.request.requestedBy)||void 0===t?void 0:t.email)||"no email",")"]}),(0,xr.jsxs)("p",{className:"mb-1",children:[(0,xr.jsx)("span",{className:"font-medium",children:"Reason:"})," ",(0,xr.jsx)("span",{className:"whitespace-pre-line break-words",children:m.request.reason||"-"})]})]}),"reject"===m.action&&(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Admin note (minimum 20 characters)"}),(0,xr.jsx)("textarea",{rows:4,value:m.adminNote,onChange:e=>h(t=>(0,Be.A)((0,Be.A)({},t),{},{adminNote:e.target.value})),className:"w-full px-3 py-2 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Explain why this request is being rejected..."}),(0,xr.jsxs)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:[(m.adminNote||"").trim().length," / 20"]})]}),"approve"===m.action&&(0,xr.jsx)("div",{className:"text-xs text-yellow-700 bg-yellow-50 dark:text-yellow-200 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded-md px-3 py-2",children:"Approving will delete the item where allowed. Courses with enrolled students and some other items may still be protected by safety rules."})]}),(0,xr.jsxs)("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-700 flex justify-end gap-3",children:[(0,xr.jsx)("button",{type:"button",onClick:w,disabled:d===m.request._id,className:"px-4 py-2 rounded-md border border-gray-300 dark:border-gray-700 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 disabled:opacity-50",children:"Cancel"}),(0,xr.jsx)("button",{type:"button",onClick:async()=>{const{request:e,action:t,adminNote:r}=m;if(e&&t){if("reject"===t){if((r||"").trim().length<20)return void er.error("Admin rejection note must be at least 20 characters.")}try{u(e._id);const a=localStorage.getItem("token");await i.A.patch("/api/delete-requests/".concat(e._id),{action:t,adminNote:r},{headers:{Authorization:"Bearer ".concat(a)}}),await p(),w()}catch(s){var a,n;console.error("Error updating delete request:",s),er.error((null===(a=s.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message)||"Failed to update delete request")}finally{u(null)}}},disabled:d===m.request._id,className:"px-4 py-2 rounded-md text-sm font-medium text-white disabled:opacity-60 ".concat("approve"===m.action?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"),children:d===m.request._id?"Working...":"approve"===m.action?"Approve & Delete":"Reject Request"})]})]})})]})})},bv=()=>{const[e,t]=(0,a.useState)(!0),[r,n]=(0,a.useState)(!1),[s,o]=(0,a.useState)({agreementText:"",platformRevenuePercentage:30,instructorRevenuePercentage:70,logoUrl:""});(0,a.useEffect)(()=>{l()},[]);const l=async()=>{try{t(!0);const e=localStorage.getItem("token"),r=await i.A.get("/api/admin/settings",{headers:{Authorization:"Bearer ".concat(e)}});o({agreementText:r.data.data.agreementText||"",platformRevenuePercentage:r.data.data.platformRevenuePercentage||30,instructorRevenuePercentage:r.data.data.instructorRevenuePercentage||70,logoUrl:r.data.data.logoUrl||""})}catch(e){console.error("Error fetching settings:",e),er.error("Failed to load settings")}finally{t(!1)}},c=e=>{const{name:t,value:r}=e.target;o(e=>(0,Be.A)((0,Be.A)({},e),{},{[t]:r}))},d=(e,t)=>{const r=Math.min(100,Math.max(0,parseInt(t)||0)),a="platformRevenuePercentage"===e?"instructorRevenuePercentage":"platformRevenuePercentage";o(t=>(0,Be.A)((0,Be.A)({},t),{},{[e]:r,[a]:100-r}))};return e?(0,xr.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):(0,xr.jsxs)("div",{className:"space-y-6",children:[(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,xr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,xr.jsx)(Um,{className:"w-6 h-6 text-indigo-600"}),(0,xr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Instructor Agreement Settings"})]}),(0,xr.jsx)(Oe,{to:"/admin/instructor-agreements",className:"inline-flex items-center gap-2 px-4 py-2 border border-indigo-200 dark:border-indigo-700 text-indigo-700 dark:text-indigo-200 rounded-lg hover:bg-indigo-50 dark:hover:bg-indigo-900/30 text-sm font-medium",children:"Agreements History"})]}),(0,xr.jsxs)("div",{className:"mb-6",children:[(0,xr.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Revenue Sharing"}),(0,xr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Platform Percentage (%)"}),(0,xr.jsx)("input",{type:"number",name:"platformRevenuePercentage",value:s.platformRevenuePercentage,onChange:e=>d("platformRevenuePercentage",e.target.value),min:"0",max:"100",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Instructor Percentage (%)"}),(0,xr.jsx)("input",{type:"number",name:"instructorRevenuePercentage",value:s.instructorRevenuePercentage,onChange:e=>d("instructorRevenuePercentage",e.target.value),min:"0",max:"100",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),(0,xr.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:["Total must equal 100%. Instructor: ",s.instructorRevenuePercentage,"% + Platform: ",s.platformRevenuePercentage,"% = ",s.platformRevenuePercentage+s.instructorRevenuePercentage,"%"]})]}),(0,xr.jsxs)("div",{className:"mb-6",children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Agreement Template"}),(0,xr.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:["Use ","{platformPercentage}"," and ","{instructorPercentage}"," as placeholders for revenue percentages."]}),(0,xr.jsx)("textarea",{name:"agreementText",value:s.agreementText,onChange:c,rows:15,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-mono text-sm",placeholder:"Enter the agreement text..."})]}),(0,xr.jsxs)("div",{className:"mb-6",children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Logo Path (Optional)"}),(0,xr.jsx)("input",{type:"text",name:"logoUrl",value:s.logoUrl,onChange:c,placeholder:"/uploads/logo.png",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Path to logo file relative to server root (e.g., /uploads/logo.png)"})]}),(0,xr.jsx)("div",{className:"flex justify-end",children:(0,xr.jsxs)("button",{onClick:async()=>{try{n(!0);const e=localStorage.getItem("token");await i.A.put("/api/admin/settings",s,{headers:{Authorization:"Bearer ".concat(e)}}),er.success("Agreement settings updated successfully")}catch(r){var e,t;console.error("Error saving settings:",r),er.error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to save settings")}finally{n(!1)}},disabled:r,className:"flex items-center gap-2 px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[r?(0,xr.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):(0,xr.jsx)(Eg,{className:"w-5 h-5"}),r?"Saving...":"Save Settings"]})})]}),(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[(0,xr.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Preview"}),(0,xr.jsx)("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:(0,xr.jsx)("pre",{className:"whitespace-pre-wrap text-sm text-gray-700 dark:text-gray-300 font-sans",children:s.agreementText.replace(/{platformPercentage}/g,s.platformRevenuePercentage).replace(/{instructorPercentage}/g,s.instructorRevenuePercentage)})})]})]})},wv=[.5,.75,1,1.25,1.5,1.75,2],jv=e=>{let{videoUrl:t,onClose:n,title:s,autoPlay:i=!1,contentId:o,onComplete:l}=e;const c=(0,a.useRef)("".concat(Date.now().toString(36),"-").concat(Math.random().toString(36).slice(2,7))).current,d=(0,a.useRef)(!1),[u,m]=(0,a.useState)(""),[h,p]=(0,a.useState)(!1),[g,x]=(0,a.useState)(!0),[f,y]=(0,a.useState)(!1),[v,b]=(0,a.useState)(!1),[w,j]=(0,a.useState)(!1),[k,N]=(0,a.useState)(.8),[C,A]=(0,a.useState)(()=>{const e=sessionStorage.getItem("videoPlaybackRate"),t=Number(e);return!isNaN(t)&&t>0?t:1}),[S,E]=(0,a.useState)(!1),[D,P]=(0,a.useState)(null),[T,_]=(0,a.useState)(0),[R,O]=(0,a.useState)(0),[F,L]=(0,a.useState)(!1),M=(0,a.useRef)(null),I=(0,a.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;console.log("[VideoPlayer:".concat(c,"] ").concat(e),t)},[c]);(0,a.useEffect)(()=>{if(!t)return;const e=(e=>{if(!e)return"";try{const t=localStorage.getItem("token"),r=new URL(e,window.location.origin);t&&!r.searchParams.has("token")&&r.searchParams.set("token",t);const a=r.toString();return console.log("[VideoPlayer] ensureTokenInUrl",{finalUrl:a}),a}catch(aw){return console.warn("[VideoPlayer] Invalid URL",{url:e,err:aw}),e}})(t);m(e),x(!0),P(null),I("url:set",e)},[t,I]),(0,a.useEffect)(()=>{try{sessionStorage.setItem("videoPlaybackRate",String(C))}catch(At){}},[C]);const B=(0,a.useCallback)(()=>{I("video:loaded"),p(!0),x(!1)},[I]),q=(0,a.useCallback)(()=>{I("video:play"),b(!0),y(!1),x(!1)},[I]),z=(0,a.useCallback)(()=>{I("video:pause"),b(!1),y(!1)},[I]),U=(0,a.useCallback)(()=>{I("video:buffering"),y(!0)},[I]),V=(0,a.useCallback)(()=>{I("video:playing"),y(!1),x(!1)},[I]),Y=(0,a.useCallback)(e=>{I("video:error",e),P("Failed to load video. Please try again."),b(!1),y(!1),x(!1)},[I]),W=(0,a.useCallback)(()=>{M.current&&(M.current.paused?M.current.play().catch(e=>Y(e)):M.current.pause())},[Y]),H=(0,a.useCallback)(e=>{const t=parseFloat(e.target.value);N(t),j(0===t),M.current&&(M.current.volume=t)},[]),G=(0,a.useCallback)(()=>{const e=document.querySelector(".video-player-container");e&&(document.fullscreenElement?document.exitFullscreen():e.requestFullscreen())},[]),K=(0,a.useCallback)(()=>{P(null),x(!0),y(!1),M.current&&(M.current.load(),i&&M.current.play().catch(()=>{}))},[i]),Q=(0,a.useCallback)(()=>{M.current&&!F&&_(M.current.currentTime)},[F]),$=(0,a.useCallback)(()=>{M.current&&(O(M.current.duration),I("video:metadata",{duration:M.current.duration}))},[I]),X=(0,a.useCallback)(e=>{const t=parseFloat(e.target.value);_(t),M.current&&(M.current.currentTime=t)},[]),J=(0,a.useCallback)(()=>{L(!0)},[]),Z=(0,a.useCallback)(()=>{L(!1)},[]),ee=(0,a.useCallback)(async()=>{if(I("video:ended"),o&&!d.current&&M.current){d.current=!0;try{const t=localStorage.getItem("token"),a=(await r.e(821).then(r.bind(r,8821))).default,n=M.current.currentTime||R,s=R||M.current.duration;await a.post("/api/content/".concat(o,"/watched"),{watchedDuration:n,totalDuration:s},{headers:{Authorization:"Bearer ".concat(t)}}),I("video:marked-watched",{contentId:o,watchedDuration:n,totalDuration:s});const i=await a.post("/api/content/".concat(o,"/complete"),{},{headers:{Authorization:"Bearer ".concat(t)}});I("video:marked-complete",{contentId:o});try{var e;const t=null===i||void 0===i||null===(e=i.data)||void 0===e?void 0:e.gamification;if(t&&t.pointsAwarded&&t.pointsAwarded>0){console.log("\ud83c\udfac VideoPlayer: Firing gamification events for video completion (points awarded)");const{fireGamificationEvents:e}=await Promise.resolve().then(r.bind(r,9176));e(t)}else{console.log("\ud83c\udfac VideoPlayer: Firing simple video completion toast");const{showGamificationToast:e}=await Promise.resolve().then(r.bind(r,4e3));e("videoCompleted","\ud83c\udfac Video completed! Keep learning!")}}catch(D){console.error("\ud83c\udfac VideoPlayer: Error firing gamification events:",D)}l&&l()}catch(D){console.error("Error marking video as complete:",D),d.current=!1}}},[o,l,I,R]),te=(0,a.useCallback)(e=>{if(isNaN(e)||e===1/0)return"0:00";const t=Math.floor(e/60),r=Math.floor(e%60);return"".concat(t,":").concat(r.toString().padStart(2,"0"))},[]),re=R?T/R*100:0;return(0,xr.jsx)(tr.N,{children:(0,xr.jsx)(rr.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 p-4",onClick:n,children:(0,xr.jsxs)(rr.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"video-player-container relative w-full max-w-5xl mx-auto bg-gray-900 rounded-lg overflow-hidden shadow-2xl",onClick:e=>e.stopPropagation(),children:[(0,xr.jsxs)("div",{className:"absolute top-0 left-0 right-0 z-20 bg-gradient-to-b from-black/80 to-transparent p-4 flex items-center justify-between",children:[(0,xr.jsx)("h3",{className:"text-white font-semibold text-lg truncate pr-4",children:s||"Video Player"}),(0,xr.jsx)("button",{onClick:n,className:"p-2 hover:bg-white/20 rounded-lg transition text-white",title:"Close",children:(0,xr.jsx)(pr.A,{className:"w-5 h-5"})})]}),(0,xr.jsxs)("div",{className:"relative aspect-video bg-black",children:[(0,xr.jsx)("video",{ref:M,src:u,className:"w-full h-full object-contain rounded-lg",controls:!1,autoPlay:i,muted:w,playsInline:!0,onLoadedData:B,onLoadedMetadata:$,onPlay:q,onPause:z,onWaiting:U,onPlaying:V,onError:Y,onTimeUpdate:Q,onSeeking:J,onSeeked:Z,onEnded:ee,onClick:W}),(g||f)&&!D&&(0,xr.jsx)("div",{className:"absolute inset-0 flex items-center justify-center z-30 pointer-events-none",children:(0,xr.jsxs)("div",{className:"text-center",children:[(0,xr.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-white mx-auto mb-3"}),(0,xr.jsx)("p",{className:"text-white text-xs uppercase tracking-widest",children:g?"Loading\u2026":"Buffering\u2026"})]})}),!D&&h&&!g&&!f&&!v&&(0,xr.jsx)("button",{type:"button",onClick:W,className:"absolute inset-0 z-30 flex items-center justify-center bg-black/30 text-white transition focus:outline-none","aria-label":"Resume playback",children:(0,xr.jsx)(Mm.A,{className:"w-16 h-16"})}),D&&(0,xr.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/80 z-30",children:(0,xr.jsxs)("div",{className:"text-center px-6",children:[(0,xr.jsx)("p",{className:"text-white mb-4 text-sm md:text-base",children:D}),(0,xr.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,xr.jsx)("button",{onClick:K,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition",children:"Retry"}),(0,xr.jsx)("button",{onClick:n,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition",children:"Close"})]})]})})]}),(0,xr.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/90 to-transparent p-4 z-20",children:[(0,xr.jsx)("div",{className:"mb-3",children:(0,xr.jsxs)("div",{className:"flex items-center gap-2 text-white text-xs mb-1",children:[(0,xr.jsx)("span",{className:"min-w-[45px] text-right",children:te(T)}),(0,xr.jsx)("input",{type:"range",min:0,max:R||0,step:.1,value:T,onChange:X,className:"flex-1 h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-purple-500 hover:h-2 transition-all",style:{background:"linear-gradient(to right, #a855f7 0%, #a855f7 ".concat(re,"%, #4b5563 ").concat(re,"%, #4b5563 100%)")}}),(0,xr.jsx)("span",{className:"min-w-[45px]",children:te(R)})]})}),(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,xr.jsx)("button",{onClick:W,className:"p-2 hover:bg-white/20 rounded-lg transition text-white",title:v?"Pause":"Play",children:v?(0,xr.jsx)(ah.A,{className:"w-5 h-5"}):(0,xr.jsx)(Mm.A,{className:"w-5 h-5"})}),(0,xr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,xr.jsx)("button",{onClick:()=>j(!w),className:"p-2 hover:bg-white/20 rounded-lg transition text-white",title:w?"Unmute":"Mute",children:w?(0,xr.jsx)(ih.A,{className:"w-5 h-5"}):(0,xr.jsx)(oh.A,{className:"w-5 h-5"})}),(0,xr.jsx)("input",{type:"range",min:0,max:1,step:.1,value:w?0:k,onChange:H,className:"w-24 h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-purple-500"})]})]}),(0,xr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,xr.jsxs)("div",{className:"relative",children:[(0,xr.jsxs)("button",{onClick:()=>E(!S),className:"p-2 hover:bg-white/20 rounded-lg transition text-white flex items-center gap-1",title:"Playback Speed",children:[(0,xr.jsx)(lh.A,{className:"w-5 h-5"}),(0,xr.jsxs)("span",{className:"text-xs",children:[C,"\xd7"]})]}),S&&(0,xr.jsx)("div",{className:"absolute bottom-full right-0 mb-2 bg-gray-800 rounded-lg shadow-lg overflow-hidden",children:wv.map(e=>(0,xr.jsxs)("button",{onClick:()=>{M.current&&(M.current.playbackRate=e),A(e),E(!1)},className:"block w-full px-4 py-2 text-left text-sm transition ".concat(C===e?"bg-indigo-600 text-white":"text-gray-300 hover:bg-gray-700"),children:[e,"\xd7"]},e))})]}),(0,xr.jsx)("button",{onClick:G,className:"p-2 hover:bg-white/20 rounded-lg transition text-white",title:"Fullscreen",children:(0,xr.jsx)(dh.A,{className:"w-5 h-5"})})]})]})]})]})})})},kv=e=>{let{pdfUrl:t}=e;return(0,xr.jsxs)("button",{onClick:async()=>{try{if(t.includes("cloudinary.com"))window.open(t,"_blank");else{const e=t.startsWith("http")?t:"".concat(i.A.defaults.baseURL||"http://localhost:5000").concat(t),r=document.createElement("a");r.href=e,r.download="instructor-agreement.pdf",r.target="_blank",document.body.appendChild(r),r.click(),document.body.removeChild(r)}}catch(e){console.error("Error downloading PDF:",e),er.error("Failed to download PDF")}},className:"flex items-center gap-2 px-4 py-2 bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 rounded-lg hover:bg-indigo-200 dark:hover:bg-indigo-900/50 transition",children:[(0,xr.jsx)(Vm,{className:"w-4 h-4"}),"Download Agreement PDF"]})},Nv=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[s,o]=(0,a.useState)(null),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1),[m,h]=(0,a.useState)(!1),[p,g]=(0,a.useState)(!1),[x,f]=(0,a.useState)(""),[y,v]=(0,a.useState)(null),[b,w]=(0,a.useState)(!1);(0,a.useEffect)(()=>{j()},[]);const j=async()=>{try{n(!0);const e=localStorage.getItem("token"),r=await i.A.get("/api/admin/instructor-applications",{headers:{Authorization:"Bearer ".concat(e)}});t(r.data.applications||[])}catch(e){console.error("Error fetching applications:",e),er.error("Failed to load applications")}finally{n(!1)}};return r?(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,xr.jsxs)("div",{className:"mb-8",children:[(0,xr.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Instructor Applications"}),(0,xr.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Review and manage pending instructor applications"})]}),0===e.length?(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-12 text-center",children:[(0,xr.jsx)(Oa,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,xr.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Pending Applications"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"There are no instructor applications to review at this time."})]}):(0,xr.jsx)("div",{className:"grid grid-cols-1 gap-6",children:e.map(e=>(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:(0,xr.jsxs)("div",{className:"flex items-start justify-between",children:[(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[e.profilePhoto?(0,xr.jsx)("img",{src:e.profilePhoto,alt:e.name,className:"w-16 h-16 rounded-full object-cover"}):(0,xr.jsx)("div",{className:"w-16 h-16 rounded-full bg-gradient-to-r from-indigo-600 to-purple-600 flex items-center justify-center text-white text-2xl font-bold",children:e.name.charAt(0)}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:e.name}),(0,xr.jsxs)("div",{className:"flex items-center gap-4 mt-1 text-sm text-gray-600 dark:text-gray-400",children:[(0,xr.jsxs)("span",{className:"flex items-center gap-1",children:[(0,xr.jsx)(ja,{className:"w-4 h-4"}),e.email]}),(0,xr.jsxs)("span",{className:"flex items-center gap-1",children:[(0,xr.jsx)(km,{className:"w-4 h-4"}),e.phone]}),(0,xr.jsxs)("span",{className:"flex items-center gap-1",children:[(0,xr.jsx)(or,{className:"w-4 h-4"}),e.country]})]})]})]}),(0,xr.jsxs)("div",{className:"mb-4",children:[(0,xr.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Areas of Expertise:"}),(0,xr.jsx)("div",{className:"flex flex-wrap gap-2",children:e.expertise.map((e,t)=>(0,xr.jsx)("span",{className:"px-3 py-1 bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 rounded-full text-sm",children:e},t))})]}),(0,xr.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[(0,xr.jsxs)("span",{children:["Applied: ",new Date(e.createdAt).toLocaleDateString()]}),e.emailVerified&&(0,xr.jsxs)("span",{className:"flex items-center gap-1 text-green-600 dark:text-green-400",children:[(0,xr.jsx)(Om,{className:"w-4 h-4"}),"Email Verified"]})]})]}),(0,xr.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,xr.jsxs)("button",{onClick:()=>(async e=>{if(o(e),c(!0),console.log("[InstructorApp] Opening details for:",e),console.log("[InstructorApp] userId:",e.userId),console.log("[InstructorApp] introVideoUrl:",e.introVideoUrl),e.userId)try{w(!0),console.log("[InstructorApp] Fetching video info for userId:",e.userId);const t=localStorage.getItem("token"),r=await i.A.get("/api/instructor/".concat(e.userId,"/video-info"),{headers:t?{Authorization:"Bearer ".concat(t)}:{}});console.log("[InstructorApp] Video info response:",r.data),r.data.success&&(v(r.data.data),console.log("[InstructorApp] Video info set:",r.data.data))}catch(t){console.error("[InstructorApp] Error fetching video:",t),console.log("[InstructorApp] No video found for this instructor"),v(null)}finally{w(!1)}else console.log("[InstructorApp] No userId found, skipping video fetch"),v(null),w(!1)})(e),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition",children:[(0,xr.jsx)(Kd,{className:"w-4 h-4"}),"View Details"]}),(0,xr.jsxs)("button",{onClick:()=>{o(e),u(!0)},className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition",children:[(0,xr.jsx)(Om,{className:"w-4 h-4"}),"Approve"]}),(0,xr.jsxs)("button",{onClick:()=>{o(e),h(!0)},className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:[(0,xr.jsx)(Zm,{className:"w-4 h-4"}),"Reject"]})]})]})},e._id))}),l&&s&&(0,xr.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,xr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Application Details"}),(0,xr.jsx)("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:(0,xr.jsx)(Zm,{className:"w-6 h-6"})})]}),(0,xr.jsxs)("div",{className:"space-y-6",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Personal Information"}),(0,xr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Name"}),(0,xr.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:s.name})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Email"}),(0,xr.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:s.email})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Phone"}),(0,xr.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:s.phone})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Country"}),(0,xr.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:s.country})]})]})]}),s.agreementPdfUrl&&(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Signed Agreement"}),(0,xr.jsx)(kv,{pdfUrl:s.agreementPdfUrl}),(0,xr.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:["Signed: ",new Date(s.agreementSignedAt).toLocaleDateString()]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Introduction Video"}),(()=>{if(console.log("[Video Render] loadingVideo:",b),console.log("[Video Render] videoInfo:",y),console.log("[Video Render] selectedApp.introVideoUrl:",s.introVideoUrl),console.log("[Video Render] selectedApp.userId:",s.userId),b)return console.log("[Video Render] Showing loading spinner"),(0,xr.jsx)("div",{className:"flex items-center justify-center p-8 bg-gray-100 dark:bg-gray-700 rounded-lg",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})});if(null!==y&&void 0!==y&&y.hasVideo){console.log("[Video Render] Showing videoInfo video:",y.videoUrl);return"youtube"===(null===y||void 0===y?void 0:y.storageType)||!(null===y||void 0===y||!y.youtubeVideoId)||"string"===typeof(null===y||void 0===y?void 0:y.videoUrl)&&(y.videoUrl.includes("youtube.com")||y.videoUrl.includes("youtu.be"))?(0,xr.jsx)(bh,{youtubeVideoId:(null===y||void 0===y?void 0:y.youtubeVideoId)||null,embedUrl:(null===y||void 0===y?void 0:y.youtubeUrl)||(null===y||void 0===y?void 0:y.videoUrl)||"",title:"Instructor Introduction Video"}):(0,xr.jsx)(jv,{videoUrl:y.videoUrl})}return s.introVideoUrl?(console.log("[Video Render] Showing old format video:",s.introVideoUrl),(0,xr.jsx)(jv,{videoUrl:s.introVideoUrl,isOldFormat:!0})):(console.log("[Video Render] No video available"),(0,xr.jsx)("div",{className:"flex items-center justify-center p-8 bg-gray-100 dark:bg-gray-700 rounded-lg",children:(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"No video available"})}))})()]})]})]})}),(0,xr.jsx)(Ng,{isOpen:d,onClose:()=>{u(!1),o(null)},onConfirm:async()=>{if(s)try{g(!0);const e=localStorage.getItem("token");await i.A.put("/api/admin/instructor-applications/".concat(s._id,"/approve"),{},{headers:{Authorization:"Bearer ".concat(e)}}),er.success("Application approved! Instructor account created."),u(!1),o(null),c(!1),j()}catch(r){var e,t;console.error("Error approving application:",r),er.error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to approve application")}finally{g(!1)}},title:"Approve Instructor",message:"Are you sure you want to approve ".concat(null===s||void 0===s?void 0:s.name,"'s application? This will create their instructor account and send them a welcome email."),confirmText:"Approve",confirmButtonClass:"bg-green-600 hover:bg-green-700 text-white",loading:p,icon:(0,xr.jsx)(Om,{className:"w-12 h-12 text-green-500"})}),(0,xr.jsx)(Ng,{isOpen:m,onClose:()=>{h(!1),o(null),f("")},onConfirm:async()=>{if(s)if(x.trim())try{g(!0);const e=localStorage.getItem("token");await i.A.put("/api/admin/instructor-applications/".concat(s._id,"/reject"),{reason:x},{headers:{Authorization:"Bearer ".concat(e)}}),er.success("Application rejected."),h(!1),o(null),c(!1),f(""),j()}catch(r){var e,t;console.error("Error rejecting application:",r),er.error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to reject application")}finally{g(!1)}else er.error("Please provide a reason for rejection")},title:"Reject Application",message:(0,xr.jsxs)("div",{children:[(0,xr.jsxs)("p",{className:"mb-4",children:["Are you sure you want to reject ",null===s||void 0===s?void 0:s.name,"'s application?"]}),(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Reason (required) *"}),(0,xr.jsx)("textarea",{value:x,onChange:e=>f(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-red-500 dark:bg-gray-700 dark:text-white",rows:3,placeholder:"Provide a reason for rejection...",required:!0})]}),confirmText:"Reject",confirmButtonClass:"bg-red-600 hover:bg-red-700 text-white",loading:p})]})})},Cv=[{value:"SYP",label:"Syrian Pound (SYP)"},{value:"SYR",label:"Syrian Pound (SYR)"},{value:"USD",label:"US Dollar (USD)"},{value:"EUR",label:"Euro (EUR)"},{value:"GBP",label:"British Pound (GBP)"}],Av=()=>{const[e,t]=(0,a.useState)(!0),[r,n]=(0,a.useState)(!1),[s,o]=(0,a.useState)(!1),[l,c]=(0,a.useState)({platformName:"",platformEmail:"",platformIntro:"",facebookUrl:"",githubUrl:"",linkedinUrl:"",maxIntroVideosForInstructor:3,showRatingsOnHomepage:!0,homepageRatingsLimit:10,currencyStudentPays:"SYP",platformCurrency:"SYP",supportedCurrencies:["SYP"],minimumPayoutRequest:1e4,initialSignupPercentage:30,instructorSignupPercentage:70,agreementText:"",paymentProviders:[]}),[d,u]=(0,a.useState)([]),[m,h]=(0,a.useState)(!1),[p,g]=(0,a.useState)(null);(0,a.useEffect)(()=>{x(),f()},[]);const x=async()=>{try{var e;t(!0);const p=localStorage.getItem("token"),g=await i.A.get("/api/admin/settings",{headers:{Authorization:"Bearer ".concat(p)}});if(null!==(e=g.data)&&void 0!==e&&e.success&&g.data.data){var r,a,n,s,o,l,d,u,m,h;const e=g.data.data,t=null!==(r=null!==(a=e.initialSignupPercentage)&&void 0!==a?a:e.platformRevenuePercentage)&&void 0!==r?r:30,i=100-Number(t||0);c({platformName:e.platformName||"",platformEmail:e.platformEmail||"",platformIntro:e.platformIntro||"",facebookUrl:e.facebookUrl||"",githubUrl:e.githubUrl||"",linkedinUrl:e.linkedinUrl||"",maxIntroVideosForInstructor:null!==(n=null!==(s=e.maxIntroVideosForInstructor)&&void 0!==s?s:e.introVideoMaxReuploads)&&void 0!==n?n:3,showRatingsOnHomepage:null===(o=null!==(l=e.showRatingsOnHomepage)&&void 0!==l?l:e.showHomepageRatings)||void 0===o||o,homepageRatingsLimit:null!==(d=null!==(u=e.homepageRatingsLimit)&&void 0!==u?u:e.featuredRatingsLimit)&&void 0!==d?d:10,currencyStudentPays:e.currencyStudentPays||e.defaultCurrency||"SYP",platformCurrency:e.platformCurrency||e.defaultCurrency||"SYP",supportedCurrencies:Array.isArray(e.supportedCurrencies)&&e.supportedCurrencies.length?e.supportedCurrencies:["SYP"],minimumPayoutRequest:null!==(m=null!==(h=e.minimumPayoutRequest)&&void 0!==h?h:e.minimumPayoutAmountSYP)&&void 0!==m?m:1e4,initialSignupPercentage:t,instructorSignupPercentage:Math.max(0,Math.min(100,i)),agreementText:e.agreementText||"",paymentProviders:Array.isArray(e.paymentProviders)?e.paymentProviders:[]})}}catch(x){var p,g;console.error("Error fetching global settings:",x),er.error((null===(p=x.response)||void 0===p||null===(g=p.data)||void 0===g?void 0:g.message)||"Failed to load global settings")}finally{t(!1)}},f=async()=>{try{var e;h(!0);const t=localStorage.getItem("token"),r=await i.A.get("/api/ratings/featured-admin",{headers:{Authorization:"Bearer ".concat(t)}});null!==(e=r.data)&&void 0!==e&&e.success&&Array.isArray(r.data.ratings)?u(r.data.ratings):u([])}catch(a){var t,r;console.error("Error fetching homepage ratings for admin:",a),er.error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to load ratings list")}finally{h(!1)}},y=(e,t)=>{c(r=>(0,Be.A)((0,Be.A)({},r),{},{[e]:t}))},v=e=>{const t=Number(e);return Number.isFinite(t)?Math.max(0,Math.min(100,t)):0},b=e=>{const t=String(e||"").trim();return t?t.toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/^_+|_+$/g,"").slice(0,50):""},w=e=>{const t=(Array.isArray(e)?e:[]).map(e=>{const t="string"===typeof(null===e||void 0===e?void 0:e.name)?e.name.trim():"";return{key:b((null===e||void 0===e?void 0:e.key)||t),name:t,imageUrl:"string"===typeof(null===e||void 0===e?void 0:e.imageUrl)?e.imageUrl.trim():"",isActive:!1!==(null===e||void 0===e?void 0:e.isActive)}}).filter(e=>e.key&&e.name),r=new Set,a=[];for(const n of t)r.has(n.key)||(r.add(n.key),a.push(n));return a},j=(e,t,r)=>{c(a=>{const n=Array.isArray(a.paymentProviders)?[...a.paymentProviders]:[],s=n[e]||{key:"",name:"",imageUrl:"",isActive:!0},i=(0,Be.A)((0,Be.A)({},s),{},{[t]:r});return"name"!==t||s.key&&String(s.key).trim()||(i.key=b(r)),n[e]=i,(0,Be.A)((0,Be.A)({},a),{},{paymentProviders:n})})},k=async()=>{try{var e,t;const r=(0,Be.A)({},l);r.currencyStudentPays="SYP",r.platformCurrency="SYP";const a=Number(r.homepageRatingsLimit);if(!Number.isFinite(a)||a<1)return void er.error("Homepage ratings limit must be at least 1");const s=Number(r.initialSignupPercentage);if(!Number.isFinite(s)||s<0||s>100)return void er.error("Signup percentage must be between 0 and 100");const o=Number(r.minimumPayoutRequest);if(!Number.isFinite(o)||o<0)return void er.error("Minimum payout request must be a non-negative number");const d=Cv.map(e=>e.value);if(!d.includes(r.currencyStudentPays))return void er.error("Invalid student payment currency");if(!d.includes(r.platformCurrency))return void er.error("Invalid platform currency");let u=Array.isArray(r.supportedCurrencies)?r.supportedCurrencies:[r.currencyStudentPays||"SYP"];u=u.map(e=>String(e).toUpperCase()).filter(Boolean),u.includes("SYP")||u.unshift("SYP");const m=Array.from(new Set(u));if(!m.every(e=>d.includes(e)))return void er.error("Supported currencies must be valid currency codes");r.supportedCurrencies=m;const h=Number(r.maxIntroVideosForInstructor);if(!Number.isFinite(h)||h<0)return void er.error("Max intro videos must be a non-negative integer");n(!0);const p=localStorage.getItem("token"),g={platformName:r.platformName,platformEmail:r.platformEmail,platformIntro:r.platformIntro,facebookUrl:r.facebookUrl,githubUrl:r.githubUrl,linkedinUrl:r.linkedinUrl,maxIntroVideosForInstructor:h,showRatingsOnHomepage:!!r.showRatingsOnHomepage,homepageRatingsLimit:a,currencyStudentPays:r.currencyStudentPays,platformCurrency:r.platformCurrency,supportedCurrencies:r.supportedCurrencies,minimumPayoutRequest:o,initialSignupPercentage:s,agreementText:r.agreementText,paymentProviders:w(r.paymentProviders)},x=await i.A.put("/api/admin/settings",g,{headers:{Authorization:"Bearer ".concat(p)}});if(er.success((null===(e=x.data)||void 0===e?void 0:e.message)||"Global settings updated successfully"),null!==(t=x.data)&&void 0!==t&&t.data){const e=x.data.data;c(t=>{var r,a,n,s,i,o,l,c,d,u,m,h,p;return(0,Be.A)((0,Be.A)({},t),{},{platformName:e.platformName||t.platformName,platformEmail:e.platformEmail||t.platformEmail,platformIntro:e.platformIntro||t.platformIntro,facebookUrl:e.facebookUrl||t.facebookUrl,githubUrl:e.githubUrl||t.githubUrl,linkedinUrl:e.linkedinUrl||t.linkedinUrl,maxIntroVideosForInstructor:null!==(r=null!==(a=e.maxIntroVideosForInstructor)&&void 0!==a?a:e.introVideoMaxReuploads)&&void 0!==r?r:t.maxIntroVideosForInstructor,showRatingsOnHomepage:null!==(n=null!==(s=e.showRatingsOnHomepage)&&void 0!==s?s:e.showHomepageRatings)&&void 0!==n?n:t.showRatingsOnHomepage,homepageRatingsLimit:null!==(i=null!==(o=e.homepageRatingsLimit)&&void 0!==o?o:e.featuredRatingsLimit)&&void 0!==i?i:t.homepageRatingsLimit,currencyStudentPays:e.currencyStudentPays||e.defaultCurrency||t.currencyStudentPays,platformCurrency:e.platformCurrency||e.defaultCurrency||t.platformCurrency,supportedCurrencies:Array.isArray(e.supportedCurrencies)&&e.supportedCurrencies.length?e.supportedCurrencies:t.supportedCurrencies,minimumPayoutRequest:null!==(l=null!==(c=e.minimumPayoutRequest)&&void 0!==c?c:e.minimumPayoutAmountSYP)&&void 0!==l?l:t.minimumPayoutRequest,initialSignupPercentage:null!==(d=null!==(u=e.initialSignupPercentage)&&void 0!==u?u:e.platformRevenuePercentage)&&void 0!==d?d:t.initialSignupPercentage,instructorSignupPercentage:100-(null!==(m=null!==(h=e.initialSignupPercentage)&&void 0!==h?h:e.platformRevenuePercentage)&&void 0!==m?m:t.initialSignupPercentage),agreementText:null!==(p=e.agreementText)&&void 0!==p?p:t.agreementText,paymentProviders:Array.isArray(e.paymentProviders)?e.paymentProviders:t.paymentProviders})})}}catch(s){var r,a;console.error("Error saving global settings:",s),er.error((null===(r=s.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Failed to save global settings")}finally{n(!1)}};return e?(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:(0,xr.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,xr.jsx)("div",{className:"p-2 rounded-lg bg-indigo-100 dark:bg-indigo-900/40",children:(0,xr.jsx)(ur,{className:"w-6 h-6 text-indigo-600 dark:text-indigo-300"})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Global Admin Settings"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Configure platform-wide behavior for instructors, ratings, currency, payouts, and signup agreements."})]})]}),(0,xr.jsxs)("button",{onClick:k,disabled:r,className:"inline-flex items-center px-5 py-2.5 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[r?(0,xr.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}):(0,xr.jsx)(Eg,{className:"w-5 h-5 mr-2"}),r?"Saving...":"Save Changes"]})]}),(0,xr.jsxs)("div",{className:"space-y-6",children:[(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[(0,xr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Platform Identity & Social"}),(0,xr.jsxs)("div",{className:"space-y-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Platform Name"}),(0,xr.jsx)("input",{type:"text",value:l.platformName,onChange:e=>y("platformName",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Platform Email"}),(0,xr.jsx)("input",{type:"email",value:l.platformEmail,onChange:e=>y("platformEmail",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),(0,xr.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Used across the platform footer and policy pages as the primary contact email."})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Platform Introduction"}),(0,xr.jsx)("textarea",{rows:4,value:l.platformIntro,onChange:e=>y("platformIntro",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",placeholder:"Short description shown in the footer and other public places."})]}),(0,xr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Facebook URL"}),(0,xr.jsx)("input",{type:"url",value:l.facebookUrl,onChange:e=>y("facebookUrl",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",placeholder:"https://facebook.com/your-page"})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"GitHub URL"}),(0,xr.jsx)("input",{type:"url",value:l.githubUrl,onChange:e=>y("githubUrl",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",placeholder:"https://github.com/your-org"})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"LinkedIn URL"}),(0,xr.jsx)("input",{type:"url",value:l.linkedinUrl,onChange:e=>y("linkedinUrl",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",placeholder:"https://linkedin.com/company/your-page"})]})]})]})]}),(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[(0,xr.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,xr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Intro Video Settings"})}),(0,xr.jsxs)("div",{className:"space-y-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Max Intro Video Reuploads per Instructor"}),(0,xr.jsx)("input",{type:"number",min:0,value:l.maxIntroVideosForInstructor,onChange:e=>y("maxIntroVideosForInstructor",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),(0,xr.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Controls how many times each instructor can re-upload their introduction video before admin intervention is required. Default is 3 reuploads per instructor unless changed here."})]}),(0,xr.jsxs)("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200 dark:border-gray-700 mt-2",children:[(0,xr.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Reset re-upload counters for all instructors back to 0 so each instructor can use the full limit again."}),(0,xr.jsxs)("button",{type:"button",onClick:async()=>{try{var e;o(!0);const t=localStorage.getItem("token"),r=await i.A.post("/api/admin/settings/reset-intro-videos-counter",{},{headers:{Authorization:"Bearer ".concat(t)}});er.success((null===(e=r.data)||void 0===e?void 0:e.message)||"Intro video upload counters reset")}catch(a){var t,r;console.error("Error resetting intro counters:",a),er.error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to reset intro counters")}finally{o(!1)}},disabled:s,className:"inline-flex items-center px-3 py-1.5 text-sm rounded-md border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[s?(0,xr.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current mr-2"}):(0,xr.jsx)(Tm,{className:"w-4 h-4 mr-2"}),"Reset Counters"]})]})]})]}),(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[(0,xr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Ratings Settings"}),(0,xr.jsxs)("div",{className:"space-y-4",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Show Ratings on Homepage"}),(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Toggle visibility of the testimonials / ratings slider on the homepage."})]}),(0,xr.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,xr.jsx)("input",{type:"checkbox",className:"sr-only peer",checked:!!l.showRatingsOnHomepage,onChange:e=>y("showRatingsOnHomepage",e.target.checked)}),(0,xr.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 dark:peer-focus:ring-indigo-800 rounded-full peer dark:bg-gray-700 peer-checked:bg-indigo-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Maximum Ratings on Homepage"}),(0,xr.jsx)("input",{type:"number",min:1,value:l.homepageRatingsLimit,onChange:e=>y("homepageRatingsLimit",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),(0,xr.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Used by the featured ratings API to limit how many testimonials are shown."})]}),(0,xr.jsxs)("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700 mt-2",children:[(0,xr.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Homepage Ratings List (4\u2605+ with review)"}),(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:"Toggle individual ratings to show or hide them on the homepage slider."}),m?(0,xr.jsx)("div",{className:"flex items-center justify-center py-4",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-indigo-600"})}):0===d.length?(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 py-2",children:"No ratings are currently available for homepage display."}):(0,xr.jsx)("div",{className:"mt-2 max-h-72 overflow-y-auto space-y-3 pr-1",children:d.map(e=>{var t,r;const a=!!e.isHiddenOnHomepage;return(0,xr.jsxs)("div",{className:"flex items-start justify-between rounded-md border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 px-3 py-2",children:[(0,xr.jsxs)("div",{className:"flex-1 min-w-0 mr-3",children:[(0,xr.jsxs)("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:[(null===(t=e.student)||void 0===t?void 0:t.name)||"Student",null!==(r=e.course)&&void 0!==r&&r.name?" \xb7 ".concat(e.course.name):""]}),(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 line-clamp-2",children:e.review}),(0,xr.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Rating: ",e.rating," / 5"]})]}),(0,xr.jsxs)("div",{className:"flex flex-col items-end space-y-1",children:[(0,xr.jsx)("button",{type:"button",onClick:()=>(async(e,t)=>{try{var r,a;g(e);const n=localStorage.getItem("token"),s=await i.A.patch("/api/ratings/".concat(e,"/homepage-visibility"),{isHiddenOnHomepage:!t},{headers:{Authorization:"Bearer ".concat(n)}});er.success((null===(r=s.data)||void 0===r?void 0:r.message)||"Homepage visibility updated");const o=null===(a=s.data)||void 0===a?void 0:a.rating;u(r=>r.map(r=>r._id===e?(0,Be.A)((0,Be.A)({},r),{},{isHiddenOnHomepage:o&&Object.prototype.hasOwnProperty.call(o,"isHiddenOnHomepage")?o.isHiddenOnHomepage:!t}):r))}catch(o){var n,s;console.error("Error updating rating homepage visibility:",o),er.error((null===(n=o.response)||void 0===n||null===(s=n.data)||void 0===s?void 0:s.message)||"Failed to update rating visibility")}finally{g(null)}})(e._id,a),disabled:p===e._id,className:"inline-flex items-center px-2.5 py-1 text-xs rounded-md border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:p===e._id?"Updating...":a?"Show on homepage":"Hide from homepage"}),(0,xr.jsx)("span",{className:"text-[11px] text-gray-500 dark:text-gray-400",children:a?"Hidden on homepage":"Visible on homepage"})]})]},e._id)})})]})]})]}),(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[(0,xr.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,xr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,xr.jsx)(Kh,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-300"}),(0,xr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Currency & Payout Settings"})]})}),(0,xr.jsxs)("div",{className:"space-y-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Base Currency (Platform Accounting)"}),(0,xr.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"All course prices and payouts are stored in Syrian Pounds (SYP). Currency conversion always starts from SYP."})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Supported Payment Currencies for Students"}),(0,xr.jsxs)("div",{className:"space-y-2",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,xr.jsx)("input",{id:"currency-syp",type:"checkbox",checked:!Array.isArray(l.supportedCurrencies)||l.supportedCurrencies.includes("SYP"),disabled:!0,readOnly:!0,className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),(0,xr.jsxs)("label",{htmlFor:"currency-syp",className:"text-sm text-gray-700 dark:text-gray-300",children:["Syrian Pound (SYP)",(0,xr.jsx)("span",{className:"ml-1 text-xs text-gray-500 dark:text-gray-400",children:"(always enabled as base currency)"})]})]}),Cv.filter(e=>"SYP"!==e.value).map(e=>(0,xr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,xr.jsx)("input",{id:"currency-".concat(e.value.toLowerCase()),type:"checkbox",checked:!!Array.isArray(l.supportedCurrencies)&&l.supportedCurrencies.includes(e.value),onChange:t=>{return r=e.value,a=t.target.checked,void c(e=>{let t=[...Array.isArray(e.supportedCurrencies)?e.supportedCurrencies:[]];return a?t.includes(r)||t.push(r):t=t.filter(e=>e!==r),t.includes("SYP")||t.push("SYP"),(0,Be.A)((0,Be.A)({},e),{},{supportedCurrencies:t})});var r,a},className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),(0,xr.jsx)("label",{htmlFor:"currency-".concat(e.value.toLowerCase()),className:"text-sm text-gray-700 dark:text-gray-300",children:e.label})]},e.value))]}),(0,xr.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Students can choose any of the supported currencies on the payment pages. Amounts are converted from SYP using the latest rates."})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Minimum Instructor Payout Request (SYP)"}),(0,xr.jsx)("input",{type:"number",min:0,value:l.minimumPayoutRequest,onChange:e=>y("minimumPayoutRequest",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),(0,xr.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Controls when instructors are allowed to request payouts. Existing payout flows read this value from global settings."})]})]})]}),(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[(0,xr.jsxs)("div",{className:"flex items-start justify-between gap-4 mb-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Payment Providers"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"These payment providers appear on the homepage and student payment pages."})]}),(0,xr.jsxs)("button",{type:"button",onClick:()=>{c(e=>(0,Be.A)((0,Be.A)({},e),{},{paymentProviders:[...Array.isArray(e.paymentProviders)?e.paymentProviders:[],{key:"",name:"",imageUrl:"",isActive:!0}]}))},className:"inline-flex items-center px-3 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:[(0,xr.jsx)(Xh,{className:"w-4 h-4 mr-2"}),"Add Provider"]})]}),Array.isArray(l.paymentProviders)&&0!==l.paymentProviders.length?(0,xr.jsx)("div",{className:"space-y-3",children:l.paymentProviders.map((e,t)=>(0,xr.jsxs)("div",{className:"rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 p-4",children:[(0,xr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4",children:[(0,xr.jsxs)("div",{className:"md:col-span-4",children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Name"}),(0,xr.jsx)("input",{type:"text",value:(null===e||void 0===e?void 0:e.name)||"",onChange:e=>j(t,"name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g., Western Union"})]}),(0,xr.jsxs)("div",{className:"md:col-span-6",children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Image URL"}),(0,xr.jsx)("input",{type:"url",value:(null===e||void 0===e?void 0:e.imageUrl)||"",onChange:e=>j(t,"imageUrl",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"https://..."})]}),(0,xr.jsxs)("div",{className:"md:col-span-2 flex items-start justify-between gap-3",children:[(0,xr.jsx)("div",{className:"pt-6",children:(0,xr.jsxs)("label",{className:"flex items-center",children:[(0,xr.jsx)("input",{type:"checkbox",checked:!1!==(null===e||void 0===e?void 0:e.isActive),onChange:e=>j(t,"isActive",e.target.checked),className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),(0,xr.jsx)("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Active"})]})}),(0,xr.jsx)("button",{type:"button",onClick:()=>(e=>{c(t=>{const r=Array.isArray(t.paymentProviders)?[...t.paymentProviders]:[];return r.splice(e,1),(0,Be.A)((0,Be.A)({},t),{},{paymentProviders:r})})})(t),className:"mt-6 p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-md",title:"Remove",children:(0,xr.jsx)(kh,{className:"w-5 h-5"})})]})]}),(0,xr.jsxs)("div",{className:"mt-3 flex items-center justify-between gap-4",children:[(0,xr.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono break-all",children:["Key: ",(null===e||void 0===e?void 0:e.key)||b(null===e||void 0===e?void 0:e.name)]}),null!==e&&void 0!==e&&e.imageUrl?(0,xr.jsx)("img",{src:e.imageUrl,alt:e.name||"Payment provider",className:"h-10 w-24 object-contain bg-white rounded border border-gray-200 dark:border-gray-700",loading:"lazy",referrerPolicy:"no-referrer",onError:e=>{e.currentTarget.style.display="none"}}):null]})]},(null===e||void 0===e?void 0:e.key)||t))}):(0,xr.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No payment providers configured yet."})]}),(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,xr.jsx)(Um,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-300"}),(0,xr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Signup Agreement Settings"})]}),(0,xr.jsxs)("div",{className:"space-y-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Revenue Split for New Instructors"}),(0,xr.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"This split is used when generating the default instructor agreement for new instructors. The platform and instructor percentages must always add up to 100%. Existing signed agreements keep their original percentages."}),(0,xr.jsxs)("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Platform Commission (%)"}),(0,xr.jsx)("input",{type:"number",min:0,max:100,value:l.initialSignupPercentage,onChange:e=>(e=>{c(t=>{const r=v(e),a=v(100-r);return(0,Be.A)((0,Be.A)({},t),{},{initialSignupPercentage:r,instructorSignupPercentage:a})})})(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Instructor Share (%)"}),(0,xr.jsx)("input",{type:"number",min:0,max:100,value:l.instructorSignupPercentage,onChange:e=>(e=>{c(t=>{const r=v(e),a=v(100-r);return(0,Be.A)((0,Be.A)({},t),{},{initialSignupPercentage:a,instructorSignupPercentage:r})})})(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),(0,xr.jsxs)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:["Current split: Platform ",Math.max(0,Math.min(100,Number(l.initialSignupPercentage||0))),"% \xb7 Instructor ",Math.max(0,Math.min(100,Number(l.instructorSignupPercentage||0))),"% (total 100%)."]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Instructor Agreement Template"}),(0,xr.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:["Use ","{platformPercentage}"," and ","{instructorPercentage}"," as placeholders inside the text. These are replaced when agreements are generated."]}),(0,xr.jsx)("textarea",{rows:10,value:l.agreementText,onChange:e=>y("agreementText",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-mono text-sm",placeholder:"Enter the global instructor agreement text..."})]})]})]})]}),(0,xr.jsx)("div",{className:"flex justify-end pt-2",children:(0,xr.jsxs)("button",{onClick:k,disabled:r,className:"inline-flex items-center px-5 py-2.5 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[r?(0,xr.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}):(0,xr.jsx)(Eg,{className:"w-5 h-5 mr-2"}),r?"Saving...":"Save Changes"]})})]})})},Sv=()=>{const e=ae(),{isDarkMode:t}=Nr(),[r,n]=(0,a.useState)([]),[s,o]=(0,a.useState)(!0),[l,c]=(0,a.useState)("all"),[d,u]=(0,a.useState)([]),m=(e,t)=>{var r;const a=null===e||void 0===e||null===(r=e.response)||void 0===r?void 0:r.data;if(Array.isArray(null===a||void 0===a?void 0:a.errors)&&a.errors.length>0){const e=a.errors.map(e=>e.msg||e.message).filter(Boolean);if(e.length>0)return e.join(" ")}return"string"===typeof(null===a||void 0===a?void 0:a.message)&&a.message.trim().length>0?a.message:t};(0,a.useEffect)(()=>{h()},[]);const h=async()=>{try{o(!0);const e=await i.A.get("/api/courses/discounts/all");n(e.data.discounts||e.data.courses||[])}catch(e){console.error("Error fetching discounts:",e)}finally{o(!1)}},p=r.filter(e=>{var t;return"all"===l||(null===(t=e.discount)||void 0===t?void 0:t.status)===l}),g=e=>{const t={pending:{color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",icon:Zc,label:"Pending"},approved:{color:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",icon:Pa,label:"Approved"},rejected:{color:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",icon:pr.A,label:"Rejected"},expired:{color:"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200",icon:Dg,label:"Expired"},disabled:{color:"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200",icon:Fm,label:"Disabled"}},r=t[e]||t.disabled,a=r.icon;return(0,xr.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ".concat(r.color),children:[(0,xr.jsx)(a,{size:12}),r.label]})},x=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",f=e=>r.filter(t=>{var r;return(null===(r=t.discount)||void 0===r?void 0:r.status)===e}).length;return s?(0,xr.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8 px-4 sm:px-6 lg:px-8",children:(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-7xl mx-auto",children:[(0,xr.jsxs)("div",{className:"mb-8",children:[(0,xr.jsxs)("button",{onClick:()=>e("/admin/dashboard"),className:"flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 mb-4",children:[(0,xr.jsx)(Em,{size:20}),"Back to Dashboard"]}),(0,xr.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,xr.jsx)(Jy,{className:"text-indigo-600 dark:text-indigo-400",size:32}),(0,xr.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Discount Management"})]}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage all course discounts including pending requests, active discounts, and history"})]}),(0,xr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[{label:"Pending",count:f("pending"),color:"yellow"},{label:"Approved",count:f("approved"),color:"green"},{label:"Rejected",count:f("rejected"),color:"red"},{label:"Expired",count:f("expired"),color:"gray"},{label:"Disabled",count:f("disabled"),color:"gray"}].map(e=>(0,xr.jsxs)(rr.P.div,{whileHover:{scale:1.02},className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border-l-4 border-".concat(e.color,"-500"),children:[(0,xr.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.label}),(0,xr.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.count})]},e.label))}),(0,xr.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm mb-6 p-4",children:(0,xr.jsx)("div",{className:"flex flex-wrap gap-2",children:["all","pending","approved","rejected","expired","disabled"].map(e=>(0,xr.jsxs)("button",{onClick:()=>c(e),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat(l===e?"bg-indigo-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:[e.charAt(0).toUpperCase()+e.slice(1),"all"!==e&&" (".concat(f(e),")"),"all"===e&&" (".concat(r.length,")")]},e))})}),(0,xr.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden",children:0===p.length?(0,xr.jsxs)("div",{className:"p-8 text-center",children:[(0,xr.jsx)(Jy,{className:"mx-auto mb-4 text-gray-400",size:48}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"No discounts found for the selected filter."})]}):(0,xr.jsx)("div",{className:"overflow-x-auto",children:(0,xr.jsxs)("table",{className:"w-full",children:[(0,xr.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-700",children:(0,xr.jsxs)("tr",{children:[(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Course"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Instructor"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Original Price"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Discount Price"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Percentage"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Duration"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Dates"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),(0,xr.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:p.map(e=>{var t,r;const a=d.includes(e._id),n=e.discount||{},s=e.originalCost||e.cost,o=n.price;return(0,xr.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[(0,xr.jsx)("td",{className:"px-6 py-4",children:(0,xr.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.name})}),(0,xr.jsxs)("td",{className:"px-6 py-4",children:[(0,xr.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:(null===(t=e.instructor)||void 0===t?void 0:t.name)||"Unknown"}),(0,xr.jsx)("div",{className:"text-xs text-gray-500",children:null===(r=e.instructor)||void 0===r?void 0:r.email})]}),(0,xr.jsx)("td",{className:"px-6 py-4",children:(0,xr.jsxs)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[null===s||void 0===s?void 0:s.toLocaleString()," ",e.currency]})}),(0,xr.jsx)("td",{className:"px-6 py-4",children:(0,xr.jsxs)("div",{className:"text-sm font-bold text-red-600 dark:text-red-400",children:[(null===o||void 0===o?void 0:o.toLocaleString())||"N/A"," ",o?e.currency:""]})}),(0,xr.jsx)("td",{className:"px-6 py-4",children:(0,xr.jsxs)("div",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:[n.percentage||0,"% OFF"]})}),(0,xr.jsx)("td",{className:"px-6 py-4",children:(0,xr.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[n.timerDays||0," days"]})}),(0,xr.jsx)("td",{className:"px-6 py-4",children:g(n.status)}),(0,xr.jsx)("td",{className:"px-6 py-4",children:(0,xr.jsxs)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("strong",{children:"Requested:"})," ",x(n.requestedAt)]}),n.approvedAt&&(0,xr.jsxs)("div",{children:[(0,xr.jsx)("strong",{children:"Approved:"})," ",x(n.approvedAt)]}),n.startDate&&(0,xr.jsxs)("div",{children:[(0,xr.jsx)("strong",{children:"Start:"})," ",x(n.startDate)]}),n.endDate&&(0,xr.jsxs)("div",{children:[(0,xr.jsx)("strong",{children:"End:"})," ",x(n.endDate)]})]})}),(0,xr.jsx)("td",{className:"px-6 py-4",children:(0,xr.jsxs)("div",{className:"flex gap-2",children:["pending"===n.status&&(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)("button",{onClick:()=>(async e=>{try{u(t=>[...t,e]),await i.A.put("/api/courses/".concat(e,"/discount/approve")),await h()}catch(t){console.error("Error approving discount:",t);const e=m(t,"Failed to approve discount");er.error(e)}finally{u(t=>t.filter(t=>t!==e))}})(e._id),disabled:a,className:"p-2 text-green-600 hover:bg-green-50 dark:hover:bg-green-900 rounded-lg transition-colors disabled:opacity-50",title:"Approve",children:(0,xr.jsx)(Pa,{size:18})}),(0,xr.jsx)("button",{onClick:()=>(async e=>{const t=prompt("Enter rejection reason (optional):");if(null!==t)try{u(t=>[...t,e]),await i.A.put("/api/courses/".concat(e,"/discount/reject"),{reason:t}),await h()}catch(r){console.error("Error rejecting discount:",r);const e=m(r,"Failed to reject discount");er.error(e)}finally{u(t=>t.filter(t=>t!==e))}})(e._id),disabled:a,className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900 rounded-lg transition-colors disabled:opacity-50",title:"Reject",children:(0,xr.jsx)(pr.A,{size:18})})]}),(0,xr.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this discount? This will restore the original course price."))try{u(t=>[...t,e]),await i.A.delete("/api/courses/".concat(e,"/discount")),await h()}catch(t){console.error("Error deleting discount:",t);const e=m(t,"Failed to delete discount");er.error(e)}finally{u(t=>t.filter(t=>t!==e))}})(e._id),disabled:a,className:"p-2 text-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors disabled:opacity-50",title:"Delete Discount",children:(0,xr.jsx)(kh,{size:18})})]})})]},e._id)})})]})})})]})})},Ev=(0,nr.A)("DownloadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m8 17 4 4 4-4",key:"1ul180"}]]),Dv=(0,nr.A)("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),Pv=()=>{const{user:e}=wr(),[t,r]=(0,a.useState)(!1),[n,s]=(0,a.useState)(!1),[o,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(!1),[h,p]=(0,a.useState)(""),[g,x]=(0,a.useState)(""),[f,y]=(0,a.useState)(null),[v,b]=(0,a.useState)(null),[w,j]=(0,a.useState)(null),[k,N]=(0,a.useState)("");return(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,xr.jsx)("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.4},children:[(0,xr.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,xr.jsx)($y,{className:"w-8 h-8 text-indigo-600"}),(0,xr.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Backup Management"})]}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"Create and manage backups and run safe cleanup tasks."}),(0,xr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,xr.jsxs)("div",{className:"card",children:[(0,xr.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[(0,xr.jsx)(Ev,{className:"w-5 h-5"}),"Full Database Backup (Email)"]}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Generates a full JSON backup of all collections and emails it to the configured admin email. No files are saved on the server."}),(0,xr.jsx)("button",{onClick:async()=>{try{b(null),y(null),l(!0);const e=localStorage.getItem("token"),t=await i.A.post("/api/admin/backup/full",{},{headers:{Authorization:"Bearer ".concat(e)}});y(t.data)}catch(qe){var e,t;b((null===(e=qe.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||qe.message)}finally{l(!1)}},disabled:o,className:"btn-primary w-full",children:o?"Generating...":"Send Full Backup to Admin Email"})]}),(0,xr.jsxs)("div",{className:"card",children:[(0,xr.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Create Backup Report"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Generates a non-media JSON report and emails it to the admin address."}),(0,xr.jsx)("button",{onClick:async()=>{try{b(null),y(null),s(!0);const e=localStorage.getItem("token"),t=await i.A.post("/api/admin/maintenance/backup-report",{},{headers:{Authorization:"Bearer ".concat(e)}});y(t.data)}catch(qe){var e,t;b((null===(e=qe.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||qe.message)}finally{s(!1)}},disabled:n,className:"btn-primary w-full",children:n?"Generating...":"Send Backup Report to Admin Email"})]}),(0,xr.jsxs)("div",{className:"card",children:[(0,xr.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Run Cleanup"}),(0,xr.jsxs)("div",{className:"space-y-4",children:[(0,xr.jsxs)("label",{className:"block",children:[(0,xr.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Admin logs older than (days)"}),(0,xr.jsx)("input",{type:"number",min:"1",value:h,onChange:e=>p(e.target.value),placeholder:"e.g., 30",className:"mt-1 w-full border rounded-lg px-3 py-2 bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-700 text-gray-900 dark:text-white"})]}),(0,xr.jsxs)("label",{className:"block",children:[(0,xr.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Notifications older than (days)"}),(0,xr.jsx)("input",{type:"number",min:"1",value:g,onChange:e=>x(e.target.value),placeholder:"e.g., 60",className:"mt-1 w-full border rounded-lg px-3 py-2 bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-700 text-gray-900 dark:text-white"})]}),(0,xr.jsxs)("label",{className:"inline-flex items-center space-x-2",children:[(0,xr.jsx)("input",{type:"checkbox",checked:u,onChange:e=>m(e.target.checked)}),(0,xr.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Also delete messages older than 60 days"})]}),(0,xr.jsx)("button",{onClick:async()=>{try{b(null),y(null),r(!0);const e={includeOldMessages:u};h&&(e.logsDays=Number(h)),g&&(e.notificationsDays=Number(g));const t=localStorage.getItem("token"),a=await i.A.post("/api/admin/maintenance/cleanup",e,{headers:{Authorization:"Bearer ".concat(t)}});y(a.data)}catch(qe){var e,t;b((null===(e=qe.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||qe.message)}finally{r(!1)}},disabled:t,className:"btn-secondary w-full",children:t?"Running...":"Run Cleanup Now"})]})]}),(0,xr.jsxs)("div",{className:"card",children:[(0,xr.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[(0,xr.jsx)(Dv,{className:"w-5 h-5"}),"Restore Backup"]}),(0,xr.jsxs)("div",{className:"space-y-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm text-gray-700 dark:text-gray-300 mb-1",children:"Backup File (.json or .json.gz)"}),(0,xr.jsx)("input",{type:"file",accept:".json,.gz,.json.gz",onChange:e=>{var t;return j((null===(t=e.target.files)||void 0===t?void 0:t[0])||null)},className:"w-full border rounded-lg px-3 py-2 bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-700 text-gray-900 dark:text-white"})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm text-gray-700 dark:text-gray-300 mb-1",children:"Confirm Admin Password"}),(0,xr.jsx)("input",{type:"password",value:k,onChange:e=>N(e.target.value),className:"w-full border rounded-lg px-3 py-2 bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-700 text-gray-900 dark:text-white",placeholder:"Enter your password"})]}),(0,xr.jsx)("button",{onClick:async()=>{try{if(!w)return void b("Please choose a backup file (.json or .json.gz)");if(!k)return void b("Please enter your admin password to confirm restore");b(null),y(null),d(!0);const e=localStorage.getItem("token"),t=new FormData;t.append("backup",w),t.append("password",k);const r=await i.A.post("/api/admin/backup/restore",t,{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"multipart/form-data"}});y(r.data),j(null),N("")}catch(qe){var e,t;b((null===(e=qe.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||qe.message)}finally{d(!1)}},disabled:c,className:"btn-secondary w-full",children:c?"Restoring...":"Restore Now"})]})]})]}),v&&(0,xr.jsx)("div",{className:"mt-6 p-4 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-200",children:v}),f&&(0,xr.jsxs)("div",{className:"mt-6 card",children:[(0,xr.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Result"}),(0,xr.jsx)("pre",{className:"text-sm whitespace-pre-wrap text-gray-700 dark:text-gray-300",children:JSON.stringify(f,null,2)})]})]})})})},Tv=()=>{const{theme:e}=Nr(),[t,r]=(0,a.useState)([]),[n,s]=(0,a.useState)({lesson:5,quiz:10,course:50,assignment:8,project:12}),[o,l]=(0,a.useState)({pointsRequired:500,sypValue:1e4,minimumPointsThreshold:500,enableBalancePayments:!0}),[c,d]=(0,a.useState)(!0),[u,m]=(0,a.useState)(!1),[h,p]=(0,a.useState)(!1),[g,x]=(0,a.useState)(null),[f,y]=(0,a.useState)([]),[v,b]=(0,a.useState)({totalStudents:0,totalPoints:0,totalBadges:0}),[w,j]=(0,a.useState)(""),[k,N]=(0,a.useState)(""),[C,A]=(0,a.useState)("title"),[S,E]=(0,a.useState)({title:"",description:"",icon:"\ud83c\udfc5",conditionType:"lesson",threshold:1,pointsReward:0}),D=["\ud83c\udfc5","\ud83d\ude80","\ud83e\udde0","\ud83c\udf93","\ud83d\udd25","\u26a1","\u2b50","\ud83d\udcda","\ud83c\udfc6","\ud83c\udfaf","\ud83d\udc8e","\ud83d\udc51","\ud83c\udf1f","\ud83d\udcaa","\ud83c\udfaa"],P=[{value:"lesson",label:"Lessons Completed"},{value:"quiz",label:"Quizzes Completed"},{value:"course",label:"Courses Completed"},{value:"streak",label:"Login Streak (Days)"},{value:"points",label:"Total Points"}];(0,a.useEffect)(()=>{T()},[]);const T=async()=>{try{var e,t,a,n,o,c,u,m,h,p,g;d(!0);const[x,f,v]=await Promise.all([i.A.get("/api/gamification/badges"),i.A.get("/api/gamification/settings"),i.A.get("/api/gamification/leaderboard?limit=10")]);r(x.data.badges||[]);const w=f.data.pointValues||{};s({lesson:null!==(e=w.lesson)&&void 0!==e?e:5,quiz:null!==(t=w.quiz)&&void 0!==t?t:10,course:null!==(a=w.course)&&void 0!==a?a:50,assignment:null!==(n=w.assignment)&&void 0!==n?n:8,project:null!==(o=w.project)&&void 0!==o?o:12});const j=f.data.conversionSettings||{};l({pointsRequired:null!==(c=j.pointsRequired)&&void 0!==c?c:500,sypValue:null!==(u=j.sypValue)&&void 0!==u?u:1e4,minimumPointsThreshold:null!==(m=j.minimumPointsThreshold)&&void 0!==m?m:500,enableBalancePayments:!1!==j.enableBalancePayments}),y(v.data.leaderboard||[]);const k=(null===(h=x.data.badges)||void 0===h?void 0:h.length)||0,N=(null===(p=v.data.leaderboard)||void 0===p?void 0:p.reduce((e,t)=>e+t.points,0))||0,C=(null===(g=v.data.leaderboard)||void 0===g?void 0:g.length)||0;b({totalStudents:C,totalPoints:N,totalBadges:k})}catch(x){console.error("Fetch gamification data error:",x),Sd.error("Failed to load gamification data")}finally{d(!1)}},_=async()=>{try{g?(await i.A.put("/api/gamification/badges/".concat(g._id),S),Sd.success("Badge updated successfully")):(await i.A.post("/api/gamification/badges",S),Sd.success("Badge created successfully")),p(!1),T()}catch(e){console.error("Save badge error:",e),Sd.error("Failed to save badge")}};return c?(0,xr.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,xr.jsxs)("div",{className:"space-y-6",children:[(0,xr.jsx)("div",{className:"flex items-center justify-between",children:(0,xr.jsxs)("div",{children:[(0,xr.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center gap-3",children:[(0,xr.jsx)(mr,{className:"w-8 h-8 text-yellow-600"}),"Gamification & Badges"]}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage student motivation system"})]})}),(0,xr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card p-3",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-xs font-medium truncate",children:"Total Badges"}),(0,xr.jsx)("p",{className:"text-xl font-bold text-gray-900 dark:text-white mt-0.5",children:v.totalBadges})]}),(0,xr.jsx)("div",{className:"p-1.5 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg flex-shrink-0",children:(0,xr.jsx)(Oa,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"})})]})}),h&&(0,xr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto p-6 ".concat("dark"===e?"bg-gray-800":"bg-white"),children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,xr.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:g?"Edit Badge":"Create New Badge"}),(0,xr.jsx)("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:(0,xr.jsx)(pr.A,{className:"w-6 h-6"})})]}),(0,xr.jsxs)("div",{className:"space-y-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Title"}),(0,xr.jsx)("input",{type:"text",value:S.title,onChange:e=>E((0,Be.A)((0,Be.A)({},S),{},{title:e.target.value})),className:"input-field"})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Description"}),(0,xr.jsx)("textarea",{value:S.description,onChange:e=>E((0,Be.A)((0,Be.A)({},S),{},{description:e.target.value})),className:"input-field",rows:2})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Icon"}),(0,xr.jsx)("div",{className:"flex flex-wrap gap-2",children:D.map(e=>(0,xr.jsx)("button",{onClick:()=>E((0,Be.A)((0,Be.A)({},S),{},{icon:e})),className:"text-3xl p-2 rounded-lg border-2 transition-all ".concat(S.icon===e?"border-primary-600 bg-primary-50 dark:bg-primary-900/30":"border-gray-200 dark:border-gray-700 hover:border-primary-400"),children:e},e))})]}),(0,xr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Condition Type"}),(0,xr.jsx)("select",{className:"input-field",value:S.conditionType,onChange:e=>E((0,Be.A)((0,Be.A)({},S),{},{conditionType:e.target.value})),children:P.map(e=>(0,xr.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Threshold"}),(0,xr.jsx)("input",{type:"number",min:"1",value:S.threshold,onChange:e=>E((0,Be.A)((0,Be.A)({},S),{},{threshold:parseInt(e.target.value)||1})),className:"input-field"})]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Points Reward"}),(0,xr.jsx)("input",{type:"number",min:"0",value:S.pointsReward,onChange:e=>E((0,Be.A)((0,Be.A)({},S),{},{pointsReward:parseInt(e.target.value)||0})),className:"input-field"})]})]}),(0,xr.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,xr.jsx)("button",{onClick:()=>p(!1),className:"btn-secondary",children:"Cancel"}),(0,xr.jsxs)("button",{onClick:_,className:"btn-primary flex items-center gap-2",children:[(0,xr.jsx)(Eg,{className:"w-4 h-4"}),g?"Update":"Create"]})]})]})}),(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card p-3",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-xs font-medium truncate",children:"Active Students"}),(0,xr.jsx)("p",{className:"text-xl font-bold text-gray-900 dark:text-white mt-0.5",children:v.totalStudents})]}),(0,xr.jsx)("div",{className:"p-1.5 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex-shrink-0",children:(0,xr.jsx)(Jc,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})})]})}),(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card p-3",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-xs font-medium truncate",children:"Total Points"}),(0,xr.jsx)("p",{className:"text-xl font-bold text-gray-900 dark:text-white mt-0.5",children:v.totalPoints.toLocaleString()})]}),(0,xr.jsx)("div",{className:"p-1.5 bg-green-100 dark:bg-green-900/30 rounded-lg flex-shrink-0",children:(0,xr.jsx)(mr,{className:"w-5 h-5 text-green-600 dark:text-green-400"})})]})})]}),(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,xr.jsxs)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[(0,xr.jsx)(ur,{className:"w-6 h-6"}),"Point Rewards Settings"]}),(0,xr.jsxs)("button",{onClick:async()=>{try{await i.A.put("/api/gamification/settings",n),Sd.success("Point settings updated successfully")}catch(e){console.error("Update point settings error:",e),Sd.error("Failed to update point settings")}},className:"btn-primary flex items-center gap-2",children:[(0,xr.jsx)(Eg,{className:"w-4 h-4"}),"Save"]})]}),(0,xr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Points per Lesson Completed"}),(0,xr.jsx)("input",{type:"number",min:"0",value:n.lesson,onChange:e=>s((0,Be.A)((0,Be.A)({},n),{},{lesson:parseInt(e.target.value)||0})),className:"input-field"})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Points per Quiz Completed"}),(0,xr.jsx)("input",{type:"number",min:"0",value:n.quiz,onChange:e=>s((0,Be.A)((0,Be.A)({},n),{},{quiz:parseInt(e.target.value)||0})),className:"input-field"})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Points per Course Completed"}),(0,xr.jsx)("input",{type:"number",min:"0",value:n.course,onChange:e=>s((0,Be.A)((0,Be.A)({},n),{},{course:parseInt(e.target.value)||0})),className:"input-field"})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Points per Assignment Submission"}),(0,xr.jsx)("input",{type:"number",min:"0",value:n.assignment,onChange:e=>s((0,Be.A)((0,Be.A)({},n),{},{assignment:parseInt(e.target.value)||0})),className:"input-field"})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Points per Project Submission"}),(0,xr.jsx)("input",{type:"number",min:"0",value:n.project,onChange:e=>s((0,Be.A)((0,Be.A)({},n),{},{project:parseInt(e.target.value)||0})),className:"input-field"})]})]})]}),(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,xr.jsxs)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[(0,xr.jsx)(Kh,{className:"w-6 h-6"}),"Points-to-Balance Conversion"]}),(0,xr.jsxs)("button",{onClick:async()=>{try{m(!0),await i.A.put("/api/gamification/conversion-settings",o),Sd.success("Conversion settings updated successfully")}catch(e){console.error("Update conversion settings error:",e),Sd.error("Failed to update conversion settings")}finally{m(!1)}},disabled:u,className:"btn-primary flex items-center gap-2 disabled:opacity-50",children:[(0,xr.jsx)(Eg,{className:"w-4 h-4"}),u?"Saving...":"Save"]})]}),(0,xr.jsxs)("div",{className:"mb-4 flex items-center justify-between p-4 rounded-md border border-gray-200 dark:border-gray-700",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:"Allow Paying With Wallet Balance"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Enable students to use points balance during checkout"})]}),(0,xr.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,xr.jsx)("input",{type:"checkbox",className:"sr-only peer",checked:!!o.enableBalancePayments,onChange:e=>{const t=e.target.checked,r=t?"Enable paying with wallet balance? Students will be able to use their wallet balance (converted points) at checkout.":"Disable paying with wallet balance? Students will NOT be able to use wallet balance at checkout.";window.confirm(r)&&l((0,Be.A)((0,Be.A)({},o),{},{enableBalancePayments:t}))}}),(0,xr.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),(0,xr.jsx)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4 mb-6",children:(0,xr.jsxs)("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[(0,xr.jsx)("strong",{children:"How it works:"})," Students can use their earned points as wallet balance for course payments. Set the conversion rate below. Example: 500 points = 10,000 SYP means 1 point = 20 SYP."]})}),(0,xr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Points Required"}),(0,xr.jsx)("input",{type:"number",min:"1",value:o.pointsRequired,onChange:e=>l((0,Be.A)((0,Be.A)({},o),{},{pointsRequired:parseInt(e.target.value)||1})),className:"input-field",placeholder:"e.g., 500"}),(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Number of points needed for conversion"})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"SYP Value"}),(0,xr.jsx)("input",{type:"number",min:"1",value:o.sypValue,onChange:e=>l((0,Be.A)((0,Be.A)({},o),{},{sypValue:parseInt(e.target.value)||1})),className:"input-field",placeholder:"e.g., 10000"}),(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"SYP value for the points above"})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Minimum Points Threshold"}),(0,xr.jsx)("input",{type:"number",min:"0",value:o.minimumPointsThreshold,onChange:e=>l((0,Be.A)((0,Be.A)({},o),{},{minimumPointsThreshold:parseInt(e.target.value)||0})),className:"input-field",placeholder:"e.g., 500"}),(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Minimum points to use balance in payments"})]})]}),(0,xr.jsx)("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:(0,xr.jsxs)("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[(0,xr.jsx)("strong",{children:"Current Rate:"})," ",o.pointsRequired," points = ",o.sypValue.toLocaleString()," SYP (",o.sypValue>0?"1 point = ".concat((o.sypValue/o.pointsRequired).toLocaleString()," SYP"):"0 SYP/point",")"]})})]}),(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,xr.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Badge Management"}),(0,xr.jsxs)("button",{onClick:()=>{E({title:"",description:"",icon:"\ud83c\udfc5",conditionType:"lesson",threshold:1,pointsReward:0}),x(null),p(!0)},className:"btn-primary flex items-center gap-2",children:[(0,xr.jsx)(Xh,{className:"w-4 h-4"}),"Add New Badge"]})]}),(0,xr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(t=>{var r;return(0,xr.jsxs)("div",{className:"p-4 rounded-lg border-2 ".concat("dark"===e?"border-gray-700 bg-gray-800":"border-gray-200 bg-gray-50"),children:[(0,xr.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,xr.jsx)("div",{className:"text-4xl",children:t.icon}),(0,xr.jsxs)("div",{className:"flex gap-2",children:[(0,xr.jsx)("button",{onClick:()=>(e=>{E({title:e.title,description:e.description||"",icon:e.icon||"\ud83c\udfc5",conditionType:e.conditionType||"lesson",threshold:e.threshold||1,pointsReward:e.pointsReward||0}),x(e),p(!0)})(t),className:"p-1.5 rounded-lg bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 hover:bg-blue-200 dark:hover:bg-blue-900/50",children:(0,xr.jsx)(jh,{className:"w-4 h-4"})}),(0,xr.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Delete this badge?"))try{await i.A.delete("/api/gamification/badges/".concat(e)),Sd.success("Badge deleted successfully"),T()}catch(t){console.error("Delete badge error:",t),Sd.error("Failed to delete badge")}})(t._id),className:"p-1.5 rounded-lg bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 hover:bg-red-200 dark:hover:bg-red-900/50",children:(0,xr.jsx)(kh,{className:"w-4 h-4"})})]})]}),(0,xr.jsx)("h3",{className:"font-bold text-gray-900 dark:text-white mb-1",children:t.title}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:t.description}),(0,xr.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,xr.jsx)("span",{className:"px-2 py-1 rounded-full bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300",children:null===(r=P.find(e=>e.value===t.conditionType))||void 0===r?void 0:r.label}),(0,xr.jsxs)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:["+",t.pointsReward," pts"]})]})]},t._id)})})]}),(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:[(0,xr.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Top Students"}),(0,xr.jsx)("div",{className:"overflow-x-auto",children:(0,xr.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,xr.jsx)("thead",{children:(0,xr.jsxs)("tr",{children:[(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Rank"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Student"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Points"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Badges"})]})}),(0,xr.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:f.map(e=>(0,xr.jsxs)("tr",{children:[(0,xr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,xr.jsx)("span",{className:"text-2xl ".concat(1===e.rank?"\ud83e\udd47":2===e.rank?"\ud83e\udd48":3===e.rank?"\ud83e\udd49":""),children:1===e.rank?"\ud83e\udd47":2===e.rank?"\ud83e\udd48":3===e.rank?"\ud83e\udd49":"#".concat(e.rank)})}),(0,xr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,xr.jsxs)("div",{className:"flex items-center",children:[e.avatar?(0,xr.jsx)("img",{src:e.avatar,alt:e.name,className:"w-8 h-8 rounded-full mr-3"}):(0,xr.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary-100 dark:bg-primary-900 flex items-center justify-center mr-3",children:(0,xr.jsx)("span",{className:"text-primary-600 dark:text-primary-400 font-medium",children:e.name.charAt(0).toUpperCase()})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.name}),(0,xr.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.email})]})]})}),(0,xr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,xr.jsx)("span",{className:"font-bold text-primary-600 dark:text-primary-400",children:e.points.toLocaleString()})}),(0,xr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,xr.jsxs)("span",{className:"px-3 py-1 rounded-full bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300 text-sm font-medium",children:[e.badgeCount," badges"]})})]},e.email))})]})})]}),h&&(0,xr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto p-6 ".concat("dark"===e?"bg-gray-800":"bg-white"),children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,xr.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:g?"Edit Badge":"Create New Badge"}),(0,xr.jsx)("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:(0,xr.jsx)(pr.A,{className:"w-6 h-6"})})]}),(0,xr.jsxs)("div",{className:"space-y-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Badge Title"}),(0,xr.jsx)("input",{type:"text",value:S.title,onChange:e=>E((0,Be.A)((0,Be.A)({},S),{},{title:e.target.value})),className:"input-field",placeholder:"e.g., Fast Learner"})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Description"}),(0,xr.jsx)("textarea",{value:S.description,onChange:e=>E((0,Be.A)((0,Be.A)({},S),{},{description:e.target.value})),className:"input-field",rows:2,placeholder:"e.g., Complete 5 lessons"})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Icon"}),(0,xr.jsx)("div",{className:"flex flex-wrap gap-2",children:D.map(e=>(0,xr.jsx)("button",{onClick:()=>E((0,Be.A)((0,Be.A)({},S),{},{icon:e})),className:"text-3xl p-2 rounded-lg border-2 transition-all ".concat(S.icon===e?"border-primary-600 bg-primary-50 dark:bg-primary-900/30":"border-gray-200 dark:border-gray-700 hover:border-primary-400"),children:e},e))})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Condition Type"}),(0,xr.jsx)("select",{value:S.conditionType,onChange:e=>E((0,Be.A)((0,Be.A)({},S),{},{conditionType:e.target.value})),className:"input-field",children:P.map(e=>(0,xr.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Threshold"}),(0,xr.jsx)("input",{type:"number",min:"1",value:S.threshold,onChange:e=>E((0,Be.A)((0,Be.A)({},S),{},{threshold:parseInt(e.target.value)||1})),className:"input-field"})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Bonus Points Reward"}),(0,xr.jsx)("input",{type:"number",min:"0",value:S.pointsReward,onChange:e=>E((0,Be.A)((0,Be.A)({},S),{},{pointsReward:parseInt(e.target.value)||0})),className:"input-field"})]})]}),(0,xr.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,xr.jsx)("button",{onClick:()=>p(!1),className:"btn-secondary",children:"Cancel"}),(0,xr.jsxs)("button",{onClick:_,className:"btn-primary flex items-center gap-2",children:[(0,xr.jsx)(Eg,{className:"w-4 h-4"}),g?"Update":"Create"]})]})]})})]})},_v=(0,nr.A)("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Rv=(0,nr.A)("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),Ov=(0,nr.A)("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]),Fv=e=>{if(!e)return"\u2014";try{const t=new Date(e);return Number.isNaN(t.getTime())?"\u2014":t.toLocaleString()}catch(At){return"\u2014"}},Lv=e=>{if(!e)return"\u2014";try{const t=new Date(e);return Number.isNaN(t.getTime())?"\u2014":t.toLocaleString()}catch(At){return"\u2014"}},Mv=()=>{var e,t;const r=te(),[n,s]=(0,a.useState)(!0),[o,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(!1),h={NODE_ENV:"production",PUBLIC_URL:"/eduflow_client",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"https://eduflow-server-87rv.onrender.com",p=h?"".concat(String(h).replace(/\/+$/,"")).concat(String(h).replace(/\/+$/,"").endsWith("/api")?"":"/api"):"/api",g=(0,a.useMemo)(()=>new URLSearchParams(r.search),[r.search]),x=async()=>{try{s(!0);const e=localStorage.getItem("token"),t=await i.A.get("".concat(p,"/youtube/admin/summary"),{headers:{Authorization:"Bearer ".concat(e)}});l(t.data||null)}catch(r){var e,t;console.error("Failed to load YouTube configuration:",r),er.error((null===r||void 0===r||null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to load YouTube configuration"),l(null)}finally{s(!1)}};(0,a.useEffect)(()=>{x();const e=g.get("status");if("success"===e){er.success("YouTube connected successfully");try{window.history.replaceState({},document.title,window.location.pathname)}catch(At){}}else if("error"===e){er.error("YouTube connection failed. Please try again.");try{window.history.replaceState({},document.title,window.location.pathname)}catch(At){}}},[]);const f=(null===o||void 0===o?void 0:o.connection)||{},y=(null===o||void 0===o?void 0:o.quota)||{},v=(null===o||void 0===o?void 0:o.overview)||{},b=!!f.connected,w=f.status||(b?"CONNECTED":"DISCONNECTED"),j=(0,a.useMemo)(()=>"CONNECTED"===w?{icon:(0,xr.jsx)(_v,{className:"w-4 h-4"}),label:"Connected",className:"bg-green-50 text-green-700 border-green-200 dark:bg-green-900/20 dark:text-green-300 dark:border-green-800"}:"REAUTH_REQUIRED"===w?{icon:(0,xr.jsx)($h,{className:"w-4 h-4"}),label:"Re-auth Required",className:"bg-yellow-50 text-yellow-800 border-yellow-200 dark:bg-yellow-900/20 dark:text-yellow-200 dark:border-yellow-800"}:{icon:(0,xr.jsx)(Zm,{className:"w-4 h-4"}),label:"Not Connected",className:"bg-red-50 text-red-700 border-red-200 dark:bg-red-900/20 dark:text-red-300 dark:border-red-800"},[w]),k=Number(y.dailyLimit)||1e4,N=Number(y.usedToday)||0,C=Number(y.remainingToday)||Math.max(0,k-N),A=(e=>{const t=Number(e);return Number.isFinite(t)?Math.max(0,Math.min(1,t)):0})(k>0?N/k:0);return(0,xr.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,xr.jsx)("div",{className:"mb-6",children:(0,xr.jsxs)(Oe,{to:"/admin",className:"inline-flex items-center gap-2 text-primary-600 hover:text-primary-700",children:[(0,xr.jsx)(Em,{className:"w-4 h-4"}),"Back to Admin Dashboard"]})}),(0,xr.jsxs)("div",{className:"flex items-start justify-between gap-4 mb-8",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"YouTube Configuration"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Connect one centralized YouTube account for all platform uploads."})]}),(0,xr.jsxs)("button",{type:"button",onClick:x,className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border border-gray-200 bg-white hover:bg-gray-50 text-sm dark:border-gray-700 dark:bg-gray-900 dark:hover:bg-gray-800 dark:text-gray-100",disabled:n,children:[(0,xr.jsx)(Tm,{className:"w-4 h-4 ".concat(n?"animate-spin":"")}),"Refresh"]})]}),(0,xr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 mb-6 dark:bg-gray-900 dark:border-gray-700",children:[(0,xr.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Connection"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mt-1 text-sm",children:"OAuth must be initiated from this UI. Tokens are stored server-side and never exposed to instructors."})]}),(0,xr.jsxs)("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full border text-sm ".concat(j.className),children:[j.icon,j.label]})]}),(0,xr.jsxs)("div",{className:"mt-5 flex flex-col sm:flex-row gap-3",children:[(0,xr.jsxs)("button",{type:"button",className:"inline-flex items-center justify-center gap-2 px-5 py-3 rounded-md bg-purple-600 hover:bg-purple-700 text-white font-medium disabled:opacity-50",onClick:async()=>{d(!0);try{var e;const t=localStorage.getItem("token"),r=await i.A.get("".concat(p,"/youtube/auth?mode=json"),{headers:{Authorization:"Bearer ".concat(t)}}),a=null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.authUrl;if(!a)throw new Error("Missing authUrl");window.location.href=a}catch(a){var t,r;console.error("Failed to initiate YouTube auth:",a),er.error((null===a||void 0===a||null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||(null===a||void 0===a?void 0:a.message)||"Failed to initiate YouTube authentication"),d(!1)}},disabled:c,children:[(0,xr.jsx)(Rv,{className:"w-5 h-5"}),c?"Redirecting\u2026":"Initiate YouTube Authentication"]}),(0,xr.jsxs)("button",{type:"button",className:"inline-flex items-center justify-center gap-2 px-5 py-3 rounded-md border border-gray-300 bg-white hover:bg-gray-50 text-gray-800 font-medium disabled:opacity-50 dark:border-gray-700 dark:bg-gray-900 dark:hover:bg-gray-800 dark:text-gray-100",onClick:async()=>{if(window.confirm("Disconnect the platform YouTube account? Uploads will fail until reconnected.")){m(!0);try{const e=localStorage.getItem("token");await i.A.delete("".concat(p,"/youtube/disconnect"),{headers:{Authorization:"Bearer ".concat(e)}}),er.success("YouTube disconnected"),await x()}catch(r){var e,t;console.error("Failed to disconnect YouTube:",r),er.error((null===r||void 0===r||null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to disconnect YouTube")}finally{m(!1)}}},disabled:u||!b,children:[(0,xr.jsx)(Ov,{className:"w-5 h-5"}),u?"Disconnecting\u2026":"Disconnect YouTube"]})]}),(0,xr.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,xr.jsxs)("div",{className:"rounded-md border border-gray-200 p-4 dark:border-gray-700",children:[(0,xr.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Channel Name"}),(0,xr.jsx)("div",{className:"text-sm font-semibold text-gray-900 dark:text-white mt-1",children:f.channelName||"\u2014"})]}),(0,xr.jsxs)("div",{className:"rounded-md border border-gray-200 p-4 dark:border-gray-700",children:[(0,xr.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Channel ID"}),(0,xr.jsx)("div",{className:"text-sm font-mono text-gray-900 dark:text-white mt-1 break-all",children:f.channelId||"\u2014"})]}),(0,xr.jsxs)("div",{className:"rounded-md border border-gray-200 p-4 dark:border-gray-700",children:[(0,xr.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Connected Account Email"}),(0,xr.jsx)("div",{className:"text-sm text-gray-900 dark:text-white mt-1",children:f.connectedEmail||"\u2014"})]}),(0,xr.jsxs)("div",{className:"rounded-md border border-gray-200 p-4 dark:border-gray-700",children:[(0,xr.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Token Expiry"}),(0,xr.jsx)("div",{className:"text-sm text-gray-900 dark:text-white mt-1",children:Lv(f.expiryDate)})]}),(0,xr.jsxs)("div",{className:"rounded-md border border-gray-200 p-4 dark:border-gray-700",children:[(0,xr.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Connected At"}),(0,xr.jsx)("div",{className:"text-sm text-gray-900 dark:text-white mt-1",children:Fv(f.connectedAt)})]})]}),!b&&(0,xr.jsx)("div",{className:"mt-4 rounded-md border border-red-200 bg-red-50 p-4 text-sm text-red-800",children:"No YouTube account is currently connected. Video uploads will fail until a YouTube account is authenticated."}),"REAUTH_REQUIRED"===w&&(0,xr.jsx)("div",{className:"mt-4 rounded-md border border-yellow-200 bg-yellow-50 p-4 text-sm text-yellow-900",children:"The stored YouTube token could not be refreshed. Please re-authenticate using the button above."})]}),(0,xr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 mb-6 dark:bg-gray-900 dark:border-gray-700",children:[(0,xr.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Quota & Usage"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mt-1 text-sm",children:"Estimated quota usage. Upload \u2248 1600 units/video. Metadata updates \u2248 50 units. Reads are low cost."}),(0,xr.jsxs)("div",{className:"mt-4",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-700 dark:text-gray-300 mb-2",children:[(0,xr.jsx)("span",{children:"Used / Total"}),(0,xr.jsxs)("span",{className:"font-mono",children:[N," / ",k]})]}),(0,xr.jsx)("div",{className:"w-full h-3 rounded-full bg-gray-200 overflow-hidden dark:bg-gray-800",children:(0,xr.jsx)("div",{className:"h-full bg-purple-600",style:{width:"".concat(Math.round(100*A),"%")}})}),(0,xr.jsxs)("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,xr.jsxs)("div",{className:"rounded-md border border-gray-200 p-4 dark:border-gray-700",children:[(0,xr.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Quota Used Today"}),(0,xr.jsx)("div",{className:"text-sm font-semibold text-gray-900 dark:text-white mt-1",children:N})]}),(0,xr.jsxs)("div",{className:"rounded-md border border-gray-200 p-4 dark:border-gray-700",children:[(0,xr.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Quota Remaining"}),(0,xr.jsx)("div",{className:"text-sm font-semibold text-gray-900 dark:text-white mt-1",children:C})]}),(0,xr.jsxs)("div",{className:"rounded-md border border-gray-200 p-4 dark:border-gray-700",children:[(0,xr.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Uploads Today (estimated)"}),(0,xr.jsx)("div",{className:"text-sm font-semibold text-gray-900 dark:text-white mt-1",children:null!==(e=y.uploadsToday)&&void 0!==e?e:"\u2014"})]})]}),y.warning&&(0,xr.jsx)("div",{className:"mt-4 rounded-md border border-yellow-200 bg-yellow-50 p-4 text-sm text-yellow-900",children:"Uploads may fail today due to quota exhaustion."})]})]}),(0,xr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 mb-6 dark:bg-gray-900 dark:border-gray-700",children:[(0,xr.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Video Overview"}),(0,xr.jsxs)("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,xr.jsxs)("div",{className:"rounded-md border border-gray-200 p-4 dark:border-gray-700",children:[(0,xr.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Total Videos Uploaded via API"}),(0,xr.jsx)("div",{className:"text-sm font-semibold text-gray-900 dark:text-white mt-1",children:null!==(t=v.totalVideos)&&void 0!==t?t:"\u2014"})]}),(0,xr.jsxs)("div",{className:"rounded-md border border-gray-200 p-4 dark:border-gray-700",children:[(0,xr.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Last Upload Timestamp"}),(0,xr.jsx)("div",{className:"text-sm text-gray-900 dark:text-white mt-1",children:Fv(v.lastUploadAt)})]}),(0,xr.jsxs)("div",{className:"rounded-md border border-gray-200 p-4 dark:border-gray-700",children:[(0,xr.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Last Upload Status"}),(0,xr.jsx)("div",{className:"text-sm text-gray-900 dark:text-white mt-1",children:v.lastUploadStatus||"\u2014"})]})]}),v.youtubeStudioUrl&&(0,xr.jsx)("div",{className:"mt-4",children:(0,xr.jsxs)("a",{href:v.youtubeStudioUrl,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 text-primary-600 hover:text-primary-700",children:[(0,xr.jsx)(qy,{className:"w-4 h-4"}),"Open YouTube Studio"]})})]}),(0,xr.jsxs)("details",{className:"bg-white border border-gray-200 rounded-lg p-6 dark:bg-gray-900 dark:border-gray-700",children:[(0,xr.jsx)("summary",{className:"cursor-pointer text-lg font-semibold text-gray-900 dark:text-white",children:"Google Cloud Console Requirements"}),(0,xr.jsxs)("div",{className:"mt-4 text-sm text-gray-700 dark:text-gray-200 space-y-3",children:[(0,xr.jsx)("div",{children:"Ensure YouTube Data API v3 is enabled."}),(0,xr.jsxs)("div",{children:["OAuth Consent Screen:",(0,xr.jsx)("div",{className:"mt-1 text-gray-600 dark:text-gray-300",children:"Type: External (or Internal if Workspace). App verified is recommended."})]}),(0,xr.jsxs)("div",{children:["OAuth Credentials:",(0,xr.jsxs)("div",{className:"mt-1 text-gray-600 dark:text-gray-300",children:["Type: Web Application",(0,xr.jsx)("div",{className:"mt-1",children:"Authorized redirect URI:"}),(0,xr.jsx)("div",{className:"mt-1 font-mono break-all",children:"https://YOUR_DOMAIN/api/youtube/callback"})]})]}),(0,xr.jsxs)("div",{children:["Quota increases:",(0,xr.jsx)("div",{className:"mt-1 text-gray-600 dark:text-gray-300",children:"Requested via Google Cloud \u2192 Quotas \u2192 YouTube Data API. Approval depends on use case."})]})]})]}),n&&(0,xr.jsx)("div",{className:"mt-6 text-sm text-gray-600 dark:text-gray-300",children:"Loading\u2026"})]})},Iv=e=>{if(!e)return"\u2014";try{const t=new Date(e);return Number.isNaN(t.getTime())?"\u2014":t.toLocaleString()}catch(At){return"\u2014"}},Bv=()=>{const[e,t]=(0,a.useState)(!0),[r,n]=(0,a.useState)([]),[s,o]=(0,a.useState)(""),[l,c]=(0,a.useState)(""),[d,u]=(0,a.useState)("all"),[m,h]=(0,a.useState)(!1),[p,g]=(0,a.useState)(null),[x,f]=(0,a.useState)(!1),y=(0,a.useCallback)(async()=>{try{var e;t(!0),o("");const r=localStorage.getItem("token"),a=await i.A.get("/api/youtube/videos",{headers:{Authorization:"Bearer ".concat(r)}});n(Array.isArray(null===a||void 0===a||null===(e=a.data)||void 0===e?void 0:e.data)?a.data.data:[])}catch(qe){var r,a;console.error("Failed to load YouTube videos:",qe),o((null===qe||void 0===qe||null===(r=qe.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Failed to load videos"),n([])}finally{t(!1)}},[]);(0,a.useEffect)(()=>{y()},[y]);const v=(0,a.useCallback)(()=>{h(!1),g(null),f(!1)},[]),b=(0,a.useCallback)(async e=>{const t=null===e||void 0===e?void 0:e._id;if(t&&"physically_deleted"===(null===e||void 0===e?void 0:e.status)&&window.confirm("Remove this database record? This will NOT delete anything from YouTube."))try{var r;const e=localStorage.getItem("token"),a=await i.A.delete("/api/youtube/".concat(t,"/record"),{headers:{Authorization:"Bearer ".concat(e)}});er.success((null===a||void 0===a||null===(r=a.data)||void 0===r?void 0:r.message)||"Video record removed"),n(e=>(e||[]).filter(e=>(null===e||void 0===e?void 0:e._id)!==t)),m&&(null===p||void 0===p?void 0:p._id)===t&&v()}catch(qe){var a,s;console.error("Failed to remove record:",qe),er.error((null===qe||void 0===qe||null===(a=qe.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||"Failed to remove record")}},[v,m,p]),w=(0,a.useCallback)(e=>{h(!0),g(e),f(!1)},[]),j=(0,a.useCallback)(async e=>{if(window.confirm("Delete this video from the hosting account AND remove its database record?"))try{var t;const r=localStorage.getItem("token"),a=await i.A.delete("/api/youtube/".concat(e),{headers:{Authorization:"Bearer ".concat(r)}});er.success((null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message)||"Video deleted"),await y()}catch(qe){var r,a;console.error("Failed to delete from YouTube:",qe),er.error((null===qe||void 0===qe||null===(r=qe.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Failed to delete video")}},[y]),k=(0,a.useMemo)(()=>[{key:"active",text:"Active: normal, eligible to be shown/used by content."},{key:"superseded",text:"Superseded: replaced by another upload for the same content."},{key:"orphaned",text:"Orphaned: not referenced by any content (safe to clean up after review)."},{key:"pending_deletion",text:"Pending deletion: flagged for cleanup; not necessarily deleted yet."},{key:"physically_deleted",text:"Physically deleted: removed from hosting; playback will fail and students should not see it."}],[]),N=(0,a.useMemo)(()=>{const e=l.trim().toLowerCase();return(r||[]).filter(t=>{var r,a,n,s,i;if("all"!==d&&(null===t||void 0===t?void 0:t.status)!==d)return!1;if(!e)return!0;return[null===t||void 0===t?void 0:t.title,null===t||void 0===t?void 0:t.youtubeVideoId,null===t||void 0===t?void 0:t.originalFilename,null===t||void 0===t||null===(r=t.uploadedBy)||void 0===r?void 0:r.name,null===t||void 0===t||null===(a=t.uploadedBy)||void 0===a?void 0:a.email,null===t||void 0===t||null===(n=t.course)||void 0===n?void 0:n.name,null===t||void 0===t||null===(s=t.section)||void 0===s?void 0:s.name,null===t||void 0===t||null===(i=t.content)||void 0===i?void 0:i.title].filter(Boolean).join(" ").toLowerCase().includes(e)})},[r,l,d]);return(0,xr.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:[(0,xr.jsxs)("div",{className:"flex items-start justify-between gap-4 mb-6",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"YouTube Video Library"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Admin-only view of all hosted videos (including those backfilled from course content)."})]}),(0,xr.jsxs)("button",{type:"button",onClick:y,className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border border-gray-200 bg-white hover:bg-gray-50 text-sm dark:border-gray-700 dark:bg-gray-900 dark:hover:bg-gray-800 dark:text-gray-100",disabled:e,children:[(0,xr.jsx)(Tm,{className:"w-4 h-4 ".concat(e?"animate-spin":"")}),"Refresh"]})]}),(0,xr.jsx)("div",{className:"card mb-6",children:(0,xr.jsxs)("div",{className:"text-sm text-gray-700 dark:text-gray-200 space-y-1",children:[k.map(e=>(0,xr.jsxs)("div",{children:[(0,xr.jsx)("span",{className:"font-semibold",children:e.key}),(0,xr.jsxs)("span",{children:[": ",e.text]})]},e.key)),(0,xr.jsx)("div",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:"Note: If a video is not embeddable, the in-app player may show \u201cnot allowed to be played in embedded players\u201d."})]})}),(0,xr.jsx)("div",{className:"card mb-6",children:(0,xr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,xr.jsx)("input",{value:l,onChange:e=>c(e.target.value),placeholder:"Search title, id, uploader, course\u2026",className:"input-field"}),(0,xr.jsxs)("select",{value:d,onChange:e=>u(e.target.value),className:"input-field",children:[(0,xr.jsx)("option",{value:"all",children:"All statuses"}),(0,xr.jsx)("option",{value:"active",children:"active"}),(0,xr.jsx)("option",{value:"superseded",children:"superseded"}),(0,xr.jsx)("option",{value:"orphaned",children:"orphaned"}),(0,xr.jsx)("option",{value:"pending_deletion",children:"pending_deletion"}),(0,xr.jsx)("option",{value:"physically_deleted",children:"physically_deleted"})]}),(0,xr.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center",children:[N.length," / ",r.length," videos"]})]})}),s&&(0,xr.jsx)("div",{className:"card mb-6 border border-red-200 bg-red-50 dark:border-red-900/40 dark:bg-red-900/10",children:(0,xr.jsx)("div",{className:"text-sm text-red-800 dark:text-red-200",children:s})}),(0,xr.jsx)("div",{className:"card overflow-x-auto",children:(0,xr.jsxs)("table",{className:"min-w-full text-sm",children:[(0,xr.jsx)("thead",{children:(0,xr.jsxs)("tr",{className:"text-left text-gray-600 dark:text-gray-300",children:[(0,xr.jsx)("th",{className:"py-3 pr-4",children:"Title"}),(0,xr.jsx)("th",{className:"py-3 pr-4",children:"Status"}),(0,xr.jsx)("th",{className:"py-3 pr-4",children:"Uploaded"}),(0,xr.jsx)("th",{className:"py-3 pr-4",children:"Uploader"}),(0,xr.jsx)("th",{className:"py-3 pr-4",children:"Linked Content"}),(0,xr.jsx)("th",{className:"py-3 pr-4 text-right",children:"Actions"})]})}),(0,xr.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:e?(0,xr.jsx)("tr",{children:(0,xr.jsx)("td",{colSpan:6,className:"py-6 text-gray-600 dark:text-gray-300",children:"Loading\u2026"})}):0===N.length?(0,xr.jsx)("tr",{children:(0,xr.jsx)("td",{colSpan:6,className:"py-6 text-gray-600 dark:text-gray-300",children:"No videos found."})}):N.map(e=>{var t,r,a,n,s,i;const o=(null===e||void 0===e||null===(t=e.uploadedBy)||void 0===t?void 0:t.name)||(null===e||void 0===e||null===(r=e.uploadedBy)||void 0===r?void 0:r.email)||"\u2014",l=(null===e||void 0===e||null===(a=e.content)||void 0===a?void 0:a.title)||"\u2014",c=(null===e||void 0===e||null===(n=e.content)||void 0===n?void 0:n._id)||(null===e||void 0===e?void 0:e.content)||null;return(0,xr.jsxs)("tr",{className:"text-gray-800 dark:text-gray-100",children:[(0,xr.jsxs)("td",{className:"py-3 pr-4",children:[(0,xr.jsx)("div",{className:"font-semibold",children:(null===e||void 0===e?void 0:e.title)||"\u2014"}),(0,xr.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono break-all",children:(null===e||void 0===e?void 0:e.youtubeVideoId)||"\u2014"}),(0,xr.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[null!==e&&void 0!==e&&null!==(s=e.course)&&void 0!==s&&s.name?"Course: ".concat(e.course.name):null,null!==e&&void 0!==e&&null!==(i=e.section)&&void 0!==i&&i.name?" \u2022 Section: ".concat(e.section.name):null]})]}),(0,xr.jsxs)("td",{className:"py-3 pr-4",children:[(0,xr.jsx)("div",{className:"font-medium",children:(null===e||void 0===e?void 0:e.status)||"active"}),(0,xr.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Changed: ",Iv(null===e||void 0===e?void 0:e.statusChangedAt)]})]}),(0,xr.jsxs)("td",{className:"py-3 pr-4",children:[(0,xr.jsx)("div",{children:Iv((null===e||void 0===e?void 0:e.uploadedAt)||(null===e||void 0===e?void 0:e.createdAt))}),(0,xr.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["File: ",(null===e||void 0===e?void 0:e.originalFilename)||"\u2014"]})]}),(0,xr.jsx)("td",{className:"py-3 pr-4",children:o}),(0,xr.jsxs)("td",{className:"py-3 pr-4",children:[(0,xr.jsx)("div",{children:l}),(0,xr.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono break-all",children:c||"\u2014"})]}),(0,xr.jsx)("td",{className:"py-3 pr-2",children:(0,xr.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,xr.jsxs)("button",{type:"button",className:"btn-secondary inline-flex items-center gap-2",onClick:()=>w(e),children:[(0,xr.jsx)(Kd,{className:"w-4 h-4"}),"Watch"]}),"physically_deleted"===(null===e||void 0===e?void 0:e.status)&&(0,xr.jsxs)("button",{type:"button",className:"btn-secondary inline-flex items-center gap-2",onClick:()=>b(e),children:[(0,xr.jsx)(kh,{className:"w-4 h-4"}),"Remove"]}),(0,xr.jsxs)("button",{type:"button",className:"btn-secondary inline-flex items-center gap-2",onClick:()=>j(e._id),children:[(0,xr.jsx)(kh,{className:"w-4 h-4"}),"Delete (YouTube + Record)"]})]})})]},e._id)})})]})})]}),m&&(0,xr.jsx)("div",{className:"fixed inset-0 z-50 bg-black/60 flex items-center justify-center p-4",children:(0,xr.jsxs)("div",{className:"w-full max-w-5xl max-h-[90vh] bg-white dark:bg-gray-900 rounded-lg overflow-hidden shadow-xl border border-gray-200 dark:border-gray-700 flex flex-col",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200 dark:border-gray-800 shrink-0",children:[(0,xr.jsx)("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:(null===p||void 0===p?void 0:p.title)||"Watch video"}),(0,xr.jsx)("button",{type:"button",onClick:v,className:"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-800","aria-label":"Close",children:(0,xr.jsx)(pr.A,{className:"w-4 h-4 text-gray-700 dark:text-gray-200"})})]}),(0,xr.jsx)("div",{className:"p-4 overflow-y-auto flex-1 min-h-0",children:x?(0,xr.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Preparing player\u2026"}):(0,xr.jsx)("div",{children:(0,xr.jsx)(bh,{youtubeVideoId:null===p||void 0===p?void 0:p.youtubeVideoId,title:(null===p||void 0===p?void 0:p.title)||""})})}),(0,xr.jsx)("div",{className:"px-4 py-3 border-t border-gray-200 dark:border-gray-800 shrink-0 flex items-center justify-end gap-2",children:(0,xr.jsx)("button",{type:"button",className:"btn-secondary",onClick:v,children:"Close"})})]})})]})},qv=(0,nr.A)("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),zv=e=>{if(!e)return"\u2014";try{const t=new Date(e);return Number.isNaN(t.getTime())?"\u2014":t.toLocaleString()}catch(At){return"\u2014"}},Uv=e=>{const t=Number(e);if(!Number.isFinite(t)||t<=0)return"\u2014";const r=["B","KB","MB","GB","TB"];let a=0,n=t;for(;n>=1024&&a<r.length-1;)n/=1024,a+=1;const s=0===a?0:n>=10?1:2;return"".concat(n.toFixed(s)," ").concat(r[a])},Vv=()=>{var e,t,r,n,s,o,l,c,d,u;const[m,h]=(0,a.useState)(!0),[p,g]=(0,a.useState)(!0),[x,f]=(0,a.useState)([]),[y,v]=(0,a.useState)({total:0,page:1,limit:100}),[b,w]=(0,a.useState)(null),[j,k]=(0,a.useState)(""),[N,C]=(0,a.useState)(""),[A,S]=(0,a.useState)("all"),[E,D]=(0,a.useState)(!1),[P,T]=(0,a.useState)(null),[_,R]=(0,a.useState)({fileName:"",fileSize:"",telegramFileId:"",telegramMessageId:"",telegramChatId:"",downloadOverrideUrl:""}),[O,F]=(0,a.useState)(!1),L=(0,a.useMemo)(()=>localStorage.getItem("token"),[]),M=(0,a.useCallback)(async()=>{try{var e;g(!0);const t=await i.A.get("/api/admin/telegram-files/summary",{headers:{Authorization:"Bearer ".concat(L)}});w((null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.data)||null)}catch(qe){console.error("Failed to load Telegram summary:",qe),w(null)}finally{g(!1)}},[L]),I=(0,a.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var t,r,a,n,s,o;h(!0),k("");const l=await i.A.get("/api/admin/telegram-files",{headers:{Authorization:"Bearer ".concat(L)},params:{status:null!==(t=e.status)&&void 0!==t?t:A,q:null!==(r=e.q)&&void 0!==r?r:N,page:null!==(a=e.page)&&void 0!==a?a:y.page,limit:null!==(n=e.limit)&&void 0!==n?n:y.limit}});f(Array.isArray(null===l||void 0===l||null===(s=l.data)||void 0===s?void 0:s.data)?l.data.data:[]),v((null===l||void 0===l||null===(o=l.data)||void 0===o?void 0:o.meta)||{total:0,page:1,limit:100})}catch(qe){var l,c;console.error("Failed to load Telegram files:",qe),k((null===qe||void 0===qe||null===(l=qe.response)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message)||"Failed to load files"),f([])}finally{h(!1)}},[L,A,N,y.page,y.limit]);(0,a.useEffect)(()=>{M(),I()},[I,M]);const B=(0,a.useCallback)(e=>{var t,r;const a=e||null;T(a),R({fileName:(null===a||void 0===a?void 0:a.fileName)||"",fileSize:null!==(t=null===a||void 0===a?void 0:a.fileSize)&&void 0!==t?t:"",telegramFileId:(null===a||void 0===a?void 0:a.telegramFileId)||"",telegramMessageId:null!==(r=null===a||void 0===a?void 0:a.telegramMessageId)&&void 0!==r?r:"",telegramChatId:(null===a||void 0===a?void 0:a.telegramChatId)||"",downloadOverrideUrl:(null===a||void 0===a?void 0:a.downloadOverrideUrl)||""}),D(!0),F(!1)},[]),q=(0,a.useCallback)(()=>{D(!1),T(null),F(!1)},[]),z=(0,a.useCallback)(async()=>{const e=null===P||void 0===P?void 0:P._id;if(e)try{var t;F(!0);const r={fileName:_.fileName,fileSize:_.fileSize,telegramFileId:_.telegramFileId,telegramMessageId:_.telegramMessageId,telegramChatId:_.telegramChatId,downloadOverrideUrl:_.downloadOverrideUrl},a=await i.A.patch("/api/admin/telegram-files/".concat(e),r,{headers:{Authorization:"Bearer ".concat(L)}});er.success("File updated");const n=null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.data;null!==n&&void 0!==n&&n._id&&f(e=>(e||[]).map(e=>(null===e||void 0===e?void 0:e._id)===n._id?n:e)),q()}catch(qe){var r,a;console.error("Failed to update Telegram file:",qe),er.error((null===qe||void 0===qe||null===(r=qe.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Failed to update file"),F(!1)}},[P,_,L,q]),U=(0,a.useCallback)(async e=>{const t=null===e||void 0===e?void 0:e._id;if(t&&window.confirm("Soft delete this record? This hides linked content and preserves audit history."))try{var r;const e=await i.A.post("/api/admin/telegram-files/".concat(t,"/soft-delete"),null,{headers:{Authorization:"Bearer ".concat(L)}});er.success("Soft deleted");const a=null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.data;null!==a&&void 0!==a&&a._id?f(e=>(e||[]).map(e=>(null===e||void 0===e?void 0:e._id)===a._id?a:e)):await I(),await M()}catch(qe){var a,n;console.error("Soft delete failed:",qe),er.error((null===qe||void 0===qe||null===(a=qe.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message)||"Failed to soft delete")}},[L,I,M]),V=(0,a.useCallback)(async e=>{const t=null===e||void 0===e?void 0:e._id;if(t&&window.confirm("Physically delete this file from Telegram? This action cannot be undone."))try{var r,a;const e=await i.A.delete("/api/admin/telegram-files/".concat(t),{headers:{Authorization:"Bearer ".concat(L)}});er.success((null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.message)||"Deleted");const n=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data;null!==n&&void 0!==n&&n._id?f(e=>(e||[]).map(e=>(null===e||void 0===e?void 0:e._id)===n._id?n:e)):await I(),await M()}catch(qe){var n,s;console.error("Physical delete failed:",qe),er.error((null===qe||void 0===qe||null===(n=qe.response)||void 0===n||null===(s=n.data)||void 0===s?void 0:s.message)||"Failed to delete")}},[L,I,M]),Y=(0,a.useCallback)(async e=>{if(!e)return;const t=null===e||void 0===e?void 0:e._id;if(!t)return;const r="string"===typeof e.downloadOverrideUrl?e.downloadOverrideUrl.trim():"";if(r)window.open(r,"_blank","noopener,noreferrer");else try{const r=await i.A.get("/api/admin/telegram-files/".concat(t,"/download"),{headers:{Authorization:"Bearer ".concat(L)},responseType:"blob"}),a=(null===r||void 0===r?void 0:r.data)instanceof Blob?r.data:new Blob([null===r||void 0===r?void 0:r.data],{type:"application/octet-stream"}),n=window.URL.createObjectURL(a),s=document.createElement("a");s.href=n,s.download=(null===e||void 0===e?void 0:e.fileName)||"file",document.body.appendChild(s),s.click(),s.remove(),window.URL.revokeObjectURL(n)}catch(qe){var a,n;console.error("Download failed:",qe),er.error((null===qe||void 0===qe||null===(a=qe.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message)||"Failed to download")}},[L]),W=(null===b||void 0===b?void 0:b.counts)||null,H=(null===b||void 0===b?void 0:b.bot)||null;return(0,xr.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:[(0,xr.jsxs)("div",{className:"flex items-start justify-between gap-4 mb-6",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Telegram Files"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Admin-only view of all files uploaded to Telegram, with full audit and lifecycle actions."})]}),(0,xr.jsxs)("button",{type:"button",onClick:async()=>{await M(),await I()},className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border border-gray-200 bg-white hover:bg-gray-50 text-sm dark:border-gray-700 dark:bg-gray-900 dark:hover:bg-gray-800 dark:text-gray-100",disabled:m||p,children:[(0,xr.jsx)(Tm,{className:"w-4 h-4 ".concat(m||p?"animate-spin":"")}),"Refresh"]})]}),(0,xr.jsx)("div",{className:"card mb-6",children:p?(0,xr.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Loading summary\u2026"}):(0,xr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,xr.jsxs)("div",{className:"space-y-1",children:[(0,xr.jsx)("div",{className:"font-semibold text-gray-800 dark:text-gray-100",children:"Counts"}),(0,xr.jsxs)("div",{className:"text-gray-600 dark:text-gray-300",children:["Total: ",null!==(e=null===W||void 0===W?void 0:W.total)&&void 0!==e?e:"\u2014"]}),(0,xr.jsxs)("div",{className:"text-gray-600 dark:text-gray-300",children:["Active: ",null!==(t=null===W||void 0===W?void 0:W.active)&&void 0!==t?t:"\u2014"]}),(0,xr.jsxs)("div",{className:"text-gray-600 dark:text-gray-300",children:["Soft deleted: ",null!==(r=null===W||void 0===W?void 0:W.softDeleted)&&void 0!==r?r:"\u2014"]}),(0,xr.jsxs)("div",{className:"text-gray-600 dark:text-gray-300",children:["Changed: ",null!==(n=null===W||void 0===W?void 0:W.changed)&&void 0!==n?n:"\u2014"]}),(0,xr.jsxs)("div",{className:"text-gray-600 dark:text-gray-300",children:["Deleted: ",null!==(s=null===W||void 0===W?void 0:W.deleted)&&void 0!==s?s:"\u2014"]})]}),(0,xr.jsxs)("div",{className:"space-y-1",children:[(0,xr.jsx)("div",{className:"font-semibold text-gray-800 dark:text-gray-100",children:"Bot status"}),(0,xr.jsxs)("div",{className:"text-gray-600 dark:text-gray-300",children:["Token configured: ",null!==H&&void 0!==H&&H.tokenConfigured?"yes":"no"]}),(0,xr.jsxs)("div",{className:"text-gray-600 dark:text-gray-300",children:["Channel configured: ",null!==H&&void 0!==H&&H.channelConfigured?"yes":"no"]}),(0,xr.jsxs)("div",{className:"text-gray-600 dark:text-gray-300",children:["Token status: ",(null===H||void 0===H?void 0:H.tokenStatus)||"\u2014"]}),(0,xr.jsxs)("div",{className:"text-gray-600 dark:text-gray-300",children:["Checked at: ",zv(null===H||void 0===H?void 0:H.checkedAt)]})]}),(0,xr.jsxs)("div",{className:"space-y-1",children:[(0,xr.jsx)("div",{className:"font-semibold text-gray-800 dark:text-gray-100",children:"Identity & permissions"}),(0,xr.jsxs)("div",{className:"text-gray-600 dark:text-gray-300",children:["Bot: ",null!==H&&void 0!==H&&null!==(o=H.bot)&&void 0!==o&&o.username?"@".concat(H.bot.username):"\u2014"]}),(0,xr.jsxs)("div",{className:"text-gray-600 dark:text-gray-300",children:["Bot id: ",null!==(l=null===H||void 0===H||null===(c=H.bot)||void 0===c?void 0:c.id)&&void 0!==l?l:"\u2014"]}),(0,xr.jsxs)("div",{className:"text-gray-600 dark:text-gray-300",children:["Can delete messages: ",null!==H&&void 0!==H&&null!==(d=H.permissions)&&void 0!==d&&d.canDeleteMessages?"yes":"no"]}),(0,xr.jsxs)("div",{className:"text-gray-600 dark:text-gray-300",children:["Can manage chat: ",null!==H&&void 0!==H&&null!==(u=H.permissions)&&void 0!==u&&u.canManageChat?"yes":"no"]})]})]})}),(0,xr.jsx)("div",{className:"card mb-6",children:(0,xr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,xr.jsx)("input",{value:N,onChange:e=>C(e.target.value),placeholder:"Search name, telegram id\u2026",className:"input-field"}),(0,xr.jsxs)("select",{value:A,onChange:e=>S(e.target.value),className:"input-field",children:[(0,xr.jsx)("option",{value:"all",children:"All statuses"}),(0,xr.jsx)("option",{value:"active",children:"active"}),(0,xr.jsx)("option",{value:"soft_deleted",children:"soft_deleted"}),(0,xr.jsx)("option",{value:"changed",children:"changed"}),(0,xr.jsx)("option",{value:"deleted",children:"deleted"})]}),(0,xr.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,xr.jsx)("button",{type:"button",onClick:()=>I({page:1}),className:"btn-primary",disabled:m,children:"Apply"}),(0,xr.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[x.length," / ",y.total," files"]})]})]})}),j&&(0,xr.jsx)("div",{className:"card mb-6 border border-red-200 bg-red-50 dark:border-red-900/40 dark:bg-red-900/10",children:(0,xr.jsx)("div",{className:"text-sm text-red-800 dark:text-red-200",children:j})}),(0,xr.jsx)("div",{className:"card overflow-x-auto",children:(0,xr.jsxs)("table",{className:"min-w-full text-sm",children:[(0,xr.jsx)("thead",{children:(0,xr.jsxs)("tr",{className:"text-left text-gray-600 dark:text-gray-300",children:[(0,xr.jsx)("th",{className:"py-3 pr-4",children:"File"}),(0,xr.jsx)("th",{className:"py-3 pr-4",children:"Status"}),(0,xr.jsx)("th",{className:"py-3 pr-4",children:"Uploaded"}),(0,xr.jsx)("th",{className:"py-3 pr-4",children:"Uploader"}),(0,xr.jsx)("th",{className:"py-3 pr-4",children:"Context"}),(0,xr.jsx)("th",{className:"py-3 pr-4 text-right",children:"Actions"})]})}),(0,xr.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:m?(0,xr.jsx)("tr",{children:(0,xr.jsx)("td",{colSpan:6,className:"py-6 text-gray-600 dark:text-gray-300",children:"Loading\u2026"})}):0===x.length?(0,xr.jsx)("tr",{children:(0,xr.jsx)("td",{colSpan:6,className:"py-6 text-gray-600 dark:text-gray-300",children:"No files found."})}):x.map(e=>{var t,r,a,n,s,i,o;const l=(null===e||void 0===e||null===(t=e.uploadedBy)||void 0===t?void 0:t.name)||(null===e||void 0===e||null===(r=e.uploadedBy)||void 0===r?void 0:r.email)||"\u2014",c=(null===e||void 0===e||null===(a=e.course)||void 0===a?void 0:a.name)||"\u2014",d=(null===e||void 0===e||null===(n=e.group)||void 0===n?void 0:n.name)||"\u2014",u=(null===e||void 0===e||null===(s=e.section)||void 0===s?void 0:s.name)||"\u2014",m=(null===e||void 0===e||null===(i=e.content)||void 0===i?void 0:i.title)||"\u2014";return(0,xr.jsxs)("tr",{className:"text-gray-800 dark:text-gray-100",children:[(0,xr.jsxs)("td",{className:"py-3 pr-4",children:[(0,xr.jsx)("div",{className:"font-semibold break-words",children:(null===e||void 0===e?void 0:e.fileName)||"\u2014"}),(0,xr.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Size: ",Uv(null===e||void 0===e?void 0:e.fileSize)]}),(0,xr.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono break-all",children:["Telegram file id: ",(null===e||void 0===e?void 0:e.telegramFileId)||"\u2014"]}),null!==e&&void 0!==e&&e.downloadOverrideUrl?(0,xr.jsxs)("div",{className:"text-xs text-indigo-600 dark:text-indigo-400 break-all",children:["Override: ",e.downloadOverrideUrl]}):null]}),(0,xr.jsxs)("td",{className:"py-3 pr-4",children:[(0,xr.jsx)("div",{className:"font-medium",children:(null===e||void 0===e?void 0:e.status)||"active"}),(0,xr.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Changed: ",zv(null===e||void 0===e?void 0:e.statusChangedAt)]})]}),(0,xr.jsxs)("td",{className:"py-3 pr-4",children:[(0,xr.jsx)("div",{children:zv((null===e||void 0===e?void 0:e.uploadedAt)||(null===e||void 0===e?void 0:e.createdAt))}),(0,xr.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Type: ",(null===e||void 0===e?void 0:e.contentType)||"\u2014"]})]}),(0,xr.jsx)("td",{className:"py-3 pr-4",children:l}),(0,xr.jsxs)("td",{className:"py-3 pr-4",children:[(0,xr.jsxs)("div",{className:"text-xs text-gray-600 dark:text-gray-300",children:["Course: ",c]}),(0,xr.jsxs)("div",{className:"text-xs text-gray-600 dark:text-gray-300",children:["Group: ",d]}),(0,xr.jsxs)("div",{className:"text-xs text-gray-600 dark:text-gray-300",children:["Section: ",u]}),(0,xr.jsxs)("div",{className:"text-xs text-gray-600 dark:text-gray-300 mt-1",children:["Content: ",m]}),(0,xr.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono break-all",children:(null===e||void 0===e||null===(o=e.content)||void 0===o?void 0:o._id)||(null===e||void 0===e?void 0:e.content)||"\u2014"})]}),(0,xr.jsx)("td",{className:"py-3 pr-0",children:(0,xr.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,xr.jsxs)("button",{type:"button",onClick:()=>Y(e),className:"inline-flex items-center gap-1 px-2 py-1 rounded-md border border-gray-200 bg-white hover:bg-gray-50 text-xs dark:border-gray-700 dark:bg-gray-900 dark:hover:bg-gray-800",children:[(0,xr.jsx)(Vm,{className:"w-4 h-4"}),"Download"]}),(0,xr.jsxs)("button",{type:"button",onClick:()=>B(e),className:"inline-flex items-center gap-1 px-2 py-1 rounded-md border border-gray-200 bg-white hover:bg-gray-50 text-xs dark:border-gray-700 dark:bg-gray-900 dark:hover:bg-gray-800",children:[(0,xr.jsx)(qv,{className:"w-4 h-4"}),"Edit"]}),(0,xr.jsxs)("button",{type:"button",onClick:()=>U(e),className:"inline-flex items-center gap-1 px-2 py-1 rounded-md border border-amber-200 bg-amber-50 hover:bg-amber-100 text-xs text-amber-800 dark:border-amber-900/40 dark:bg-amber-900/10 dark:hover:bg-amber-900/20 dark:text-amber-200",children:[(0,xr.jsx)(kh,{className:"w-4 h-4"}),"Soft"]}),(0,xr.jsxs)("button",{type:"button",onClick:()=>V(e),className:"inline-flex items-center gap-1 px-2 py-1 rounded-md border border-red-200 bg-red-50 hover:bg-red-100 text-xs text-red-800 dark:border-red-900/40 dark:bg-red-900/10 dark:hover:bg-red-900/20 dark:text-red-200",children:[(0,xr.jsx)(kh,{className:"w-4 h-4"}),"Delete"]})]})})]},e._id)})})]})})]}),E&&(0,xr.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-lg w-full max-w-2xl shadow-xl",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-800",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Edit Telegram File"}),(0,xr.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono break-all",children:null===P||void 0===P?void 0:P._id})]}),(0,xr.jsx)("button",{type:"button",onClick:q,className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800",children:(0,xr.jsx)(pr.A,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})})]}),(0,xr.jsxs)("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-300 mb-1",children:"File name"}),(0,xr.jsx)("input",{value:_.fileName,onChange:e=>R(t=>(0,Be.A)((0,Be.A)({},t),{},{fileName:e.target.value})),className:"input-field"})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-300 mb-1",children:"File size (bytes)"}),(0,xr.jsx)("input",{value:_.fileSize,onChange:e=>R(t=>(0,Be.A)((0,Be.A)({},t),{},{fileSize:e.target.value})),className:"input-field"})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-300 mb-1",children:"Telegram file id"}),(0,xr.jsx)("input",{value:_.telegramFileId,onChange:e=>R(t=>(0,Be.A)((0,Be.A)({},t),{},{telegramFileId:e.target.value})),className:"input-field"})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-300 mb-1",children:"Telegram chat id"}),(0,xr.jsx)("input",{value:_.telegramChatId,onChange:e=>R(t=>(0,Be.A)((0,Be.A)({},t),{},{telegramChatId:e.target.value})),className:"input-field"})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-300 mb-1",children:"Telegram message id"}),(0,xr.jsx)("input",{value:_.telegramMessageId,onChange:e=>R(t=>(0,Be.A)((0,Be.A)({},t),{},{telegramMessageId:e.target.value})),className:"input-field"})]}),(0,xr.jsxs)("div",{className:"md:col-span-2",children:[(0,xr.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-300 mb-1",children:"Download override URL"}),(0,xr.jsx)("input",{value:_.downloadOverrideUrl,onChange:e=>R(t=>(0,Be.A)((0,Be.A)({},t),{},{downloadOverrideUrl:e.target.value})),className:"input-field"})]})]}),(0,xr.jsxs)("div",{className:"p-4 border-t border-gray-200 dark:border-gray-800 flex justify-end gap-2",children:[(0,xr.jsx)("button",{type:"button",onClick:q,className:"btn-secondary",disabled:O,children:"Cancel"}),(0,xr.jsx)("button",{type:"button",onClick:z,className:"btn-primary",disabled:O,children:"Save"})]})]})})]})},Yv=(0,nr.A)("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),Wv=(0,nr.A)("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),Hv=()=>{var e,t;const{t:r,i18n:n}=(0,ar.useTranslation)(),{user:s,updateProfile:i,updatePassword:o,logout:l,deleteAccount:c}=wr(),{theme:d,toggleTheme:u}=Nr(),{language:m,toggleLanguage:h}=ya(),[p,g]=(0,a.useState)("profile"),[x,f]=(0,a.useState)(!1),[y,v]=(0,a.useState)(null===(e=null===s||void 0===s||null===(t=s.preferences)||void 0===t?void 0:t.enablePendingActionsAnimations)||void 0===e||e),[b,w]=(0,a.useState)(!1),[j,k]=(0,a.useState)(!1),N="ar"===n.language||"he"===n.language||"fa"===n.language,{register:C,handleSubmit:A,formState:{errors:S},reset:E}=vm({defaultValues:{name:(null===s||void 0===s?void 0:s.name)||"",phone:(null===s||void 0===s?void 0:s.phone)||"",country:(null===s||void 0===s?void 0:s.country)||"",city:(null===s||void 0===s?void 0:s.city)||"",school:(null===s||void 0===s?void 0:s.school)||""}});a.useEffect(()=>{s&&E({name:s.name||"",phone:s.phone||"",country:s.country||"",city:s.city||"",school:s.school||""})},[s,E]),a.useEffect(()=>{if(s&&s.preferences){const e="boolean"!==typeof s.preferences.enablePendingActionsAnimations||s.preferences.enablePendingActionsAnimations;v(e)}},[s]);const{register:D,handleSubmit:P,formState:{errors:T},reset:_,watch:R}=vm(),O=R("newPassword"),F=[{id:"profile",name:r("profileInformation"),icon:(0,xr.jsx)(dr,{className:"w-4 h-4"})},{id:"password",name:r("changePassword"),icon:(0,xr.jsx)(Yv,{className:"w-4 h-4"})},{id:"preferences",name:r("preferences"),icon:(0,xr.jsx)(ur,{className:"w-4 h-4"})}];return(0,xr.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,xr.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8",children:[(0,xr.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:r("accountSettings")}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:r("manageAccountSettingsAndPreferences")})]}),(0,xr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,xr.jsx)(rr.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.1},className:"lg:col-span-1",children:(0,xr.jsx)("div",{className:"card",children:(0,xr.jsx)("nav",{className:"space-y-2",children:F.map(e=>(0,xr.jsxs)("button",{onClick:()=>g(e.id),className:"w-full flex items-center space-x-3 px-4 py-3 text-left rounded-lg transition-colors duration-200 ".concat(p===e.id?"bg-primary-100 text-primary-700 dark:bg-primary-900 dark:text-primary-300":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"),children:[e.icon,(0,xr.jsx)("span",{className:"font-medium",children:e.name})]},e.id))})})}),(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"lg:col-span-3",children:["profile"===p&&(0,xr.jsxs)("div",{className:"card",children:[(0,xr.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:r("profileInformation")}),(0,xr.jsxs)("form",{onSubmit:A(async e=>{f(!0),console.log("[Profile] Submitting profile update:",e);const t=await i(e);console.log("[Profile] Update result:",t),f(!1)}),className:"space-y-6",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r("name")}),"student"===(null===s||void 0===s?void 0:s.role)||"instructor"===(null===s||void 0===s?void 0:s.role)?(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)("input",(0,Be.A)((0,Be.A)({},C("name")),{},{type:"text",disabled:!0,className:"input-field bg-gray-100 dark:bg-gray-700 cursor-not-allowed"})),(0,xr.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:r("adminOnlyCanChangeUsername")||"Admin only can change username"})]}):(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)("input",(0,Be.A)((0,Be.A)({},C("name",{required:"Name is required",minLength:{value:2,message:"Name must be at least 2 characters"}})),{},{type:"text",className:"input-field"})),S.name&&(0,xr.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:S.name.message})]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r("email")}),(0,xr.jsx)("input",{type:"email",value:(null===s||void 0===s?void 0:s.email)||"",disabled:!0,className:"input-field bg-gray-100 dark:bg-gray-700 cursor-not-allowed"}),(0,xr.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:r("emailCannotBeChanged")}),("student"===(null===s||void 0===s?void 0:s.role)||"instructor"===(null===s||void 0===s?void 0:s.role))&&(0,xr.jsxs)("div",{className:"mt-3 rounded-md bg-yellow-50 dark:bg-yellow-900/30 px-3 py-2 flex items-start space-x-2",children:[(0,xr.jsx)($h,{className:"w-4 h-4 text-yellow-600 dark:text-yellow-400 mt-0.5"}),(0,xr.jsx)("p",{className:"text-xs text-yellow-800 dark:text-yellow-200",children:"student"===(null===s||void 0===s?void 0:s.role)?r("studentEmailUsernameWarning")||"Note: You can change your email one time only. Your username appears on your certificates, so make sure it is correct before requesting changes.":r("instructorPublicInfoWarning")||"Warning: Your email, username, and intro video are publicly visible to students. Please make sure the information you enter is accurate and appropriate."})]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r("phone")}),(0,xr.jsx)("input",(0,Be.A)((0,Be.A)({},C("phone",{required:"Phone number is required",pattern:{value:/^09\d{8}$/,message:"Phone number must start with 09 and be exactly 10 digits"},maxLength:{value:10,message:"Phone number must be exactly 10 digits"}})),{},{type:"tel",className:"input-field ".concat(N?"text-right rtl":"text-left ltr"),maxLength:10,placeholder:"09XXXXXXXX",dir:N?"rtl":"ltr"})),S.phone&&(0,xr.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:S.phone.message}),(0,xr.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Must start with 09 and be exactly 10 digits"})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r("countryLabel")}),(0,xr.jsx)("input",(0,Be.A)((0,Be.A)({},C("country")),{},{type:"text",className:"input-field ".concat(N?"text-right rtl":"text-left ltr"),placeholder:r("enterYourCountry"),dir:N?"rtl":"ltr"}))]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r("cityLabel")}),(0,xr.jsx)("input",(0,Be.A)((0,Be.A)({},C("city")),{},{type:"text",className:"input-field ".concat(N?"text-right rtl":"text-left ltr"),placeholder:r("enterYourCity"),dir:N?"rtl":"ltr"}))]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r("schoolLabel")}),(0,xr.jsx)("input",(0,Be.A)((0,Be.A)({},C("school")),{},{type:"text",className:"input-field ".concat(N?"text-right rtl":"text-left ltr"),placeholder:r("enterYourSchoolUniversity"),dir:N?"rtl":"ltr"}))]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Role"}),(0,xr.jsx)("input",{type:"text",value:(null===s||void 0===s?void 0:s.role)||"",disabled:!0,className:"input-field bg-gray-100 dark:bg-gray-700 cursor-not-allowed capitalize"})]}),(0,xr.jsxs)("button",{type:"submit",disabled:x,className:"btn-primary flex items-center space-x-2",children:[(0,xr.jsx)(Eg,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:x?r("loading")||"Saving...":r("saveSettings")})]})]})]}),"password"===p&&(0,xr.jsxs)("div",{className:"card",children:[(0,xr.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:r("changePassword")}),(0,xr.jsxs)("form",{onSubmit:P(async e=>{f(!0);(await o(e)).success&&(_(),setTimeout(()=>{l()},1500)),f(!1)}),className:"space-y-6",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r("currentPassword")}),(0,xr.jsx)("input",(0,Be.A)((0,Be.A)({},D("currentPassword",{required:r("currentPasswordRequired")||"Current password is required"})),{},{type:"password",className:"input-field ".concat(N?"text-right rtl":"text-left ltr"),dir:N?"rtl":"ltr"})),T.currentPassword&&(0,xr.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:T.currentPassword.message})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r("newPassword")}),(0,xr.jsx)("input",(0,Be.A)((0,Be.A)({},D("newPassword",{required:r("newPasswordRequired")||"New password is required",validate:e=>!e||e.length<8?r("passwordMinLength")||"Password must be at least 8 characters":/[a-z]/.test(e)?/[A-Z]/.test(e)?/[0-9]/.test(e)?!!/[^A-Za-z0-9]/.test(e)||(r("passwordRequireSymbol")||"Password must include at least one symbol"):r("passwordRequireNumber")||"Password must include at least one number":r("passwordRequireUpper")||"Password must include at least one uppercase letter":r("passwordRequireLower")||"Password must include at least one lowercase letter"})),{},{type:"password",className:"input-field ".concat(N?"text-right rtl":"text-left ltr"),dir:N?"rtl":"ltr"})),T.newPassword&&(0,xr.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:T.newPassword.message})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r("confirmNewPassword")}),(0,xr.jsx)("input",(0,Be.A)((0,Be.A)({},D("confirmNewPassword",{required:r("confirmPasswordRequired")||"Please confirm your new password",validate:e=>e===O||r("passwordsDoNotMatch")||"Passwords do not match"})),{},{type:"password",className:"input-field ".concat(N?"text-right rtl":"text-left ltr"),dir:N?"rtl":"ltr"})),T.confirmNewPassword&&(0,xr.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:T.confirmNewPassword.message})]}),(0,xr.jsxs)("button",{type:"submit",disabled:x,className:"btn-primary flex items-center space-x-2",children:[(0,xr.jsx)(Yv,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:x?r("loading")||"Updating...":r("changePassword")})]})]})]}),"preferences"===p&&(0,xr.jsxs)("div",{className:"card",children:[(0,xr.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:r("preferences")}),(0,xr.jsxs)("div",{className:"space-y-6",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,xr.jsx)(Wv,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white",children:r("themePreference")}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:r("choosePreferredTheme")})]})]}),(0,xr.jsx)("button",{onClick:u,className:"btn-secondary",children:r("dark"===d?"switchToLightMode":"switchToDarkMode")})]}),(0,xr.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,xr.jsx)(or,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white",children:r("languagePreference")}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:r("choosePreferredLanguage")})]})]}),(0,xr.jsx)("button",{onClick:h,className:"btn-secondary",children:r("en"===m?"switchToArabic":"switchToEnglish")})]}),(0,xr.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,xr.jsx)(ur,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white",children:r("pendingActionsAnimationsLabel")}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:r("pendingActionsAnimationsDescription")})]})]}),(0,xr.jsx)("button",{onClick:async()=>{const e=!y;f(!0);const t=await i({preferences:{enablePendingActionsAnimations:e}});t&&t.success&&v(e),f(!1)},disabled:x,className:"btn-secondary",children:r(y?"pendingActionsAnimationsDisable":"pendingActionsAnimationsEnable")})]}),"instructor"===(null===s||void 0===s?void 0:s.role)&&(0,xr.jsx)("div",{className:"mt-6 border border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-900/20 rounded-lg p-4",children:(0,xr.jsxs)("div",{className:"flex items-start justify-between",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h3",{className:"font-semibold text-red-800 dark:text-red-200 mb-1",children:"Instructor Account Deletion"}),(0,xr.jsx)("p",{className:"text-sm text-red-700 dark:text-red-300",children:"This will permanently disable your instructor account and remove your access to the instructor dashboard and courses, while keeping all courses, students, and financial records intact for the platform."})]}),(0,xr.jsx)("button",{type:"button",onClick:()=>w(!0),className:"ml-4 px-3 py-1.5 text-xs font-semibold rounded-md bg-red-600 text-white hover:bg-red-700",children:"Delete Instructor Account"})]})})]})]})]})]})]}),"instructor"===(null===s||void 0===s?void 0:s.role)&&b&&(0,xr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-lg w-full p-6 max-h-[90vh] overflow-y-auto",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,xr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Delete Instructor Account"}),(0,xr.jsx)("button",{type:"button",onClick:()=>!j&&w(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",disabled:j,children:(0,xr.jsx)(Yv,{className:"w-5 h-5"})})]}),(0,xr.jsxs)("div",{className:"text-gray-700 dark:text-gray-200 text-sm space-y-4 mb-6",children:[(0,xr.jsxs)("p",{children:["Deleting your instructor account will ",(0,xr.jsx)("span",{className:"font-semibold",children:"remove your instructor access"}),"while keeping all of your courses, students, and financial history intact for the platform."]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"font-semibold mb-1",children:"You will lose access to"}),(0,xr.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,xr.jsx)("li",{children:"Your instructor dashboard."}),(0,xr.jsx)("li",{children:"All of your courses and course management tools."}),(0,xr.jsx)("li",{children:"All editing and publishing permissions."}),(0,xr.jsx)("li",{children:"All instructor earnings pages and payout settings."}),(0,xr.jsx)("li",{children:"Instructor messaging from now on (students will still see past messages)."})]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"font-semibold mb-1",children:"What stays"}),(0,xr.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,xr.jsx)("li",{children:"All your courses remain published and accessible to enrolled students."}),(0,xr.jsx)("li",{children:"All your existing messages remain visible to students and admins."}),(0,xr.jsx)("li",{children:"Administrators can still access all of your agreements, payouts, and earnings records."}),(0,xr.jsx)("li",{children:"Your teaching history and contributions remain intact for reporting and certificates."}),(0,xr.jsx)("li",{children:"Admins can reassign your courses to another instructor at any time."})]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"font-semibold mb-1",children:"What happens internally"}),(0,xr.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,xr.jsx)("li",{children:"Your account is soft-deleted and anonymized."}),(0,xr.jsx)("li",{children:"Your email and phone are freed so they can be reused on a new account."}),(0,xr.jsx)("li",{children:"All InstructorAgreement, earnings, payout requests, and PDF documents are preserved."}),(0,xr.jsx)("li",{children:"Your courses are marked as orphaned until an admin assigns a new owner."})]})]}),(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"This action cannot be undone. If you need to teach again in the future, you will have to register a new instructor account and the admin team may reassign courses to you."})]}),(0,xr.jsxs)("div",{className:"flex space-x-3",children:[(0,xr.jsx)("button",{type:"button",onClick:()=>!j&&w(!1),className:"flex-1 btn-secondary",disabled:j,children:"Cancel"}),(0,xr.jsx)("button",{type:"button",onClick:async()=>{k(!0);const e=await c();k(!1),e&&e.success&&w(!1)},className:"flex-1 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",disabled:j,children:j?"Deleting account...":"Delete My Instructor Account"})]})]})})]})},Gv=(0,nr.A)("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]),Kv=()=>{const{t:e}=(0,ar.useTranslation)(),{user:t}=wr(),[r,n]=(0,a.useState)([]),[s,o]=(0,a.useState)([]),[l,c]=(0,a.useState)("inbox"),[d,u]=(0,a.useState)(!0),[m,h]=(0,a.useState)(""),[p,g]=(0,a.useState)(!1),[x,f]=(0,a.useState)(!1),[y,v]=(0,a.useState)(null),[b,w]=(0,a.useState)(null),[j,k]=(0,a.useState)([]),[N,C]=(0,a.useState)([]),[A,S]=(0,a.useState)(!1),[E,D]=(0,a.useState)(!1),[P,T]=(0,a.useState)(!1),[_,R]=(0,a.useState)(""),[O,F]=(0,a.useState)([]),[L,M]=(0,a.useState)(null),[I,B]=(0,a.useState)(!1),[q,z]=(0,a.useState)({platformName:"EduFlow",platformEmail:""});(0,a.useEffect)(()=>{U(),"student"!==(null===t||void 0===t?void 0:t.role)&&"instructor"!==(null===t||void 0===t?void 0:t.role)||V(),"instructor"===(null===t||void 0===t?void 0:t.role)&&K()},[t]),(0,a.useEffect)(()=>{(async()=>{try{var e;const t=await i.A.get("/api/admin/settings/public");null!==(e=t.data)&&void 0!==e&&e.success&&t.data.data&&z({platformName:t.data.data.platformName||"EduFlow",platformEmail:t.data.data.platformEmail||""})}catch(t){console.error("Error loading public identity:",t)}})()},[]),(0,a.useEffect)(()=>{"inbox"===l?Y():"notifications"===l&&W()},[l]);const U=async()=>{try{const e=localStorage.getItem("token"),[t,r]=await Promise.all([i.A.get("/api/messages",{headers:{Authorization:"Bearer ".concat(e)}}),i.A.get("/api/messages/notifications",{headers:{Authorization:"Bearer ".concat(e)}})]);n(t.data.messages||[]),o(r.data.notifications||[])}catch(e){console.error("Error fetching data:",e)}finally{u(!1)}},V=async()=>{try{const e=localStorage.getItem("token"),t=(await i.A.get("/api/messages/contacts",{headers:{Authorization:"Bearer ".concat(e)}})).data.contacts||[],r=t.find(e=>"admin"===e.role),a=t.filter(e=>"instructor"===e.role);w(r),k(a)}catch(e){console.error("Error fetching contacts:",e)}},Y=async()=>{try{const e=localStorage.getItem("token"),a=r.filter(e=>e.recipient&&e.recipient._id===t.id&&!e.isRead);if(0===a.length)return;await i.A.put("/api/messages/mark-read",{messageIds:a.map(e=>e._id)},{headers:{Authorization:"Bearer ".concat(e)}}),n(e=>e.map(e=>e.recipient&&e.recipient._id===t.id?(0,Be.A)((0,Be.A)({},e),{},{isRead:!0}):e)),window.dispatchEvent(new Event("unreadCountChanged")),er.success("All messages marked as read")}catch(e){console.error("Error marking messages as read:",e)}},W=async()=>{try{const e=localStorage.getItem("token"),t=s.filter(e=>!e.read);if(0===t.length)return;await i.A.put("/api/messages/notifications/mark-read",{notificationIds:t.map(e=>e._id)},{headers:{Authorization:"Bearer ".concat(e)}}),o(e=>e.map(e=>(0,Be.A)((0,Be.A)({},e),{},{read:!0}))),er.success("All notifications marked as read")}catch(e){console.error("Error marking notifications as read:",e)}},H=async e=>{if(window.confirm("Are you sure you want to delete this message?"))try{const t=localStorage.getItem("token");await i.A.delete("/api/messages/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),n(t=>t.filter(t=>t._id!==e)),window.dispatchEvent(new Event("unreadCountChanged")),er.success("Message deleted successfully")}catch(t){console.error("Error deleting message:",t),er.error("Failed to delete message")}},G=e=>{v(e),g(!0)},K=async()=>{try{const e=localStorage.getItem("token"),t=await i.A.get("/api/courses/my-courses",{headers:{Authorization:"Bearer ".concat(e)}});C(t.data.courses||[])}catch(e){console.error("Error fetching courses:",e)}},Q=r.filter(e=>e.subject.toLowerCase().includes(m.toLowerCase())||e.content.toLowerCase().includes(m.toLowerCase())),$=Q.filter(e=>e.recipient&&e.recipient._id===t.id),X=Q.filter(e=>e.sender&&e.sender._id===t.id);return d?(0,xr.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:e("messages")}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your messages and notifications"})]}),("instructor"===(null===t||void 0===t?void 0:t.role)||"admin"===(null===t||void 0===t?void 0:t.role))&&(0,xr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,xr.jsxs)("button",{onClick:()=>T(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center space-x-2",children:[(0,xr.jsx)(Xh,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:"Create Message"})]}),(0,xr.jsxs)("button",{onClick:()=>f(!0),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center space-x-2",children:[(0,xr.jsx)(Nh,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:"Send Bulk Message"})]})]})]})}),(0,xr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,xr.jsx)(rr.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.1},className:"lg:col-span-1",children:(0,xr.jsxs)("div",{className:"card",children:[(0,xr.jsx)("div",{className:"mb-6",children:(0,xr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e("messages")})}),(0,xr.jsxs)("nav",{className:"space-y-2",children:[(0,xr.jsxs)("button",{onClick:()=>c("inbox"),className:"w-full flex items-center space-x-3 px-4 py-3 text-left rounded-lg transition-colors duration-200 ".concat("inbox"===l?"bg-primary-100 text-primary-700 dark:bg-primary-900 dark:text-primary-300":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"),children:[(0,xr.jsx)(Gv,{className:"w-4 h-4"}),(0,xr.jsx)("span",{className:"font-medium",children:e("inbox")}),(0,xr.jsx)("span",{className:"ml-auto bg-primary-600 text-white text-xs px-2 py-1 rounded-full",children:$.filter(e=>!e.isRead).length})]}),(0,xr.jsxs)("button",{onClick:()=>c("sent"),className:"w-full flex items-center space-x-3 px-4 py-3 text-left rounded-lg transition-colors duration-200 ".concat("sent"===l?"bg-primary-100 text-primary-700 dark:bg-primary-900 dark:text-primary-300":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"),children:[(0,xr.jsx)(Nh,{className:"w-4 h-4"}),(0,xr.jsx)("span",{className:"font-medium",children:e("sent")})]}),(0,xr.jsxs)("button",{onClick:()=>c("notifications"),className:"w-full flex items-center space-x-3 px-4 py-3 text-left rounded-lg transition-colors duration-200 ".concat("notifications"===l?"bg-primary-100 text-primary-700 dark:bg-primary-900 dark:text-primary-300":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"),children:[(0,xr.jsx)(Zc,{className:"w-4 h-4"}),(0,xr.jsx)("span",{className:"font-medium",children:e("notifications")}),(0,xr.jsx)("span",{className:"ml-auto bg-yellow-500 text-white text-xs px-2 py-1 rounded-full",children:s.filter(e=>!e.read).length})]})]}),("student"===(null===t||void 0===t?void 0:t.role)||"instructor"===(null===t||void 0===t?void 0:t.role))&&(0,xr.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,xr.jsx)("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Direct Contact"}),b&&(0,xr.jsxs)("button",{onClick:()=>G(b),className:"w-full flex items-center space-x-3 px-3 py-2 text-left rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200 mb-2",children:[(0,xr.jsx)("div",{className:"flex-shrink-0",children:(0,xr.jsx)("div",{className:"w-8 h-8 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center",children:(0,xr.jsx)(Pm,{className:"w-4 h-4 text-red-600 dark:text-red-400"})})}),(0,xr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,xr.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:"Admin"}),(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:q.platformEmail||"support@example.com"})]})]}),"student"===(null===t||void 0===t?void 0:t.role)&&j.length>0&&(0,xr.jsxs)("div",{className:"mt-3",children:[(0,xr.jsx)("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 mb-2",children:"Your Instructors"}),j.map(e=>(0,xr.jsxs)("button",{onClick:()=>G(e),className:"w-full flex items-center space-x-3 px-3 py-2 text-left rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200 mb-2",children:[(0,xr.jsx)("div",{className:"flex-shrink-0",children:(0,xr.jsx)("div",{className:"w-8 h-8 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:(0,xr.jsx)(_a,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})})}),(0,xr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,xr.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:e.name}),(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:e.courseName})]})]},e._id))]})]})]})}),(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"lg:col-span-3",children:[(0,xr.jsx)("div",{className:"mb-6",children:(0,xr.jsxs)("div",{className:"relative",children:[(0,xr.jsx)(ad,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,xr.jsx)("input",{type:"text",placeholder:"Search messages...",value:m,onChange:e=>h(e.target.value),className:"input-field pl-10"})]})}),(0,xr.jsxs)("div",{className:"card",children:["inbox"===l&&(0,xr.jsxs)("div",{children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,xr.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e("inbox")}),(0,xr.jsxs)("div",{className:"flex items-center gap-2",children:[$.filter(e=>!e.isRead).length>0&&(0,xr.jsxs)("button",{onClick:Y,className:"px-4 py-2 bg-indigo-600 text-white text-sm rounded-md hover:bg-indigo-700 focus:outline-none flex items-center",children:[(0,xr.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Mark All as Read"]}),$.length>0&&(0,xr.jsxs)("button",{onClick:async()=>{if(window.confirm("Are you sure you want to delete all inbox messages?"))try{const e=localStorage.getItem("token"),a=r.filter(e=>e.recipient&&e.recipient._id===t.id);if(0===a.length)return void er.info("No messages to clear");await Promise.all(a.map(t=>i.A.delete("/api/messages/".concat(t._id),{headers:{Authorization:"Bearer ".concat(e)}}))),n(e=>e.filter(e=>!e.recipient||e.recipient._id!==t.id)),window.dispatchEvent(new Event("unreadCountChanged")),er.success("All inbox messages cleared")}catch(e){console.error("Error clearing inbox:",e),er.error("Failed to clear inbox")}},className:"px-4 py-2 bg-red-600 text-white text-sm rounded-md hover:bg-red-700 focus:outline-none flex items-center",children:[(0,xr.jsx)(kh,{className:"w-4 h-4 mr-2"}),"Clear All"]})]})]}),0===$.length?(0,xr.jsxs)("div",{className:"text-center py-12",children:[(0,xr.jsx)(Gv,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"No messages in inbox"})]}):(0,xr.jsx)("div",{className:"space-y-4",children:$.map((e,t)=>(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1*t},className:"p-4 rounded-lg border ".concat(e.isRead?"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700":"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800"),children:(0,xr.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,xr.jsxs)("div",{className:"relative",children:[e.sender.avatar?(0,xr.jsx)("img",{src:"".concat(i.A.defaults.baseURL||"http://localhost:5000").concat(e.sender.avatar),alt:e.sender.name,className:"w-10 h-10 rounded-full object-cover"}):(0,xr.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center ".concat("admin"===e.sender.role?"bg-red-100 dark:bg-red-900/30":"instructor"===e.sender.role?"bg-blue-100 dark:bg-blue-900/30":"bg-green-100 dark:bg-green-900/30"),children:"admin"===e.sender.role?(0,xr.jsx)(Pm,{className:"w-5 h-5 text-red-600 dark:text-red-400"}):"instructor"===e.sender.role?(0,xr.jsx)(_a,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}):(0,xr.jsx)(dr,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),!e.isRead&&(0,xr.jsx)("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-blue-600 rounded-full border-2 border-white dark:border-gray-800"})]}),(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,xr.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.sender.name}),(0,xr.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full ".concat("admin"===e.sender.role?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"instructor"===e.sender.role?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400"),children:e.sender.role})]}),(0,xr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,xr.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[new Date(e.createdAt).toLocaleDateString()," ",new Date(e.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),(0,xr.jsx)("button",{onClick:()=>H(e._id),className:"p-1 text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",title:"Delete message",children:(0,xr.jsx)(kh,{className:"w-4 h-4"})})]})]}),(0,xr.jsx)("h5",{className:"font-medium text-gray-800 dark:text-gray-200 mt-1",children:e.subject}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm mt-1 line-clamp-2",children:e.content})]})]})},e._id))})]}),"sent"===l&&(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:e("sent")}),0===X.length?(0,xr.jsxs)("div",{className:"text-center py-12",children:[(0,xr.jsx)(Nh,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"No sent messages"})]}):(0,xr.jsx)("div",{className:"space-y-4",children:X.map((e,t)=>(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1*t},className:"p-4 rounded-lg border bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:(0,xr.jsxs)("div",{className:"flex items-start space-x-4",children:[e.recipient.avatar?(0,xr.jsx)("img",{src:"".concat(i.A.defaults.baseURL||"http://localhost:5000").concat(e.recipient.avatar),alt:e.recipient.name,className:"w-10 h-10 rounded-full object-cover"}):(0,xr.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center ".concat("admin"===e.recipient.role?"bg-red-100 dark:bg-red-900/30":"instructor"===e.recipient.role?"bg-blue-100 dark:bg-blue-900/30":"bg-green-100 dark:bg-green-900/30"),children:"admin"===e.recipient.role?(0,xr.jsx)(Pm,{className:"w-5 h-5 text-red-600 dark:text-red-400"}):"instructor"===e.recipient.role?(0,xr.jsx)(_a,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}):(0,xr.jsx)(dr,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,xr.jsxs)("h4",{className:"font-medium text-gray-900 dark:text-white",children:["To: ",e.recipient.name]}),(0,xr.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full ".concat("admin"===e.recipient.role?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"instructor"===e.recipient.role?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400"),children:e.recipient.role})]}),(0,xr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,xr.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[new Date(e.createdAt).toLocaleDateString()," ",new Date(e.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),(0,xr.jsx)("button",{onClick:()=>H(e._id),className:"p-1 text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",title:"Delete message",children:(0,xr.jsx)(kh,{className:"w-4 h-4"})})]})]}),(0,xr.jsx)("h5",{className:"font-medium text-gray-800 dark:text-gray-200 mt-1",children:e.subject}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm mt-1 line-clamp-2",children:e.content})]})]})},e._id))})]}),"notifications"===l&&(0,xr.jsxs)("div",{children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,xr.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e("notifications")}),(0,xr.jsxs)("div",{className:"flex items-center gap-2",children:[s.filter(e=>!e.read).length>0&&(0,xr.jsxs)("button",{onClick:W,className:"px-4 py-2 bg-indigo-600 text-white text-sm rounded-md hover:bg-indigo-700 focus:outline-none flex items-center",children:[(0,xr.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Mark All as Read"]}),s.length>0&&(0,xr.jsxs)("button",{onClick:async()=>{if(window.confirm("Are you sure you want to delete all notifications?"))try{const e=localStorage.getItem("token");if(0===s.length)return void er.info("No notifications to clear");await Promise.all(s.map(t=>i.A.delete("/api/messages/notifications/".concat(t._id),{headers:{Authorization:"Bearer ".concat(e)}}))),o([]),window.dispatchEvent(new Event("unreadCountChanged")),er.success("All notifications cleared")}catch(e){console.error("Error clearing notifications:",e),er.error("Failed to clear notifications")}},className:"px-4 py-2 bg-red-600 text-white text-sm rounded-md hover:bg-red-700 focus:outline-none flex items-center",children:[(0,xr.jsx)(kh,{className:"w-4 h-4 mr-2"}),"Clear All"]})]})]}),0===s.length?(0,xr.jsxs)("div",{className:"text-center py-12",children:[(0,xr.jsx)(Zc,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"No notifications"})]}):(0,xr.jsx)("div",{className:"space-y-4",children:s.map((e,t)=>(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1*t},className:"p-4 rounded-lg border ".concat(e.read?"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700":"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800"),children:(0,xr.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,xr.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center ".concat("success"===e.type?"bg-green-100 dark:bg-green-900":"warning"===e.type?"bg-yellow-100 dark:bg-yellow-900":"error"===e.type?"bg-red-100 dark:bg-red-900":"bg-blue-100 dark:bg-blue-900"),children:(0,xr.jsx)(Zc,{className:"w-5 h-5 ".concat("success"===e.type?"text-green-600 dark:text-green-400":"warning"===e.type?"text-yellow-600 dark:text-yellow-400":"error"===e.type?"text-red-600 dark:text-red-400":"text-blue-600 dark:text-blue-400")})}),(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsx)("p",{className:"text-gray-900 dark:text-white flex-1",children:e.message}),(0,xr.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this notification?"))try{const t=localStorage.getItem("token");await i.A.delete("/api/messages/notifications/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),o(t=>t.filter(t=>t._id!==e)),window.dispatchEvent(new Event("unreadCountChanged")),er.success("Notification deleted successfully")}catch(t){console.error("Error deleting notification:",t),er.error("Failed to delete notification")}})(e._id),className:"p-1 text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors ml-2",title:"Delete notification",children:(0,xr.jsx)(kh,{className:"w-4 h-4"})})]}),(0,xr.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[new Date(e.createdAt).toLocaleDateString()," ",new Date(e.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]})},e._id))})]})]})]})]}),p&&y&&(0,xr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,xr.jsx)(rr.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,xr.jsxs)("div",{className:"p-6",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,xr.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["New Message to ",y.name]}),(0,xr.jsx)("button",{onClick:()=>{g(!1),v(null)},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:(0,xr.jsx)(pr.A,{className:"w-6 h-6"})})]}),(0,xr.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=e.target,r=t.subject.value.trim(),a=t.content.value.trim();if(!r||r.length<2)er.error("Subject must be at least 2 characters");else if(!a||a.length<10)er.error("Message must be at least 10 characters");else if(y&&y._id)try{S(!0);const e=localStorage.getItem("token");await i.A.post("/api/messages",{recipient:y._id,subject:r,content:a},{headers:{Authorization:"Bearer ".concat(e)}}),g(!1),v(null),t.reset(),U(),er.success("Message sent successfully")}catch(u){var n,s,o,l,c,d;console.error("Error sending message:",u);const e=(null===(n=u.response)||void 0===n||null===(s=n.data)||void 0===s?void 0:s.message)||(null===(o=u.response)||void 0===o||null===(l=o.data)||void 0===l||null===(c=l.errors)||void 0===c||null===(d=c[0])||void 0===d?void 0:d.msg)||"Failed to send message";er.error(e)}finally{S(!1)}else er.error("Invalid recipient")},className:"space-y-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Subject"}),(0,xr.jsx)("input",{type:"text",name:"subject",required:!0,minLength:2,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500",placeholder:"Enter subject (min 2 characters)..."})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Message"}),(0,xr.jsx)("textarea",{name:"content",required:!0,minLength:10,rows:6,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500",placeholder:"Type your message (min 10 characters)..."})]}),(0,xr.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,xr.jsx)("button",{type:"button",onClick:()=>{g(!1),v(null)},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancel"}),(0,xr.jsx)("button",{type:"submit",disabled:A,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:A?(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,xr.jsx)("span",{children:"Sending..."})]}):(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)(Nh,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:"Send Message"})]})})]})]})]})})}),x&&(0,xr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,xr.jsx)(rr.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,xr.jsxs)("div",{className:"p-6",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,xr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Send Bulk Message"}),(0,xr.jsx)("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:(0,xr.jsx)(pr.A,{className:"w-6 h-6"})})]}),(0,xr.jsxs)("form",{onSubmit:async e=>{var t;e.preventDefault();const r=e.target,a=r.subject.value.trim(),n=r.content.value.trim(),s=r.recipientType.value,o=null===(t=r.courseId)||void 0===t?void 0:t.value;if(!a||a.length<2)er.error("Subject must be at least 2 characters");else if(!n||n.length<10)er.error("Message must be at least 10 characters");else try{D(!0);const e=localStorage.getItem("token"),t={recipientType:s,subject:a,content:n};o&&(t.courseId=o);const l=await i.A.post("/api/messages/bulk",t,{headers:{Authorization:"Bearer ".concat(e)}});f(!1),r.reset(),await U(),c("sent"),er.success(l.data.message)}catch(u){var l,d;console.error("Error sending bulk message:",u),er.error((null===(l=u.response)||void 0===l||null===(d=l.data)||void 0===d?void 0:d.message)||"Failed to send bulk message")}finally{D(!1)}},className:"space-y-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Send To"}),(0,xr.jsxs)("select",{name:"recipientType",required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500",children:["instructor"===(null===t||void 0===t?void 0:t.role)&&(0,xr.jsx)("option",{value:"enrolled_students",children:"All Enrolled Students in Course"}),"admin"===(null===t||void 0===t?void 0:t.role)&&(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)("option",{value:"all_instructors",children:"All Instructors"}),(0,xr.jsx)("option",{value:"all_students",children:"All Students"})]})]})]}),"instructor"===(null===t||void 0===t?void 0:t.role)&&N.length>0&&(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Select Course"}),(0,xr.jsxs)("select",{name:"courseId",required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500",children:[(0,xr.jsx)("option",{value:"",children:"Select a course..."}),N.map(e=>(0,xr.jsx)("option",{value:e._id,children:e.name},e._id))]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Subject"}),(0,xr.jsx)("input",{type:"text",name:"subject",required:!0,minLength:2,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500",placeholder:"Enter subject (min 2 characters)..."})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Message"}),(0,xr.jsx)("textarea",{name:"content",required:!0,minLength:10,rows:6,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500",placeholder:"Type your message (min 10 characters)..."})]}),(0,xr.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,xr.jsx)("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancel"}),(0,xr.jsx)("button",{type:"submit",disabled:E,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:E?(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,xr.jsx)("span",{children:"Sending..."})]}):(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)(Nh,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:"Send to All"})]})})]})]})]})})}),P&&(0,xr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,xr.jsx)(rr.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,xr.jsxs)("div",{className:"p-6",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,xr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Create New Message"}),(0,xr.jsx)("button",{onClick:()=>{T(!1),M(null),R(""),F([])},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:(0,xr.jsx)(pr.A,{className:"w-6 h-6"})})]}),(0,xr.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=e.target,r=t.subject.value.trim(),a=t.content.value.trim();if(!r||r.length<2)er.error("Subject must be at least 2 characters");else if(!a||a.length<10)er.error("Message must be at least 10 characters");else if(L&&L._id)try{S(!0);const e=localStorage.getItem("token");await i.A.post("/api/messages",{recipient:L._id,subject:r,content:a},{headers:{Authorization:"Bearer ".concat(e)}}),T(!1),M(null),R(""),t.reset(),U(),c("sent"),er.success("Message sent successfully")}catch(m){var n,s,o,l,d,u;console.error("Error sending message:",m);const e=(null===(n=m.response)||void 0===n||null===(s=n.data)||void 0===s?void 0:s.message)||(null===(o=m.response)||void 0===o||null===(l=o.data)||void 0===l||null===(d=l.errors)||void 0===d||null===(u=d[0])||void 0===u?void 0:u.msg)||"Failed to send message";er.error(e)}finally{S(!1)}else er.error("Please select a recipient")},className:"space-y-4",children:[(0,xr.jsxs)("div",{className:"relative",children:[(0,xr.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["To: ","admin"===(null===t||void 0===t?void 0:t.role)?"Search for a student or instructor":"Search for an enrolled student"]}),(0,xr.jsxs)("div",{className:"relative",children:[(0,xr.jsx)("input",{type:"text",value:_,onChange:e=>(async e=>{if(R(e),!e||e.trim().length<2)F([]);else try{B(!0);const t=localStorage.getItem("token"),r=await i.A.get("/api/messages/search-users?query=".concat(encodeURIComponent(e)),{headers:{Authorization:"Bearer ".concat(t)}});F(r.data.users||[])}catch(t){console.error("Error searching users:",t),er.error("Failed to search users"),F([])}finally{B(!1)}})(e.target.value),placeholder:"admin"===(null===t||void 0===t?void 0:t.role)?"Type name or email...":"Type student name or email...",className:"w-full px-4 py-2 pl-10 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500",disabled:!!L}),(0,xr.jsx)(ad,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),L&&(0,xr.jsx)("button",{type:"button",onClick:()=>{M(null),R("")},className:"absolute right-3 top-2 text-gray-400 hover:text-gray-600",children:(0,xr.jsx)(pr.A,{className:"w-5 h-5"})})]}),L&&(0,xr.jsxs)("div",{className:"mt-2 p-3 bg-indigo-50 dark:bg-indigo-900/20 border border-indigo-200 dark:border-indigo-800 rounded-lg flex items-center space-x-3",children:[(0,xr.jsx)("div",{className:"flex-shrink-0",children:L.avatar?(0,xr.jsx)("img",{src:L.avatar,alt:L.name,className:"w-8 h-8 rounded-full"}):(0,xr.jsx)("div",{className:"w-8 h-8 rounded-full bg-indigo-600 flex items-center justify-center",children:(0,xr.jsx)("span",{className:"text-white text-sm font-medium",children:L.name.charAt(0).toUpperCase()})})}),(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:L.name}),(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:L.email})]}),(0,xr.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat("admin"===L.role?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"instructor"===L.role?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400"),children:L.role})]}),O.length>0&&!L&&(0,xr.jsx)("div",{className:"absolute z-10 mt-1 w-full bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:O.map(e=>(0,xr.jsxs)("button",{type:"button",onClick:()=>{return M(t=e),R(t.name),void F([]);var t},className:"w-full flex items-center space-x-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors duration-150 text-left",children:[(0,xr.jsx)("div",{className:"flex-shrink-0",children:e.avatar?(0,xr.jsx)("img",{src:e.avatar,alt:e.name,className:"w-8 h-8 rounded-full"}):(0,xr.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-400 flex items-center justify-center",children:(0,xr.jsx)(dr,{className:"w-4 h-4 text-white"})})}),(0,xr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,xr.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:e.name}),(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:e.email})]}),(0,xr.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat("admin"===e.role?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"instructor"===e.role?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400"),children:e.role})]},e._id))}),I&&(0,xr.jsxs)("div",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400 flex items-center space-x-2",children:[(0,xr.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-indigo-600"}),(0,xr.jsx)("span",{children:"Searching..."})]}),_.length>=2&&0===O.length&&!I&&!L&&(0,xr.jsx)("div",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"No users found"})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Subject"}),(0,xr.jsx)("input",{type:"text",name:"subject",required:!0,minLength:2,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500",placeholder:"Enter subject (min 2 characters)..."})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Message"}),(0,xr.jsx)("textarea",{name:"content",required:!0,minLength:10,rows:6,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500",placeholder:"Type your message (min 10 characters)..."})]}),(0,xr.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,xr.jsx)("button",{type:"button",onClick:()=>{T(!1),M(null),R(""),F([])},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancel"}),(0,xr.jsx)("button",{type:"submit",disabled:A||!L,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:A?(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,xr.jsx)("span",{children:"Sending..."})]}):(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)(ja,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:"Send Message"})]})})]})]})]})})})]})})},Qv=(0,nr.A)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),$v=(0,nr.A)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),Xv=()=>{const{resendVerification:e}=wr(),t=ae(),[r,n]=(0,a.useState)(""),[s,i]=(0,a.useState)(!1);(0,a.useEffect)(()=>{const e=localStorage.getItem("pendingEmail");e&&n(e)},[]);return(0,xr.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4",children:(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-md w-full bg-white dark:bg-gray-800 p-8 rounded-lg shadow-xl",children:[(0,xr.jsx)("div",{className:"flex justify-center mb-6",children:(0,xr.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-primary-600 to-primary-800 rounded-full flex items-center justify-center",children:(0,xr.jsx)(ja,{className:"w-8 h-8 text-white"})})}),(0,xr.jsx)("h1",{className:"text-2xl font-bold mb-2 text-center text-gray-900 dark:text-white",children:"Verify your email"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-6 text-center",children:"We sent a verification link to your email. Please click the link to complete your registration."}),(0,xr.jsxs)("div",{className:"space-y-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),(0,xr.jsxs)("div",{className:"relative",children:[(0,xr.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,xr.jsx)(ja,{className:"h-5 w-5 text-gray-400"})}),(0,xr.jsx)("input",{type:"email",className:"input-field pl-10 w-full",placeholder:"your.email@example.com",value:r,onChange:e=>{const t=e.target.value;n(t),t&&localStorage.setItem("pendingEmail",t)}})]})]}),(0,xr.jsx)("button",{onClick:async()=>{r&&(i(!0),await e(r),i(!1))},disabled:!r||s,className:"btn-primary w-full",children:s?"Sending...":"Resend verification link"}),(0,xr.jsxs)("div",{className:"relative my-6",children:[(0,xr.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,xr.jsx)("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),(0,xr.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,xr.jsx)("span",{className:"px-2 bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400",children:"Or"})})]}),(0,xr.jsxs)("div",{className:"space-y-3",children:[(0,xr.jsxs)("button",{onClick:()=>{localStorage.removeItem("pendingEmail"),t("/register")},className:"w-full flex items-center justify-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[(0,xr.jsx)(Qv,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:"Register With Another Email"})]}),(0,xr.jsxs)("button",{onClick:()=>{localStorage.removeItem("pendingEmail"),t("/login")},className:"w-full flex items-center justify-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[(0,xr.jsx)($v,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:"Login With Another Account"})]})]}),(0,xr.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:(0,xr.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center",children:"Didn't receive the email? Check your spam folder or resend the verification link."})})]})]})})},Jv=()=>{const e=ae(),[t]=Me(),r=t.get("redirect")||"/login",a=t.get("message")||"Email verified successfully!",n=t.get("role");return(0,xr.jsx)(Qa,{children:(0,xr.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 px-4 sm:px-6 lg:px-8",children:(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-md w-full",children:(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-8 text-center",children:[(0,xr.jsx)(rr.P.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:.2},className:"flex justify-center mb-6",children:(0,xr.jsx)(Om,{className:"w-20 h-20 text-green-500"})}),(0,xr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Email Verified!"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:a}),"instructor"===n&&(0,xr.jsx)("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:(0,xr.jsx)("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:"Please complete your instructor agreement to proceed with the approval process."})}),(0,xr.jsx)("button",{onClick:()=>{e(r)},className:"w-full btn-primary py-3 text-lg font-medium",children:"Continue"}),(0,xr.jsxs)("p",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400",children:["Or ",(0,xr.jsx)(Oe,{to:"/login",className:"text-primary-600 hover:text-primary-500 font-medium",children:"go to login"})]})]})})})})},Zv=()=>{const[e]=Me(),t=e.get("message")||"Email verification failed. Please try again.";return(0,xr.jsx)(Qa,{children:(0,xr.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 px-4 sm:px-6 lg:px-8",children:(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-md w-full",children:(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-8 text-center",children:[(0,xr.jsx)(rr.P.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:.2},className:"flex justify-center mb-6",children:(0,xr.jsx)(Zm,{className:"w-20 h-20 text-red-500"})}),(0,xr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Verification Failed"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:t}),(0,xr.jsxs)("div",{className:"space-y-3",children:[(0,xr.jsx)(Oe,{to:"/verify-email",className:"block w-full btn-primary py-3 text-lg font-medium",children:"Request New Verification"}),(0,xr.jsx)(Oe,{to:"/register",className:"block w-full btn-secondary py-3 text-lg font-medium",children:"Back to Register"})]})]})})})})},eb=e=>{let{formData:t,handleInputChange:r,handleExpertiseToggle:a,expertiseAreas:n}=e;const{t:s}=(0,ar.useTranslation)();return(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[(0,xr.jsxs)("div",{className:"text-center mb-8",children:[(0,xr.jsx)(dr,{className:"w-12 h-12 mx-auto text-indigo-600 mb-4"}),(0,xr.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:s("instructorRegStep1Title")}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:s("instructorRegStep1Subtitle")})]}),(0,xr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s("instructorRegFullNameLabel")}),(0,xr.jsx)("input",{type:"text",value:t.name,onChange:e=>r("name",e.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700 dark:text-white",placeholder:s("instructorRegFullNamePlaceholder")})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s("instructorRegEmailLabel")}),(0,xr.jsx)("input",{type:"email",value:t.email,onChange:e=>r("email",e.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700 dark:text-white",placeholder:s("instructorRegEmailPlaceholder")})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s("instructorRegPasswordLabel")}),(0,xr.jsx)("input",{type:"password",value:t.password,onChange:e=>r("password",e.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700 dark:text-white",placeholder:s("instructorRegPasswordPlaceholder"),onCopy:e=>e.preventDefault(),onPaste:e=>e.preventDefault()})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s("instructorRegConfirmPasswordLabel")}),(0,xr.jsx)("input",{type:"password",value:t.confirmPassword,onChange:e=>r("confirmPassword",e.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700 dark:text-white",placeholder:s("instructorRegConfirmPasswordPlaceholder"),onCopy:e=>e.preventDefault(),onPaste:e=>e.preventDefault()})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s("instructorRegPhoneLabel")}),(0,xr.jsx)("input",{type:"tel",value:t.phone,onChange:e=>r("phone",e.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700 dark:text-white",placeholder:s("instructorRegPhonePlaceholder"),maxLength:10})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[s("countryLabel")," *"]}),(0,xr.jsx)("input",{type:"text",value:t.country,onChange:e=>r("country",e.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700 dark:text-white",placeholder:s("enterYourCountry")})]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:s("instructorRegExpertiseLabel")}),(0,xr.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:n.map(e=>(0,xr.jsx)("button",{type:"button",onClick:()=>a(e.value),className:"px-4 py-2 rounded-lg border-2 transition ".concat(t.expertise.includes(e.value)?"border-indigo-600 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400":"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:border-indigo-400"),children:s(e.labelKey)},e.value))}),t.expertise.includes("Other")&&(0,xr.jsxs)("div",{className:"mt-4",children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s("instructorRegCustomExpertiseLabel")}),(0,xr.jsx)("input",{type:"text",value:t.customExpertise,onChange:e=>r("customExpertise",e.target.value),placeholder:s("instructorRegCustomExpertisePlaceholder"),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]})]})},tb=e=>{let{formData:t,handleInputChange:r}=e;const{t:a}=(0,ar.useTranslation)();return(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[(0,xr.jsxs)("div",{className:"text-center mb-8",children:[(0,xr.jsx)(ja,{className:"w-12 h-12 mx-auto text-indigo-600 mb-4"}),(0,xr.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:a("instructorRegStep2Title")}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:a("instructorRegStep2Subtitle",{email:t.email})})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("instructorRegVerificationCodeLabel")}),(0,xr.jsx)("input",{type:"text",value:t.otp,onChange:e=>r("otp",e.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700 dark:text-white text-center text-2xl tracking-widest",placeholder:a("instructorRegVerificationCodePlaceholder"),maxLength:6})]}),(0,xr.jsx)("div",{className:"text-center",children:(0,xr.jsx)("button",{className:"text-indigo-600 hover:text-indigo-700 text-sm",children:a("instructorRegResendCode")})})]})},rb=e=>{let{formData:t,handleInputChange:r,agreementData:a}=e;const{t:n,i18n:s}=(0,ar.useTranslation)(),i="ar"===s.language||"he"===s.language||"fa"===s.language;return(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[(0,xr.jsxs)("div",{className:"text-center mb-8",children:[(0,xr.jsx)(Um,{className:"w-12 h-12 mx-auto text-indigo-600 mb-4"}),(0,xr.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:n("instructorRegStep3Title")}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:n("instructorRegStep3Subtitle")})]}),(0,xr.jsxs)("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 border-2 border-indigo-200 dark:border-indigo-800 rounded-lg p-6",children:[(0,xr.jsx)("h4",{className:"font-bold text-lg text-indigo-900 dark:text-indigo-100 mb-3",children:n("instructorRegRevenueSharingTitle")}),(0,xr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,xr.jsxs)("div",{className:"text-center",children:[(0,xr.jsx)("p",{className:"text-sm text-indigo-600 dark:text-indigo-400 mb-1",children:n("instructorRegYourShareLabel")}),(0,xr.jsxs)("p",{className:"text-3xl font-bold text-indigo-900 dark:text-indigo-100",children:[a.instructorPercentage,"%"]})]}),(0,xr.jsxs)("div",{className:"text-center",children:[(0,xr.jsx)("p",{className:"text-sm text-indigo-600 dark:text-indigo-400 mb-1",children:n("instructorRegPlatformShareLabel")}),(0,xr.jsxs)("p",{className:"text-3xl font-bold text-indigo-900 dark:text-indigo-100",children:[a.adminPercentage,"%"]})]})]})]}),(0,xr.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-6 max-h-96 overflow-y-auto border border-gray-200 dark:border-gray-600",children:[(0,xr.jsx)("h4",{className:"font-bold text-lg mb-4 text-gray-900 dark:text-white",children:n("instructorRegAgreementHeading")}),(0,xr.jsx)("div",{className:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:a.text||"Loading agreement..."})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:n("instructorRegSignatureLabel")}),(0,xr.jsx)("input",{type:"text",value:t.signature,onChange:e=>r("signature",e.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700 dark:text-white font-signature text-2xl",placeholder:n("instructorRegSignaturePlaceholder")})]}),(0,xr.jsxs)("div",{className:"flex items-start ".concat(i?"flex-row-reverse space-x-reverse":""," space-x-3"),children:[(0,xr.jsx)("input",{type:"checkbox",checked:t.agreedToTerms,onChange:e=>r("agreedToTerms",e.target.checked),className:"mt-1 h-5 w-5 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded ".concat(i?"ml-2":"mr-0")}),(0,xr.jsx)("label",{className:"text-sm text-gray-700 dark:text-gray-300 ".concat(i?"text-right":"text-left"),children:n("instructorAgreementCheckbox")})]})]})},ab=e=>{let{formData:t,handleInputChange:r}=e;const[n,s]=a.useState({maxVideoSizeMB:500}),{t:o}=(0,ar.useTranslation)();return a.useEffect(()=>{(async()=>{try{var e,t;const r=await i.A.get("/api/admin/settings/public");null!==(e=r.data)&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.maxVideoSizeMB&&s({maxVideoSizeMB:r.data.data.maxVideoSizeMB})}catch(qe){}})()},[]),(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[(0,xr.jsxs)("div",{className:"text-center mb-8",children:[(0,xr.jsx)(zm,{className:"w-12 h-12 mx-auto text-indigo-600 mb-4"}),(0,xr.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:o("instructorRegStep4Title")}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:o("instructorRegStep4Subtitle")})]}),(0,xr.jsxs)("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-8 text-center",children:[(0,xr.jsx)(zm,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:o("instructorRegVideoInstructions",{maxSize:n.maxVideoSizeMB})}),(0,xr.jsx)("input",{type:"file",accept:"video/mp4,video/quicktime,video/webm",onChange:async e=>{const a=e.target.files[0];if(a){const d=1024*(n.maxVideoSizeMB||500)*1024;if(a.size>d)return void er.error(o("instructorRegVideoSizeTooLarge",{maxSize:n.maxVideoSizeMB}));let u;try{er.loading(o("instructorRegUploadingVideo"),{id:"video-upload"});const n=new FormData;n.append("video",a),n.append("email",t.email);const s=Date.now().toString();n.append("uploadSessionId",s),u=setInterval(async()=>{try{var t;const e=null===(t=(await i.A.get("/api/video-upload-jobs/".concat(s))).data)||void 0===t?void 0:t.data;e&&"number"===typeof e.percent&&er.loading(o("instructorRegUploadingVideoPercent",{percent:e.percent}),{id:"video-upload"})}catch(e){}},2e3);const l=await i.A.post("/api/instructor/upload-intro-video",n,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{const t=Math.round(100*e.loaded/e.total);t<100&&er.loading(o("instructorRegUploadingVideoPercent",{percent:t}),{id:"video-upload"})}});clearInterval(u),l.data.success&&(r("introVideoUrl",l.data.videoUrl),er.success(o("instructorRegToastVideoSaved"),{id:"video-upload"}))}catch(c){var s,l;console.error("Video upload error:",c),er.error((null===(s=c.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.message)||o("instructorRegToastVideoSaveFailed"),{id:"video-upload"})}finally{u&&clearInterval(u)}}},className:"hidden",id:"video-upload"}),(0,xr.jsx)("label",{htmlFor:"video-upload",className:"inline-block px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 cursor-pointer transition",children:o("instructorRegChooseVideoLabel")})]}),t.introVideoUrl&&(0,xr.jsxs)("div",{className:"flex items-center justify-center gap-2 text-green-600",children:[(0,xr.jsx)(Om,{className:"w-5 h-5"}),(0,xr.jsx)("span",{children:o("instructorRegVideoUploadedLabel")})]})]})},nb=()=>{const e=ae(),{t:t}=(0,ar.useTranslation)();return(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-12",children:[(0,xr.jsx)("div",{className:"w-20 h-20 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,xr.jsx)(Om,{className:"w-12 h-12 text-green-600 dark:text-green-400"})}),(0,xr.jsx)("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:t("instructorRegStep5Title")}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-8 max-w-md mx-auto",children:t("instructorRegStep5Subtitle")}),(0,xr.jsx)("button",{onClick:()=>e("/login"),className:"px-8 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 transition",children:t("instructorRegGoToLogin")})]})},sb=()=>{const e=ae(),{t:t,i18n:r}=(0,ar.useTranslation)(),n="ar"===r.language||"he"===r.language||"fa"===r.language,[s,o]=(0,a.useState)(1),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)({text:"",instructorPercentage:80,adminPercentage:20}),[m,h]=(0,a.useState)({name:"",email:"",password:"",confirmPassword:"",phone:"",country:"",expertise:[],customExpertise:"",profilePhoto:null,otp:"",emailVerified:!1,agreedToTerms:!1,signature:"",agreementPdfUrl:"",introVideoUrl:"",registrationProgress:1}),p=Math.round(s/5*100);(0,a.useEffect)(()=>{const e=localStorage.getItem("instructorRegistrationProgress");if(e)try{const t=JSON.parse(e),r=t.currentStep||1;r<5?(h(t.formData||m),o(r)):(t.formData&&h(t.formData),o(1))}catch(t){console.error("Error loading saved progress:",t)}},[]),(0,a.useEffect)(()=>{if(s>=5)return void localStorage.removeItem("instructorRegistrationProgress");const e={formData:m,currentStep:s};localStorage.setItem("instructorRegistrationProgress",JSON.stringify(e))},[m,s]),(0,a.useEffect)(()=>{3===s&&g()},[s]);const g=async()=>{try{const e=await i.A.get("/api/instructor/agreement-text");e.data.success&&u({text:e.data.data.text,instructorPercentage:e.data.data.instructorPercentage,adminPercentage:e.data.data.adminPercentage})}catch(e){console.error("Error fetching agreement:",e),er.error(t("instructorRegToastAgreementLoadFailed"))}},x=(e,t)=>{h(r=>(0,Be.A)((0,Be.A)({},r),{},{[e]:t}))},f=async()=>{if((()=>{const{name:e,email:r,password:a,confirmPassword:n,phone:s,country:i,expertise:o}=m;if(!e||!r||!a||!n||!s||!i)return er.error(t("instructorRegToastFillRequired")),!1;if(a!==n)return er.error(t("instructorRegToastPasswordsMismatch")),!1;if(!a||a.length<12)return er.error(t("instructorRegToastPasswordMinLength")),!1;if(!/[a-z]/.test(a))return er.error(t("instructorRegToastPasswordRequireLower")),!1;if(!/[A-Z]/.test(a))return er.error(t("instructorRegToastPasswordRequireUpper")),!1;if(!/[0-9]/.test(a))return er.error(t("instructorRegToastPasswordRequireNumber")),!1;if(!/[^A-Za-z0-9]/.test(a))return er.error(t("instructorRegToastPasswordRequireSymbol")),!1;if(!/^09\d{8}$/.test(s))return er.error(t("instructorRegToastPhoneInvalid")),!1;if(0===o.length)return er.error(t("instructorRegToastExpertiseRequired")),!1;if(o.includes("Other")&&!m.customExpertise.trim())return er.error(t("instructorRegToastCustomExpertiseRequired")),!1;const l=(e||"").trim();return!!/^(?:[\t-\r A-Za-z\xA0\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088F\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5C\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDC-\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2000-\u200A\u2028\u2029\u202F\u205F\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3000\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7DC\uA7F1-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFEFF\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD40-\uDD59\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC7\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDB0-\uDDDB\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDEA0-\uDEB8\uDEBB-\uDED3\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3\uDFF2\uDFF3]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDEC0-\uDEDE\uDEE0-\uDEE2\uDEE4\uDEE5\uDEE7-\uDEED\uDEF0-\uDEF4\uDEFE\uDEFF\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79])+$/.test(l)||(er.error(t("instructorRegToastNameLettersOnly")),!1)})())try{c(!0);const r=m.expertise.map(e=>"Other"===e?m.customExpertise.trim():e),a=await i.A.post("/api/auth/register-instructor",{name:m.name,email:m.email,password:m.password,phone:m.phone,country:m.country,expertise:r,profilePhoto:m.profilePhoto});if(a.data.success)if(a.data.isExisting){const{registrationProgress:r,emailVerified:n,status:s}=a.data;if("approved"===s)return er.success(t("instructorRegToastApproved")),void e("/login");if("pending_review"===s&&r>=5)return er.info(t("instructorRegToastPendingReview")),void o(5);a.data.name&&x("name",a.data.name),er.info(t("instructorRegToastResumeExisting")),1!==r&&n?2===r?o(3):3===r?o(4):r>=4&&o(5):o(2)}else er.success(t("instructorRegToastVerificationSent")),o(2)}catch(s){var r,a,n;const e=(null===(r=s.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||t("instructorRegToastRegistrationFailed");if(er.error(e),400===(null===(n=s.response)||void 0===n?void 0:n.status)&&e.includes("exists")){window.confirm(t("instructorRegConfirmResumeExisting"))&&(async()=>{if(!m.email)return void er.error(t("instructorRegToastEnterEmailFirst"));if(window.confirm(t("instructorRegConfirmRestartTitle")))try{c(!0),await i.A.delete("/api/auth/instructor-application",{data:{email:m.email}}),localStorage.removeItem("instructorRegistrationProgress"),h({name:"",email:m.email,password:"",confirmPassword:"",phone:"",country:"",expertise:[],customExpertise:"",profilePhoto:null,otp:"",emailVerified:!1,agreedToTerms:!1,signature:"",agreementPdfUrl:"",introVideoUrl:"",registrationProgress:1}),o(1),er.success(t("instructorRegToastRestarted"))}catch(s){var e,r;er.error((null===(e=s.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.message)||t("instructorRegToastRestartFailed"))}finally{c(!1)}})()}}finally{c(!1)}};return(0,xr.jsx)(Qa,{children:(0,xr.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 py-12 px-4 ".concat(n?"rtl":"ltr"),dir:n?"rtl":"ltr",children:(0,xr.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,xr.jsxs)("div",{className:"mb-8",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,xr.jsx)("h2",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:t("instructorRegStepLabel",{current:s,total:5})}),(0,xr.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:t("instructorRegProgressPercent",{percent:p})})]}),(0,xr.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,xr.jsx)(rr.P.div,{className:"bg-gradient-to-r from-indigo-600 to-purple-600 h-2 rounded-full",initial:{width:0},animate:{width:"".concat(s/5*100,"%")},transition:{duration:.5}})})]}),(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8",children:[(0,xr.jsxs)(tr.N,{mode:"wait",children:[1===s&&(0,xr.jsx)(eb,{formData:m,handleInputChange:x,handleExpertiseToggle:e=>{h(t=>(0,Be.A)((0,Be.A)({},t),{},{expertise:t.expertise.includes(e)?t.expertise.filter(t=>t!==e):[...t.expertise,e]}))},expertiseAreas:[{value:"Programming",labelKey:"instructorRegExpertiseProgramming"},{value:"Web Development",labelKey:"instructorRegExpertiseWebDevelopment"},{value:"Mobile Development",labelKey:"instructorRegExpertiseMobileDevelopment"},{value:"Data Science",labelKey:"instructorRegExpertiseDataScience"},{value:"Machine Learning",labelKey:"instructorRegExpertiseMachineLearning"},{value:"Cybersecurity",labelKey:"instructorRegExpertiseCybersecurity"},{value:"Cloud Computing",labelKey:"instructorRegExpertiseCloudComputing"},{value:"DevOps",labelKey:"instructorRegExpertiseDevOps"},{value:"UI/UX Design",labelKey:"instructorRegExpertiseUIUX"},{value:"Digital Marketing",labelKey:"instructorRegExpertiseDigitalMarketing"},{value:"Business",labelKey:"instructorRegExpertiseBusiness"},{value:"Languages",labelKey:"instructorRegExpertiseLanguages"},{value:"Other",labelKey:"instructorRegExpertiseOther"}]}),2===s&&(0,xr.jsx)(tb,{formData:m,handleInputChange:x}),3===s&&(0,xr.jsx)(rb,{formData:m,handleInputChange:x,agreementData:d}),4===s&&(0,xr.jsx)(ab,{formData:m,handleInputChange:x}),5===s&&(0,xr.jsx)(nb,{})]}),s<5&&(0,xr.jsxs)("div",{className:"flex justify-between mt-8",children:[(0,xr.jsxs)("button",{onClick:()=>{s>1&&o(s-1)},disabled:1===s||l,className:"flex items-center gap-2 px-6 py-3 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed transition",children:[(0,xr.jsx)(Em,{className:"w-4 h-4 ".concat(n?"transform-flip-x":"")}),(0,xr.jsx)("span",{children:t("back")})]}),(0,xr.jsx)("button",{onClick:()=>{1===s?f():2===s?(async()=>{if(m.otp)try{c(!0),(await i.A.post("/api/auth/verify-instructor-email",{email:m.email,otp:m.otp})).data.success&&(er.success(t("instructorRegToastEmailVerified")),x("emailVerified",!0),o(3))}catch(a){var e,r;er.error((null===(e=a.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.message)||t("instructorRegToastVerificationFailed"))}finally{c(!1)}else er.error(t("instructorRegToastEnterOTP"))})():3===s?(async()=>{if(!m.agreedToTerms)return void er.error(t("instructorRegToastAgreeTerms"));if(!m.signature)return void er.error(t("instructorRegToastSignatureRequired"));const e=(m.signature||"").trim();if(!/^(?:[\t-\r A-Za-z\xA0\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088F\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5C\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDC-\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2000-\u200A\u2028\u2029\u202F\u205F\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3000\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7DC\uA7F1-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFEFF\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD40-\uDD59\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC7\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDB0-\uDDDB\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDEA0-\uDEB8\uDEBB-\uDED3\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3\uDFF2\uDFF3]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDEC0-\uDEDE\uDEE0-\uDEE2\uDEE4\uDEE5\uDEE7-\uDEED\uDEF0-\uDEF4\uDEFE\uDEFF\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79])+$/.test(e))return void er.error(t("instructorRegToastSignatureLettersOnly"));const r=e=>(e||"").replace(/\s+/g," ").trim(),a=r(m.name),n=r(m.signature);if(a&&n!==a)er.error(t("instructorRegToastSignatureMustMatchName"));else try{c(!0);const e=Date.now().toString(),r=setInterval(async()=>{try{var r;const a=null===(r=(await i.A.get("/api/video-upload-jobs/".concat(e))).data)||void 0===r?void 0:r.data;a&&"number"===typeof a.percent&&er.loading("".concat(t("instructorRegGeneratingAgreement")||"Generating"," (").concat(a.percent,"%)"),{id:"pdf-generation"})}catch(qe){}},2e3);er.loading(t("instructorRegGeneratingAgreement")||"Generating...",{id:"pdf-generation"});const a=await i.A.post("/api/instructor/generate-agreement",{email:m.email,name:m.name,signature:m.signature,uploadSessionId:e});clearInterval(r),a.data.success&&(er.success(t("instructorRegToastAgreementSigned"),{id:"pdf-generation"}),x("agreementPdfUrl",a.data.pdfUrl),o(4))}catch(d){var s,l;er.error((null===(s=d.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.message)||t("instructorRegToastAgreementFailed"),{id:"pdf-generation"})}finally{c(!1)}})():4===s&&(async()=>{if(m.introVideoUrl)try{c(!0),await i.A.post("/api/instructor/save-intro-video",{email:m.email,videoUrl:m.introVideoUrl}),er.success(t("instructorRegToastVideoSaved")),o(5),localStorage.removeItem("instructorRegistrationProgress")}catch(a){var e,r;er.error((null===(e=a.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.message)||t("instructorRegToastVideoSaveFailed"))}finally{c(!1)}else er.error(t("instructorRegToastVideoRequired"))})()},disabled:l,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 disabled:opacity-50 transition",children:l?(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),t("processing")]}):(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)("span",{children:t(4===s?"completeLabel":"continueLabel")}),(0,xr.jsx)(qc,{className:"w-4 h-4 ".concat(n?"transform-flip-x":"")})]})})]})]})]})})})},ib=()=>(0,xr.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4",children:(0,xr.jsxs)("div",{className:"max-w-lg w-full bg-white dark:bg-gray-800 p-8 rounded-lg shadow",children:[(0,xr.jsx)("h1",{className:"text-2xl font-bold mb-4 text-gray-900 dark:text-white",children:"Instructor approval required"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Your email is verified. An admin must approve your instructor request before you can access the instructor dashboard or create courses."}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"You will be able to log in as an instructor once approved."})]})}),ob=(0,nr.A)("FileVideo",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]]),lb=()=>{const e=ae(),[t,r]=(0,a.useState)(""),[n,s]=(0,a.useState)(!1),[o,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(null),[u,m]=(0,a.useState)(!1),[h,p]=(0,a.useState)(0),[g,x]=(0,a.useState)(80),[f,y]=(0,a.useState)(!1),[v,b]=(0,a.useState)({maxVideoSizeMB:500});(0,a.useEffect)(()=>{w(),(async()=>{try{var e,t;const r=await i.A.get("/api/admin/settings/public");null!==(e=r.data)&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.maxVideoSizeMB&&b({maxVideoSizeMB:r.data.data.maxVideoSizeMB})}catch(qe){}})()},[]);const w=async()=>{try{const e=await i.A.get("/api/instructor/agreement-text");r(e.data.data.text),x(e.data.data.instructorPercentage)}catch(e){console.error("Error fetching agreement:",e),er.error("Failed to load agreement text")}};return(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:(0,xr.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,xr.jsxs)("div",{className:"card",children:[(0,xr.jsxs)("div",{className:"mb-8",children:[(0,xr.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Instructor Agreement"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Please read the agreement carefully and submit your introduction video to complete registration."})]}),(0,xr.jsxs)("form",{onSubmit:async r=>{if(r.preventDefault(),!n)return void er.error("You must agree to the terms to continue");if(!f)return void er.error("Please read the entire agreement before submitting");if(!o)return void er.error("Please upload your introduction video");let a;try{m(!0);const n=new FormData;n.append("video",o),n.append("agreedToTerms","true"),n.append("agreementText",t),n.append("agreementVersion","v1.0");const s=Date.now().toString();n.append("uploadSessionId",s);const l=localStorage.getItem("token");a=setInterval(async()=>{try{var e;const t=null===(e=(await i.A.get("/api/video-upload-jobs/".concat(s),{headers:{Authorization:"Bearer ".concat(l)}})).data)||void 0===e?void 0:e.data;t&&"number"===typeof t.percent&&p(t.percent)}catch(r){}},2e3);const c=await i.A.post("/api/instructor/submit-agreement",n,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(l)},onUploadProgress:e=>{const t=Math.round(100*e.loaded/e.total);t<100&&p(t)}});clearInterval(a),er.success(c.data.message),e("/instructor/pending-approval")}catch(c){var s,l;console.error("Submit agreement error:",c),er.error((null===(s=c.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.message)||"Failed to submit agreement")}finally{a&&clearInterval(a),m(!1),p(0)}},className:"space-y-6",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsxs)("label",{className:"label flex items-center justify-between",children:[(0,xr.jsx)("span",{children:"Instructor Agreement"}),(0,xr.jsx)("span",{className:"text-sm text-gray-500",children:f?(0,xr.jsxs)("span",{className:"flex items-center text-green-600",children:[(0,xr.jsx)(Om,{className:"w-4 h-4 mr-1"}),"Read"]}):(0,xr.jsxs)("span",{className:"flex items-center text-yellow-600",children:[(0,xr.jsx)(Fm,{className:"w-4 h-4 mr-1"}),"Scroll to bottom"]})})]}),(0,xr.jsx)("div",{className:"border border-gray-300 dark:border-gray-600 rounded-lg p-4 h-80 overflow-y-auto bg-white dark:bg-gray-800",onScroll:e=>{const t=e.target;t.scrollHeight-t.scrollTop<=t.clientHeight+50&&y(!0)},children:(0,xr.jsx)("pre",{className:"whitespace-pre-wrap text-sm text-gray-700 dark:text-gray-300 font-sans",children:t})})]}),(0,xr.jsxs)("div",{className:"bg-primary-50 dark:bg-primary-900/20 border border-primary-200 dark:border-primary-800 rounded-lg p-4",children:[(0,xr.jsx)("h3",{className:"font-semibold text-primary-900 dark:text-primary-100 mb-2",children:"Your Earnings"}),(0,xr.jsxs)("p",{className:"text-primary-700 dark:text-primary-300",children:["You will receive ",(0,xr.jsxs)("span",{className:"font-bold text-2xl",children:[g,"%"]})," of all student payments for your courses."]}),(0,xr.jsxs)("p",{className:"text-sm text-primary-600 dark:text-primary-400 mt-1",children:["The platform retains ",100-g,"% for operational costs and payment processing."]})]}),(0,xr.jsxs)("div",{className:"flex items-start",children:[(0,xr.jsx)("input",{type:"checkbox",id:"agreedToTerms",checked:n,onChange:e=>s(e.target.checked),className:"mt-1 h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded",required:!0}),(0,xr.jsx)("label",{htmlFor:"agreedToTerms",className:"ml-3 text-sm text-gray-700 dark:text-gray-300",children:"I have read, understood, and agree to the Instructor Agreement. I acknowledge that I must provide high-quality educational content and maintain professional conduct at all times."})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsxs)("label",{className:"label",children:["Introduction Video (4-6 minutes)",(0,xr.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,xr.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:["Record a 4-6 minute video introducing yourself, explaining what courses you plan to teach, and discussing your expertise. Max size ",v.maxVideoSizeMB,"MB."]}),o?(0,xr.jsxs)("div",{className:"space-y-3",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,xr.jsx)(ob,{className:"w-8 h-8 text-green-600 dark:text-green-400"}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:o.name}),(0,xr.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(o.size/1048576).toFixed(2)," MB"]})]})]}),(0,xr.jsx)("button",{type:"button",onClick:()=>{l(null),d(null)},className:"text-red-600 hover:text-red-700 text-sm font-medium",children:"Remove"})]}),c&&(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Preview"}),(0,xr.jsx)("video",{src:c,controls:!0,className:"w-full rounded-lg",style:{maxHeight:"400px"}})]})]}):(0,xr.jsxs)("label",{className:"flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[(0,xr.jsxs)("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[(0,xr.jsx)(Ym,{className:"w-12 h-12 mb-3 text-gray-400"}),(0,xr.jsxs)("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:[(0,xr.jsx)("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),(0,xr.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["MP4, MOV, AVI, or WEBM (Max ",v.maxVideoSizeMB,"MB)"]})]}),(0,xr.jsx)("input",{type:"file",className:"hidden",accept:"video/mp4,video/quicktime,video/x-msvideo,video/webm",onChange:e=>{const t=e.target.files[0];if(!t)return;if(!["video/mp4","video/quicktime","video/x-msvideo","video/webm"].includes(t.type))return void er.error("Invalid video format. Please upload MP4, MOV, AVI, or WEBM");const r=1024*(v.maxVideoSizeMB||500)*1024;t.size>r?er.error("Video size cannot exceed ".concat(v.maxVideoSizeMB,"MB")):(l(t),d(URL.createObjectURL(t)))}})]})]}),u&&(0,xr.jsxs)("div",{children:[(0,xr.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 dark:text-gray-400 mb-2",children:[(0,xr.jsx)("span",{children:"Uploading..."}),(0,xr.jsxs)("span",{children:[h,"%"]})]}),(0,xr.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700",children:(0,xr.jsx)("div",{className:"bg-primary-600 h-2.5 rounded-full transition-all duration-300",style:{width:"".concat(h,"%")}})})]}),(0,xr.jsxs)("div",{className:"flex justify-end space-x-4 pt-4",children:[(0,xr.jsx)("button",{type:"button",onClick:()=>e("/login"),className:"btn-secondary",disabled:u,children:"Cancel"}),(0,xr.jsx)("button",{type:"submit",className:"btn-primary",disabled:!n||!o||u||!f,children:u?"Submitting...":"Submit Agreement"})]})]})]})})})},cb=(0,nr.A)("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]),db=e=>{var t;let{summary:r,payoutSettings:n,adminSettings:s,requestForm:i,setRequestForm:o,requesting:l,onClose:c,onSubmit:d}=e;const u=(null===(t=r.available)||void 0===t?void 0:t.amount)||0,m=100*((null===s||void 0===s?void 0:s.minimumPayoutAmountSYP)||1e4),h=Array.isArray(null===s||void 0===s?void 0:s.paymentProviders)?s.paymentProviders.filter(e=>e&&e.key&&e.name&&!1!==e.isActive):[],[p,g]=a.useState(""),[x,f]=a.useState("");a.useEffect(()=>{x||u&&(o(e=>(0,Be.A)((0,Be.A)({},e),{},{requestedAmount:u})),f((u/100).toFixed(2)))},[x,u,o]);const y=a.useMemo(()=>null!==n&&void 0!==n&&n.receiverDetails?n.receiverDetails.filter(e=>(e.providerKey||e.paymentMethod)===i.paymentMethod):[],[n,i.paymentMethod]);a.useEffect(()=>{var e;if(i.paymentMethod)return;const t=(null===(e=h[0])||void 0===e?void 0:e.key)||"other";o(e=>(0,Be.A)((0,Be.A)({},e),{},{paymentMethod:t}))},[h,i.paymentMethod,o]),a.useEffect(()=>{y.length>0?o(e=>(0,Be.A)((0,Be.A)({},e),{},{receiverDetailsId:y[0]._id})):o(e=>(0,Be.A)((0,Be.A)({},e),{},{receiverDetailsId:""}))},[i.paymentMethod,y,o]);const v=y.find(e=>e._id===i.receiverDetailsId),b=u>=m&&!p&&x&&i.receiverDetailsId;return(0,xr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md max-h-[90vh] flex flex-col",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,xr.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Request Payout"}),(0,xr.jsx)("button",{onClick:c,className:"text-gray-500 hover:text-gray-700 dark:text-gray-300 text-2xl",children:"\u2715"})]}),(0,xr.jsxs)("div",{className:"p-6 overflow-y-auto flex-1",children:[(0,xr.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 mb-6",children:[(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Available Balance"}),(0,xr.jsxs)("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[(u/100).toLocaleString()," SYP"]}),(0,xr.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:["Minimum payout: ",(m/100).toLocaleString()," SYP"]})]}),u<m&&(0,xr.jsx)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded-lg p-3 mb-4",children:(0,xr.jsxs)("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:["\u26a0\ufe0f Your balance is below the minimum payout amount. You need ",((m-u)/100).toLocaleString()," SYP more."]})}),(0,xr.jsxs)("div",{className:"mb-6",children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Amount to Withdraw (SYP) *"}),(0,xr.jsx)("input",{type:"text",className:"w-full px-4 py-2 border rounded-lg dark:bg-gray-700 dark:text-white ".concat(p?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-indigo-500"),value:x,onChange:e=>{let t=e.target.value;if(/[^0-9.]/.test(t))return void g("Only numbers are allowed. No letters or special characters.");if((t.match(/\./g)||[]).length>1)return;if(f(t),!t||"."===t)return g("Please enter a valid amount"),void o(e=>(0,Be.A)((0,Be.A)({},e),{},{requestedAmount:null}));const r=parseFloat(t);if(isNaN(r))return g("Please enter a valid number"),void o(e=>(0,Be.A)((0,Be.A)({},e),{},{requestedAmount:null}));if(r<=0)return g("Amount must be greater than 0"),void o(e=>(0,Be.A)((0,Be.A)({},e),{},{requestedAmount:null}));const a=Math.round(100*r);return a<m?(g("Minimum payout is ".concat((m/100).toLocaleString()," SYP")),void o(e=>(0,Be.A)((0,Be.A)({},e),{},{requestedAmount:null}))):a>u?(g("Amount cannot exceed available balance of ".concat((u/100).toLocaleString()," SYP")),void o(e=>(0,Be.A)((0,Be.A)({},e),{},{requestedAmount:null}))):(g(""),o(e=>(0,Be.A)((0,Be.A)({},e),{},{requestedAmount:a})),void console.log("Amount updated to:",a,"SYP (in smallest units)"))},placeholder:(u/100).toFixed(2)}),p&&(0,xr.jsxs)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:["\u26a0\ufe0f ",p]}),(0,xr.jsxs)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:["Enter amount between ",(m/100).toLocaleString()," and ",(u/100).toLocaleString()," SYP"]})]}),(0,xr.jsxs)("div",{className:"mb-6",children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Payment Method *"}),(0,xr.jsx)("select",{className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-indigo-500",value:i.paymentMethod,onChange:e=>o((0,Be.A)((0,Be.A)({},i),{},{paymentMethod:e.target.value})),children:h.length>0?h.map(e=>(0,xr.jsx)("option",{value:e.key,children:e.name},e.key)):(0,xr.jsx)("option",{value:"other",children:"Other"})})]}),0===y.length?(0,xr.jsxs)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-lg p-4 mb-6",children:[(0,xr.jsxs)("p",{className:"text-sm text-red-800 dark:text-red-200 font-medium mb-1",children:["\u274c No receiver details for ",i.paymentMethod]}),(0,xr.jsx)("p",{className:"text-xs text-red-600 dark:text-red-400",children:"Please go to Settings \u2192 Payout Settings to add receiver details for this payment method."})]}):(0,xr.jsxs)("div",{className:"mb-6",children:[(0,xr.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Receiver Details for ",i.paymentMethod," *"]}),1===y.length?(0,xr.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 border-2 border-indigo-200 dark:border-indigo-700",children:(0,xr.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,xr.jsxs)("p",{className:"text-gray-700 dark:text-gray-300",children:[(0,xr.jsx)("strong",{children:"Name:"})," ",null===v||void 0===v?void 0:v.receiverName]}),(0,xr.jsxs)("p",{className:"text-gray-700 dark:text-gray-300",children:[(0,xr.jsx)("strong",{children:"Phone:"})," ",null===v||void 0===v?void 0:v.receiverPhone]}),(null===v||void 0===v?void 0:v.receiverLocation)&&(0,xr.jsxs)("p",{className:"text-gray-700 dark:text-gray-300",children:[(0,xr.jsx)("strong",{children:"Location:"})," ",v.receiverLocation]}),(null===v||void 0===v?void 0:v.accountDetails)&&(0,xr.jsxs)("p",{className:"text-gray-700 dark:text-gray-300",children:[(0,xr.jsx)("strong",{children:"Account:"})," ",v.accountDetails]})]})}):(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)("select",{className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white focus:ring-indigo-500 mb-3",value:i.receiverDetailsId,onChange:e=>o((0,Be.A)((0,Be.A)({},i),{},{receiverDetailsId:e.target.value})),children:y.map(e=>(0,xr.jsxs)("option",{value:e._id,children:[e.receiverName," - ",e.receiverPhone]},e._id))}),v&&(0,xr.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:(0,xr.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,xr.jsxs)("p",{className:"text-gray-700 dark:text-gray-300",children:[(0,xr.jsx)("strong",{children:"Name:"})," ",v.receiverName]}),(0,xr.jsxs)("p",{className:"text-gray-700 dark:text-gray-300",children:[(0,xr.jsx)("strong",{children:"Phone:"})," ",v.receiverPhone]}),v.receiverLocation&&(0,xr.jsxs)("p",{className:"text-gray-700 dark:text-gray-300",children:[(0,xr.jsx)("strong",{children:"Location:"})," ",v.receiverLocation]}),v.accountDetails&&(0,xr.jsxs)("p",{className:"text-gray-700 dark:text-gray-300",children:[(0,xr.jsx)("strong",{children:"Account:"})," ",v.accountDetails]})]})})]})]})]}),(0,xr.jsxs)("div",{className:"flex gap-3 p-6 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:[(0,xr.jsx)("button",{onClick:c,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50",disabled:l,children:"Cancel"}),(0,xr.jsx)("button",{onClick:d,className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",disabled:l||!b||!i.receiverDetailsId,children:l?(0,xr.jsxs)("span",{className:"flex items-center justify-center",children:[(0,xr.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,xr.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,xr.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):"Submit Request"})]})]})})},ub=()=>{var e,t,r,n,s,o,l,c,d,u,m,h,p;const{user:g}=wr(),[x,f]=(0,a.useState)({accrued:{amount:0,count:0},requested:{amount:0,count:0},paid:{amount:0,count:0},rejected:{amount:0,count:0}}),[y,v]=(0,a.useState)([]),[b,w]=(0,a.useState)([]),[j,k]=(0,a.useState)(!0),[N,C]=(0,a.useState)({status:"",courseId:"",startDate:"",endDate:""}),[A,S]=(0,a.useState)(1),[E,D]=(0,a.useState)(1),[P,T]=(0,a.useState)(!1),[_,R]=(0,a.useState)(null),[O,F]=(0,a.useState)(null),[L,M]=(0,a.useState)({paymentMethod:"",receiverDetailsId:""}),[I,B]=(0,a.useState)(!1),[q,z]=(0,a.useState)({}),[U,V]=(0,a.useState)([]),[Y,W]=(0,a.useState)(!1),H=(0,a.useRef)(null),G=Bm(g,"requestPayout");(0,a.useEffect)(()=>{K()},[A,N]),(0,a.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await i.A.get("/api/payout-requests/my-requests?limit=2",{headers:{Authorization:"Bearer ".concat(e)}});V(t.data.data||[])}catch(qe){}})()},[]),(0,a.useEffect)(()=>{const e=e=>{H.current&&!H.current.contains(e.target)&&W(!1)};return Y&&document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[Y]);const K=async()=>{try{k(!0);const e=localStorage.getItem("token"),[t,r,a,n,s]=await Promise.all([i.A.get("/api/instructor-earnings/summary",{headers:{Authorization:"Bearer ".concat(e)}}),i.A.post("/api/instructor-earnings/list",(0,Be.A)((0,Be.A)({},N),{},{page:A,limit:50}),{headers:{Authorization:"Bearer ".concat(e)}}),i.A.get("/api/instructor-earnings/by-course",{headers:{Authorization:"Bearer ".concat(e)}}),i.A.get("/api/instructor/settings",{headers:{Authorization:"Bearer ".concat(e)}}).catch(()=>({data:{data:null}})),i.A.get("/api/admin/settings/public").catch(()=>({data:{data:null}}))]);f(t.data.data),v(r.data.data),D(r.data.pagination.pages),w(a.data.data),s.data.data&&F(s.data.data),n.data.data&&R(n.data.data)}catch(e){console.error("Error fetching earnings:",e),er.error("Failed to fetch earnings data")}finally{k(!1)}},Q=(null===(e=x.available)||void 0===e?void 0:e.amount)||0,$=(null===O||void 0===O?void 0:O.minimumPayoutAmountSYP)||1e4,X=Q>=100*$,J=X&&!G;return j?(0,xr.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,xr.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:[(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,xr.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"My Earnings"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Track your income from student payments"})]}),(0,xr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,xr.jsxs)(Oe,{to:"/instructor/payment-history",className:"btn-primary flex items-center",children:[(0,xr.jsx)(cb,{className:"w-4 h-4 mr-2"}),"Payment History"]}),(0,xr.jsxs)("button",{onClick:async()=>{try{const e=localStorage.getItem("token"),t=await i.A.post("/api/instructor-earnings/export",N,{headers:{Authorization:"Bearer ".concat(e)},responseType:"blob"}),r=window.URL.createObjectURL(new Blob([t.data])),a=document.createElement("a");a.href=r,a.setAttribute("download","earnings_".concat(Date.now(),".csv")),document.body.appendChild(a),a.click(),a.remove(),er.success("Earnings exported successfully")}catch(e){console.error("Export error:",e),er.error("Failed to export earnings")}},className:"btn-secondary flex items-center",children:[(0,xr.jsx)(Vm,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]})]}),(null===(t=x.available)||void 0===t?void 0:t.byCurrency)&&Object.keys(x.available.byCurrency).length>0&&(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 mb-8",children:[(0,xr.jsxs)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,xr.jsx)(Kh,{className:"w-6 h-6 mr-2 text-green-600"}),"Available Balance by Currency"]}),(0,xr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Object.entries(x.available.byCurrency).map(e=>{let[t,r]=e;return(0,xr.jsxs)("div",{className:"border-2 border-green-200 dark:border-green-700 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,xr.jsx)("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:t}),(0,xr.jsx)(Kh,{className:"w-5 h-5 text-green-600"})]}),(0,xr.jsx)("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:(r.amount/100).toLocaleString()}),(0,xr.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:[r.count," earnings"]})]},t)})})]}),(0,xr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,xr.jsxs)("div",{className:"card bg-gradient-to-br from-green-500 to-green-600 text-white",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,xr.jsx)("h3",{className:"text-sm font-medium opacity-90",children:"Available Balance"}),(0,xr.jsx)(Kh,{className:"w-5 h-5 opacity-75"})]}),(0,xr.jsxs)("p",{className:"text-3xl font-bold",children:[(Q/100).toLocaleString()," SYP"]}),(0,xr.jsx)("p",{className:"text-sm opacity-75 mt-1",children:G?"Your instructor account is temporarily restricted from requesting payouts. Please contact support if you believe this is a mistake.":X?"Ready to request payout":"Not enough to request. Minimum payout is ".concat($.toLocaleString()," SYP.")}),J&&(0,xr.jsx)("button",{onClick:()=>T(!0),className:"mt-4 w-full bg-white text-green-600 px-4 py-2 rounded-lg font-medium hover:bg-gray-50 transition",children:"Request Payout"})]}),(0,xr.jsxs)("div",{className:"card bg-gradient-to-br from-yellow-500 to-yellow-600 text-white",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,xr.jsx)("h3",{className:"text-sm font-medium opacity-90",children:"Pending Requests"}),(0,xr.jsx)(Zc,{className:"w-5 h-5 opacity-75"})]}),(0,xr.jsxs)("p",{className:"text-3xl font-bold",children:[(((null===(r=x.pending)||void 0===r?void 0:r.amount)||0)/100).toLocaleString()," SYP"]}),(0,xr.jsxs)("p",{className:"text-sm opacity-75 mt-1",children:[(null===(n=x.pending)||void 0===n?void 0:n.count)||0," requests"]})]}),(0,xr.jsxs)("div",{className:"card bg-gradient-to-br from-blue-500 to-blue-600 text-white",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,xr.jsx)("h3",{className:"text-sm font-medium opacity-90",children:"Total Paid Out"}),(0,xr.jsx)(Jc,{className:"w-5 h-5 opacity-75"})]}),(0,xr.jsxs)("p",{className:"text-3xl font-bold",children:[(((null===(s=x.paid)||void 0===s?void 0:s.amount)||0)/100).toLocaleString()," SYP"]}),(0,xr.jsx)("p",{className:"text-sm opacity-75 mt-1",children:"Lifetime earnings"})]}),(0,xr.jsxs)("div",{className:"card bg-gradient-to-br from-red-500 to-red-600 text-white",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,xr.jsx)("h3",{className:"text-sm font-medium opacity-90",children:"Rejected Requests"}),(0,xr.jsx)(Zm,{className:"w-5 h-5 opacity-75"})]}),(0,xr.jsxs)("p",{className:"text-3xl font-bold",children:[(((null===(o=x.rejected)||void 0===o?void 0:o.amount)||0)/100).toLocaleString()," SYP"]}),(0,xr.jsxs)("p",{className:"text-sm opacity-75 mt-1",children:[(null===(l=x.rejected)||void 0===l?void 0:l.count)||0," requests"]})]})]}),(0,xr.jsxs)("div",{className:"card mb-8",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-6",ref:H,children:[(0,xr.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[(0,xr.jsx)(Kh,{className:"w-6 h-6 mr-2 text-indigo-600"}),"My Payout Requests"]}),(0,xr.jsxs)("div",{className:"relative",children:[(0,xr.jsxs)("button",{onClick:()=>W(!Y),className:"btn-secondary flex items-center",children:[(0,xr.jsx)(Kh,{className:"w-4 h-4 mr-2"}),"My Requests"]}),Y&&(0,xr.jsxs)("div",{className:"absolute right-0 mt-2 w-64 card shadow-lg z-10",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,xr.jsxs)("div",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[(0,xr.jsx)(Kh,{className:"w-4 h-4 text-green-600"}),(0,xr.jsx)("span",{className:"font-medium",children:"Recent"})]}),(0,xr.jsx)(Oe,{to:"/instructor/payment-history",className:"text-xs text-indigo-600 dark:text-indigo-400 hover:underline",onClick:()=>W(!1),children:"View all"})]}),0===U.length?(0,xr.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"No requests yet"}):(0,xr.jsx)("div",{className:"space-y-2",children:U.map(e=>(0,xr.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,xr.jsxs)("span",{className:"text-gray-700 dark:text-gray-300",children:[(e.requestedAmount/100).toLocaleString()," ",e.currency]}),(0,xr.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs capitalize ".concat("approved"===e.status?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":"pending"===e.status?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-300":"rejected"===e.status?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300"),children:e.status})]},e._id))})]})]})]}),(null===(c=x.pending)||void 0===c?void 0:c.requests)&&x.pending.requests.length>0&&(0,xr.jsxs)("div",{className:"mb-6",children:[(0,xr.jsxs)("h3",{className:"text-lg font-semibold text-yellow-600 dark:text-yellow-400 mb-3",children:["\u23f3 Pending (",x.pending.count,")"]}),(0,xr.jsx)("div",{className:"space-y-3",children:x.pending.requests.map(e=>(0,xr.jsx)("div",{className:"border-2 border-yellow-200 dark:border-yellow-700 rounded-lg p-4 bg-yellow-50 dark:bg-yellow-900/20",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsxs)("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[((e.requestedAmount||0)/100).toLocaleString()," SYP"]}),(0,xr.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Requested: ",new Date(e.createdAt).toLocaleDateString()]})]}),(0,xr.jsx)("div",{className:"flex items-center gap-2",children:(0,xr.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-yellow-200 dark:bg-yellow-700 text-yellow-800 dark:text-yellow-100",children:"Pending"})})]})},e._id))})]}),(null===(d=x.rejected)||void 0===d?void 0:d.requests)&&x.rejected.requests.length>0&&(0,xr.jsxs)("div",{className:"mb-6",children:[(0,xr.jsxs)("h3",{className:"text-lg font-semibold text-red-600 dark:text-red-400 mb-3",children:["\u274c Rejected (",x.rejected.count,")"]}),(0,xr.jsx)("div",{className:"space-y-3",children:x.rejected.requests.map(e=>(0,xr.jsx)("div",{className:"border-2 border-red-200 dark:border-red-700 rounded-lg p-4 bg-red-50 dark:bg-red-900/20",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsxs)("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[((e.requestedAmount||0)/100).toLocaleString()," SYP"]}),(0,xr.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Requested: ",new Date(e.createdAt).toLocaleDateString()]}),e.rejectionReason&&(0,xr.jsxs)("p",{className:"text-sm text-red-600 dark:text-red-400 mt-1",children:["Reason: ",e.rejectionReason]})]}),(0,xr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,xr.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-red-200 dark:bg-red-700 text-red-800 dark:text-red-100",children:"Rejected"}),(0,xr.jsx)("button",{onClick:()=>(async e=>{try{const t=localStorage.getItem("token");await i.A.put("/api/payout-requests/".concat(e,"/re-request"),{},{headers:{Authorization:"Bearer ".concat(t)}}),er.success("Payout re-requested"),K()}catch(a){var t,r;console.error("Re-request error:",a),er.error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to re-request payout")}})(e._id),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 text-sm font-medium",children:"Request Again"})]})]})},e._id))})]}),(null===(u=x.paid)||void 0===u?void 0:u.requests)&&x.paid.requests.length>0&&(0,xr.jsxs)("div",{className:"mb-6",children:[(0,xr.jsxs)("h3",{className:"text-lg font-semibold text-green-600 dark:text-green-400 mb-3",children:["\u2705 Paid (",x.paid.requests.length,")"]}),(0,xr.jsx)("div",{className:"space-y-3",children:x.paid.requests.map(e=>{var t;return(0,xr.jsx)("div",{className:"border-2 border-green-200 dark:border-green-700 rounded-lg p-4 bg-green-50 dark:bg-green-900/20",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsxs)("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[((e.requestedAmount||0)/100).toLocaleString()," SYP"]}),(0,xr.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Paid: ",new Date(e.processedAt).toLocaleDateString()]})]}),(0,xr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,xr.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-green-200 dark:bg-green-700 text-green-800 dark:text-green-100",children:"Paid"}),(null===(t=e.payoutProof)||void 0===t?void 0:t.url)&&(0,xr.jsxs)("button",{onClick:()=>(async(e,t)=>{try{const r=localStorage.getItem("token"),a=await fetch(e,{headers:{Authorization:"Bearer ".concat(r)}});if(!a.ok)throw new Error("Failed to download receipt");const n=await a.blob(),s=window.URL.createObjectURL(n),i=document.createElement("a");i.href=s,i.download=t||"payout_receipt_".concat(Date.now(),".pdf"),document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(s),er.success("Receipt downloaded successfully")}catch(r){console.error("Download receipt error:",r),er.error("Failed to download receipt")}})(e.payoutProof.url,e.payoutProof.originalName),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-medium flex items-center gap-1",children:[(0,xr.jsx)(Vm,{className:"w-4 h-4"}),"Receipt"]})]})]})},e._id)})})]}),(!(null!==(m=x.pending)&&void 0!==m&&m.requests)||0===x.pending.requests.length)&&(!(null!==(h=x.rejected)&&void 0!==h&&h.requests)||0===x.rejected.requests.length)&&(!(null!==(p=x.paid)&&void 0!==p&&p.requests)||0===x.paid.requests.length)&&(0,xr.jsxs)("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[(0,xr.jsx)("p",{children:"No payout requests yet"}),(0,xr.jsx)("p",{className:"text-sm mt-2",children:'Click "Request Payout" above when you have sufficient balance'})]})]}),b.length>0&&(0,xr.jsxs)("div",{className:"card mb-8",children:[(0,xr.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Earnings by Course"}),(0,xr.jsx)("div",{className:"space-y-3",children:b.map(e=>(0,xr.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg",children:[(0,xr.jsxs)("button",{onClick:()=>{return t=e._id,void z(e=>(0,Be.A)((0,Be.A)({},e),{},{[t]:!e[t]}));var t},className:"w-full p-4 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-800 transition",children:[(0,xr.jsxs)("div",{className:"flex-1 text-left",children:[(0,xr.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:e.courseName}),(0,xr.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.studentCount," students \u2022 $",(e.totalEarnings/100).toFixed(2)," total"]})]}),q[e._id]?(0,xr.jsx)(zh,{className:"w-5 h-5 text-gray-400"}):(0,xr.jsx)(eh,{className:"w-5 h-5 text-gray-400"})]}),q[e._id]&&(0,xr.jsxs)("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700",children:[(0,xr.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Your Total Earnings"}),(0,xr.jsxs)("p",{className:"font-semibold text-gray-900 dark:text-white",children:["$",(e.totalEarnings/100).toFixed(2)]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Total Student Payments"}),(0,xr.jsxs)("p",{className:"font-semibold text-gray-900 dark:text-white",children:["$",(e.totalStudentPayments/100).toFixed(2)]})]})]}),(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-3",children:'\ud83d\udca1 Track your payout status in the "My Payout Requests" section above'})]})]},e._id))})]}),(0,xr.jsxs)("div",{className:"mb-6",children:[(0,xr.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[(0,xr.jsx)(Jc,{className:"w-6 h-6 mr-2 text-blue-600"}),"Student Payments"]}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"All payments received from students with your share breakdown"})]}),(0,xr.jsx)("div",{className:"card mb-6",children:(0,xr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Status"}),(0,xr.jsxs)("select",{className:"input-field",value:N.status,onChange:e=>C((0,Be.A)((0,Be.A)({},N),{},{status:e.target.value})),children:[(0,xr.jsx)("option",{value:"",children:"All Statuses"}),(0,xr.jsx)("option",{value:"accrued",children:"Accrued"}),(0,xr.jsx)("option",{value:"requested",children:"Requested"}),(0,xr.jsx)("option",{value:"paid",children:"Paid"}),(0,xr.jsx)("option",{value:"rejected",children:"Rejected"})]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Start Date"}),(0,xr.jsx)("input",{type:"date",className:"input-field",value:N.startDate,onChange:e=>C((0,Be.A)((0,Be.A)({},N),{},{startDate:e.target.value}))})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"End Date"}),(0,xr.jsx)("input",{type:"date",className:"input-field",value:N.endDate,onChange:e=>C((0,Be.A)((0,Be.A)({},N),{},{endDate:e.target.value}))})]}),(0,xr.jsx)("div",{className:"flex items-end",children:(0,xr.jsx)("button",{onClick:()=>C({status:"",courseId:"",startDate:"",endDate:""}),className:"btn-secondary w-full",children:"Clear Filters"})})]})}),(0,xr.jsxs)("div",{className:"card overflow-x-auto",children:[(0,xr.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,xr.jsx)("thead",{children:(0,xr.jsxs)("tr",{children:[(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Date"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Student"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Course / Section"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Course Total"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Balance Used"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Student Paid"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Payment Type"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Split %"})]})}),(0,xr.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:y.map(e=>{var t,r,a,n,s;const i=e.baseAmountSYP||e.studentPaidAmount+(e.balanceUsed||0),o=null!=e.platformPercentage?e.platformPercentage:100-e.instructorPercentage;return(0,xr.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[(0,xr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:new Date(e.accruedAt).toLocaleDateString()}),(0,xr.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,xr.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:null===(t=e.student)||void 0===t?void 0:t.name}),(0,xr.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:null===(r=e.student)||void 0===r?void 0:r.email})]}),(0,xr.jsxs)("td",{className:"px-6 py-4",children:[(0,xr.jsx)("div",{className:"text-sm text-gray-900 dark:text-white",children:null===(a=e.course)||void 0===a?void 0:a.name}),(0,xr.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:null===(n=e.section)||void 0===n?void 0:n.name})]}),(0,xr.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,xr.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:((i||0)/100).toFixed(2)}),(0,xr.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Original Price"})]}),(0,xr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.balanceUsed>0?(0,xr.jsx)("div",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:(e.balanceUsed/100).toFixed(2)}):(0,xr.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"No Balance"})}),(0,xr.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,xr.jsx)("div",{className:"text-sm font-bold text-gray-900 dark:text-white",children:(e.studentPaidAmount/100).toFixed(2)}),(0,xr.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.currency})]}),(0,xr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.balanceUsed>0&&0===e.studentPaidAmount?(0,xr.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",children:"Wallet Only"}):e.balanceUsed>0?(0,xr.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:"Mixed Payment"}):(0,xr.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200",children:(null===(s=e.paymentMethod)||void 0===s?void 0:s.replace("_"," ").toUpperCase())||"REGULAR"})}),(0,xr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,xr.jsxs)("div",{className:"space-y-1",children:[(0,xr.jsxs)("div",{className:"flex items-center",children:[(0,xr.jsxs)("span",{className:"font-semibold text-green-600 dark:text-green-400 mr-1",children:[e.instructorPercentage,"%"]}),(0,xr.jsx)("span",{className:"text-xs text-gray-500",children:"Your share"})]}),(0,xr.jsxs)("div",{className:"flex items-center",children:[(0,xr.jsxs)("span",{className:"font-semibold text-purple-600 dark:text-purple-400 mr-1",children:[o,"%"]}),(0,xr.jsx)("span",{className:"text-xs text-gray-500",children:"Platform"})]})]})})]},e._id)})})]}),0===y.length&&(0,xr.jsxs)("div",{className:"text-center py-12",children:[(0,xr.jsx)(Um,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,xr.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No earnings found"})]})]}),E>1&&(0,xr.jsxs)("div",{className:"flex justify-center mt-6 space-x-2",children:[(0,xr.jsx)("button",{onClick:()=>S(e=>Math.max(1,e-1)),disabled:1===A,className:"btn-secondary disabled:opacity-50",children:"Previous"}),(0,xr.jsxs)("span",{className:"flex items-center px-4 text-gray-700 dark:text-gray-300",children:["Page ",A," of ",E]}),(0,xr.jsx)("button",{onClick:()=>S(e=>Math.min(E,e+1)),disabled:A===E,className:"btn-secondary disabled:opacity-50",children:"Next"})]})]}),P&&(0,xr.jsx)(db,{summary:x,payoutSettings:_,adminSettings:O,requestForm:L,setRequestForm:M,requesting:I,onClose:()=>T(!1),onSubmit:async()=>{if(G)er.error("Your instructor account is suspended. You cannot request payouts right now.");else try{if(!L.receiverDetailsId)return void er.error("Please select receiver details");if(!L.requestedAmount)return void er.error("Please enter a valid payout amount");B(!0);const e=localStorage.getItem("token");console.log("Submitting payout request with data:",L),await i.A.post("/api/payout-requests/create",L,{headers:{Authorization:"Bearer ".concat(e)}}),er.success("Payout request submitted successfully! Admin will review it shortly."),T(!1),M({paymentMethod:"",receiverDetailsId:""}),K()}catch(r){var e,t;console.error("Request payout error:",r),er.error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to submit payout request")}finally{B(!1)}}})]})},mb=(0,nr.A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),hb=e=>{let{status:t}=e;return(0,xr.jsx)("span",{className:"px-2 py-1 rounded-full text-xs capitalize ".concat({approved:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300",rejected:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",cancelled:"bg-gray-200 text-gray-700 dark:bg-gray-700 dark:text-gray-300"}[t]||"bg-gray-100 text-gray-800"),children:t})},pb=()=>{const e=ae(),[t,r]=(0,a.useState)([]),[n,s]=(0,a.useState)(!0),[o,l]=(0,a.useState)(1),[c,d]=(0,a.useState)(1),[u,m]=(0,a.useState)(0),[h,p]=(0,a.useState)({status:"",startDate:"",endDate:""}),[g,x]=(0,a.useState)(!1),f=(0,a.useMemo)(()=>{const e=new URLSearchParams;return e.set("page",o),e.set("limit",10),h.status&&e.set("status",h.status),e.toString()},[o,h]),y=async()=>{try{var e,t;s(!0);const a=localStorage.getItem("token"),n=await i.A.get("/api/payout-requests/my-requests?".concat(f),{headers:{Authorization:"Bearer ".concat(a)}});r(n.data.data||[]),m((null===(e=n.data.pagination)||void 0===e?void 0:e.total)||0),d((null===(t=n.data.pagination)||void 0===t?void 0:t.pages)||1)}catch(o){var a,n;console.error("Fetch payout requests error:",o),er.error((null===(a=o.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message)||"Failed to load payment history")}finally{s(!1)}};(0,a.useEffect)(()=>{y()},[f]);return(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:(0,xr.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,xr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,xr.jsxs)("button",{onClick:()=>e(-1),className:"text-indigo-600 dark:text-indigo-400 hover:underline flex items-center",children:[(0,xr.jsx)(Em,{className:"w-5 h-5 mr-1"})," Back"]}),(0,xr.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white ml-2",children:"Payment History"})]}),(0,xr.jsxs)("button",{onClick:()=>{x(!0),y().finally(()=>x(!1))},className:"btn-secondary flex items-center",disabled:g,children:[(0,xr.jsx)(Tm,{className:"w-4 h-4 mr-2 ".concat(g?"animate-spin":"")}),"Refresh"]})]}),(0,xr.jsx)("div",{className:"card mb-6",children:(0,xr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Status"}),(0,xr.jsxs)("select",{className:"input-field",value:h.status,onChange:e=>p((0,Be.A)((0,Be.A)({},h),{},{status:e.target.value})),children:[(0,xr.jsx)("option",{value:"",children:"All"}),(0,xr.jsx)("option",{value:"pending",children:"Pending"}),(0,xr.jsx)("option",{value:"approved",children:"Approved"}),(0,xr.jsx)("option",{value:"rejected",children:"Rejected"}),(0,xr.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsxs)("label",{className:"label flex items-center gap-2",children:[(0,xr.jsx)(Dg,{className:"w-4 h-4"})," Start Date"]}),(0,xr.jsx)("input",{type:"date",className:"input-field",value:h.startDate,onChange:e=>p((0,Be.A)((0,Be.A)({},h),{},{startDate:e.target.value}))})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsxs)("label",{className:"label flex items-center gap-2",children:[(0,xr.jsx)(Dg,{className:"w-4 h-4"})," End Date"]}),(0,xr.jsx)("input",{type:"date",className:"input-field",value:h.endDate,onChange:e=>p((0,Be.A)((0,Be.A)({},h),{},{endDate:e.target.value}))})]}),(0,xr.jsxs)("div",{className:"flex items-end gap-2",children:[(0,xr.jsxs)("button",{onClick:y,className:"btn-primary flex items-center gap-2",children:[(0,xr.jsx)(mb,{className:"w-4 h-4"})," Apply"]}),(0,xr.jsx)("button",{onClick:()=>p({status:"",startDate:"",endDate:""}),className:"btn-secondary",children:"Clear"})]})]})}),(0,xr.jsx)("div",{className:"card overflow-x-auto",children:n?(0,xr.jsx)("div",{className:"py-12 text-center text-gray-500 dark:text-gray-400",children:"Loading..."}):0===t.length?(0,xr.jsx)("div",{className:"py-12 text-center text-gray-500 dark:text-gray-400",children:"No payout requests found"}):(0,xr.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,xr.jsx)("thead",{children:(0,xr.jsxs)("tr",{children:[(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Requested At"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Amount"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Status"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Processed"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Actions"})]})}),(0,xr.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:t.map(e=>{var t;return(0,xr.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[(0,xr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:new Date(e.requestedAt||e.createdAt).toLocaleString()}),(0,xr.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[(e.requestedAmount/100).toLocaleString()," ",e.currency]}),(0,xr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,xr.jsx)(hb,{status:e.status})}),(0,xr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300",children:e.processedAt?new Date(e.processedAt).toLocaleString():"-"}),(0,xr.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm flex items-center gap-2",children:["rejected"===e.status&&(0,xr.jsx)("button",{onClick:()=>(async e=>{try{const t=localStorage.getItem("token");await i.A.put("/api/payout-requests/".concat(e,"/re-request"),{},{headers:{Authorization:"Bearer ".concat(t)}}),er.success("Re-request submitted"),y()}catch(a){var t,r;console.error("Re-request error:",a),er.error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to re-request")}})(e._id),className:"px-3 py-1 rounded-md bg-indigo-600 text-white hover:bg-indigo-700",children:"Re-request"}),"approved"===e.status&&(null===(t=e.payoutProof)||void 0===t?void 0:t.url)&&(0,xr.jsxs)("button",{onClick:()=>(async e=>{try{const t=localStorage.getItem("token"),r=await fetch(e.url,{headers:{Authorization:"Bearer ".concat(t)}});if(!r.ok)throw new Error("Download failed");const a=await r.blob(),n=window.URL.createObjectURL(a),s=document.createElement("a");s.href=n,s.download=e.originalName||"payout_receipt_".concat(Date.now(),".pdf"),document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(n)}catch(qe){er.error("Failed to download receipt")}})(e.payoutProof),className:"px-3 py-1 rounded-md bg-blue-600 text-white hover:bg-blue-700 flex items-center gap-1",children:[(0,xr.jsx)(Vm,{className:"w-4 h-4"})," Receipt"]})]})]},e._id)})})]})}),c>1&&(0,xr.jsxs)("div",{className:"flex justify-center mt-6 items-center gap-2",children:[(0,xr.jsx)("button",{className:"btn-secondary",disabled:1===o,onClick:()=>l(e=>Math.max(1,e-1)),children:(0,xr.jsx)(zd,{className:"w-4 h-4"})}),(0,xr.jsxs)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Page ",o," of ",c," (",u," total)"]}),(0,xr.jsx)("button",{className:"btn-secondary",disabled:o===c,onClick:()=>l(e=>Math.min(c,e+1)),children:(0,xr.jsx)(qd,{className:"w-4 h-4"})})]}),(0,xr.jsx)("div",{className:"mt-8 text-center",children:(0,xr.jsx)(Oe,{to:"/instructor/earnings",className:"text-indigo-600 dark:text-indigo-400 hover:underline",children:"Go to My Earnings"})})]})})},gb=()=>{const{user:e,refreshUser:t}=wr(),[r,n]=(0,a.useState)(null),[s,o]=(0,a.useState)(""),[l,c]=(0,a.useState)(""),[d,u]=(0,a.useState)([]),[m,h]=(0,a.useState)(!1),[p,g]=(0,a.useState)(!1),[x,f]=(0,a.useState)(!1),y=!(null!==e&&void 0!==e&&e.twoFactorEnabled);return(0,xr.jsx)(Qa,{children:(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:(0,xr.jsxs)("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,xr.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-6",children:"Security Settings"}),y?(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[(0,xr.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Enable Two-Factor Authentication (TOTP)"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:"Use Google Authenticator, Authy, or compatible apps."}),r?(0,xr.jsxs)("div",{className:"mt-6",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,xr.jsx)("img",{src:r,alt:"2FA QR",className:"w-40 h-40 border rounded"}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Or enter this code manually:"}),(0,xr.jsx)("div",{className:"font-mono text-lg text-gray-900 dark:text-white break-words",children:s})]})]}),(0,xr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),l&&6===l.length)try{g(!0);const e=await i.A.post("/api/auth/2fa/verify-setup",{code:l});u(e.data.backupCodes||[]),await t(),er.success("Two-factor authentication enabled")}catch(e){var r,a;er.error((null===(r=e.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Invalid 2FA code")}finally{g(!1)}},className:"mt-6",children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Enter 6-digit code"}),(0,xr.jsx)(wm,{value:l,onChange:c,disabled:p,autoFocus:!0}),(0,xr.jsx)("div",{className:"mt-4",children:(0,xr.jsx)("button",{type:"submit",disabled:p||6!==l.length,className:"px-4 py-2 bg-green-600 text-white rounded-md disabled:opacity-50",children:p?"Verifying\u2026":"Activate 2FA"})})]}),d.length>0&&(0,xr.jsxs)("div",{className:"mt-6 p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded",children:[(0,xr.jsx)("div",{className:"font-semibold text-yellow-800 dark:text-yellow-200 mb-2",children:"Backup Codes (store securely)"}),(0,xr.jsx)("ul",{className:"grid grid-cols-2 gap-2 font-mono text-sm",children:d.map((e,t)=>(0,xr.jsx)("li",{className:"px-2 py-1 bg-white dark:bg-gray-900 rounded border border-gray-200 dark:border-gray-700",children:e},t))})]})]}):(0,xr.jsx)("button",{onClick:async()=>{try{h(!0);const e=await i.A.post("/api/auth/2fa/setup");n(e.data.qr),o(e.data.secret),er.success("Scan the QR code with your authenticator app")}catch(qe){var e,t;er.error((null===(e=qe.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to start 2FA setup")}finally{h(!1)}},disabled:m,className:"mt-4 px-4 py-2 bg-indigo-600 text-white rounded-md disabled:opacity-50",children:m?"Preparing\u2026":"Generate QR Code"})]}):(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[(0,xr.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Two-Factor Authentication is enabled"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:"You can disable 2FA or manage trusted devices."}),(0,xr.jsxs)("div",{className:"mt-4 flex items-center space-x-3",children:[(0,xr.jsx)("button",{onClick:async()=>{try{f(!0),await i.A.post("/api/auth/2fa/disable"),await t(),n(null),o(""),c(""),u([]),er.success("Two-factor authentication disabled")}catch(qe){var e,r;er.error((null===(e=qe.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.message)||"Failed to disable 2FA")}finally{f(!1)}},disabled:x,className:"px-4 py-2 bg-red-600 text-white rounded-md disabled:opacity-50",children:x?"Disabling\u2026":"Disable 2FA"}),(0,xr.jsx)("a",{href:"/security/devices",className:"px-4 py-2 bg-indigo-600 text-white rounded-md",children:"Trusted Devices"})]})]})]})})})},xb=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),s=async()=>{try{n(!0);const e=await i.A.get("/api/auth/2fa/devices");t(e.data.devices||[])}catch(qe){var e,r;er.error((null===(e=qe.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.message)||"Failed to load devices")}finally{n(!1)}};(0,a.useEffect)(()=>{s()},[]);return(0,xr.jsx)(Qa,{children:(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:(0,xr.jsxs)("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,xr.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-6",children:"Trusted Devices"}),r?(0,xr.jsx)("div",{className:"flex items-center justify-center py-10",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):(0,xr.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow divide-y divide-gray-200 dark:divide-gray-700",children:0===e.length?(0,xr.jsx)("div",{className:"p-6 text-gray-600 dark:text-gray-400",children:"No trusted devices."}):e.map(e=>(0,xr.jsxs)("div",{className:"p-6 flex items-center justify-between",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("div",{className:"text-gray-900 dark:text-white font-medium",children:e.deviceName||"Trusted Device"}),(0,xr.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Added: ",new Date(e.createdAt).toLocaleString()]}),(0,xr.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Expires: ",e.expiresAt?new Date(e.expiresAt).toLocaleDateString():"N/A"]})]}),(0,xr.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Remove this trusted device?"))try{await i.A.delete("/api/auth/2fa/devices/".concat(e)),er.success("Device revoked"),await s()}catch(qe){var t,r;er.error((null===(t=qe.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to revoke device")}})(e.id),className:"px-3 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Revoke"})]},e.id))})]})})})},fb=e=>{let{sectionId:t,testData:r,onClose:a,onSuccess:n}=e;const s=ae();return(0,xr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full p-6",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,xr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Create Active Test"}),(0,xr.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:(0,xr.jsx)(pr.A,{className:"w-6 h-6"})})]}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Active tests are timed assessments that students must complete within a specific time limit. Questions are automatically graded when submitted."}),(0,xr.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6",children:[(0,xr.jsx)("h3",{className:"font-medium text-blue-900 dark:text-blue-200 mb-2",children:"Features:"}),(0,xr.jsxs)("ul",{className:"text-sm text-blue-800 dark:text-blue-300 space-y-1",children:[(0,xr.jsx)("li",{children:"\u2022 Multiple choice questions with automatic grading"}),(0,xr.jsx)("li",{children:"\u2022 Countdown timer visible to students"}),(0,xr.jsx)("li",{children:"\u2022 Auto-submit when time expires"}),(0,xr.jsx)("li",{children:"\u2022 Immediate results and feedback"}),(0,xr.jsx)("li",{children:"\u2022 Performance statistics for instructors"})]})]}),(0,xr.jsxs)("button",{onClick:()=>{s("/instructor/tests/create/".concat(t)),a()},className:"w-full btn-primary flex items-center justify-center space-x-2",children:[(0,xr.jsx)(Xh,{className:"w-5 h-5"}),(0,xr.jsx)("span",{children:"Continue to Test Builder"})]})]})})},yb=()=>{const{sectionId:e}=ne(),t=ae(),{user:r}=wr(),n=Bm(r,"manageActiveTests"),[s,o]=(0,a.useState)([]),[l,c]=(0,a.useState)(!0),[d,u]=(0,a.useState)(!1),[m,h]=(0,a.useState)(null),[p,g]=(0,a.useState)(null);(0,a.useEffect)(()=>{f(),x()},[e]);const x=async()=>{try{const t=await i.A.get("/api/sections/".concat(e));g(t.data.section)}catch(t){console.error("Error fetching section:",t)}},f=async()=>{try{c(!0);const t=await i.A.get("/api/active-tests/section/".concat(e));o(t.data.tests||[])}catch(t){console.error("Error fetching tests:",t)}finally{c(!1)}};return l?(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,xr.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,xr.jsxs)("button",{onClick:()=>t(-1),className:"inline-flex items-center space-x-2 text-primary-600 hover:text-primary-700 mb-4",children:[(0,xr.jsx)(Em,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:"Back"})]}),(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Active Tests"}),(0,xr.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:[(null===p||void 0===p?void 0:p.name)||"Section"," - Manage timed tests for your students"]})]}),(0,xr.jsxs)("button",{onClick:()=>{n?er.error("Your instructor account is suspended. You cannot create tests right now."):u(!0)},className:"btn-primary flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:n,children:[(0,xr.jsx)(Xh,{className:"w-5 h-5"}),(0,xr.jsx)("span",{children:"Create Test"})]})]})]}),n&&(0,xr.jsx)("div",{className:"mb-6 bg-yellow-50 dark:bg-yellow-900/30 border border-yellow-200 dark:border-yellow-700 text-yellow-800 dark:text-yellow-100 px-4 py-3 rounded",children:"Your instructor account is currently suspended from managing active tests. You can view existing tests and statistics, but creating, editing, and deleting tests is disabled."}),0===s.length?(0,xr.jsxs)(rr.P.div,{initial:{opacity:0},animate:{opacity:1},className:"card text-center py-12",children:[(0,xr.jsx)(Um,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"No active tests yet"}),(0,xr.jsxs)("button",{onClick:()=>{n?er.error("Your instructor account is suspended. You cannot create tests right now."):u(!0)},disabled:n,className:"btn-primary inline-flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,xr.jsx)(Xh,{className:"w-5 h-5"}),(0,xr.jsx)("span",{children:"Create First Test"})]})]}):(0,xr.jsx)("div",{className:"grid gap-6",children:s.map((e,r)=>(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*r},className:"card",children:(0,xr.jsxs)("div",{className:"flex items-start justify-between",children:[(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:e.title}),e.description&&(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:e.description}),(0,xr.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[(0,xr.jsx)(Um,{className:"w-4 h-4"}),(0,xr.jsxs)("span",{children:[e.questions.length," Questions"]})]}),(0,xr.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[(0,xr.jsx)(Zc,{className:"w-4 h-4"}),(0,xr.jsxs)("span",{children:[e.timeLimitMinutes," Minutes"]})]}),(0,xr.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[(0,xr.jsx)(Oa,{className:"w-4 h-4"}),(0,xr.jsxs)("span",{children:["Passing: ",e.passingScore,"%"]})]}),(0,xr.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[(0,xr.jsx)(Xc,{className:"w-4 h-4"}),(0,xr.jsxs)("span",{children:["Max ",e.maxAttempts," Attempt",e.maxAttempts>1?"s":""]})]})]}),!e.isActive&&(0,xr.jsxs)("div",{className:"mt-4 flex items-center space-x-2 text-amber-600 dark:text-amber-400",children:[(0,xr.jsx)(Fm,{className:"w-4 h-4"}),(0,xr.jsx)("span",{className:"text-sm",children:"Test is currently inactive"})]})]}),(0,xr.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,xr.jsx)("button",{onClick:()=>t("/instructor/tests/".concat(e._id,"/statistics")),className:"p-2 text-blue-600 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"View Statistics",children:(0,xr.jsx)(Zy,{className:"w-5 h-5"})}),(0,xr.jsx)("button",{onClick:()=>{n?er.error("Your instructor account is suspended. You cannot edit tests right now."):t("/instructor/tests/".concat(e._id,"/edit"))},className:"p-2 text-green-600 hover:bg-green-50 dark:text-green-400 dark:hover:bg-green-900/20 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Edit Test",disabled:n,children:(0,xr.jsx)(jh,{className:"w-5 h-5"})}),(0,xr.jsx)("button",{onClick:()=>(async e=>{if(n)er.error("Your instructor account is suspended. You cannot delete tests right now.");else if(window.confirm("Are you sure you want to delete this test? All student attempts will be deleted."))try{await i.A.delete("/api/active-tests/".concat(e)),await f(),er.success("Test deleted successfully")}catch(a){var t,r;console.error("Error deleting test:",a),er.error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to delete test")}})(e._id),className:"p-2 text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Delete Test",disabled:n,children:(0,xr.jsx)(kh,{className:"w-5 h-5"})})]})]})},e._id))})]}),d&&(0,xr.jsx)(fb,{sectionId:e,onClose:()=>u(!1),onSuccess:()=>{u(!1),f()}})]})},vb=()=>{const{sectionId:e,testId:t}=ne(),r=ae(),{user:n}=wr(),s=Bm(n,"manageActiveTests"),[o,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(null),[u,m]=(0,a.useState)({title:"",description:"",timeLimitMinutes:30,passingScore:60,maxAttempts:1,shuffleQuestions:!1,shuffleOptions:!1,showResultsImmediately:!0,showCorrectAnswers:!0,isActive:!0}),[h,p]=(0,a.useState)([{questionText:"",options:[{optionText:"",isCorrect:!1},{optionText:"",isCorrect:!1}],points:1,order:0}]);(0,a.useEffect)(()=>{t?x():e&&g(e)},[e,t]);const g=async e=>{try{if(!e)return;const t=await i.A.get("/api/sections/".concat(e));d(t.data.data||t.data.section)}catch(t){console.error("Error fetching section:",t)}},x=async()=>{try{const e=(await i.A.get("/api/active-tests/".concat(t))).data.test,r="object"===typeof e.section?e.section._id:e.section;m({title:e.title,description:e.description,timeLimitMinutes:e.timeLimitMinutes,passingScore:e.passingScore,maxAttempts:e.maxAttempts,shuffleQuestions:e.shuffleQuestions,shuffleOptions:e.shuffleOptions,showResultsImmediately:!0,showCorrectAnswers:!0,isActive:e.isActive}),p(e.questions),r&&g(r)}catch(e){console.error("Error fetching test:",e),er.error("Failed to load test"),r(-1)}},f=(e,t,r)=>{const a=[...h];a[e][t]=r,p(a)};return(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,xr.jsxs)("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,xr.jsxs)("button",{onClick:()=>r(-1),className:"inline-flex items-center space-x-2 text-primary-600 hover:text-primary-700 mb-4",children:[(0,xr.jsx)(Em,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:"Back"})]}),(0,xr.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:t?"Edit Active Test":"Create Active Test"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:(null===c||void 0===c?void 0:c.name)||"Section"})]}),s&&(0,xr.jsx)("div",{className:"mb-6 bg-yellow-50 dark:bg-yellow-900/30 border border-yellow-200 dark:border-yellow-700 text-yellow-800 dark:text-yellow-100 px-4 py-3 rounded",children:"Your instructor account is currently suspended from managing active tests. You can view existing test configuration, but creating or updating tests is disabled."}),(0,xr.jsxs)("form",{onSubmit:async a=>{if(a.preventDefault(),s)er.error("Your instructor account is suspended. You cannot create or update tests right now.");else if((()=>{if(!u.title.trim())return er.error("Please enter a test title"),!1;if(u.timeLimitMinutes<1||u.timeLimitMinutes>300)return er.error("Time limit must be between 1 and 300 minutes"),!1;if(u.passingScore<0||u.passingScore>100)return er.error("Passing score must be between 0 and 100"),!1;for(let e=0;e<h.length;e++){const t=h[e];if(!t.questionText.trim())return er.error("Question ".concat(e+1," text is required")),!1;if(t.options.length<2)return er.error("Question ".concat(e+1," must have at least 2 options")),!1;if(!t.options.some(e=>e.isCorrect))return er.error("Question ".concat(e+1," must have at least one correct answer")),!1;for(let r=0;r<t.options.length;r++)if(!t.options[r].optionText.trim())return er.error("Question ".concat(e+1,", Option ").concat(r+1," text is required")),!1}return!0})())if(c)if(c.course&&c.group)try{var n;l(!0);const a=e||("string"===typeof c._id?c._id:null===(n=c._id)||void 0===n?void 0:n.toString()),s=(0,Be.A)((0,Be.A)({},u),{},{sectionId:a,courseId:"object"===typeof c.course?c.course._id:c.course,groupId:"object"===typeof c.group?c.group._id:c.group,questions:h.map((e,t)=>(0,Be.A)((0,Be.A)({},e),{},{order:t}))});if(t){const e=await i.A.put("/api/active-tests/".concat(t),s);er.success(e.data.message||"Test updated successfully!"),e.data.hasAttempts&&console.log("Note: Students have already taken this test")}else await i.A.post("/api/active-tests",s),er.success("Test created successfully!");r(-1)}catch(m){var o,d;console.error("Error saving test:",m),er.error((null===(o=m.response)||void 0===o||null===(d=o.data)||void 0===d?void 0:d.message)||"Failed to save test")}finally{l(!1)}else er.error("Invalid section data. Please select a valid section.");else er.error("Section information not loaded. Please try again.")},className:"space-y-6",children:[(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:[(0,xr.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Test Information"}),(0,xr.jsxs)("div",{className:"space-y-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Test Title *"}),(0,xr.jsx)("input",{type:"text",value:u.title,onChange:e=>m((0,Be.A)((0,Be.A)({},u),{},{title:e.target.value})),className:"input-field",placeholder:"e.g., JavaScript Fundamentals Quiz",required:!0})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),(0,xr.jsx)("textarea",{value:u.description,onChange:e=>m((0,Be.A)((0,Be.A)({},u),{},{description:e.target.value})),className:"input-field",rows:3,placeholder:"Brief description of what this test covers..."})]}),(0,xr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[(0,xr.jsx)(Zc,{className:"w-4 h-4 inline mr-1"}),"Time Limit (minutes) *"]}),(0,xr.jsx)("input",{type:"number",value:u.timeLimitMinutes,onChange:e=>m((0,Be.A)((0,Be.A)({},u),{},{timeLimitMinutes:parseInt(e.target.value)})),className:"input-field",min:"1",max:"300",required:!0})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[(0,xr.jsx)(Oa,{className:"w-4 h-4 inline mr-1"}),"Passing Score (%) *"]}),(0,xr.jsx)("input",{type:"number",value:u.passingScore,onChange:e=>m((0,Be.A)((0,Be.A)({},u),{},{passingScore:parseInt(e.target.value)})),className:"input-field",min:"0",max:"100",required:!0})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Max Attempts *"}),(0,xr.jsx)("input",{type:"number",value:u.maxAttempts,onChange:e=>m((0,Be.A)((0,Be.A)({},u),{},{maxAttempts:parseInt(e.target.value)})),className:"input-field",min:"1",max:"10",required:!0})]})]}),(0,xr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,xr.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,xr.jsx)("input",{type:"checkbox",checked:u.shuffleQuestions,onChange:e=>m((0,Be.A)((0,Be.A)({},u),{},{shuffleQuestions:e.target.checked})),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),(0,xr.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Shuffle Questions"})]}),(0,xr.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,xr.jsx)("input",{type:"checkbox",checked:u.shuffleOptions,onChange:e=>m((0,Be.A)((0,Be.A)({},u),{},{shuffleOptions:e.target.checked})),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),(0,xr.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Shuffle Options"})]})]})]})]}),(0,xr.jsxs)("div",{className:"space-y-4",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["Questions (",h.length,")"]}),(0,xr.jsxs)("button",{type:"button",onClick:()=>{p([...h,{questionText:"",options:[{optionText:"",isCorrect:!1},{optionText:"",isCorrect:!1}],points:1,order:h.length}])},className:"btn-secondary flex items-center space-x-2",children:[(0,xr.jsx)(Xh,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:"Add Question"})]})]}),h.map((e,t)=>(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*t},className:"card border-l-4 border-primary-500",children:[(0,xr.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,xr.jsxs)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:["Question ",t+1]}),(0,xr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,xr.jsx)("input",{type:"number",value:e.points,onChange:e=>f(t,"points",parseInt(e.target.value)||1),className:"w-20 input-field text-sm",min:"1",placeholder:"Points"}),(0,xr.jsx)("button",{type:"button",onClick:()=>{return e=t,void(h.length<=1?er.error("Test must have at least one question"):p(h.filter((t,r)=>r!==e)));var e},className:"p-2 text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20 rounded-lg",children:(0,xr.jsx)(kh,{className:"w-4 h-4"})})]})]}),(0,xr.jsxs)("div",{className:"space-y-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Question Text *"}),(0,xr.jsx)("textarea",{value:e.questionText,onChange:e=>f(t,"questionText",e.target.value),className:"input-field",rows:2,placeholder:"Enter your question here...",required:!0})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Options (Select correct answer)"}),(0,xr.jsxs)("button",{type:"button",onClick:()=>(e=>{const t=[...h];t[e].options.push({optionText:"",isCorrect:!1}),p(t)})(t),className:"text-sm text-primary-600 hover:text-primary-700 flex items-center space-x-1",children:[(0,xr.jsx)(Xh,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:"Add Option"})]})]}),(0,xr.jsx)("div",{className:"space-y-2",children:e.options.map((r,a)=>(0,xr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,xr.jsx)("button",{type:"button",onClick:()=>((e,t)=>{const r=[...h];r[e].options[t].isCorrect=!r[e].options[t].isCorrect,p(r)})(t,a),className:"flex-shrink-0 w-6 h-6 rounded-full border-2 flex items-center justify-center transition-colors ".concat(r.isCorrect?"bg-green-500 border-green-500":"border-gray-300 dark:border-gray-600"),children:r.isCorrect&&(0,xr.jsx)(Om,{className:"w-4 h-4 text-white"})}),(0,xr.jsx)("input",{type:"text",value:r.optionText,onChange:e=>((e,t,r,a)=>{const n=[...h];n[e].options[t][r]=a,p(n)})(t,a,"optionText",e.target.value),className:"input-field flex-1",placeholder:"Option ".concat(a+1),required:!0}),e.options.length>2&&(0,xr.jsx)("button",{type:"button",onClick:()=>((e,t)=>{const r=[...h];r[e].options.length<=2?er.error("Question must have at least 2 options"):(r[e].options=r[e].options.filter((e,r)=>r!==t),p(r))})(t,a),className:"p-2 text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20 rounded-lg",children:(0,xr.jsx)(Zm,{className:"w-4 h-4"})})]},a))})]})]})]},t))]}),(0,xr.jsxs)("div",{className:"flex items-center justify-end space-x-4",children:[(0,xr.jsx)("button",{type:"button",onClick:()=>r(-1),className:"btn-secondary",disabled:o,children:"Cancel"}),(0,xr.jsxs)("button",{type:"submit",className:"btn-primary flex items-center space-x-2",disabled:o,children:[(0,xr.jsx)(Eg,{className:"w-5 h-5"}),(0,xr.jsx)("span",{children:o?"Saving...":t?"Update Test":"Create Test"})]})]})]})]})})},bb=()=>{var e,t;const{testId:r}=ne(),n=ae(),{user:s}=wr(),o=Bm(s,"manageActiveTests"),[l,c]=(0,a.useState)(!0),[d,u]=(0,a.useState)(null),[m,h]=(0,a.useState)(null),[p,g]=(0,a.useState)([]);(0,a.useEffect)(()=>{x()},[r]);const x=async()=>{try{c(!0);const[e,t]=await Promise.all([i.A.get("/api/active-tests/".concat(r)),i.A.get("/api/active-tests/".concat(r,"/statistics"))]);u(e.data.test),h(t.data.statistics),g(t.data.attempts)}catch(a){var e,t;console.error("Error fetching data:",a),er.error((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to load test statistics"),n(-1)}finally{c(!1)}};return l?(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,xr.jsxs)("button",{onClick:()=>n(-1),className:"inline-flex items-center space-x-2 text-primary-600 hover:text-primary-700 mb-4",children:[(0,xr.jsx)(Em,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:"Back"})]}),(0,xr.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Test Statistics"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:null===d||void 0===d?void 0:d.title})]}),o&&(0,xr.jsx)("div",{className:"mb-6 bg-yellow-50 dark:bg-yellow-900/30 border border-yellow-200 dark:border-yellow-700 text-yellow-800 dark:text-yellow-100 px-4 py-3 rounded",children:"Your instructor account is currently suspended from managing active tests. You can view statistics, but resetting attempts is disabled."}),(0,xr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card",children:(0,xr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,xr.jsx)("div",{className:"p-3 bg-blue-100 dark:bg-blue-900 rounded-lg",children:(0,xr.jsx)(Xc,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Attempts"}),(0,xr.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:(null===m||void 0===m?void 0:m.totalAttempts)||0})]})]})}),(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card",children:(0,xr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,xr.jsx)("div",{className:"p-3 bg-green-100 dark:bg-green-900 rounded-lg",children:(0,xr.jsx)(Jc,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Average Score"}),(0,xr.jsxs)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[(null===m||void 0===m||null===(e=m.averageScore)||void 0===e?void 0:e.toFixed(1))||0,"%"]})]})]})}),(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"card",children:(0,xr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,xr.jsx)("div",{className:"p-3 bg-purple-100 dark:bg-purple-900 rounded-lg",children:(0,xr.jsx)(Oa,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pass Rate"}),(0,xr.jsxs)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[(null===m||void 0===m||null===(t=m.passRate)||void 0===t?void 0:t.toFixed(1))||0,"%"]})]})]})}),(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"card",children:(0,xr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,xr.jsx)("div",{className:"p-3 bg-amber-100 dark:bg-amber-900 rounded-lg",children:(0,xr.jsx)(Zy,{className:"w-6 h-6 text-amber-600 dark:text-amber-400"})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Unique Students"}),(0,xr.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:(null===m||void 0===m?void 0:m.uniqueStudents)||0})]})]})})]}),m&&m.totalAttempts>0&&(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"card mb-8",children:[(0,xr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Score Range"}),(0,xr.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Highest Score"}),(0,xr.jsxs)("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:[m.highestScore,"%"]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Lowest Score"}),(0,xr.jsxs)("p",{className:"text-3xl font-bold text-red-600 dark:text-red-400",children:[m.lowestScore,"%"]})]})]})]}),(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"card",children:[(0,xr.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:["Student Attempts (",p.length,")"]}),0===p.length?(0,xr.jsxs)("div",{className:"text-center py-12",children:[(0,xr.jsx)(Zy,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"No attempts yet"})]}):(0,xr.jsx)("div",{className:"overflow-x-auto",children:(0,xr.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,xr.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-800",children:(0,xr.jsxs)("tr",{children:[(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Student"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Attempt"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Score"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Result"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Time Spent"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Submitted"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),(0,xr.jsx)("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:p.map(e=>(0,xr.jsxs)("tr",{children:[(0,xr.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,xr.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.student.name}),(0,xr.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.student.email})]}),(0,xr.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:["#",e.attemptNumber]}),(0,xr.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,xr.jsxs)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[e.score,"%"]}),(0,xr.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e.pointsEarned,"/",e.totalPoints," points"]})]}),(0,xr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.passed?(0,xr.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:[(0,xr.jsx)(Om,{className:"w-3 h-3 mr-1"}),"Passed"]}):(0,xr.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",children:[(0,xr.jsx)(Zm,{className:"w-3 h-3 mr-1"}),"Failed"]})}),(0,xr.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[Math.floor(e.timeSpentSeconds/60),"m ",e.timeSpentSeconds%60,"s",e.autoSubmitted&&(0,xr.jsx)("div",{className:"text-xs text-amber-600 dark:text-amber-400",children:"Auto-submitted"})]}),(0,xr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:new Date(e.submitTime).toLocaleString()}),(0,xr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,xr.jsxs)("button",{onClick:()=>(async(e,t)=>{if(o)er.error("Your instructor account is suspended. You cannot reset test attempts right now.");else if(window.confirm("Reset all attempts for ".concat(t,"? This cannot be undone.")))try{await i.A.delete("/api/active-tests/".concat(r,"/attempts/").concat(e)),await x(),er.success("Attempts reset successfully")}catch(s){var a,n;console.error("Error resetting attempts:",s),er.error((null===(a=s.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message)||"Failed to reset attempts")}})(e.student._id,e.student.name),disabled:o,className:"text-primary-600 hover:text-primary-700 dark:text-primary-400 flex items-center space-x-1 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,xr.jsx)(Tm,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:"Reset"})]})})]},e._id))})]})})]})]})})},wb=(0,nr.A)("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]),jb=()=>{const{testId:e}=ne(),t=ae(),[r,n]=(0,a.useState)(!0),[s,o]=(0,a.useState)(null),[l,c]=(0,a.useState)(null),[d,u]=(0,a.useState)([]),[m,h]=(0,a.useState)(0),[p,g]=(0,a.useState)(!1),[x,f]=(0,a.useState)(!1);(0,a.useEffect)(()=>{y()},[e]),(0,a.useEffect)(()=>{if(!l||"in_progress"!==l.status)return;const e=setInterval(()=>{const e=(new Date).getTime(),t=new Date(l.endTime).getTime(),r=Math.max(0,Math.floor((t-e)/1e3));h(r),300!==r||x||(f(!0),alert("5 minutes remaining!")),0===r&&v(!0)},1e3);return()=>clearInterval(e)},[l,x]);const y=async()=>{try{n(!0);const t=await i.A.post("/api/active-tests/".concat(e,"/start"));o(t.data.test),c(t.data.attempt);const r=t.data.test.questions.map(e=>({questionId:e._id,selectedOptionIndex:null}));u(r);const a=(new Date).getTime(),s=new Date(t.data.attempt.endTime).getTime();h(Math.floor((s-a)/1e3))}catch(p){var r,a,s,l,d,m;if(console.error("Error starting test:",p),null!==(r=p.response)&&void 0!==r&&null!==(a=r.data)&&void 0!==a&&a.showResults&&null!==(s=p.response)&&void 0!==s&&null!==(l=s.data)&&void 0!==l&&l.attemptId)return void t("/student/test-results/".concat(p.response.data.attemptId));alert((null===(d=p.response)||void 0===d||null===(m=d.data)||void 0===m?void 0:m.message)||"Failed to start test"),t(-1)}finally{n(!1)}},v=async function(){let r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!r){const e=d.filter(e=>null===e.selectedOptionIndex).length;if(e>0){if(!window.confirm("You have ".concat(e," unanswered question(s). Submit anyway?")))return}else if(!window.confirm("Are you sure you want to submit your test?"))return}try{g(!0);const n=await i.A.post("/api/active-tests/".concat(e,"/submit"),{attemptId:l._id,answers:d.map(e=>{var t;return{questionId:e.questionId,selectedOptionIndex:null!==(t=e.selectedOptionIndex)&&void 0!==t?t:0}})});console.log("\ud83e\uddea TakeActiveTest: Test submission response:",null===n||void 0===n?void 0:n.data);try{var a;null!==n&&void 0!==n&&null!==(a=n.data)&&void 0!==a&&a.gamification?(console.log("\ud83e\uddea TakeActiveTest: Firing gamification events for test completion"),(0,Jm.fireGamificationEvents)(n.data.gamification)):console.log("\ud83e\uddea TakeActiveTest: No gamification data in response")}catch(o){console.error("\ud83e\uddea TakeActiveTest: Error firing gamification events:",o)}t("/student/test-results/".concat(n.data.attempt._id),{state:{attempt:n.data.attempt,autoSubmitted:r}})}catch(o){var n,s;console.error("Error submitting test:",o),alert((null===(n=o.response)||void 0===n||null===(s=n.data)||void 0===s?void 0:s.message)||"Failed to submit test")}finally{g(!1)}};return r?(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):s&&l?(0,xr.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,xr.jsx)("div",{className:"sticky top-0 z-50 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 shadow-sm",children:(0,xr.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:s.title}),(0,xr.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Attempt #",l.attemptNumber," of ",s.maxAttempts]})]}),(0,xr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-2 ".concat(m>300?"text-green-600 dark:text-green-400":m>60?"text-amber-600 dark:text-amber-400":"text-red-600 dark:text-red-400"),children:[(0,xr.jsx)(Zc,{className:"w-6 h-6"}),(0,xr.jsx)("span",{className:"text-2xl font-mono font-bold",children:(e=>{const t=Math.floor(e/60),r=e%60;return"".concat(t.toString().padStart(2,"0"),":").concat(r.toString().padStart(2,"0"))})(m)})]}),(0,xr.jsxs)("button",{onClick:()=>v(!1),disabled:p,className:"btn-primary flex items-center space-x-2",children:[(0,xr.jsx)(Nh,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:p?"Submitting...":"Submit Test"})]})]})]})})}),(0,xr.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[m<=300&&m>0&&(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-amber-50 dark:bg-amber-900/20 border-2 border-amber-200 dark:border-amber-800 rounded-lg p-4 mb-6",children:(0,xr.jsxs)("div",{className:"flex items-center space-x-2 text-amber-800 dark:text-amber-200",children:[(0,xr.jsx)(wb,{className:"w-5 h-5"}),(0,xr.jsx)("p",{className:"font-medium",children:m>60?"".concat(Math.floor(m/60)," minutes remaining"):"".concat(m," seconds remaining")})]})}),(0,xr.jsx)("div",{className:"space-y-6",children:s.questions.map((e,t)=>(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*t},className:"card",children:[(0,xr.jsxs)("div",{className:"flex items-start space-x-3 mb-4",children:[(0,xr.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-primary-100 dark:bg-primary-900 text-primary-600 dark:text-primary-400 rounded-full flex items-center justify-center font-bold",children:t+1}),(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-1",children:e.questionText}),(0,xr.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e.points," point",e.points>1?"s":""]})]})]}),(0,xr.jsx)("div",{className:"space-y-2 ml-11",children:e.options.map((e,r)=>{var a,n;return(0,xr.jsxs)("label",{className:"flex items-center space-x-3 p-4 rounded-lg border-2 cursor-pointer transition-all ".concat((null===(a=d[t])||void 0===a?void 0:a.selectedOptionIndex)===r?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-gray-200 dark:border-gray-700 hover:border-primary-300 dark:hover:border-primary-700"),children:[(0,xr.jsx)("input",{type:"radio",name:"question-".concat(t),checked:(null===(n=d[t])||void 0===n?void 0:n.selectedOptionIndex)===r,onChange:()=>((e,t)=>{const r=[...d];r[e].selectedOptionIndex=t,u(r)})(t,r),className:"w-5 h-5 text-primary-600 focus:ring-primary-500"}),(0,xr.jsx)("span",{className:"flex-1 text-gray-900 dark:text-white",children:e.optionText})]},r)})})]},e._id))}),(0,xr.jsxs)("div",{className:"card mt-6",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,xr.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Progress"}),(0,xr.jsxs)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[d.filter(e=>null!==e.selectedOptionIndex).length," / ",s.questions.length," answered"]})]}),(0,xr.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,xr.jsx)("div",{className:"bg-primary-600 dark:bg-primary-500 h-2 rounded-full transition-all",style:{width:"".concat(d.filter(e=>null!==e.selectedOptionIndex).length/s.questions.length*100,"%")}})})]}),(0,xr.jsx)("div",{className:"mt-8 flex justify-end",children:(0,xr.jsxs)("button",{onClick:()=>v(!1),disabled:p,className:"btn-primary flex items-center space-x-2 text-lg px-8 py-3",children:[(0,xr.jsx)(Nh,{className:"w-5 h-5"}),(0,xr.jsx)("span",{children:p?"Submitting...":"Submit Test"})]})})]})]}):(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,xr.jsxs)("div",{className:"card max-w-md text-center",children:[(0,xr.jsx)(Fm,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),(0,xr.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Test Not Available"}),(0,xr.jsx)("button",{onClick:()=>t(-1),className:"btn-primary mt-4",children:"Go Back"})]})})},kb=()=>{const{attemptId:e}=ne(),t=ae(),r=te(),[n,s]=(0,a.useState)(!0),[o,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(null);(0,a.useEffect)(()=>{var e;null!==(e=r.state)&&void 0!==e&&e.attempt?m(r.state.attempt):u()},[e]),(0,a.useEffect)(()=>{var e;o&&o.passed&&!1===(null===(e=r.state)||void 0===e?void 0:e.autoSubmitted)&&h()},[o]);const u=async()=>{try{s(!0);const t=await i.A.get("/api/active-tests/attempts/".concat(e));if(!t.data.attempt)throw new Error("Attempt not found");m(t.data.attempt)}catch(r){console.error("Error fetching attempt:",r),alert("Failed to load test results"),t(-1)}finally{s(!1)}},m=async e=>{try{var t;l(e);const r=(null===(t=e.test)||void 0===t?void 0:t._id)||e.test,a=await i.A.get("/api/active-tests/".concat(r));d(a.data.test)}catch(r){console.error("Error processing attempt:",r)}finally{s(!1)}},h=()=>{const e={origin:{y:.7}};function t(t,r){La((0,Be.A)((0,Be.A)((0,Be.A)({},e),r),{},{particleCount:Math.floor(200*t)}))}t(.25,{spread:26,startVelocity:55}),t(.2,{spread:60}),t(.35,{spread:100,decay:.91,scalar:.8}),t(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),t(.1,{spread:120,startVelocity:45})};if(n)return(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});if(!o||!c)return(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,xr.jsxs)("div",{className:"card max-w-md text-center",children:[(0,xr.jsx)(Zm,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),(0,xr.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Results Not Available"}),(0,xr.jsx)("button",{onClick:()=>t(-1),className:"btn-primary mt-4",children:"Go Back"})]})});const p=o.answers.filter(e=>e.isCorrect).length,g=c.questions.length,x=(!o.passed&&(o.attemptNumber,c.maxAttempts),!o.passed&&o.attemptNumber>=c.maxAttempts);return(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,xr.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,xr.jsxs)("button",{onClick:()=>{if(null!==o&&void 0!==o&&o.section){"object"===typeof o.section?o.section._id:o.section;const e="object"===typeof o.course?o.course._id:o.course;t("/student/course/".concat(e))}else t(-1)},className:"inline-flex items-center space-x-2 text-primary-600 hover:text-primary-700 mb-4",children:[(0,xr.jsx)(Em,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:"Back to Course"})]}),(0,xr.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Test Results"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:c.title})]}),o.autoSubmitted&&(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-amber-50 dark:bg-amber-900/20 border-2 border-amber-200 dark:border-amber-800 rounded-lg p-4 mb-6",children:(0,xr.jsxs)("div",{className:"flex items-center space-x-2 text-amber-800 dark:text-amber-200",children:[(0,xr.jsx)($h,{className:"w-5 h-5"}),(0,xr.jsx)("p",{className:"font-medium",children:"This test was automatically submitted due to time expiration."})]})}),(0,xr.jsx)(rr.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2},className:"card mb-8 ".concat(o.passed?"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 border-2 border-green-200 dark:border-green-800":"bg-gradient-to-r from-red-50 to-rose-50 dark:from-red-900/20 dark:to-rose-900/20 border-2 border-red-200 dark:border-red-800"),children:(0,xr.jsxs)("div",{className:"text-center",children:[o.passed?(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)(Oa,{className:"w-20 h-20 text-green-600 dark:text-green-400 mx-auto mb-4"}),(0,xr.jsx)("h2",{className:"text-3xl font-bold text-green-900 dark:text-green-200 mb-2",children:"Congratulations! You Passed!"})]}):(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)(Zm,{className:"w-20 h-20 text-red-600 dark:text-red-400 mx-auto mb-4"}),(0,xr.jsx)("h2",{className:"text-3xl font-bold text-red-900 dark:text-red-200 mb-2",children:x?"All Attempts Used":"Keep Trying!"})]}),(0,xr.jsxs)("p",{className:"text-7xl font-bold mb-4",style:{color:o.passed?"#10b981":"#ef4444"},children:[o.score,"%"]}),(0,xr.jsx)("p",{className:"text-lg text-gray-700 dark:text-gray-300",children:o.passed?"You scored above the passing score of ".concat(c.passingScore,"%"):x?"You have used all ".concat(c.maxAttempts," attempts for this test. Please contact your instructor if you need another attempt."):"You need ".concat(c.passingScore,"% to pass. You can try again!")})]})}),(0,xr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"card",children:(0,xr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,xr.jsx)("div",{className:"p-3 bg-blue-100 dark:bg-blue-900 rounded-lg",children:(0,xr.jsx)(Zy,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Correct Answers"}),(0,xr.jsxs)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[p," / ",g]})]})]})}),(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"card",children:(0,xr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,xr.jsx)("div",{className:"p-3 bg-purple-100 dark:bg-purple-900 rounded-lg",children:(0,xr.jsx)(Jc,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Test Points"}),(0,xr.jsxs)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[o.pointsEarned," / ",o.totalPoints]})]})]})}),(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"card",children:(0,xr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,xr.jsx)("div",{className:"p-3 bg-amber-100 dark:bg-amber-900 rounded-lg",children:(0,xr.jsx)(Zc,{className:"w-6 h-6 text-amber-600 dark:text-amber-400"})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Time Spent"}),(0,xr.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:(e=>{const t=Math.floor(e/60),r=e%60;return"".concat(t,"m ").concat(r,"s")})(o.timeSpentSeconds)})]})]})})]}),c.showCorrectAnswers&&(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"card",children:[(0,xr.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:"Detailed Results"}),(0,xr.jsx)("div",{className:"space-y-6",children:c.questions.map((e,t)=>{const r=o.answers.find(t=>t.questionId===e._id);r&&e.options[r.selectedOptionIndex],e.options.find(e=>e.isCorrect);return(0,xr.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-6 last:border-b-0",children:(0,xr.jsxs)("div",{className:"flex items-start space-x-3 mb-4",children:[(0,xr.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ".concat(null!==r&&void 0!==r&&r.isCorrect?"bg-green-100 dark:bg-green-900":"bg-red-100 dark:bg-red-900"),children:null!==r&&void 0!==r&&r.isCorrect?(0,xr.jsx)(Om,{className:"w-5 h-5 text-green-600 dark:text-green-400"}):(0,xr.jsx)(Zm,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsxs)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:["Question ",t+1,": ",e.questionText]}),(0,xr.jsx)("div",{className:"space-y-2",children:e.options.map((e,t)=>{const a=(null===r||void 0===r?void 0:r.selectedOptionIndex)===t,n=e.isCorrect;return(0,xr.jsx)("div",{className:"p-3 rounded-lg border-2 ".concat(n?"border-green-500 bg-green-50 dark:bg-green-900/20":a&&!n?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-200 dark:border-gray-700"),children:(0,xr.jsxs)("div",{className:"flex items-center space-x-2",children:[n&&(0,xr.jsx)(Om,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),a&&!n&&(0,xr.jsx)(Zm,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),(0,xr.jsx)("span",{className:"flex-1 ".concat(n||a&&!n?"font-medium":""," ").concat(n?"text-green-900 dark:text-green-200":a&&!n?"text-red-900 dark:text-red-200":"text-gray-700 dark:text-gray-300"),children:e.optionText}),a&&(0,xr.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Your answer"}),n&&(0,xr.jsx)("span",{className:"text-xs text-green-600 dark:text-green-400 font-medium",children:"Correct answer"})]})},t)})}),(0,xr.jsxs)("div",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:["Points: ",(null===r||void 0===r?void 0:r.pointsEarned)||0," / ",e.points]})]})]})},e._id)})})]}),!o.passed&&o.attemptNumber<c.maxAttempts&&(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"card bg-blue-50 dark:bg-blue-900/20 border-2 border-blue-200 dark:border-blue-800 mt-8",children:(0,xr.jsxs)("div",{className:"text-center",children:[(0,xr.jsx)(Jc,{className:"w-12 h-12 text-blue-600 dark:text-blue-400 mx-auto mb-3"}),(0,xr.jsxs)("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-200 mb-2",children:["You have ",c.maxAttempts-o.attemptNumber," attempt(s) remaining"]}),(0,xr.jsx)("p",{className:"text-blue-700 dark:text-blue-300 mb-4",children:"Review your answers and try again to improve your score!"}),(0,xr.jsx)("button",{onClick:()=>t("/student/test/".concat(c._id)),className:"btn-primary",children:"Try Again"})]})})]})})},Nb=()=>{const{theme:e}=Nr(),[t,r]=(0,a.useState)([]),[n,s]=(0,a.useState)(!0),[o,l]=(0,a.useState)({total:0,approved:0,pending:0,rejected:0,totalAmount:0});(0,a.useEffect)(()=>{c()},[]);const c=async()=>{try{const e=localStorage.getItem("token"),t=(await i.A.get("/api/section-payments/my-payments",{headers:{Authorization:"Bearer ".concat(e)}})).data.data;r(t);const a=t.filter(e=>"approved"===e.status),n=a.reduce((e,t)=>e+("number"!==typeof t.finalAmountCents||isNaN(t.finalAmountCents)?t.amountCents||0:t.finalAmountCents),0),s={total:t.length,approved:a.length,pending:t.filter(e=>"pending"===e.status).length,rejected:t.filter(e=>"rejected"===e.status).length,totalAmount:n};l(s)}catch(e){console.error("Error fetching payments:",e),er.error("Failed to load payment history")}finally{s(!1)}},d=e=>{const t={pending:{bg:"bg-yellow-100 dark:bg-yellow-900/30",text:"text-yellow-800 dark:text-yellow-400",icon:Zc},approved:{bg:"bg-green-100 dark:bg-green-900/30",text:"text-green-800 dark:text-green-400",icon:Om},rejected:{bg:"bg-red-100 dark:bg-red-900/30",text:"text-red-800 dark:text-red-400",icon:Zm}},r=t[e]||t.pending,a=r.icon;return(0,xr.jsxs)("span",{className:"inline-flex items-center space-x-1 px-3 py-1 rounded-full text-sm font-medium ".concat(r.bg," ").concat(r.text),children:[(0,xr.jsx)(a,{className:"w-4 h-4"}),(0,xr.jsx)("span",{className:"capitalize",children:e})]})};return n?(0,xr.jsx)("div",{className:"flex items-center justify-center min-h-screen ".concat("dark"===e?"bg-gray-900":"bg-gray-50"),children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):(0,xr.jsx)("div",{className:"min-h-screen ".concat("dark"===e?"bg-gray-900":"bg-gray-50"," py-8"),children:(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,xr.jsx)("h1",{className:"text-3xl font-bold ".concat("dark"===e?"text-white":"text-gray-900"),children:"My Payments"}),(0,xr.jsx)("p",{className:"mt-2 ".concat("dark"===e?"text-gray-400":"text-gray-600"),children:"View your payment history and transaction details"})]}),(0,xr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[{label:"Total Payments",value:o.total,icon:Kh,color:"indigo"},{label:"Approved",value:o.approved,icon:Om,color:"green"},{label:"Pending",value:o.pending,icon:Zc,color:"yellow"},{label:"Total Spent",value:Qm(o.totalAmount),icon:Kh,color:"purple",isPrice:!0}].map((t,r)=>(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*r},className:"".concat("dark"===e?"bg-gray-800":"bg-white"," rounded-lg shadow-md p-6"),children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-sm ".concat("dark"===e?"text-gray-400":"text-gray-600"),children:t.label}),(0,xr.jsx)("p",{className:"text-2xl font-bold ".concat("dark"===e?"text-white":"text-gray-900"),children:t.value})]}),(0,xr.jsx)(t.icon,{className:"w-10 h-10 text-".concat(t.color,"-500")})]})},r))}),(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"".concat("dark"===e?"bg-gray-800":"bg-white"," rounded-lg shadow-md overflow-hidden"),children:[(0,xr.jsx)("div",{className:"p-6 border-b ".concat("dark"===e?"border-gray-700":"border-gray-200"),children:(0,xr.jsx)("h2",{className:"text-xl font-semibold ".concat("dark"===e?"text-white":"text-gray-900"),children:"Payment History"})}),0===t.length?(0,xr.jsxs)("div",{className:"text-center py-12",children:[(0,xr.jsx)(Um,{className:"mx-auto h-16 w-16 ".concat("dark"===e?"text-gray-600":"text-gray-400")}),(0,xr.jsx)("h3",{className:"mt-4 text-lg font-medium ".concat("dark"===e?"text-white":"text-gray-900"),children:"No payments yet"}),(0,xr.jsx)("p",{className:"mt-2 text-sm ".concat("dark"===e?"text-gray-400":"text-gray-500"),children:"Your payment history will appear here when you purchase course sections"})]}):(0,xr.jsx)("div",{className:"overflow-x-auto",children:(0,xr.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,xr.jsx)("thead",{className:"dark"===e?"bg-gray-900":"bg-gray-50",children:(0,xr.jsxs)("tr",{children:[(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ".concat("dark"===e?"text-gray-400":"text-gray-500"),children:"Date"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ".concat("dark"===e?"text-gray-400":"text-gray-500"),children:"Course"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ".concat("dark"===e?"text-gray-400":"text-gray-500"),children:"Section"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ".concat("dark"===e?"text-gray-400":"text-gray-500"),children:"Amount"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ".concat("dark"===e?"text-gray-400":"text-gray-500"),children:"Method"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ".concat("dark"===e?"text-gray-400":"text-gray-500"),children:"Status"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ".concat("dark"===e?"text-gray-400":"text-gray-500"),children:"Receipt"})]})}),(0,xr.jsx)("tbody",{className:"divide-y ".concat("dark"===e?"divide-gray-700":"divide-gray-200"),children:t.map(t=>{var r,a,n;return(0,xr.jsxs)("tr",{className:"".concat("dark"===e?"hover:bg-gray-700":"hover:bg-gray-50"," transition-colors"),children:[(0,xr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm ".concat("dark"===e?"text-gray-300":"text-gray-900"),children:(0,xr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,xr.jsx)(Dg,{className:"w-4 h-4 text-gray-400"}),(0,xr.jsx)("span",{children:new Date(t.createdAt).toLocaleDateString()})]})}),(0,xr.jsx)("td",{className:"px-6 py-4 text-sm ".concat("dark"===e?"text-gray-300":"text-gray-900"),children:(0,xr.jsx)("div",{className:"font-medium",children:(null===(r=t.course)||void 0===r?void 0:r.name)||"N/A"})}),(0,xr.jsx)("td",{className:"px-6 py-4 text-sm ".concat("dark"===e?"text-gray-300":"text-gray-900"),children:(null===(a=t.section)||void 0===a?void 0:a.name)||"N/A"}),(0,xr.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold ".concat("dark"===e?"text-white":"text-gray-900"),children:[(0,xr.jsx)("div",{children:Qm(null==t.finalAmountCents||Number.isNaN(t.finalAmountCents)?t.amountCents:t.finalAmountCents,t.currency)}),(t.balanceUsed>0||t.pointsUsed>0)&&(0,xr.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 space-y-0.5",children:[null!=t.originalCoursePrice&&(0,xr.jsxs)("div",{children:["Original: ",Qm(t.originalCoursePrice,"SYP")]}),t.balanceUsed>0&&(0,xr.jsxs)("div",{children:["Wallet: -",Qm(t.balanceUsed,"SYP")," (",t.balanceDiscountPercentage||0,"% off)"]}),t.pointsUsed>0&&(0,xr.jsxs)("div",{children:["Points used: ",t.pointsUsed.toLocaleString()]})]})]}),(0,xr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm ".concat("dark"===e?"text-gray-300":"text-gray-600"),children:(0,xr.jsx)("span",{className:"capitalize",children:t.paymentMethod||"N/A"})}),(0,xr.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[d(t.status),"rejected"===t.status&&t.rejectionReason&&(0,xr.jsx)("div",{className:"mt-1",children:(0,xr.jsxs)("div",{className:"flex items-start space-x-1 text-xs text-red-600 dark:text-red-400",children:[(0,xr.jsx)(Fm,{className:"w-3 h-3 mt-0.5 flex-shrink-0"}),(0,xr.jsx)("span",{children:t.rejectionReason})]})})]}),(0,xr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(null===(n=t.receipt)||void 0===n?void 0:n.url)&&(0,xr.jsxs)("a",{href:t.receipt.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center space-x-1 text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300 transition-colors",children:[(0,xr.jsx)(Vm,{className:"w-5 h-5"}),(0,xr.jsx)("span",{className:"text-sm",children:"View"})]})})]},t._id)})})]})})]})]})})},Cb=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(null),[s,o]=(0,a.useState)(!0),[l,c]=(0,a.useState)(1),[d,u]=(0,a.useState)(null);(0,a.useEffect)(()=>{m()},[l]);const m=async()=>{try{o(!0);const e=localStorage.getItem("token"),r=await i.A.get("/api/admin/student/payment-history?page=".concat(l),{headers:{Authorization:"Bearer ".concat(e)}});t(r.data.data.payments),n(r.data.data.summary),u(r.data.pagination)}catch(e){console.error("Error fetching payment history:",e),er.error("Failed to load payment history")}finally{o(!1)}},h=e=>{const t={approved:{bg:"bg-green-100 dark:bg-green-900/20",text:"text-green-800 dark:text-green-400",icon:Om},pending:{bg:"bg-yellow-100 dark:bg-yellow-900/20",text:"text-yellow-800 dark:text-yellow-400",icon:Zc},rejected:{bg:"bg-red-100 dark:bg-red-900/20",text:"text-red-800 dark:text-red-400",icon:Zm}},r=t[e]||t.pending,a=r.icon;return(0,xr.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(r.bg," ").concat(r.text," flex items-center gap-1"),children:[(0,xr.jsx)(a,{className:"w-3 h-3"}),e.charAt(0).toUpperCase()+e.slice(1)]})};return s&&1===l?(0,xr.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,xr.jsxs)("div",{className:"mb-8",children:[(0,xr.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Payment History"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"View all your course payments and their status"})]}),r&&(0,xr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,xr.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Payments"}),(0,xr.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.totalPayments})]}),(0,xr.jsx)(Lm,{className:"w-8 h-8 text-indigo-600"})]})}),(0,xr.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Spent"}),(0,xr.jsx)("p",{className:"text-2xl font-bold text-green-600",children:Qm(r.totalSpent)})]}),(0,xr.jsx)(Om,{className:"w-8 h-8 text-green-600"})]})}),(0,xr.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pending"}),(0,xr.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:r.pendingCount})]}),(0,xr.jsx)(Zc,{className:"w-8 h-8 text-yellow-600"})]})}),(0,xr.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Approved"}),(0,xr.jsx)("p",{className:"text-2xl font-bold text-indigo-600",children:r.approvedCount})]}),(0,xr.jsx)(Om,{className:"w-8 h-8 text-indigo-600"})]})})]}),(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[(0,xr.jsx)("div",{className:"overflow-x-auto",children:(0,xr.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,xr.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-900",children:(0,xr.jsxs)("tr",{children:[(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Course & Section"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Amount & Breakdown"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Payment Method"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Date"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),(0,xr.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:0===e.length?(0,xr.jsx)("tr",{children:(0,xr.jsxs)("td",{colSpan:"6",className:"px-6 py-12 text-center",children:[(0,xr.jsx)(Lm,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"No payments found"})]})}):e.map(e=>{var t,r,a,n;return(0,xr.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition",children:[(0,xr.jsx)("td",{className:"px-6 py-4",children:(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:null===(t=e.course)||void 0===t?void 0:t.name}),(0,xr.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:null===(r=e.section)||void 0===r?void 0:r.title})]})}),(0,xr.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,xr.jsx)("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:Qm(null==e.finalAmountCents||Number.isNaN(e.finalAmountCents)?e.amountCents:e.finalAmountCents,e.currency)}),(e.balanceUsed>0||e.pointsUsed>0)&&(0,xr.jsxs)("div",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400 space-y-0.5",children:[null!=e.originalCoursePrice&&(0,xr.jsxs)("div",{children:["Original: ",Qm(e.originalCoursePrice,"SYP")]}),e.balanceUsed>0&&(0,xr.jsxs)("div",{children:["Wallet: -",Qm(e.balanceUsed,"SYP")," (",e.balanceDiscountPercentage||0,"% off)"]}),e.pointsUsed>0&&(0,xr.jsxs)("div",{children:["Points used: ",e.pointsUsed.toLocaleString()]})]})]}),(0,xr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:null===(a=e.paymentMethod)||void 0===a?void 0:a.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())})}),(0,xr.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:new Date(e.submittedAt).toLocaleDateString()}),e.processedAt&&(0,xr.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:["Processed: ",new Date(e.processedAt).toLocaleDateString()]})]}),(0,xr.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[h(e.status),e.rejectionReason&&(0,xr.jsx)("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:e.rejectionReason})]}),(0,xr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:(null===(n=e.receipt)||void 0===n?void 0:n.url)&&(0,xr.jsxs)("a",{href:e.receipt.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1.5 bg-indigo-100 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-400 rounded-md hover:bg-indigo-200 dark:hover:bg-indigo-900/40 transition",children:[(0,xr.jsx)(Kd,{className:"w-4 h-4 mr-1"}),"View Receipt"]})})]},e._id)})})]})}),d&&d.pages>1&&(0,xr.jsxs)("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[(0,xr.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Page ",d.page," of ",d.pages]}),(0,xr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,xr.jsx)("button",{onClick:()=>c(e=>Math.max(1,e-1)),disabled:1===l,className:"px-3 py-1 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,xr.jsx)("button",{onClick:()=>c(e=>Math.min(d.pages,e+1)),disabled:l===d.pages,className:"px-3 py-1 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})})},Ab=(0,nr.A)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),Sb=()=>{var e,t;const{user:r,weakPassword:n}=wr(),[s,o]=(0,a.useState)([]),[l,c]=(0,a.useState)(!0),[d,u]=(0,a.useState)("pending"),[m,h]=(0,a.useState)(null),[p,g]=(0,a.useState)(!1),[x,f]=(0,a.useState)(!1),[y,v]=(0,a.useState)(null),[b,w]=(0,a.useState)(null),[j,k]=(0,a.useState)(""),[N,C]=(0,a.useState)(!1),[A,S]=(0,a.useState)(!1),[E,D]=(0,a.useState)(null),[P,T]=(0,a.useState)(!1);(0,a.useEffect)(()=>{_()},[d]),(0,a.useEffect)(()=>{!n||"admin"!==(null===r||void 0===r?void 0:r.role)&&"instructor"!==(null===r||void 0===r?void 0:r.role)||"undefined"===typeof window||window.sessionStorage.getItem("weakPasswordModalDismissed")||T(!0)},[n,r]);const _=async()=>{try{c(!0);const e=localStorage.getItem("token"),t=await i.A.get("/api/payout-requests/admin/all?status=".concat(d),{headers:{Authorization:"Bearer ".concat(e)}});o(t.data.data)}catch(e){console.error("Error fetching payout requests:",e),er.error("Failed to fetch payout requests")}finally{c(!1)}};return l?(0,xr.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,xr.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:[(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,xr.jsxs)("div",{className:"mb-8",children:[(0,xr.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Instructor Payments"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage instructor payout requests"})]}),(0,xr.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,xr.jsx)("div",{className:"flex space-x-2",children:["pending","approved","rejected"].map(e=>(0,xr.jsx)("button",{onClick:()=>{u(e),S(!1)},className:"px-4 py-2 rounded-lg font-medium transition ".concat(d!==e||A?"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700":"bg-primary-600 text-white"),children:e.charAt(0).toUpperCase()+e.slice(1)},e))}),(0,xr.jsxs)("button",{onClick:()=>{S(!A),A||E||(async()=>{try{const e=localStorage.getItem("token"),[t,r,a]=await Promise.all([i.A.get("/api/payout-requests/admin/all?status=pending&limit=1000",{headers:{Authorization:"Bearer ".concat(e)}}),i.A.get("/api/payout-requests/admin/all?status=approved&limit=1000",{headers:{Authorization:"Bearer ".concat(e)}}),i.A.get("/api/payout-requests/admin/all?status=rejected&limit=1000",{headers:{Authorization:"Bearer ".concat(e)}})]),n=t.data.data||[],s=r.data.data||[],o=a.data.data||[],l={totalRequests:n.length+s.length+o.length,pending:{count:n.length,amount:n.reduce((e,t)=>e+(t.requestedAmount||0),0)},approved:{count:s.length,amount:s.reduce((e,t)=>e+(t.requestedAmount||0),0)},rejected:{count:o.length,amount:o.reduce((e,t)=>e+(t.requestedAmount||0),0)},allRequests:[...n,...s,...o].sort((e,t)=>new Date(t.requestedAt||t.createdAt)-new Date(e.requestedAt||e.createdAt))};D(l)}catch(e){console.error("Error fetching history stats:",e),er.error("Failed to fetch payout history")}})()},className:"flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition ".concat(A?"bg-indigo-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:[(0,xr.jsx)(Ab,{className:"w-4 h-4"}),(0,xr.jsx)("span",{children:"Payout History"})]})]}),A&&E&&(0,xr.jsxs)("div",{className:"mb-8",children:[(0,xr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,xr.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Requests"}),(0,xr.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:E.totalRequests})]}),(0,xr.jsx)(Jc,{className:"w-8 h-8 text-gray-400"})]})}),(0,xr.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pending"}),(0,xr.jsx)("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:E.pending.count}),(0,xr.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:[((E.pending.amount||0)/100).toLocaleString()," SYP"]})]}),(0,xr.jsx)(Zc,{className:"w-8 h-8 text-yellow-400"})]})}),(0,xr.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Approved"}),(0,xr.jsx)("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:E.approved.count}),(0,xr.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:[((E.approved.amount||0)/100).toLocaleString()," SYP"]})]}),(0,xr.jsx)(Om,{className:"w-8 h-8 text-green-400"})]})}),(0,xr.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Rejected"}),(0,xr.jsx)("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:E.rejected.count}),(0,xr.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:[((E.rejected.amount||0)/100).toLocaleString()," SYP"]})]}),(0,xr.jsx)(Zm,{className:"w-8 h-8 text-red-400"})]})})]}),(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[(0,xr.jsx)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:(0,xr.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"All Payout Requests"})}),(0,xr.jsx)("div",{className:"overflow-x-auto",children:(0,xr.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,xr.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-900",children:(0,xr.jsxs)("tr",{children:[(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Instructor"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Amount"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Date Requested"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Processed Date"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),(0,xr.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:E.allRequests.map(e=>{var t,r,a,n,s;return(0,xr.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[(0,xr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,xr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:null===(t=e.instructor)||void 0===t?void 0:t.name}),(0,xr.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:null===(r=e.instructor)||void 0===r?void 0:r.email})]}),((null===(a=e.instructor)||void 0===a?void 0:a.isDeleted)||"deleted"===(null===(n=e.instructor)||void 0===n?void 0:n.status))&&(0,xr.jsx)("span",{className:"px-2 py-0.5 text-[10px] font-semibold rounded-full bg-red-100 text-red-700 dark:bg-red-900/40 dark:text-red-300",children:"Deleted Instructor"})]})}),(0,xr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,xr.jsxs)("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:[((e.requestedAmount||0)/100).toLocaleString()," ",e.currency||"SYP"]})}),(0,xr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,xr.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat("pending"===e.status?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":"approved"===e.status?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"),children:e.status})}),(0,xr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:new Date(e.requestedAt||e.createdAt).toLocaleDateString()}),(0,xr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:e.processedAt?new Date(e.processedAt).toLocaleDateString():"-"}),(0,xr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:"approved"===e.status&&(null===(s=e.payoutProof)||void 0===s?void 0:s.url)&&(0,xr.jsxs)("button",{onClick:()=>(async(e,t)=>{try{const r=localStorage.getItem("token"),a=await fetch(e,{headers:{Authorization:"Bearer ".concat(r)}});if(!a.ok)throw new Error("Failed to download receipt");const n=await a.blob(),s=window.URL.createObjectURL(n),i=document.createElement("a");i.href=s,i.download=t||"payout_receipt_".concat(Date.now(),".pdf"),document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(s),er.success("Receipt downloaded successfully")}catch(r){console.error("Download receipt error:",r),er.error("Failed to download receipt")}})(e.payoutProof.url,e.payoutProof.originalName),className:"px-3 py-1 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-1 text-xs",children:[(0,xr.jsx)(Vm,{className:"w-3 h-3"}),"Receipt"]})})]},e._id)})})]})})]})]}),!A&&(0,xr.jsxs)("div",{className:"space-y-4",children:[s.map(e=>{var t,r,a,n,s,i,o,l,c;return(0,xr.jsxs)("div",{className:"card",children:[(0,xr.jsx)("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>h(m===e._id?null:e._id),children:(0,xr.jsxs)("div",{className:"flex items-center space-x-4 flex-1",children:[(0,xr.jsx)("div",{className:"bg-primary-100 dark:bg-primary-900/30 p-3 rounded-full",children:(0,xr.jsx)(dr,{className:"w-6 h-6 text-primary-600 dark:text-primary-400"})}),(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,xr.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:null===(t=e.instructor)||void 0===t?void 0:t.name}),(0,xr.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat((c=e.status,{pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",approved:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",rejected:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}[c]||"bg-gray-100 text-gray-800")),children:e.status}),((null===(r=e.instructor)||void 0===r?void 0:r.isDeleted)||"deleted"===(null===(a=e.instructor)||void 0===a?void 0:a.status))&&(0,xr.jsx)("span",{className:"px-2 py-0.5 text-[10px] font-semibold rounded-full bg-red-100 text-red-700 dark:bg-red-900/40 dark:text-red-300",children:"Deleted Instructor"})]}),(0,xr.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[null===(n=e.instructor)||void 0===n?void 0:n.email," \u2022 ",e.totalStudents," students"]}),(0,xr.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-500 mt-1",children:["Requested: ",new Date(e.requestedAt).toLocaleDateString()]})]}),(0,xr.jsxs)("div",{className:"text-right",children:[(0,xr.jsxs)("p",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400",children:[((e.requestedAmount||0)/100).toLocaleString()," ",e.currency||"SYP"]}),(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-500 font-medium",children:"Payout Amount"}),e.totalInstructorEarning&&e.totalInstructorEarning!==e.requestedAmount&&(0,xr.jsxs)("p",{className:"text-xs text-gray-400 dark:text-gray-600 mt-1",children:["From earnings: ",((e.totalInstructorEarning||0)/100).toLocaleString()]})]}),m===e._id?(0,xr.jsx)(zh,{className:"w-5 h-5 text-gray-400"}):(0,xr.jsx)(eh,{className:"w-5 h-5 text-gray-400"})]})}),m===e._id&&(0,xr.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,xr.jsxs)("div",{className:"mb-6",children:[(0,xr.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Payment Details"}),(0,xr.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 grid grid-cols-2 gap-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Payment Method"}),(0,xr.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:e.paymentMethod.replace("_"," ").toUpperCase()})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Receiver Name"}),(0,xr.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:null===(s=e.receiverDetails)||void 0===s?void 0:s.receiverName})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Receiver Phone"}),(0,xr.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:null===(i=e.receiverDetails)||void 0===i?void 0:i.receiverPhone})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Location"}),(0,xr.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:(null===(o=e.receiverDetails)||void 0===o?void 0:o.receiverLocation)||"N/A"})]}),(null===(l=e.receiverDetails)||void 0===l?void 0:l.accountDetails)&&(0,xr.jsxs)("div",{className:"col-span-2",children:[(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Account Details"}),(0,xr.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:e.receiverDetails.accountDetails})]})]})]}),(0,xr.jsxs)("div",{className:"mb-6",children:[(0,xr.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Payout Summary"}),(0,xr.jsxs)("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 border-2 border-indigo-200 dark:border-indigo-700 rounded-lg p-4",children:[(0,xr.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,xr.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Requested Payout Amount"}),(0,xr.jsxs)("span",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400",children:[((e.requestedAmount||0)/100).toLocaleString()," ",e.currency||"SYP"]})]}),(0,xr.jsx)("div",{className:"pt-3 border-t border-indigo-200 dark:border-indigo-700",children:(0,xr.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"\u2705 This is the exact amount the instructor will receive"})})]})]}),e.courseInfo&&e.courseInfo.length>0&&(0,xr.jsxs)("div",{className:"mb-6",children:[(0,xr.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Courses Included"}),(0,xr.jsx)("div",{className:"space-y-2",children:e.courseInfo.map((e,t)=>(0,xr.jsx)("div",{className:"flex items-center p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:e.courseName}),(0,xr.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.studentCount," student",1!==e.studentCount?"s":""]})]})},t))})]}),"pending"===e.status&&(0,xr.jsxs)("div",{className:"flex space-x-4",children:[(0,xr.jsxs)("button",{onClick:t=>{t.stopPropagation(),v(e),g(!0)},className:"btn-primary flex items-center flex-1",children:[(0,xr.jsx)(Om,{className:"w-4 h-4 mr-2"}),"Approve & Upload Proof"]}),(0,xr.jsxs)("button",{onClick:t=>{t.stopPropagation(),v(e),f(!0)},className:"btn-secondary flex items-center flex-1 text-red-600 hover:text-red-700",children:[(0,xr.jsx)(Zm,{className:"w-4 h-4 mr-2"}),"Reject"]})]}),"approved"===e.status&&e.payoutProof&&(0,xr.jsxs)("div",{className:"mt-4",children:[(0,xr.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Proof of Payment"}),(0,xr.jsxs)("a",{href:e.payoutProof.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-primary-600 hover:text-primary-700",children:[(0,xr.jsx)(Kd,{className:"w-4 h-4 mr-2"}),"View Proof (",e.payoutProof.originalName,")"]})]}),"rejected"===e.status&&e.rejectionReason&&(0,xr.jsxs)("div",{className:"mt-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:[(0,xr.jsx)("h4",{className:"font-semibold text-red-900 dark:text-red-100 mb-2",children:"Rejection Reason"}),(0,xr.jsx)("p",{className:"text-red-800 dark:text-red-200",children:e.rejectionReason})]})]})]},e._id)}),0===s.length&&(0,xr.jsxs)("div",{className:"card text-center py-12",children:[(0,xr.jsx)(Kh,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,xr.jsxs)("p",{className:"text-gray-500 dark:text-gray-400",children:["No ",d," payout requests"]})]})]})]}),p&&(0,xr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full",children:[(0,xr.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Approve Payout Request"}),(0,xr.jsxs)("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 border border-indigo-200 dark:border-indigo-700 rounded-lg p-4 mb-4",children:[(0,xr.jsxs)("p",{className:"text-gray-700 dark:text-gray-300 mb-2",children:["Instructor: ",(0,xr.jsx)("strong",{className:"text-gray-900 dark:text-white",children:null===y||void 0===y||null===(e=y.instructor)||void 0===e?void 0:e.name})]}),(0,xr.jsxs)("p",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400",children:[(((null===y||void 0===y?void 0:y.requestedAmount)||0)/100).toLocaleString()," ",(null===y||void 0===y?void 0:y.currency)||"SYP"]}),(0,xr.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"\u26a0\ufe0f This is the exact amount the instructor will receive"})]}),(0,xr.jsxs)("div",{className:"mb-4",children:[(0,xr.jsx)("label",{className:"label",children:"Upload Proof of Payment (Required)"}),(0,xr.jsx)("input",{type:"file",accept:".jpg,.jpeg,.png,.pdf,.rar",onChange:e=>w(e.target.files[0]),className:"w-full text-sm text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer bg-gray-50 dark:bg-gray-700 focus:outline-none"}),(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"JPG, PNG, PDF, or RAR (Max 10MB)"}),b&&(0,xr.jsxs)("p",{className:"text-sm text-green-600 dark:text-green-400 mt-2",children:["Selected: ",b.name]})]}),(0,xr.jsxs)("div",{className:"flex space-x-4",children:[(0,xr.jsx)("button",{onClick:()=>{g(!1),w(null),v(null)},className:"btn-secondary flex-1",disabled:N,children:"Cancel"}),(0,xr.jsx)("button",{onClick:async()=>{if(b)try{C(!0);const e=new FormData;e.append("proof",b);const t=localStorage.getItem("token");await i.A.put("/api/payout-requests/admin/".concat(y._id,"/approve"),e,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(t)}}),er.success("Payout approved successfully"),g(!1),w(null),v(null),_()}catch(r){var e,t;console.error("Approve error:",r),er.error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to approve payout")}finally{C(!1)}else er.error("Please upload proof of payment")},className:"btn-primary flex-1 flex items-center justify-center",disabled:!b||N,children:N?(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,xr.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,xr.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Approve & Send"})]})]})}),x&&(0,xr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full",children:[(0,xr.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Reject Payout Request"}),(0,xr.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:["Rejecting payout for ",(0,xr.jsx)("strong",{children:null===y||void 0===y||null===(t=y.instructor)||void 0===t?void 0:t.name})]}),(0,xr.jsxs)("div",{className:"mb-4",children:[(0,xr.jsx)("label",{className:"label",children:"Rejection Reason (Required, min 20 characters)"}),(0,xr.jsx)("textarea",{className:"input-field",rows:"4",value:j,onChange:e=>k(e.target.value),placeholder:"Provide a detailed reason for rejection..."}),(0,xr.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[j.length," / 20 characters minimum"]})]}),(0,xr.jsxs)("div",{className:"flex space-x-4",children:[(0,xr.jsx)("button",{onClick:()=>{f(!1),k(""),v(null)},className:"btn-secondary flex-1",disabled:N,children:"Cancel"}),(0,xr.jsx)("button",{onClick:async()=>{if(!j||j.trim().length<20)er.error("Please provide a detailed reason (minimum 20 characters)");else try{C(!0);const e=localStorage.getItem("token");await i.A.put("/api/payout-requests/admin/".concat(y._id,"/reject"),{reason:j},{headers:{Authorization:"Bearer ".concat(e)}}),er.success("Payout rejected"),f(!1),k(""),v(null),_()}catch(r){var e,t;console.error("Reject error:",r),er.error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to reject payout")}finally{C(!1)}},className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 flex-1 flex items-center justify-center disabled:opacity-50",disabled:j.length<20||N,children:N?(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,xr.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,xr.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Reject Request"})]})]})}),P&&(0,xr.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full p-6",children:[(0,xr.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Please update your password"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:"For your security, admin and instructor accounts must use a strong password (at least 12 characters, including uppercase, lowercase, number and symbol)."}),(0,xr.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,xr.jsx)("button",{type:"button",onClick:()=>{"undefined"!==typeof window&&window.sessionStorage.setItem("weakPasswordModalDismissed","true"),T(!1)},className:"btn-secondary",children:"Remind me later"}),(0,xr.jsx)(Oe,{to:"/profile",onClick:()=>{"undefined"!==typeof window&&window.sessionStorage.setItem("weakPasswordModalDismissed","true"),T(!1)},className:"btn-primary",children:"Update Password"})]})]})})]})},Eb=()=>{const{user:e,weakPassword:t}=wr(),[r,n]=(0,a.useState)({totalEarnings:0,transactionCount:0}),[s,o]=(0,a.useState)([]),[l,c]=(0,a.useState)([]),[d,u]=(0,a.useState)([]),[m,h]=(0,a.useState)(!0),[p,g]=(0,a.useState)("transactions"),[x,f]=(0,a.useState)({startDate:"",endDate:"",courseId:"",instructorId:""}),[y,v]=(0,a.useState)(1),[b,w]=(0,a.useState)(1),[j,k]=(0,a.useState)({}),[N,C]=(0,a.useState)(!1);(0,a.useEffect)(()=>{A()},[y,x]),(0,a.useEffect)(()=>{!t||"admin"!==(null===e||void 0===e?void 0:e.role)&&"instructor"!==(null===e||void 0===e?void 0:e.role)||"undefined"===typeof window||window.sessionStorage.getItem("weakPasswordModalDismissed")||C(!0)},[t,e]);const A=async()=>{try{h(!0);const e=localStorage.getItem("token"),t=new URLSearchParams;x.startDate&&t.append("startDate",x.startDate),x.endDate&&t.append("endDate",x.endDate);const[r,a,s,l]=await Promise.all([i.A.get("/api/admin/earnings/summary?".concat(t.toString()),{headers:{Authorization:"Bearer ".concat(e)}}),i.A.post("/api/admin/earnings/list",(0,Be.A)((0,Be.A)({},x),{},{page:y,limit:50}),{headers:{Authorization:"Bearer ".concat(e)}}),i.A.get("/api/admin/earnings/by-course?".concat(t.toString()),{headers:{Authorization:"Bearer ".concat(e)}}),i.A.get("/api/admin/earnings/by-instructor?".concat(t.toString()),{headers:{Authorization:"Bearer ".concat(e)}})]);n(r.data.data),o(a.data.data),w(a.data.pagination.pages),c(s.data.data),u(l.data.data)}catch(e){console.error("Error fetching earnings:",e),er.error("Failed to fetch earnings data")}finally{h(!1)}};return m?(0,xr.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,xr.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"My Earnings"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Platform commission from all transactions"})]}),(0,xr.jsxs)("button",{onClick:async()=>{try{const e=localStorage.getItem("token"),t=await i.A.post("/api/admin/earnings/export",x,{headers:{Authorization:"Bearer ".concat(e)},responseType:"blob"}),r=window.URL.createObjectURL(new Blob([t.data])),a=document.createElement("a");a.href=r,a.setAttribute("download","admin_earnings_".concat(Date.now(),".csv")),document.body.appendChild(a),a.click(),a.remove(),er.success("Earnings exported successfully")}catch(e){console.error("Export error:",e),er.error("Failed to export earnings")}},className:"btn-secondary flex items-center",children:[(0,xr.jsx)(Vm,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]}),(0,xr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,xr.jsxs)("div",{className:"card bg-gradient-to-br from-primary-500 to-primary-600 text-white",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,xr.jsx)("h3",{className:"text-sm font-medium opacity-90",children:"Total Earnings"}),(0,xr.jsx)(Kh,{className:"w-6 h-6 opacity-75"})]}),(0,xr.jsxs)("p",{className:"text-4xl font-bold",children:["$",(r.totalEarnings/100).toFixed(2)]}),(0,xr.jsx)("p",{className:"text-sm opacity-75 mt-1",children:"Platform commission (all-time)"})]}),(0,xr.jsxs)("div",{className:"card bg-gradient-to-br from-green-500 to-green-600 text-white",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,xr.jsx)("h3",{className:"text-sm font-medium opacity-90",children:"Total Transactions"}),(0,xr.jsx)(Jc,{className:"w-6 h-6 opacity-75"})]}),(0,xr.jsx)("p",{className:"text-4xl font-bold",children:r.transactionCount}),(0,xr.jsx)("p",{className:"text-sm opacity-75 mt-1",children:"Completed payments"})]})]}),(0,xr.jsx)("div",{className:"card mb-6",children:(0,xr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Start Date"}),(0,xr.jsx)("input",{type:"date",className:"input-field",value:x.startDate,onChange:e=>f((0,Be.A)((0,Be.A)({},x),{},{startDate:e.target.value}))})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"End Date"}),(0,xr.jsx)("input",{type:"date",className:"input-field",value:x.endDate,onChange:e=>f((0,Be.A)((0,Be.A)({},x),{},{endDate:e.target.value}))})]}),(0,xr.jsx)("div",{className:"flex items-end",children:(0,xr.jsx)("button",{onClick:()=>f({startDate:"",endDate:"",courseId:"",instructorId:""}),className:"btn-secondary w-full",children:"Clear Filters"})})]})}),(0,xr.jsx)("div",{className:"flex space-x-2 mb-6",children:[{id:"transactions",label:"All Transactions"},{id:"courses",label:"By Course"},{id:"instructors",label:"By Instructor"}].map(e=>(0,xr.jsx)("button",{onClick:()=>g(e.id),className:"px-4 py-2 rounded-lg font-medium transition ".concat(p===e.id?"bg-primary-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:e.label},e.id))}),"transactions"===p&&(0,xr.jsxs)("div",{className:"card overflow-x-auto",children:[(0,xr.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,xr.jsx)("thead",{children:(0,xr.jsxs)("tr",{children:[(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Date"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Student"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Course"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Instructor"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Total"}),(0,xr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Your Share"})]})}),(0,xr.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:s.map(e=>{var t,r,a,n,s;return(0,xr.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[(0,xr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:new Date(e.transactionDate).toLocaleDateString()}),(0,xr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:null===(t=e.student)||void 0===t?void 0:t.name}),(0,xr.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white",children:null===(r=e.course)||void 0===r?void 0:r.name}),(0,xr.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white",children:(0,xr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,xr.jsx)("span",{children:null===(a=e.instructor)||void 0===a?void 0:a.name}),((null===(n=e.instructor)||void 0===n?void 0:n.isDeleted)||"deleted"===(null===(s=e.instructor)||void 0===s?void 0:s.status))&&(0,xr.jsx)("span",{className:"px-2 py-0.5 text-[10px] font-semibold rounded-full bg-red-100 text-red-700 dark:bg-red-900/40 dark:text-red-300",children:"Deleted Instructor"})]})}),(0,xr.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:["$",(e.totalAmount/100).toFixed(2)]}),(0,xr.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,xr.jsxs)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["$",(e.adminEarningAmount/100).toFixed(2)]}),(0,xr.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.adminCommissionPercentage,"%"]})]})]},e._id)})})]}),0===s.length&&(0,xr.jsxs)("div",{className:"text-center py-12",children:[(0,xr.jsx)(Um,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,xr.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No transactions found"})]})]}),"courses"===p&&(0,xr.jsxs)("div",{className:"space-y-3",children:[l.map(e=>(0,xr.jsx)("div",{className:"card",children:(0,xr.jsxs)("button",{onClick:()=>{return t=e._id,void k(e=>(0,Be.A)((0,Be.A)({},e),{},{[t]:!e[t]}));var t},className:"w-full flex items-center justify-between",children:[(0,xr.jsxs)("div",{className:"flex-1 text-left",children:[(0,xr.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:e.courseName}),(0,xr.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.transactionCount," transactions"]})]}),(0,xr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,xr.jsxs)("div",{className:"text-right",children:[(0,xr.jsxs)("p",{className:"text-xl font-bold text-primary-600 dark:text-primary-400",children:["$",(e.totalEarnings/100).toFixed(2)]}),(0,xr.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Revenue: $",(e.totalRevenue/100).toFixed(2)]})]}),j[e._id]?(0,xr.jsx)(zh,{className:"w-5 h-5 text-gray-400"}):(0,xr.jsx)(eh,{className:"w-5 h-5 text-gray-400"})]})]})},e._id)),0===l.length&&(0,xr.jsxs)("div",{className:"card text-center py-12",children:[(0,xr.jsx)(Um,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,xr.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No course data found"})]})]}),"instructors"===p&&(0,xr.jsxs)("div",{className:"space-y-3",children:[d.map(e=>(0,xr.jsx)("div",{className:"card",children:(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,xr.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:e.instructorName}),(e.isDeleted||"deleted"===e.instructorStatus)&&(0,xr.jsx)("span",{className:"px-2 py-0.5 text-[10px] font-semibold rounded-full bg-red-100 text-red-700 dark:bg-red-900/40 dark:text-red-300",children:"Deleted Instructor"})]}),(0,xr.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.instructorEmail," \u2022 ",e.transactionCount," transactions"]})]}),(0,xr.jsxs)("div",{className:"text-right",children:[(0,xr.jsxs)("p",{className:"text-xl font-bold text-primary-600 dark:text-primary-400",children:["$",(e.totalAdminEarnings/100).toFixed(2)]}),(0,xr.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Total Revenue: $",(e.totalRevenue/100).toFixed(2)]}),(0,xr.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Instructor earned: $",(e.totalInstructorEarnings/100).toFixed(2)]})]})]})},e._id)),0===d.length&&(0,xr.jsxs)("div",{className:"card text-center py-12",children:[(0,xr.jsx)(Um,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,xr.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No instructor data found"})]})]}),"transactions"===p&&b>1&&(0,xr.jsxs)("div",{className:"flex justify-center mt-6 space-x-2",children:[(0,xr.jsx)("button",{onClick:()=>v(e=>Math.max(1,e-1)),disabled:1===y,className:"btn-secondary disabled:opacity-50",children:"Previous"}),(0,xr.jsxs)("span",{className:"flex items-center px-4 text-gray-700 dark:text-gray-300",children:["Page ",y," of ",b]}),(0,xr.jsx)("button",{onClick:()=>v(e=>Math.min(b,e+1)),disabled:y===b,className:"btn-secondary disabled:opacity-50",children:"Next"})]}),N&&(0,xr.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full p-6",children:[(0,xr.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Please update your password"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:"For your security, admin and instructor accounts must use a strong password (at least 12 characters, including uppercase, lowercase, number and symbol)."}),(0,xr.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,xr.jsx)("button",{type:"button",onClick:()=>{"undefined"!==typeof window&&window.sessionStorage.setItem("weakPasswordModalDismissed","true"),C(!1)},className:"btn-secondary",children:"Remind me later"}),(0,xr.jsx)(Oe,{to:"/profile",onClick:()=>{"undefined"!==typeof window&&window.sessionStorage.setItem("weakPasswordModalDismissed","true"),C(!1)},className:"btn-primary",children:"Update Password"})]})]})})]})})},Db=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)({totalPayments:0,totalRevenue:0,platformEarnings:0,instructorEarnings:0}),[s,o]=(0,a.useState)(!0),[l,c]=(0,a.useState)({instructorId:"",courseId:"",startDate:"",endDate:""}),[d,u]=(0,a.useState)([]),[m,h]=(0,a.useState)([]),[p,g]=(0,a.useState)({}),[x,f]=(0,a.useState)(1),[y,v]=(0,a.useState)(1);(0,a.useEffect)(()=>{b()},[]),(0,a.useEffect)(()=>{w()},[l,x]);const b=async()=>{try{const e=localStorage.getItem("token"),[t,r]=await Promise.all([i.A.get("/api/users/instructors",{headers:{Authorization:"Bearer ".concat(e)}}),i.A.get("/api/courses",{headers:{Authorization:"Bearer ".concat(e)}})]);u(t.data.instructors||[]),h(r.data.courses||[])}catch(e){console.error("Error fetching instructors/courses:",e)}},w=async()=>{try{var e;o(!0);const a=localStorage.getItem("token"),s=(0,Be.A)((0,Be.A)({},l),{},{page:x,limit:50}),c=await i.A.post("/api/instructor-earnings/admin/detailed-list",s,{headers:{Authorization:"Bearer ".concat(a)}});t(c.data.data||[]),n(c.data.summary||r),v((null===(e=c.data.pagination)||void 0===e?void 0:e.pages)||1)}catch(a){console.error("Error fetching earnings:",a),er.error("Failed to load earnings data")}finally{o(!1)}};return s?(0,xr.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,xr.jsxs)("div",{className:"mb-8",children:[(0,xr.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Platform Earnings Dashboard"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Track student payments and platform revenue"})]}),(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:[(0,xr.jsxs)("div",{className:"flex items-center mb-4",children:[(0,xr.jsx)(mb,{className:"w-5 h-5 text-gray-600 dark:text-gray-400 mr-2"}),(0,xr.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Filters"})]}),(0,xr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Instructor"}),(0,xr.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:l.instructorId,onChange:e=>c((0,Be.A)((0,Be.A)({},l),{},{instructorId:e.target.value})),children:[(0,xr.jsx)("option",{value:"",children:"All Instructors"}),d.map(e=>(0,xr.jsx)("option",{value:e._id,children:e.name},e._id))]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Course"}),(0,xr.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:l.courseId,onChange:e=>c((0,Be.A)((0,Be.A)({},l),{},{courseId:e.target.value})),children:[(0,xr.jsx)("option",{value:"",children:"All Courses"}),m.map(e=>(0,xr.jsx)("option",{value:e._id,children:e.name},e._id))]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Start Date"}),(0,xr.jsx)("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:l.startDate,onChange:e=>c((0,Be.A)((0,Be.A)({},l),{},{startDate:e.target.value}))})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"End Date"}),(0,xr.jsx)("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:l.endDate,onChange:e=>c((0,Be.A)((0,Be.A)({},l),{},{endDate:e.target.value}))})]}),(0,xr.jsx)("div",{className:"flex items-end",children:(0,xr.jsx)("button",{onClick:()=>c({instructorId:"",courseId:"",startDate:"",endDate:""}),className:"w-full px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600",children:"Clear Filters"})})]})]}),(0,xr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,xr.jsxs)("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg shadow-lg p-6 text-white",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,xr.jsx)("h3",{className:"text-sm font-medium opacity-90",children:"Total Payments"}),(0,xr.jsx)(Xc,{className:"w-5 h-5 opacity-75"})]}),(0,xr.jsx)("p",{className:"text-3xl font-bold",children:r.totalPayments})]}),(0,xr.jsxs)("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg shadow-lg p-6 text-white",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,xr.jsx)("h3",{className:"text-sm font-medium opacity-90",children:"Total Revenue"}),(0,xr.jsx)(Kh,{className:"w-5 h-5 opacity-75"})]}),(0,xr.jsxs)("p",{className:"text-3xl font-bold",children:["$",(r.totalRevenue/100).toFixed(2)]})]}),(0,xr.jsxs)("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg shadow-lg p-6 text-white",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,xr.jsx)("h3",{className:"text-sm font-medium opacity-90",children:"Platform Share"}),(0,xr.jsx)(Jc,{className:"w-5 h-5 opacity-75"})]}),(0,xr.jsxs)("p",{className:"text-3xl font-bold",children:["$",(r.platformEarnings/100).toFixed(2)]})]}),(0,xr.jsxs)("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg shadow-lg p-6 text-white",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,xr.jsx)("h3",{className:"text-sm font-medium opacity-90",children:"Instructor Share"}),(0,xr.jsx)(Xc,{className:"w-5 h-5 opacity-75"})]}),(0,xr.jsxs)("p",{className:"text-3xl font-bold",children:["$",(r.instructorEarnings/100).toFixed(2)]})]})]}),(0,xr.jsx)("div",{className:"flex justify-end mb-4",children:(0,xr.jsxs)("button",{onClick:async()=>{try{const e=localStorage.getItem("token"),t=await i.A.post("/api/instructor-earnings/admin/export-detailed",l,{headers:{Authorization:"Bearer ".concat(e)},responseType:"blob"}),r=window.URL.createObjectURL(new Blob([t.data])),a=document.createElement("a");a.href=r,a.setAttribute("download","payment-earnings-".concat(Date.now(),".csv")),document.body.appendChild(a),a.click(),a.remove(),er.success("Export successful")}catch(e){console.error("Export error:",e),er.error("Failed to export data")}},className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center",children:[(0,xr.jsx)(Vm,{className:"w-4 h-4 mr-2"}),"Export to CSV"]})}),(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[(0,xr.jsxs)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[(0,xr.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Detailed Payment Earnings"}),(0,xr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Complete breakdown of all payments with instructor and platform shares"})]}),(0,xr.jsx)("div",{className:"overflow-x-auto",children:(0,xr.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,xr.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-900",children:(0,xr.jsxs)("tr",{children:[(0,xr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Date"}),(0,xr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Instructor"}),(0,xr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Student"}),(0,xr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Course"}),(0,xr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Course Total"}),(0,xr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Balance Used"}),(0,xr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Student Paid"}),(0,xr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Payment Type"}),(0,xr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Split %"}),(0,xr.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Details"})]})}),(0,xr.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:0===e.length?(0,xr.jsx)("tr",{children:(0,xr.jsxs)("td",{colSpan:"10",className:"px-6 py-12 text-center text-gray-500 dark:text-gray-400",children:[(0,xr.jsx)(Um,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,xr.jsx)("p",{children:"No earnings found"})]})}):e.map(e=>{var t,r,n,s,i,o,l,c,d;const u=(e=>{const t={custom:{bg:"bg-purple-100 dark:bg-purple-900/30",text:"text-purple-800 dark:text-purple-400",label:"Custom/Specific"},global:{bg:"bg-blue-100 dark:bg-blue-900/30",text:"text-blue-800 dark:text-blue-400",label:"General/Global"},legacy:{bg:"bg-gray-100 dark:bg-gray-700",text:"text-gray-800 dark:text-gray-300",label:"Legacy"}};return t[e]||t.legacy})(e.agreementType);return(0,xr.jsxs)(a.Fragment,{children:[(0,xr.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[(0,xr.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:new Date(e.accruedAt).toLocaleDateString()}),(0,xr.jsxs)("td",{className:"px-4 py-3 whitespace-nowrap",children:[(0,xr.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:(null===(t=e.instructor)||void 0===t?void 0:t.name)||"N/A"}),(0,xr.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:(null===(r=e.instructor)||void 0===r?void 0:r.email)||""})]}),(0,xr.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:(null===(n=e.student)||void 0===n?void 0:n.name)||"N/A"}),(0,xr.jsxs)("td",{className:"px-4 py-3",children:[(0,xr.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:(null===(s=e.course)||void 0===s?void 0:s.name)||"N/A"}),(0,xr.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:(null===(i=e.section)||void 0===i?void 0:i.name)||""})]}),(0,xr.jsxs)("td",{className:"px-4 py-3 whitespace-nowrap",children:[(0,xr.jsxs)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["$",((e.baseAmountSYP||e.studentPaidAmount+(e.balanceUsed||0))/100).toFixed(2)]}),(0,xr.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Original Price"})]}),(0,xr.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:e.balanceUsed>0?(0,xr.jsxs)("div",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:["$",(e.balanceUsed/100).toFixed(2)]}):(0,xr.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"No Balance"})}),(0,xr.jsxs)("td",{className:"px-4 py-3 whitespace-nowrap",children:[(0,xr.jsxs)("div",{className:"text-sm font-bold text-gray-900 dark:text-white",children:["$",(e.studentPaidAmount/100).toFixed(2)]}),(0,xr.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.currency})]}),(0,xr.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:e.balanceUsed>0&&0===e.studentPaidAmount?(0,xr.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",children:"Wallet Only"}):e.balanceUsed>0?(0,xr.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:"Mixed Payment"}):(0,xr.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200",children:(null===(o=e.paymentMethod)||void 0===o?void 0:o.replace("_"," ").toUpperCase())||"Regular"})}),(0,xr.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:(0,xr.jsxs)("div",{className:"space-y-1",children:[(0,xr.jsxs)("div",{className:"flex items-center",children:[(0,xr.jsxs)("span",{className:"font-semibold text-green-600 dark:text-green-400 mr-1",children:[e.instructorPercentage,"%"]}),(0,xr.jsx)("span",{className:"text-xs text-gray-500",children:"Instructor"})]}),(0,xr.jsxs)("div",{className:"flex items-center",children:[(0,xr.jsxs)("span",{className:"font-semibold text-purple-600 dark:text-purple-400 mr-1",children:[e.platformPercentage,"%"]}),(0,xr.jsx)("span",{className:"text-xs text-gray-500",children:"Platform"})]})]})}),(0,xr.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:(0,xr.jsx)("button",{onClick:()=>{return t=e._id,void g(e=>(0,Be.A)((0,Be.A)({},e),{},{[t]:!e[t]}));var t},className:"text-indigo-600 hover:text-indigo-700 dark:text-indigo-400 flex items-center mx-auto text-sm",children:p[e._id]?(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)(zh,{className:"w-4 h-4 mr-1"})," Hide"]}):(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)(eh,{className:"w-4 h-4 mr-1"})," Show"]})})})]}),p[e._id]&&(0,xr.jsx)("tr",{className:"bg-gray-50 dark:bg-gray-800",children:(0,xr.jsx)("td",{colSpan:"10",className:"px-6 py-4",children:(0,xr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-700 rounded-lg p-4",children:[(0,xr.jsxs)("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3 flex items-center",children:[(0,xr.jsx)(Kh,{className:"w-4 h-4 mr-2 text-green-600"}),"Earnings Breakdown"]}),(0,xr.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,xr.jsxs)("div",{className:"flex justify-between",children:[(0,xr.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Instructor Share:"}),(0,xr.jsxs)("span",{className:"font-bold text-green-600 dark:text-green-400",children:["$",(e.instructorEarningAmount/100).toFixed(2)]})]}),(0,xr.jsxs)("div",{className:"flex justify-between",children:[(0,xr.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Platform Share:"}),(0,xr.jsxs)("span",{className:"font-bold text-purple-600 dark:text-purple-400",children:["$",(e.adminCommissionAmount/100).toFixed(2)]})]}),(0,xr.jsxs)("div",{className:"flex justify-between pt-2 border-t border-gray-200 dark:border-gray-600",children:[(0,xr.jsx)("span",{className:"text-gray-900 dark:text-white font-semibold",children:"Total Paid:"}),(0,xr.jsxs)("span",{className:"font-bold text-gray-900 dark:text-white",children:["$",(e.studentPaidAmount/100).toFixed(2)]})]})]})]}),e.balanceUsed>0&&(0,xr.jsxs)("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4 border border-purple-200 dark:border-purple-700",children:[(0,xr.jsxs)("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3 flex items-center",children:[(0,xr.jsx)("span",{className:"w-4 h-4 mr-2 text-purple-600",children:"\ud83d\udcb0"}),"Balance Usage"]}),(0,xr.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,xr.jsxs)("div",{className:"flex justify-between",children:[(0,xr.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Balance Discount:"}),(0,xr.jsxs)("span",{className:"font-bold text-purple-600 dark:text-purple-400",children:["$",(e.balanceUsed/100).toFixed(2)]})]}),(0,xr.jsxs)("div",{className:"flex justify-between",children:[(0,xr.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Student Paid:"}),(0,xr.jsxs)("span",{className:"font-medium text-gray-900 dark:text-white",children:["$",(e.studentPaidAmount/100).toFixed(2)]})]}),(0,xr.jsxs)("div",{className:"flex justify-between",children:[(0,xr.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Original Course Price:"}),(0,xr.jsxs)("span",{className:"font-medium text-gray-900 dark:text-white",children:["$",((e.baseAmountSYP||e.studentPaidAmount+e.balanceUsed)/100).toFixed(2)]})]}),(0,xr.jsxs)("div",{className:"flex justify-between pt-2 border-t border-purple-200 dark:border-purple-600",children:[(0,xr.jsx)("span",{className:"text-gray-900 dark:text-white font-semibold",children:"Discount %:"}),(0,xr.jsxs)("span",{className:"font-bold text-purple-600 dark:text-purple-400",children:[e.balanceDiscountPercentage||Math.round(e.balanceUsed/(e.baseAmountSYP||e.studentPaidAmount+e.balanceUsed)*100),"%"]})]})]})]}),(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-700 rounded-lg p-4",children:[(0,xr.jsxs)("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3 flex items-center",children:[(0,xr.jsx)(Um,{className:"w-4 h-4 mr-2 text-blue-600"}),"Agreement Used"]}),(0,xr.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,xr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,xr.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Type:"}),(0,xr.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(u.bg," ").concat(u.text),children:u.label})]}),(0,xr.jsxs)("div",{className:"flex justify-between",children:[(0,xr.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Version:"}),(0,xr.jsxs)("span",{className:"font-medium text-gray-900 dark:text-white",children:["v",e.agreementVersion||1]})]}),e.agreementId&&(0,xr.jsxs)("div",{className:"flex justify-between",children:[(0,xr.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Agreement ID:"}),(0,xr.jsxs)("span",{className:"font-mono text-xs text-gray-600 dark:text-gray-400",children:[e.agreementId.toString().substring(0,8),"..."]})]}),(0,xr.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-500 pt-2 border-t border-gray-200 dark:border-gray-600",children:"custom"===e.agreementType?"This is a specific custom agreement for this instructor with negotiated percentages.":"This payment uses the general platform-wide agreement percentage."})]})]}),(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-700 rounded-lg p-4",children:[(0,xr.jsxs)("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3 flex items-center",children:[(0,xr.jsx)(Lm,{className:"w-4 h-4 mr-2 text-orange-600"}),"Payment Details"]}),(0,xr.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,xr.jsxs)("div",{className:"flex justify-between",children:[(0,xr.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Method:"}),(0,xr.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:(null===(l=e.paymentMethod)||void 0===l?void 0:l.replace("_"," ").toUpperCase())||"N/A"})]}),(0,xr.jsxs)("div",{className:"flex justify-between",children:[(0,xr.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Currency:"}),(0,xr.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:e.currency})]}),(0,xr.jsxs)("div",{className:"flex justify-between",children:[(0,xr.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Status:"}),(0,xr.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",children:e.status})]}),(null===(c=e.sectionPayment)||void 0===c||null===(d=c.receipt)||void 0===d?void 0:d.url)&&(0,xr.jsx)("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-600",children:(0,xr.jsxs)("button",{onClick:()=>(async(e,t)=>{try{const r=localStorage.getItem("token"),a=await fetch(e,{headers:{Authorization:"Bearer ".concat(r)}});if(!a.ok)throw new Error("Failed to download receipt");const n=await a.blob(),s=window.URL.createObjectURL(n),i=document.createElement("a");i.href=s,i.download=t||"student_payment_receipt_".concat(Date.now(),".pdf"),document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(s),er.success("Receipt downloaded successfully")}catch(r){console.error("Download receipt error:",r),er.error("Failed to download receipt")}})(e.sectionPayment.receipt.url,e.sectionPayment.receipt.originalName),className:"w-full px-3 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 text-sm font-medium flex items-center justify-center gap-2",children:[(0,xr.jsx)(cb,{className:"w-4 h-4"}),"Download Student Receipt"]})})]})]})]})})})]},e._id)})})]})})]}),y>1&&(0,xr.jsxs)("div",{className:"flex justify-center mt-6 space-x-2",children:[(0,xr.jsx)("button",{onClick:()=>f(e=>Math.max(1,e-1)),disabled:1===x,className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 disabled:opacity-50",children:"Previous"}),(0,xr.jsxs)("span",{className:"flex items-center px-4 text-gray-700 dark:text-gray-300",children:["Page ",x," of ",y]}),(0,xr.jsx)("button",{onClick:()=>f(e=>Math.min(y,e+1)),disabled:x===y,className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 disabled:opacity-50",children:"Next"})]})]})})};const Pb=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[s,o]=(0,a.useState)(""),[l,c]=(0,a.useState)(null),[d,u]=(0,a.useState)({}),[m,h]=(0,a.useState)(!1),[p,g]=(0,a.useState)(null),[x,f]=(0,a.useState)({platformPercentage:30,instructorPercentage:70,adminNotes:""}),[y,v]=(0,a.useState)(!1),[b,w]=(0,a.useState)([]),[j,k]=(0,a.useState)({text:"",instructorPercentage:70,platformPercentage:30}),[N,C]=(0,a.useState)(!1),[A,S]=(0,a.useState)({agreements:0,rejectedAgreementsLastReadAt:null}),[E,D]=(0,a.useState)(!1);(0,a.useEffect)(()=>{_(),R(),O(),T()},[s]),(0,a.useEffect)(()=>{F()},[]);const P=e=>{if(!e||"rejected"!==e.status)return!1;const t=null!==A&&void 0!==A&&A.rejectedAgreementsLastReadAt?new Date(A.rejectedAgreementsLastReadAt).getTime():null;if(!t)return!0;const r=e.rejectedAt?new Date(e.rejectedAt).getTime():null;return!r||r>t},T=async()=>{try{var e;const t=localStorage.getItem("token"),r=(null===(e=(await i.A.get("/api/admin/pending-summary",{headers:{Authorization:"Bearer ".concat(t)}})).data)||void 0===e?void 0:e.data)||{};S({agreements:r.agreements||0,rejectedAgreementsLastReadAt:r.rejectedAgreementsLastReadAt||null})}catch(t){console.error("Error fetching pending summary:",t)}},_=async()=>{try{n(!0);const e=localStorage.getItem("token"),r=s?"?status=".concat(s):"",a=await i.A.get("/api/instructor-agreements".concat(r),{headers:{Authorization:"Bearer ".concat(e)}});t(a.data.data||[])}catch(e){console.error("Error fetching agreements:",e),er.error("Failed to load agreements")}finally{n(!1)}},R=async()=>{try{const e=localStorage.getItem("token"),t=await i.A.get("/api/users/instructors?limit=1000&includeDeleted=true",{headers:{Authorization:"Bearer ".concat(e)}});w(t.data.instructors||[])}catch(e){console.error("Error fetching instructors:",e)}},O=async()=>{try{var e;const t=localStorage.getItem("token"),r=(null===(e=(await i.A.get("/api/instructor/admin/all",{headers:{Authorization:"Bearer ".concat(t)}})).data)||void 0===e?void 0:e.data)||[],a={};r.forEach(e=>{var t;const r=null===e||void 0===e||null===(t=e.instructor)||void 0===t?void 0:t._id;r&&(a[r]=e)}),u(a)}catch(t){console.error("Error fetching signup agreements:",t)}},F=async()=>{try{var e;C(!0);const t=await i.A.get("/api/instructor/agreement-text");null!==(e=t.data)&&void 0!==e&&e.success&&t.data.data&&k({text:t.data.data.text,instructorPercentage:t.data.data.instructorPercentage,platformPercentage:t.data.data.adminPercentage})}catch(t){console.error("Error fetching agreement preview:",t)}finally{C(!1)}},L=(e,t)=>{const r=Math.min(100,Math.max(0,parseInt(t)||0)),a="platformPercentage"===e?"instructorPercentage":"platformPercentage";f(t=>(0,Be.A)((0,Be.A)({},t),{},{[e]:r,[a]:100-r}))},M=e=>({custom:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",global:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400"}[e]||"bg-gray-100 text-gray-800"),I=(()=>{const t={},r=e=>{const r=null===e||void 0===e?void 0:e._id;r&&(t[r]||(t[r]={instructor:e,agreements:[]}))};return(b||[]).forEach(e=>r(e)),(e||[]).forEach(e=>{var a;const n=null===e||void 0===e||null===(a=e.instructor)||void 0===a?void 0:a._id;n&&(r(e.instructor),t[n].agreements.push(e))}),Object.values(d||{}).forEach(e=>{var t;null!==e&&void 0!==e&&null!==(t=e.instructor)&&void 0!==t&&t._id&&r(e.instructor)}),Object.values(t).forEach(e=>{e.agreements.sort((e,t)=>(t.version||0)-(e.version||0))}),t})();return r?(0,xr.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,xr.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:[(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[A.agreements>0&&(0,xr.jsxs)("div",{className:"mb-6 rounded-lg border border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-950/30 p-4 flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[(0,xr.jsxs)("div",{className:"flex items-start gap-3",children:[(0,xr.jsx)(Fm,{className:"w-5 h-5 text-red-700 dark:text-red-300 mt-0.5"}),(0,xr.jsxs)("div",{children:[(0,xr.jsxs)("p",{className:"text-sm font-semibold text-red-900 dark:text-red-100",children:[A.agreements," rejected earnings agreement",1===A.agreements?"":"s"," need review"]}),(0,xr.jsx)("p",{className:"text-xs text-red-800/80 dark:text-red-200/80",children:"These are counted in the Admin dashboard pending actions strip until you mark them as read."})]})]}),(0,xr.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,xr.jsx)("button",{type:"button",onClick:()=>o("rejected"),className:"px-4 py-2 rounded-md bg-white/80 dark:bg-gray-900/40 border border-red-200 dark:border-red-800 text-red-800 dark:text-red-200 text-sm font-medium hover:bg-white dark:hover:bg-gray-900",children:"Show rejected"}),(0,xr.jsx)("button",{type:"button",onClick:async()=>{try{D(!0);const e=localStorage.getItem("token");await i.A.post("/api/admin/settings/rejected-agreements/mark-read",{},{headers:{Authorization:"Bearer ".concat(e)}}),er.success("Rejected agreements marked as read"),await T()}catch(e){console.error("Error marking rejected agreements as read:",e),er.error("Failed to mark rejected agreements as read")}finally{D(!1)}},disabled:E||0===A.agreements,className:"px-4 py-2 rounded-md bg-red-600 text-white text-sm font-medium hover:bg-red-700 disabled:opacity-60",children:E?"Marking...":"Mark rejected agreements as read"})]})]}),(0,xr.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Instructor Agreements Management"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage earnings agreements with version tracking"})]}),(0,xr.jsxs)("button",{onClick:()=>h(!0),className:"btn-primary flex items-center",children:[(0,xr.jsx)(Xh,{className:"w-4 h-4 mr-2"}),"Create Custom Agreement"]})]}),(0,xr.jsx)("div",{className:"flex space-x-2 mb-6",children:["","pending","approved","rejected","expired"].map(e=>(0,xr.jsx)("button",{onClick:()=>o(e),className:"px-4 py-2 rounded-lg font-medium transition ".concat(s===e?"bg-primary-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:e?e.charAt(0).toUpperCase()+e.slice(1):"All"},e))}),(0,xr.jsxs)("div",{className:"space-y-4",children:[Object.values(I).sort((e,t)=>{var r,a;const n=(e.agreements||[]).filter(P).length,s=(t.agreements||[]).filter(P).length;return s!==n?s-n:String((null===e||void 0===e||null===(r=e.instructor)||void 0===r?void 0:r.name)||"").localeCompare(String((null===t||void 0===t||null===(a=t.instructor)||void 0===a?void 0:a.name)||""))}).map(e=>{var t,r;let{instructor:a,agreements:n}=e;const s=n.find(e=>e.isActive&&"approved"===e.status),i=n.filter(P).length,o=l===a._id,u=(null===d||void 0===d?void 0:d[a._id])||null,m=Boolean(u)&&"approved"===u.status&&!s;return(0,xr.jsxs)("div",{className:"card",children:[(0,xr.jsx)("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>{return e=a._id,void c(l===e?null:e);var e},children:(0,xr.jsxs)("div",{className:"flex items-center space-x-4 flex-1",children:[(0,xr.jsx)("div",{className:"bg-primary-100 dark:bg-primary-900/30 p-3 rounded-full",children:(0,xr.jsx)(Um,{className:"w-6 h-6 text-primary-600 dark:text-primary-400"})}),(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,xr.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:a.name}),(0,xr.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:a.email}),(a.isDeleted||"deleted"===a.status)&&(0,xr.jsx)("span",{className:"px-2 py-0.5 text-[10px] font-semibold rounded-full bg-red-100 text-red-700 dark:bg-red-900/40 dark:text-red-300",children:"Deleted Instructor"}),i>0&&(0,xr.jsxs)("span",{className:"px-2 py-0.5 text-[10px] font-bold rounded-full bg-red-600 text-white",children:[i," REJECTED NEED REVIEW"]})]}),s&&(0,xr.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,xr.jsxs)("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:["Active: ",s.instructorPercentage,"% Instructor / ",s.platformPercentage,"% Platform"]}),(0,xr.jsxs)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(M(s.agreementType)),children:[s.agreementType," v",s.version]})]}),u&&(0,xr.jsxs)("div",{className:"flex items-center space-x-2 mt-2 text-xs text-gray-600 dark:text-gray-300",children:[(0,xr.jsx)("span",{className:"font-medium",children:"Signup Agreement:"}),m&&(0,xr.jsx)("span",{className:"px-2 py-0.5 text-[10px] font-bold rounded-full bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-300",children:"ACTIVE"}),(0,xr.jsx)("span",{className:"uppercase",children:u.status}),(null===u||void 0===u||null===(t=u.instructor)||void 0===t?void 0:t.agreementPdfUrl)&&(0,xr.jsxs)("a",{href:u.instructor.agreementPdfUrl,target:"_blank",rel:"noopener noreferrer",download:!0,className:"inline-flex items-center text-indigo-600 dark:text-indigo-400 hover:underline",onClick:e=>e.stopPropagation(),children:[(0,xr.jsx)(Vm,{className:"w-3 h-3 mr-1"}),"Download"]})]})]}),(0,xr.jsxs)("div",{className:"text-right",children:[(0,xr.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[n.length," agreement",1!==n.length?"s":""]}),(0,xr.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:["Latest: v",Math.max(...n.map(e=>e.version||1))]})]}),o?(0,xr.jsx)(zh,{className:"w-5 h-5 text-gray-400"}):(0,xr.jsx)(eh,{className:"w-5 h-5 text-gray-400"})]})}),o&&(0,xr.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[u&&(0,xr.jsx)("div",{className:"mb-6 p-4 rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:(0,xr.jsxs)("div",{className:"flex items-start justify-between",children:[(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"Signup Agreement"}),(0,xr.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-3",children:["Status: ",(0,xr.jsx)("span",{className:"uppercase",children:u.status}),m&&(0,xr.jsx)("span",{className:"ml-2 px-2 py-0.5 text-[10px] font-bold rounded-full bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-300",children:"ACTIVE"})]}),u.agreementText&&(0,xr.jsx)("div",{className:"max-h-40 overflow-y-auto rounded border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900/30 p-3",children:(0,xr.jsx)("pre",{className:"whitespace-pre-wrap text-xs text-gray-700 dark:text-gray-200 font-sans",children:u.agreementText})})]}),(null===u||void 0===u||null===(r=u.instructor)||void 0===r?void 0:r.agreementPdfUrl)&&(0,xr.jsxs)("a",{href:u.instructor.agreementPdfUrl,target:"_blank",rel:"noopener noreferrer",download:!0,className:"btn-secondary text-sm flex items-center ml-4",onClick:e=>e.stopPropagation(),children:[(0,xr.jsx)(Vm,{className:"w-4 h-4 mr-1"}),"Download"]})]})}),(0,xr.jsxs)("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,xr.jsx)(Ab,{className:"w-4 h-4 mr-2"}),"Agreement Version History"]}),(0,xr.jsxs)("div",{className:"space-y-3",children:[0===n.length&&(0,xr.jsx)("div",{className:"p-4 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-sm text-gray-600 dark:text-gray-300",children:"No earnings agreements found for this instructor."}),n.map((e,t)=>{const r=(e=>{const t={pending:{bg:"bg-yellow-100 dark:bg-yellow-900/30",text:"text-yellow-800 dark:text-yellow-400",icon:Zc},approved:{bg:"bg-green-100 dark:bg-green-900/30",text:"text-green-800 dark:text-green-400",icon:Om},rejected:{bg:"bg-red-100 dark:bg-red-900/30",text:"text-red-800 dark:text-red-400",icon:Zm},expired:{bg:"bg-gray-100 dark:bg-gray-700",text:"text-gray-800 dark:text-gray-400",icon:Ab}};return t[e]||t.pending})(e.status),n=r.icon;return(0,xr.jsx)("div",{className:"p-4 rounded-lg border-2 ".concat(e.isActive&&"approved"===e.status?"border-green-300 dark:border-green-700 bg-green-50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"),children:(0,xr.jsxs)("div",{className:"flex items-start justify-between",children:[(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,xr.jsxs)("span",{className:"font-semibold text-gray-900 dark:text-white",children:["Version ",e.version||1]}),(0,xr.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(M(e.agreementType)),children:e.agreementType}),(0,xr.jsxs)("span",{className:"px-2 py-1 text-xs font-medium rounded-full flex items-center ".concat(r.bg," ").concat(r.text),children:[(0,xr.jsx)(n,{className:"w-3 h-3 mr-1"}),String(e.status||"").toUpperCase()]}),e.isActive&&"approved"===e.status&&(0,xr.jsx)("span",{className:"px-2 py-1 text-xs font-bold rounded-full bg-green-500 text-white",children:"CURRENTLY ACTIVE"})]}),(0,xr.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-3",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Instructor Share"}),(0,xr.jsxs)("p",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:[e.instructorPercentage,"%"]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Platform Share"}),(0,xr.jsxs)("p",{className:"text-lg font-bold text-purple-600 dark:text-purple-400",children:[e.platformPercentage,"%"]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Created"}),(0,xr.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:new Date(e.createdAt).toLocaleDateString()})]}),e.approvedAt&&(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Approved"}),(0,xr.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:new Date(e.approvedAt).toLocaleDateString()})]})]}),e.adminNotes&&(0,xr.jsxs)("div",{className:"mb-3 p-3 bg-gray-50 dark:bg-gray-700 rounded",children:[(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Admin Notes:"}),(0,xr.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:e.adminNotes})]}),"rejected"===e.status&&e.rejectionReason&&(0,xr.jsxs)("div",{className:"mb-3 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded",children:[(0,xr.jsx)("p",{className:"text-xs text-red-600 dark:text-red-400 mb-1",children:"Rejection Reason:"}),(0,xr.jsx)("p",{className:"text-sm text-red-800 dark:text-red-200",children:e.rejectionReason})]})]}),(0,xr.jsxs)("div",{className:"flex flex-col space-y-2 ml-4",children:[e.pdfUrl&&(0,xr.jsxs)("a",{href:e.pdfUrl,target:"_blank",rel:"noopener noreferrer",download:!0,className:"btn-secondary text-sm flex items-center",children:[(0,xr.jsx)(Vm,{className:"w-4 h-4 mr-1"}),"Download"]}),"rejected"===e.status&&(0,xr.jsxs)("button",{onClick:()=>{g(a._id),h(!0)},className:"btn-primary text-sm flex items-center whitespace-nowrap",children:[(0,xr.jsx)(Xh,{className:"w-4 h-4 mr-1"}),"Make New Agreement"]})]})]})},e._id)})]})]})]},a._id)}),0===Object.keys(I).length&&(0,xr.jsxs)("div",{className:"card text-center py-12",children:[(0,xr.jsx)(Um,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,xr.jsxs)("p",{className:"text-gray-500 dark:text-gray-400",children:["No agreements found",s&&' with status "'.concat(s,'"')]})]})]})]}),m&&(0,xr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl p-6",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,xr.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Create Custom Agreement"}),(0,xr.jsx)("button",{onClick:()=>{h(!1),g(null)},className:"text-gray-500 hover:text-gray-700 dark:text-gray-300",children:"\u2715"})]}),(0,xr.jsxs)("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Select Instructor"}),(0,xr.jsxs)("select",{className:"input-field",value:p||"",onChange:e=>g(e.target.value),children:[(0,xr.jsx)("option",{value:"",children:"Choose an instructor..."}),(0,xr.jsx)("option",{value:"ALL",children:"All instructors (update global agreement and send to all)"}),b.filter(e=>!e.isDeleted&&"deleted"!==e.status).map(e=>(0,xr.jsxs)("option",{value:e._id,children:[e.name," (",e.email,")"]},e._id))]})]}),(0,xr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Platform Percentage (%)"}),(0,xr.jsx)("input",{type:"number",className:"input-field",value:x.platformPercentage,onChange:e=>L("platformPercentage",e.target.value),min:"0",max:"100"})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Instructor Percentage (%)"}),(0,xr.jsx)("input",{type:"number",className:"input-field",value:x.instructorPercentage,onChange:e=>L("instructorPercentage",e.target.value),min:"0",max:"100"})]})]}),(0,xr.jsx)("div",{className:"p-3 rounded-lg ".concat(x.platformPercentage+x.instructorPercentage===100?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700"),children:(0,xr.jsxs)("p",{className:"text-sm ".concat(x.platformPercentage+x.instructorPercentage===100?"text-green-800 dark:text-green-200":"text-red-800 dark:text-red-200"),children:["Total: ",x.platformPercentage+x.instructorPercentage,"%",x.platformPercentage+x.instructorPercentage===100?" \u2713":" (must equal 100%)"]})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Admin Notes (Optional)"}),(0,xr.jsx)("textarea",{className:"input-field",rows:"3",value:x.adminNotes,onChange:e=>f((0,Be.A)((0,Be.A)({},x),{},{adminNotes:e.target.value})),placeholder:"Internal notes about this custom agreement..."})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"label",children:"Agreement Text Preview"}),(0,xr.jsx)("div",{className:"max-h-60 overflow-y-auto p-3 rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/30 text-sm text-gray-700 dark:text-gray-200 whitespace-pre-wrap",children:N?"Loading agreement text...":j.text||"No agreement text configured yet. You can set it in Agreement Settings."})]}),(0,xr.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-4",children:(0,xr.jsxs)("div",{className:"flex items-start",children:[(0,xr.jsx)(Fm,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mr-3 mt-0.5"}),(0,xr.jsxs)("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:[(0,xr.jsx)("p",{className:"font-semibold mb-1",children:"This will:"}),(0,xr.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,xr.jsx)("li",{children:"Generate a new PDF agreement with custom percentages"}),(0,xr.jsx)("li",{children:"Send it to the instructor via email"}),(0,xr.jsx)("li",{children:"Create a new version number automatically"}),(0,xr.jsx)("li",{children:"Once approved, future payments will use this percentage"})]})]})]})})]}),(0,xr.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,xr.jsx)("button",{onClick:()=>{h(!1),g(null)},className:"btn-secondary",disabled:y,children:"Cancel"}),(0,xr.jsx)("button",{onClick:async()=>{if(p)if(x.platformPercentage+x.instructorPercentage===100)try{v(!0);const e=localStorage.getItem("token");"ALL"===p?(await i.A.post("/api/instructor-agreements/update-global-settings",{platformPercentage:x.platformPercentage,instructorPercentage:x.instructorPercentage,includeCustomInstructors:!0},{headers:{Authorization:"Bearer ".concat(e)}}),er.success("Global earnings settings updated and agreements sent to all approved instructors")):(await i.A.post("/api/instructor-agreements/create-custom",{instructorId:p,platformPercentage:x.platformPercentage,instructorPercentage:x.instructorPercentage,adminNotes:x.adminNotes},{headers:{Authorization:"Bearer ".concat(e)}}),er.success("Custom agreement created and sent to instructor")),h(!1),g(null),f({platformPercentage:30,instructorPercentage:70,adminNotes:""}),_()}catch(r){var e,t;console.error("Error creating custom agreement:",r),er.error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to create agreement")}finally{v(!1)}else er.error("Percentages must sum to 100%");else er.error("Please select an instructor")},className:"btn-primary",disabled:y||!p||x.platformPercentage+x.instructorPercentage!==100,children:y?"Creating...":"Create & Send Agreement"})]})]})})]})},Tb=e=>ga.t(e),_b=[{id:1,get category(){return Tb("gettingStarted")},get question(){return Tb("helpQ1")},get answer(){return Tb("helpA1")},get tags(){return[Tb("account"),Tb("register"),Tb("signup"),Tb("gettingStarted")]}},{id:2,get category(){return Tb("gettingStarted")},get question(){return Tb("helpQ2")},get answer(){return Tb("helpA2")},get tags(){return[Tb("enroll"),Tb("courses"),Tb("registration"),Tb("payment"),Tb("sections")]}},{id:3,get category(){return Tb("gettingStarted")},get question(){return Tb("helpQ3")},get answer(){return Tb("helpA3")},get tags(){return[Tb("navigation"),Tb("dashboard"),Tb("menu"),Tb("browse")]}},{id:4,get category(){return Tb("gettingStarted")},get question(){return Tb("helpQ4")},get answer(){return Tb("helpA4")},get tags(){return[Tb("profile"),Tb("settings"),Tb("avatar"),Tb("update"),Tb("photo")]}},{id:5,get category(){return Tb("coursesAndLearning")},get question(){return Tb("helpQ5")},get answer(){return Tb("helpA5")},get tags(){return[Tb("content"),Tb("access"),Tb("videos"),Tb("lectures"),Tb("materials")]}},{id:6,get category(){return Tb("coursesAndLearning")},get question(){return Tb("helpQ6")},get answer(){return Tb("helpA6")},get tags(){return[Tb("progress"),Tb("tracking"),Tb("completion"),Tb("grades"),Tb("status")]}},{id:7,get category(){return Tb("coursesAndLearning")},get question(){return Tb("helpQ7")},get answer(){return Tb("helpA7")},get tags(){return[Tb("assignment"),Tb("submit"),Tb("upload"),"rar",Tb("homework")]}},{id:8,get category(){return Tb("coursesAndLearning")},get question(){return Tb("helpQ8")},get answer(){return Tb("helpA8")},get tags(){return[Tb("download"),Tb("materials"),Tb("files"),Tb("resources"),Tb("content")]}},{id:9,get category(){return Tb("instructors")},get question(){return Tb("helpQ9")},get answer(){return Tb("helpA9")},get tags(){return[Tb("instructor"),Tb("teacher"),Tb("apply"),Tb("become"),Tb("registration")]}},{id:10,get category(){return Tb("instructors")},get question(){return Tb("helpQ10")},get answer(){return Tb("helpA10")},get tags(){return[Tb("create"),Tb("course"),Tb("instructor"),Tb("setup"),Tb("upload")]}},{id:11,get category(){return Tb("instructors")},get question(){return Tb("helpQ11")},get answer(){return Tb("helpA11")},get tags(){return[Tb("students"),Tb("manage"),Tb("enrollment"),Tb("monitor"),Tb("communication")]}},{id:12,get category(){return Tb("instructors")},get question(){return Tb("helpQ12")},get answer(){return Tb("helpA12")},get tags(){return[Tb("grading"),Tb("assignments"),Tb("evaluation"),Tb("feedback"),Tb("marks")]}},{id:13,get category(){return Tb("paymentsAndBilling")},get question(){return Tb("helpQ13")},get answer(){return Tb("helpA13")},get tags(){return[Tb("payment"),Tb("method"),Tb("bank"),Tb("transfer"),Tb("receipt"),Tb("pay")]}},{id:14,get category(){return Tb("paymentsAndBilling")},get question(){return Tb("helpQ14")},get answer(){return Tb("helpA14")},get tags(){return[Tb("refund"),Tb("moneyBack"),Tb("return"),Tb("policy"),Tb("cancellation")]}},{id:15,get category(){return Tb("paymentsAndBilling")},get question(){return Tb("helpQ15")},get answer(){return Tb("helpA15")},get tags(){return[Tb("receipt"),Tb("verification"),Tb("approval"),Tb("payment"),Tb("proof")]}},{id:16,get category(){return Tb("paymentsAndBilling")},get question(){return Tb("helpQ16")},get answer(){return Tb("helpA16")},get tags(){return[Tb("payment"),Tb("issues"),Tb("problems"),Tb("help"),Tb("stuck"),Tb("error")]}}],Rb=[{get name(){return Tb("gettingStarted")},count:4,icon:"Book"},{get name(){return Tb("coursesAndLearning")},count:4,icon:"Video"},{get name(){return Tb("instructors")},count:4,icon:"Users"},{get name(){return Tb("paymentsAndBilling")},count:4,icon:"FileText"}],Ob=()=>{const{t:e}=(0,ar.useTranslation)(),[t,r]=(0,a.useState)(""),[n,s]=(0,a.useState)("All"),[o,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(_b),[u,m]=(0,a.useState)("");(0,a.useEffect)(()=>{window.scrollTo(0,0)},[]),(0,a.useEffect)(()=>{(async()=>{try{var e;const t=await i.A.get("/api/admin/settings/public");null!==(e=t.data)&&void 0!==e&&e.success&&t.data.data&&m(t.data.data.platformEmail||"")}catch(t){console.error("Error loading public settings:",t)}})()},[]),(0,a.useEffect)(()=>{h()},[t,n]);const h=()=>{let e=_b;if("All"!==n&&(e=e.filter(e=>e.category===n)),t.trim()){const r=t.toLowerCase();e=e.filter(e=>e.question.toLowerCase().includes(r)||e.answer.toLowerCase().includes(r)||e.tags.some(e=>e.toLowerCase().includes(r))||e.category.toLowerCase().includes(r))}d(e)};return(0,xr.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,xr.jsx)("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 py-16",children:(0,xr.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[(0,xr.jsx)(Zo,{className:"w-16 h-16 text-white mx-auto mb-4"}),(0,xr.jsx)("h1",{className:"text-4xl font-bold text-white mb-4",children:e("helpCenterTitle")}),(0,xr.jsx)("p",{className:"text-xl text-indigo-100 max-w-2xl mx-auto mb-8",children:e("findAnswersToCommonQuestions")}),(0,xr.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,xr.jsxs)("div",{className:"relative",children:[(0,xr.jsx)("input",{type:"text",placeholder:e("searchHelp"),value:t,onChange:e=>r(e.target.value),className:"w-full px-6 py-4 pl-14 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white shadow-lg focus:outline-none focus:ring-2 focus:ring-white"}),(0,xr.jsx)(ad,{className:"absolute left-5 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"})]}),t&&(0,xr.jsxs)("p",{className:"mt-2 text-center text-white",children:["Found ",c.length," result",1!==c.length?"s":""]})]})]})})}),(0,xr.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,xr.jsxs)("div",{className:"flex flex-wrap gap-2 justify-center",children:[(0,xr.jsxs)("button",{onClick:()=>s("All"),className:"px-4 py-2 rounded-lg transition ".concat("All"===n?"bg-indigo-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[e("all")," (",_b.length,")"]}),Rb.map(e=>(0,xr.jsxs)("button",{onClick:()=>s(e.name),className:"px-4 py-2 rounded-lg transition ".concat(n===e.name?"bg-indigo-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[e.name," (",e.count,")"]},e.name))]})}),(0,xr.jsx)("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 pb-16",children:0===c.length?(0,xr.jsxs)("div",{className:"text-center py-12",children:[(0,xr.jsx)(Zo,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,xr.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:e("noResultsFound")}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:e("tryDifferentKeywords")})]}):(0,xr.jsx)("div",{className:"space-y-4",children:c.map((e,t)=>(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.05*t},className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:[(0,xr.jsxs)("button",{onClick:()=>{return t=e.id,void l(o===t?null:t);var t},className:"w-full p-6 text-left flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-700/50 transition",children:[(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsx)("div",{className:"flex items-center gap-2 mb-2",children:(0,xr.jsx)("span",{className:"text-xs font-medium px-2 py-1 rounded-full bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-400",children:e.category})}),(0,xr.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e.question})]}),o===e.id?(0,xr.jsx)(zh,{className:"w-5 h-5 text-gray-500 flex-shrink-0 ml-4"}):(0,xr.jsx)(eh,{className:"w-5 h-5 text-gray-500 flex-shrink-0 ml-4"})]}),o===e.id&&(0,xr.jsx)(rr.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"px-6 pb-6",children:(0,xr.jsxs)("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,xr.jsx)("div",{className:"prose dark:prose-invert max-w-none",children:(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 whitespace-pre-line",children:e.answer})}),(0,xr.jsx)("div",{className:"mt-4 flex flex-wrap gap-2",children:e.tags.map(e=>(0,xr.jsxs)("span",{className:"text-xs px-2 py-1 rounded bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-300",children:["#",e]},e))})]})})]},e.id))})}),(0,xr.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-16",children:(0,xr.jsxs)("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-lg p-8 text-center",children:[(0,xr.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:e("stillNeedHelp")}),(0,xr.jsx)("p",{className:"text-indigo-100 mb-6",children:e("ourSupportTeamIsHere")}),(0,xr.jsxs)("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[(0,xr.jsxs)("a",{href:u?"mailto:".concat(u):"mailto:support@example.com",className:"inline-flex items-center px-6 py-3 bg-white text-indigo-600 rounded-lg hover:bg-gray-100 transition",children:[(0,xr.jsx)(ja,{className:"w-5 h-5 mr-2"}),e("emailSupport")]}),(0,xr.jsxs)("a",{href:"/messages",className:"inline-flex items-center px-6 py-3 bg-indigo-700 text-white rounded-lg hover:bg-indigo-800 transition",children:[(0,xr.jsx)(lr,{className:"w-5 h-5 mr-2"}),e("messageAdmin")]})]})]})})]})},Fb=()=>{const{t:e}=(0,ar.useTranslation)(),[t,r]=(0,a.useState)(null),[n,s]=(0,a.useState)(""),i=[{category:e("general"),questions:[{question:e("faqQ1"),answer:e("faqA1")},{question:e("faqQ2"),answer:e("faqA2")},{question:e("faqQ3"),answer:e("faqA3")}]},{category:e("coursesAndLearning"),questions:[{question:e("faqQ4"),answer:e("faqA4")},{question:e("faqQ5"),answer:e("faqA5")},{question:e("faqQ6"),answer:e("faqA6")},{question:e("faqQ7"),answer:e("faqA7")}]},{category:e("paymentsAndRefunds"),questions:[{question:e("faqQ8"),answer:e("faqA8")},{question:e("faqQ9"),answer:e("faqA9")},{question:e("faqQ10"),answer:e("faqA10")},{question:e("faqQ11"),answer:e("faqA11")}]},{category:e("forInstructors"),questions:[{question:e("faqQ12"),answer:e("faqA12")},{question:e("faqQ13"),answer:e("faqA13")},{question:e("faqQ14"),answer:e("faqA14")},{question:e("faqQ15"),answer:e("faqA15")}]},{category:e("technicalSupport"),questions:[{question:e("faqQ16"),answer:e("faqA16")},{question:e("faqQ17"),answer:e("faqA17")},{question:e("faqQ18"),answer:e("faqA18")},{question:e("faqQ19"),answer:e("faqA19")}]}],o=i.map(e=>(0,Be.A)((0,Be.A)({},e),{},{questions:e.questions.filter(e=>e.question.toLowerCase().includes(n.toLowerCase())||e.answer.toLowerCase().includes(n.toLowerCase()))})).filter(e=>e.questions.length>0);return(0,xr.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,xr.jsx)("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 py-16",children:(0,xr.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[(0,xr.jsx)("h1",{className:"text-4xl font-bold text-white mb-4",children:e("frequentlyAskedQuestions")}),(0,xr.jsx)("p",{className:"text-xl text-indigo-100 mb-8",children:e("findAnswersToCommonQuestions")}),(0,xr.jsxs)("div",{className:"relative max-w-2xl mx-auto",children:[(0,xr.jsx)("input",{type:"text",placeholder:e("searchQuestions"),value:n,onChange:e=>s(e.target.value),className:"w-full px-6 py-4 pl-14 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white shadow-lg focus:outline-none focus:ring-2 focus:ring-white"}),(0,xr.jsx)(ad,{className:"absolute left-5 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"})]})]})})}),(0,xr.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[0===o.length?(0,xr.jsx)("div",{className:"text-center py-12",children:(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:e("noQuestionsFound")})}):o.map((e,a)=>(0,xr.jsxs)("div",{className:"mb-12",children:[(0,xr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:e.category}),(0,xr.jsx)("div",{className:"space-y-4",children:e.questions.map((e,n)=>{const s="".concat(a,"-").concat(n),i=t===s;return(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.05*n},className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:[(0,xr.jsxs)("button",{onClick:()=>((e,a)=>{const n="".concat(e,"-").concat(a);r(t===n?null:n)})(a,n),className:"w-full px-6 py-4 flex items-center justify-between text-left hover:bg-gray-50 dark:hover:bg-gray-700 transition",children:[(0,xr.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white pr-8",children:e.question}),(0,xr.jsx)(eh,{className:"w-5 h-5 text-gray-500 dark:text-gray-400 flex-shrink-0 transition-transform ".concat(i?"transform rotate-180":"")})]}),(0,xr.jsx)(tr.N,{children:i&&(0,xr.jsx)(rr.P.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},children:(0,xr.jsx)("div",{className:"px-6 pb-4 text-gray-600 dark:text-gray-400",children:e.answer})})})]},n)})})]},e.category)),(0,xr.jsxs)("div",{className:"mt-16 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg p-8 text-center",children:[(0,xr.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:e("didntFindLookingFor")}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:e("contactSupportTeam")}),(0,xr.jsx)("a",{href:"/help",className:"inline-block px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition",children:e("contactSupport")})]})]})]})},Lb=()=>{const{t:e,i18n:t}=(0,ar.useTranslation)(),r="ar"===t.language,[n,s]=a.useState(""),[o,l]=a.useState(""),[c,d]=a.useState(""),[u,m]=a.useState("EduFlow"),[h,p]=a.useState(!0),[g,x]=a.useState("");a.useEffect(()=>{let e=!0;return(async()=>{try{var t,r;p(!0),x("");const[a,n]=await Promise.all([i.A.get("/api/policies/public/privacy"),i.A.get("/api/admin/settings/public").catch(()=>({data:null}))]);if(e&&null!==(t=a.data)&&void 0!==t&&t.success&&a.data.data?(s(a.data.data.content||""),l(a.data.data.updatedAt||"")):e&&x("Failed to load privacy policy."),e&&null!==(r=n.data)&&void 0!==r&&r.data){const e=n.data.data;d(e.platformEmail||""),m(e.platformName||"EduFlow")}}catch(aw){console.error("Error loading privacy policy:",aw),e&&x("Failed to load privacy policy.")}finally{e&&p(!1)}})(),()=>{e=!1}},[]);const f=a.useMemo(()=>{if(!o)return"";try{const e=new Date(o);return Number.isNaN(e.getTime())?"":e.toLocaleDateString()}catch(e){return""}},[o]);return(0,xr.jsx)("div",{className:"bg-gray-50 dark:bg-gray-900 min-h-screen py-10",children:(0,xr.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,xr.jsxs)("div",{className:"mb-8 ".concat(r?"text-right":"text-left"),children:[(0,xr.jsx)("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-white mb-2",children:e("privacyPolicyTitle")||"Privacy Policy"}),f&&(0,xr.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e("lastUpdated")||"Last Updated",": ",f]})]}),h&&(0,xr.jsx)("div",{className:"flex justify-center items-center py-10",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),!h&&g&&(0,xr.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-200 px-4 py-3 rounded-md mb-6 text-sm",children:g}),!h&&!g&&(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsxs)("div",{className:"mb-10 space-y-6 ".concat(r?"text-right":"text-left"),children:[(0,xr.jsx)("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e("privacyIntro")||"Your privacy and data security are our top priorities"}),(0,xr.jsxs)("section",{className:"space-y-4 text-sm text-gray-700 dark:text-gray-300",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h2",{className:"text-base font-semibold text-gray-900 dark:text-white",children:e("introduction")||"Introduction"}),(0,xr.jsx)("p",{className:"mt-2",children:e("privacyIntroText")})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h2",{className:"text-base font-semibold text-gray-900 dark:text-white mt-4",children:e("informationWeCollect")||"Information We Collect"}),(0,xr.jsxs)("ul",{className:"mt-2 list-disc ".concat(r?"pr-6":"pl-6"," space-y-1"),children:[(0,xr.jsx)("li",{children:e("infoCollect1")}),(0,xr.jsx)("li",{children:e("infoCollect2")}),(0,xr.jsx)("li",{children:e("infoCollect3")}),(0,xr.jsx)("li",{children:e("infoCollect4")}),(0,xr.jsx)("li",{children:e("infoCollect5")})]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h2",{className:"text-base font-semibold text-gray-900 dark:text-white mt-4",children:e("howWeUseInfo")||"How We Use Your Information"}),(0,xr.jsxs)("ul",{className:"mt-2 list-disc ".concat(r?"pr-6":"pl-6"," space-y-1"),children:[(0,xr.jsx)("li",{children:e("useInfo1")}),(0,xr.jsx)("li",{children:e("useInfo2")}),(0,xr.jsx)("li",{children:e("useInfo3")}),(0,xr.jsx)("li",{children:e("useInfo4")}),(0,xr.jsx)("li",{children:e("useInfo5")})]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h2",{className:"text-base font-semibold text-gray-900 dark:text-white mt-4",children:e("yourRights")||"Your Rights"}),(0,xr.jsxs)("ul",{className:"mt-2 list-disc ".concat(r?"pr-6":"pl-6"," space-y-1"),children:[(0,xr.jsx)("li",{children:e("rights1")}),(0,xr.jsx)("li",{children:e("rights2")}),(0,xr.jsx)("li",{children:e("rights3")}),(0,xr.jsx)("li",{children:e("rights4")}),(0,xr.jsx)("li",{children:e("rights5")})]})]})]})]}),n&&(0,xr.jsx)("div",{className:"prose prose-sm sm:prose max-w-none dark:prose-invert mb-8",dangerouslySetInnerHTML:{__html:n}}),c&&(0,xr.jsxs)("div",{className:"mt-6 p-4 rounded-lg bg-white dark:bg-gray-800 shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,xr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:e("contactUsAboutPrivacy")||"Have questions about this policy?"}),(0,xr.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-1",children:e("privacyContactText")||"Do you have questions about this policy? Contact our support team at:"}),(0,xr.jsxs)("p",{className:"text-sm text-primary-600 dark:text-primary-400 font-medium break-all",children:[u&&(0,xr.jsxs)("span",{className:"mr-1",children:[u," -"]}),(0,xr.jsx)("a",{href:"mailto:".concat(c),className:"hover:underline",children:c})]})]})]})]})})},Mb=()=>{const{t:e,i18n:t}=(0,ar.useTranslation)(),r="ar"===t.language,[n,s]=a.useState(""),[o,l]=a.useState(""),[c,d]=a.useState(""),[u,m]=a.useState("EduFlow"),[h,p]=a.useState(!0),[g,x]=a.useState("");a.useEffect(()=>{let e=!0;return(async()=>{try{var t,r;p(!0),x("");const[a,n]=await Promise.all([i.A.get("/api/policies/public/terms"),i.A.get("/api/admin/settings/public").catch(()=>({data:null}))]);if(e&&null!==(t=a.data)&&void 0!==t&&t.success&&a.data.data?(s(a.data.data.content||""),l(a.data.data.updatedAt||"")):e&&x("Failed to load terms of service."),e&&null!==(r=n.data)&&void 0!==r&&r.data){const e=n.data.data;d(e.platformEmail||""),m(e.platformName||"EduFlow")}}catch(aw){console.error("Error loading terms of service:",aw),e&&x("Failed to load terms of service.")}finally{e&&p(!1)}})(),()=>{e=!1}},[]);const f=a.useMemo(()=>{if(!o)return"";try{const e=new Date(o);return Number.isNaN(e.getTime())?"":e.toLocaleDateString()}catch(e){return""}},[o]);return(0,xr.jsx)("div",{className:"bg-gray-50 dark:bg-gray-900 min-h-screen py-10",children:(0,xr.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,xr.jsxs)("div",{className:"mb-8 ".concat(r?"text-right":"text-left"),children:[(0,xr.jsx)("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-white mb-2",children:e("termsOfServiceTitle")||"Terms of Service"}),f&&(0,xr.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e("lastUpdated")||"Last Updated",": ",f]})]}),h&&(0,xr.jsx)("div",{className:"flex justify-center items-center py-10",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),!h&&g&&(0,xr.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-200 px-4 py-3 rounded-md mb-6 text-sm",children:g}),!h&&!g&&(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)("div",{className:"mb-10 space-y-6 ".concat(r?"text-right":"text-left"),children:(0,xr.jsx)("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e("termsIntro")||"Please read these terms carefully before using EduFlow Academy"})}),n&&(0,xr.jsx)("div",{className:"prose prose-sm sm:prose max-w-none dark:prose-invert mb-8",dangerouslySetInnerHTML:{__html:n}}),c&&(0,xr.jsxs)("div",{className:"mt-6 p-4 rounded-lg bg-white dark:bg-gray-800 shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,xr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:e("questionsAboutTerms")||"Questions About These Terms?"}),(0,xr.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-1",children:e("termsContactText")||"Do you have questions about these terms? Contact our support team at:"}),(0,xr.jsxs)("p",{className:"text-sm text-primary-600 dark:text-primary-400 font-medium break-all",children:[u&&(0,xr.jsxs)("span",{className:"mr-1",children:[u," -"]}),(0,xr.jsx)("a",{href:"mailto:".concat(c),className:"hover:underline",children:c})]})]})]})]})})},Ib=(0,nr.A)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Bb=()=>{const{t:e}=(0,ar.useTranslation)();(0,a.useEffect)(()=>{window.scrollTo(0,0)},[]);const t=[{icon:Oa,title:e("quality"),description:e("qualityDesc")},{icon:ed,title:e("ourMission"),description:e("ourMissionDesc")},{icon:Xc,title:e("community"),description:e("communityDesc")},{icon:Ib,title:e("expertInstructors"),description:e("expertInstructorsDesc")},{icon:Bc,title:e("innovation"),description:e("innovationDesc")},{icon:or,title:e("accessibility"),description:e("accessibilityDesc")}];return(0,xr.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,xr.jsx)("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 py-20",children:(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,xr.jsxs)(rr.P.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-4xl md:text-5xl font-bold text-white mb-6",children:[e("aboutUsTitle")," - ",e("eduflow")]}),(0,xr.jsx)(rr.P.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-xl text-indigo-100 max-w-3xl mx-auto",children:e("aboutDescription")})]})}),(0,xr.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:(0,xr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},children:[(0,xr.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-6",children:e("ourMission")}),(0,xr.jsx)("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-4",children:e("ourMissionDesc")}),(0,xr.jsx)("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:e("communityDesc")})]}),(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-8",children:[(0,xr.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:e("whatYouWillLearn")}),(0,xr.jsx)("ul",{className:"space-y-4",children:[e("expertInstructorsCardDesc"),e("certifiedLearningDesc"),e("flexibleScheduleDesc"),e("certifiedCoursesDesc"),e("communitySupportDesc"),e("innovationDesc")].map((e,t)=>(0,xr.jsxs)("li",{className:"flex items-start",children:[(0,xr.jsx)("svg",{className:"w-6 h-6 text-green-500 mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,xr.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:e})]},t))})]})]})}),(0,xr.jsx)("div",{className:"bg-white dark:bg-gray-800 py-16",children:(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,xr.jsxs)("div",{className:"text-center mb-12",children:[(0,xr.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:e("ourValues")}),(0,xr.jsx)("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:e("findAnswersToCommonQuestions")})]}),(0,xr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((e,t)=>{const r=e.icon;return(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1*t},className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-6 hover:shadow-lg transition-shadow",children:[(0,xr.jsx)("div",{className:"w-12 h-12 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg flex items-center justify-center mb-4",children:(0,xr.jsx)(r,{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400"})}),(0,xr.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:e.title}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:e.description})]},t)})})]})}),(0,xr.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:(0,xr.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[{number:"10,000+",label:e("studentsCount")},{number:"50+",label:e("coursesCount")},{number:"100+",label:e("instructorsCount")},{number:"95%",label:e("successRate")}].map((e,t)=>(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:.1*t},className:"text-center",children:[(0,xr.jsx)("div",{className:"text-4xl font-bold text-indigo-600 dark:text-indigo-400 mb-2",children:e.number}),(0,xr.jsx)("div",{className:"text-gray-600 dark:text-gray-400",children:e.label})]},t))})}),(0,xr.jsx)("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 py-16",children:(0,xr.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,xr.jsx)("h2",{className:"text-3xl font-bold text-white mb-6",children:e("readyToStartLearningJourney")}),(0,xr.jsx)("p",{className:"text-xl text-indigo-100 mb-8",children:e("joinThousandsOfStudents")}),(0,xr.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,xr.jsx)("a",{href:"/register",className:"px-8 py-3 bg-white text-indigo-600 rounded-lg font-semibold hover:bg-gray-100 transition",children:e("getStartedFree")}),(0,xr.jsx)("a",{href:"/#courses",className:"px-8 py-3 border-2 border-white text-white rounded-lg font-semibold hover:bg-white hover:text-indigo-600 transition",children:e("browseCourses")})]})]})})]})},qb=()=>{const{user:e}=wr(),[t,r]=(0,a.useState)({name:(null===e||void 0===e?void 0:e.name)||"",email:(null===e||void 0===e?void 0:e.email)||"",subject:"",message:""}),[n,s]=(0,a.useState)(!1),o=e=>{r(t=>(0,Be.A)((0,Be.A)({},t),{},{[e.target.name]:e.target.value}))},l=[{icon:ja,title:"Email",value:"info@eduflow.academy",link:"mailto:info@eduflow.academy"},{icon:km,title:"Phone",value:"+1 (555) 123-4567",link:"tel:+15551234567"},{icon:Nm,title:"Location",value:"123 Education St, Learning City, LC 12345",link:null}];return(0,xr.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,xr.jsx)("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 py-20",children:(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,xr.jsx)(rr.P.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Get In Touch"}),(0,xr.jsx)(rr.P.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-xl text-indigo-100 max-w-3xl mx-auto",children:"Have questions? We'd love to hear from you. Send us a message and we'll respond as soon as possible."})]})}),(0,xr.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:(0,xr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[(0,xr.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Contact Information"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"Reach out to us through any of these channels"})]}),l.map((e,t)=>{const r=e.icon;return(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:.1*t},className:"flex items-start space-x-4",children:[(0,xr.jsx)("div",{className:"w-12 h-12 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,xr.jsx)(r,{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400"})}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:e.title}),e.link?(0,xr.jsx)("a",{href:e.link,className:"text-gray-600 dark:text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 transition",children:e.value}):(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:e.value})]})]},t)}),(0,xr.jsxs)("div",{className:"pt-6",children:[(0,xr.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Follow Us"}),(0,xr.jsx)("div",{className:"flex space-x-4",children:[{name:"Facebook",url:"https://www.facebook.com/share/153i3Qbi8i/"},{name:"Instagram",url:"https://www.instagram.com/tarrafmahmud?igsh=M2dhaGVoMmdiODNo"},{name:"LinkedIn",url:"https://www.linkedin.com/in/mahmoud-tarraf/"},{name:"GitHub",url:"https://mahmoudtarraf.github.io/portfolio/"}].map(e=>(0,xr.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-gray-200 dark:bg-gray-800 rounded-lg flex items-center justify-center hover:bg-indigo-600 dark:hover:bg-indigo-600 hover:text-white transition",title:e.name,children:(0,xr.jsx)("span",{className:"text-sm font-bold",children:e.name[0]})},e.name))})]})]}),(0,xr.jsx)("div",{className:"lg:col-span-2",children:(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-8",children:[(0,xr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Send Us a Message"}),(0,xr.jsxs)("form",{onSubmit:async a=>{if(a.preventDefault(),t.subject&&t.message)try{s(!0);const a=localStorage.getItem("token");if(e){const e=(await i.A.get("/api/users/admin",{headers:{Authorization:"Bearer ".concat(a)}})).data.admin._id;await i.A.post("/api/messages",{recipient:e,subject:t.subject,content:t.message,priority:"normal"},{headers:{Authorization:"Bearer ".concat(a)}})}else await i.A.post("/api/contact",{name:t.name,email:t.email,subject:t.subject,message:t.message});er.success("Message sent successfully! We'll get back to you soon."),r({name:(null===e||void 0===e?void 0:e.name)||"",email:(null===e||void 0===e?void 0:e.email)||"",subject:"",message:""})}catch(l){var n,o;console.error("Contact form error:",l),er.error((null===(n=l.response)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.message)||"Failed to send message. Please try again.")}finally{s(!1)}else er.error("Please fill in all required fields")},className:"space-y-6",children:[!e&&(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Your Name *"}),(0,xr.jsx)("input",{type:"text",name:"name",value:t.name,onChange:o,required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"John Doe"})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Your Email *"}),(0,xr.jsx)("input",{type:"email",name:"email",value:t.email,onChange:o,required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"john@example.com"})]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Subject *"}),(0,xr.jsx)("input",{type:"text",name:"subject",value:t.subject,onChange:o,required:!0,minLength:5,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"How can we help you?"})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Message *"}),(0,xr.jsx)("textarea",{name:"message",value:t.message,onChange:o,required:!0,minLength:20,rows:6,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Tell us more about your inquiry..."})]}),(0,xr.jsx)("button",{type:"submit",disabled:n,className:"w-full px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition flex items-center justify-center",children:n?(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,xr.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,xr.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)(Nh,{className:"w-5 h-5 mr-2"}),"Send Message"]})})]})]})})]})})]})},zb=(0,nr.A)("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),Ub=()=>{const e=ae(),{t:t}=(0,ar.useTranslation)(),[r,n]=(0,a.useState)([]),[s,o]=(0,a.useState)(!0),[l,c]=(0,a.useState)("");(0,a.useEffect)(()=>{d()},[]);const d=async()=>{try{o(!0);const e=await i.A.get("/api/instructors/public");n(e.data.instructors||[])}catch(e){console.error("Error fetching instructors:",e)}finally{o(!1)}},u=r.filter(e=>{var t,r,a;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(l.toLowerCase()))||(null===(r=e.bio)||void 0===r?void 0:r.toLowerCase().includes(l.toLowerCase()))||(null===(a=e.expertise)||void 0===a?void 0:a.some(e=>e.toLowerCase().includes(l.toLowerCase())))});return(0,xr.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,xr.jsx)("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 py-16",children:(0,xr.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[(0,xr.jsx)("h1",{className:"text-4xl font-bold text-white mb-4",children:t("meetOurInstructors")}),(0,xr.jsx)("p",{className:"text-xl text-indigo-100 max-w-2xl mx-auto",children:t("expertInstructorsTeam")})]})})}),(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mb-8",children:(0,xr.jsxs)("div",{className:"relative max-w-xl mx-auto",children:[(0,xr.jsx)("input",{type:"text",placeholder:t("searchHelp")||"Search instructors...",value:l,onChange:e=>c(e.target.value),className:"w-full px-4 py-3 pl-12 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500"}),(0,xr.jsx)("svg",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),s&&(0,xr.jsx)("div",{className:"flex justify-center py-12",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}),!s&&(0,xr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:0===u.length?(0,xr.jsxs)("div",{className:"col-span-full text-center py-12",children:[(0,xr.jsx)(_a,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"No instructors found"})]}):u.map((r,a)=>{var n,s,i,o,l,c;return(0,xr.jsx)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1*a},className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden hover:shadow-xl transition-shadow duration-300",children:(0,xr.jsxs)("div",{className:"p-6",children:[(0,xr.jsx)("div",{className:"flex justify-center mb-4",children:(0,xr.jsx)("div",{className:"w-24 h-24 rounded-full bg-gradient-to-r from-indigo-500 to-purple-500 flex items-center justify-center",children:r.avatar?(0,xr.jsx)("img",{src:r.avatar,alt:r.name,className:"w-full h-full rounded-full object-cover"}):(0,xr.jsx)("span",{className:"text-3xl font-bold text-white",children:(null===(n=r.name)||void 0===n||null===(s=n.charAt(0))||void 0===s?void 0:s.toUpperCase())||"I"})})}),(0,xr.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white text-center mb-2",children:r.name}),(r.aboutMeHtml||r.aboutMe||r.bio)&&(0,xr.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 text-center mb-4 line-clamp-3",dangerouslySetInnerHTML:{__html:r.aboutMeHtml||r.aboutMe||r.bio}}),(0,xr.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4 py-4 border-y border-gray-200 dark:border-gray-700",children:[(0,xr.jsxs)("div",{className:"text-center",children:[(0,xr.jsx)("div",{className:"flex items-center justify-center text-indigo-600 dark:text-indigo-400 mb-1",children:(0,xr.jsx)(Ra,{className:"w-4 h-4 mr-1"})}),(0,xr.jsx)("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:r.courseCount||0}),(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Courses"})]}),(0,xr.jsxs)("div",{className:"text-center",children:[(0,xr.jsx)("div",{className:"flex items-center justify-center text-indigo-600 dark:text-indigo-400 mb-1",children:(0,xr.jsx)(Xc,{className:"w-4 h-4 mr-1"})}),(0,xr.jsx)("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:r.studentCount||0}),(0,xr.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Students"})]})]}),r.expertise&&r.expertise.length>0&&(0,xr.jsx)("div",{className:"mb-4",children:(0,xr.jsxs)("div",{className:"flex flex-wrap gap-2 justify-center",children:[r.expertise.slice(0,3).map((e,t)=>(0,xr.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-300",children:e},t)),r.expertise.length>3&&(0,xr.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",children:["+",r.expertise.length-3," more"]})]})}),(r.socialLinks&&Object.values(r.socialLinks).some(e=>e)||r.email)&&(0,xr.jsxs)("div",{className:"flex justify-center gap-3 mb-4",children:[(null===(i=r.socialLinks)||void 0===i?void 0:i.linkedin)&&(0,xr.jsx)("a",{href:r.socialLinks.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-indigo-600 dark:text-gray-400 dark:hover:text-indigo-400 transition",children:(0,xr.jsx)(Ca,{className:"w-5 h-5"})}),(null===(o=r.socialLinks)||void 0===o?void 0:o.github)&&(0,xr.jsx)("a",{href:r.socialLinks.github,target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-indigo-600 dark:text-gray-400 dark:hover:text-indigo-400 transition",children:(0,xr.jsx)(Na,{className:"w-5 h-5"})}),(null===(l=r.socialLinks)||void 0===l?void 0:l.twitter)&&(0,xr.jsx)("a",{href:r.socialLinks.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-indigo-600 dark:text-gray-400 dark:hover:text-indigo-400 transition",children:(0,xr.jsx)(zb,{className:"w-5 h-5"})}),(null===(c=r.socialLinks)||void 0===c?void 0:c.website)&&(0,xr.jsx)("a",{href:r.socialLinks.website,target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-indigo-600 dark:text-gray-400 dark:hover:text-indigo-400 transition",children:(0,xr.jsx)(or,{className:"w-5 h-5"})}),r.email&&(0,xr.jsx)("a",{href:"mailto:".concat(r.email),className:"text-gray-600 hover:text-indigo-600 dark:text-gray-400 dark:hover:text-indigo-400 transition",title:t("sendEmail")||"Send email",children:(0,xr.jsx)(ja,{className:"w-5 h-5"})})]}),(0,xr.jsx)("button",{onClick:()=>e("/instructor/".concat(r._id)),className:"w-full px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition",children:t("viewProfile")})]})},r._id)})})]})]})},Vb=e=>{let{videoUrl:t}=e;const r=a.useRef(null),n=a.useRef(null),[s,o]=a.useState(null),[l,c]=a.useState(null),d=e=>e?e.includes("youtube.com")||e.includes("youtu.be")?"youtube":e.includes("res.cloudinary.com")&&e.includes("/video/")?"cloudinary":"local":"none";a.useEffect(()=>{var e;if(!r.current||"youtube"===d(t))return;return null===(e=r.current)||void 0===e||e.addEventListener("play",()=>{try{const e=new(window.AudioContext||window.webkitAudioContext),t=e.createAnalyser();t.fftSize=256;e.createMediaElementSource(r.current).connect(t),t.connect(e.destination),o(e),c(t),u(t)}catch(aw){console.log("Audio visualization not supported:",aw)}},{once:!0}),()=>{s&&s.close()}},[t]);const u=e=>{if(!n.current)return;const t=n.current,r=t.getContext("2d"),a=e.frequencyBinCount,s=new Uint8Array(a),i=()=>{requestAnimationFrame(i),e.getByteFrequencyData(s),r.fillStyle="rgba(0, 0, 0, 0.1)",r.fillRect(0,0,t.width,t.height);const n=t.width/a*2.5;let o=0;for(let e=0;e<a;e++){const a=s[e]/255*t.height,i=r.createLinearGradient(0,t.height-a,0,t.height);i.addColorStop(0,"#6366f1"),i.addColorStop(1,"#8b5cf6"),r.fillStyle=i,r.fillRect(o,t.height-a,n,a),o+=n+1}};i()},m=d(t),h=t.startsWith("http")?t:"".concat(i.A.defaults.baseURL||"http://localhost:5000").concat(t);return"youtube"===m?(0,xr.jsx)(bh,{youtubeVideoId:null,embedUrl:t,title:"Instructor Introduction Video"}):(0,xr.jsxs)("div",{className:"relative rounded-lg overflow-hidden bg-black",children:[(0,xr.jsxs)("video",{ref:r,controls:!0,className:"w-full",style:{maxHeight:"600px"},controlsList:"nodownload",crossOrigin:"anonymous",children:[(0,xr.jsx)("source",{src:h,type:"video/mp4"}),(0,xr.jsx)("source",{src:h,type:"video/webm"}),(0,xr.jsx)("source",{src:h,type:"video/quicktime"}),"Your browser does not support the video tag."]}),(0,xr.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-16 pointer-events-none",children:(0,xr.jsx)("canvas",{ref:n,width:"800",height:"64",className:"w-full h-full opacity-75"})})]})},Yb=()=>{var e,t;const{t:r}=(0,ar.useTranslation)(),{id:n}=ne(),s=ae(),[o,l]=(0,a.useState)(null),[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)(!0),[h,p]=(0,a.useState)(null),[g,x]=(0,a.useState)(null),[f,y]=(0,a.useState)(!1);(0,a.useEffect)(()=>{v()},[n]);const v=async()=>{try{m(!0),p(null);const e=(await i.A.get("/api/instructors/".concat(n))).data.instructor;l(e),d(e.courses||[]),b(n)}catch(h){var e,t;console.error("Error fetching instructor profile:",h),p((null===(e=h.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to load instructor profile")}finally{m(!1)}},b=async e=>{try{y(!0);const t=await i.A.get("/api/instructor/".concat(e,"/video-info"));t.data.success&&x(t.data.data)}catch(h){console.log("No introduction video available for this instructor"),x(null)}finally{y(!1)}};return u?(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):h?(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,xr.jsxs)("div",{className:"text-center",children:[(0,xr.jsx)("p",{className:"text-red-600 dark:text-red-400 mb-4",children:h}),(0,xr.jsx)("button",{onClick:()=>s("/instructors"),className:"btn-primary",children:"Back to Instructors"})]})}):o?(0,xr.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,xr.jsx)("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 py-16",children:(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,xr.jsxs)("button",{onClick:()=>s("/instructors"),className:"flex items-center text-white mb-6 hover:text-indigo-200 transition",children:[(0,xr.jsx)(Em,{className:"w-5 h-5 mr-2"}),r("backToInstructors")]}),(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex flex-col md:flex-row items-center gap-8",children:[(0,xr.jsx)("div",{className:"w-32 h-32 rounded-full bg-white flex items-center justify-center shadow-lg",children:o.avatar?(0,xr.jsx)("img",{src:o.avatar,alt:o.name,className:"w-full h-full rounded-full object-cover"}):(0,xr.jsx)("span",{className:"text-5xl font-bold text-indigo-600",children:(null===(e=o.name)||void 0===e||null===(t=e.charAt(0))||void 0===t?void 0:t.toUpperCase())||"I"})}),(0,xr.jsxs)("div",{className:"flex-1 text-center md:text-left",children:[(0,xr.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:o.name}),o.bio&&(0,xr.jsx)("p",{className:"text-xl text-indigo-100 mb-4",children:o.bio}),o.socialLinks&&Object.values(o.socialLinks).some(e=>e)&&(0,xr.jsxs)("div",{className:"flex justify-center md:justify-start gap-4 mt-4",children:[o.socialLinks.linkedin&&(0,xr.jsx)("a",{href:o.socialLinks.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-indigo-200 transition",children:(0,xr.jsx)(Ca,{className:"w-6 h-6"})}),o.socialLinks.github&&(0,xr.jsx)("a",{href:o.socialLinks.github,target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-indigo-200 transition",children:(0,xr.jsx)(Na,{className:"w-6 h-6"})}),o.socialLinks.twitter&&(0,xr.jsx)("a",{href:o.socialLinks.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-indigo-200 transition",children:(0,xr.jsx)(zb,{className:"w-6 h-6"})}),o.socialLinks.website&&(0,xr.jsx)("a",{href:o.socialLinks.website,target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-indigo-200 transition",children:(0,xr.jsx)(or,{className:"w-6 h-6"})}),o.email&&(0,xr.jsx)("a",{href:"mailto:".concat(o.email),className:"text-white hover:text-indigo-200 transition",children:(0,xr.jsx)(ja,{className:"w-6 h-6"})})]})]})]})]})}),(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 text-center",children:[(0,xr.jsx)("div",{className:"flex items-center justify-center text-indigo-600 dark:text-indigo-400 mb-2",children:(0,xr.jsx)(Ra,{className:"w-8 h-8"})}),(0,xr.jsx)("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:o.courseCount||0}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:r("coursesCount")})]}),(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 text-center",children:[(0,xr.jsx)("div",{className:"flex items-center justify-center text-indigo-600 dark:text-indigo-400 mb-2",children:(0,xr.jsx)(Xc,{className:"w-8 h-8"})}),(0,xr.jsx)("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:o.studentCount||0}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:r("studentsCount")})]}),(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 text-center",children:[(0,xr.jsx)("div",{className:"flex items-center justify-center text-indigo-600 dark:text-indigo-400 mb-2",children:(0,xr.jsx)(cr,{className:"w-8 h-8"})}),(0,xr.jsx)("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:o.averageRating>0?o.averageRating.toFixed(1):"N/A"}),(0,xr.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:["Rating ",o.ratingCount>0&&"(".concat(o.ratingCount," courses)")]})]})]}),(o.aboutMeHtml||o.aboutMe)&&(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.15},className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-12",children:[(0,xr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"About Me"}),(0,xr.jsx)("div",{className:"text-base md:text-lg leading-relaxed text-gray-700 dark:text-gray-200 space-y-2",dangerouslySetInnerHTML:{__html:o.aboutMeHtml||o.aboutMe}})]}),o.expertise&&o.expertise.length>0&&(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-12",children:[(0,xr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Areas of Expertise"}),(0,xr.jsx)("div",{className:"flex flex-wrap gap-3",children:o.expertise.map((e,t)=>(0,xr.jsx)("span",{className:"inline-flex items-center px-4 py-2 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-300",children:e},t))})]}),(null===g||void 0===g?void 0:g.hasVideo)&&(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-12",children:[(0,xr.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,xr.jsx)("div",{className:"bg-indigo-100 dark:bg-indigo-900/30 p-2 rounded-lg",children:(0,xr.jsx)(zm,{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400"})}),(0,xr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Introduction Video"})]}),(0,xr.jsx)(Vb,{videoUrl:g.videoUrl})]}),(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[(0,xr.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:[r("coursesBy")," ",o.name]}),0===c.length?(0,xr.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-12 text-center",children:[(0,xr.jsx)(_a,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:r("noCoursesAvailableYet")})]}):(0,xr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map((e,t)=>(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1*t},className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden hover:shadow-xl transition-shadow duration-300 cursor-pointer",onClick:()=>s("/courses/".concat(e._id)),children:[e.image&&(0,xr.jsx)("div",{className:"h-48 overflow-hidden",children:(0,xr.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"})}),(0,xr.jsxs)("div",{className:"p-6",children:[(0,xr.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:e.name}),e.description&&(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4 line-clamp-2",children:e.description}),e.level&&(0,xr.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",children:e.level})]})]},e._id))})]})]})]}):(0,xr.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,xr.jsxs)("div",{className:"text-center",children:[(0,xr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Instructor not found"}),(0,xr.jsx)("button",{onClick:()=>s("/instructors"),className:"btn-primary",children:"Back to Instructors"})]})})},Wb=()=>{const{courseId:e}=ne(),t=ae(),{user:r}=wr(),{theme:n}=Nr(),[s,o]=(0,a.useState)(null),[l,c]=(0,a.useState)([]),[d,u]=(0,a.useState)(!0),[m,h]=(0,a.useState)(!1),[p,g]=(0,a.useState)(!1),[x,f]=(0,a.useState)(null),[y,v]=(0,a.useState)(!1),[b,w]=(0,a.useState)({name:"",startDate:"",endDate:"",capacity:30,description:"",level:"beginner"}),[j,k]=(0,a.useState)(!1),N=(0,a.useCallback)(async()=>{try{u(!0);const t=localStorage.getItem("token"),r=await i.A.get("/api/courses/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}});o(r.data.course);const a=await i.A.get("/api/courses/".concat(e,"/groups"),{headers:{Authorization:"Bearer ".concat(t)}});c(a.data.groups||[])}catch(a){var t,r;console.error("Error fetching data:",a),er.error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to load groups")}finally{u(!1)}},[e]);(0,a.useEffect)(()=>{N()},[N]);const C=r=>{t("/app/courses/".concat(e,"/groups/").concat(r))};return d?(0,xr.jsx)("div",{className:"min-h-screen ".concat("dark"===n?"bg-gray-900":"bg-gray-50"," flex items-center justify-center"),children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):(0,xr.jsx)("div",{className:"min-h-screen ".concat("dark"===n?"bg-gray-900":"bg-gray-50"," py-8"),children:(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,xr.jsxs)("div",{className:"mb-8",children:[(0,xr.jsxs)("button",{onClick:()=>t(-1),className:"mb-4 ".concat("dark"===n?"text-indigo-400 hover:text-indigo-300":"text-indigo-600 hover:text-indigo-800"," flex items-center"),children:[(0,xr.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back"]}),(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsxs)("h1",{className:"text-3xl font-bold ".concat("dark"===n?"text-white":"text-gray-900"),children:[null===s||void 0===s?void 0:s.name," - Group Management"]}),(0,xr.jsx)("p",{className:"mt-2 ".concat("dark"===n?"text-gray-400":"text-gray-600"),children:"Manage groups, sections, and content for this course"}),(null===s||void 0===s?void 0:s.totalCostSYR)>0&&(0,xr.jsxs)("p",{className:"mt-1 text-sm ".concat("dark"===n?"text-gray-400":"text-gray-600"),children:["Course Total: ",s.totalCostSYR," SYR"]})]}),("admin"===(null===r||void 0===r?void 0:r.role)||"instructor"===(null===r||void 0===r?void 0:r.role))&&(0,xr.jsxs)("button",{onClick:()=>h(!0),className:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition",children:[(0,xr.jsx)(Xh,{className:"w-5 h-5 mr-2"}),"Create Group"]})]})]}),0===l.length?(0,xr.jsxs)("div",{className:"".concat("dark"===n?"bg-gray-800":"bg-white"," rounded-lg shadow-md p-12 text-center"),children:[(0,xr.jsx)(Ra,{className:"w-16 h-16 mx-auto mb-4 ".concat("dark"===n?"text-gray-600":"text-gray-400")}),(0,xr.jsx)("p",{className:"".concat("dark"===n?"text-gray-400":"text-gray-600"," mb-4"),children:"No groups created yet"}),("admin"===(null===r||void 0===r?void 0:r.role)||"instructor"===(null===r||void 0===r?void 0:r.role))&&(0,xr.jsxs)("button",{onClick:()=>h(!0),className:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition",children:[(0,xr.jsx)(Xh,{className:"w-5 h-5 mr-2"}),"Create First Group"]})]}):(0,xr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(e=>(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"".concat("dark"===n?"bg-gray-800 hover:bg-gray-750":"bg-white hover:shadow-lg"," rounded-lg shadow-md p-6 cursor-pointer transition"),onClick:()=>C(e._id),children:[(0,xr.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,xr.jsx)("h3",{className:"text-xl font-semibold ".concat("dark"===n?"text-white":"text-gray-900"),children:e.name}),(0,xr.jsx)("div",{className:"flex space-x-2",onClick:e=>e.stopPropagation(),children:"admin"===(null===r||void 0===r?void 0:r.role)&&(0,xr.jsx)("button",{onClick:t=>{var r,a;t.stopPropagation(),r=e._id,a=e.name,f({id:r,name:a}),g(!0)},className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md transition",title:"Delete group",children:(0,xr.jsx)(kh,{className:"w-4 h-4"})})})]}),e.description&&(0,xr.jsx)("p",{className:"text-sm ".concat("dark"===n?"text-gray-400":"text-gray-600"," mb-4 line-clamp-2"),children:e.description}),(0,xr.jsxs)("div",{className:"space-y-2",children:[(0,xr.jsxs)("div",{className:"flex items-center text-sm ".concat("dark"===n?"text-gray-400":"text-gray-600"),children:[(0,xr.jsx)(Xc,{className:"w-4 h-4 mr-2"}),e.currentStudents||0," / ",e.capacity||e.maxStudents||0," Students"]}),(0,xr.jsxs)("div",{className:"flex items-center text-sm ".concat("dark"===n?"text-gray-400":"text-gray-600"),children:[(0,xr.jsx)(Dg,{className:"w-4 h-4 mr-2"}),new Date(e.startDate).toLocaleDateString()," - ",new Date(e.endDate).toLocaleDateString()]})]}),(0,xr.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,xr.jsx)("button",{onClick:t=>{t.stopPropagation(),C(e._id)},className:"w-full px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition",children:"Manage Sections"})})]},e._id))}),m&&(0,xr.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"".concat("dark"===n?"bg-gray-800":"bg-white"," rounded-lg shadow-xl w-full max-w-2xl p-6"),children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,xr.jsx)("h3",{className:"text-2xl font-semibold ".concat("dark"===n?"text-white":"text-gray-900"),children:"Create New Group"}),(0,xr.jsx)("button",{onClick:()=>h(!1),className:"".concat("dark"===n?"text-gray-400 hover:text-white":"text-gray-500 hover:text-gray-700"),children:"\u2715"})]}),(0,xr.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{k(!0);const t=localStorage.getItem("token");await i.A.post("/api/courses/".concat(e,"/groups"),b,{headers:{Authorization:"Bearer ".concat(t)}}),er.success("Group created successfully!"),h(!1),w({name:"",startDate:"",endDate:"",capacity:30,description:"",level:"beginner"}),N()}catch(n){var r,a;console.error("Error creating group:",n),er.error((null===(r=n.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Failed to create group")}finally{k(!1)}},className:"space-y-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium ".concat("dark"===n?"text-gray-300":"text-gray-700"," mb-1"),children:"Group Name *"}),(0,xr.jsx)("input",{type:"text",required:!0,value:b.name,onChange:e=>w((0,Be.A)((0,Be.A)({},b),{},{name:e.target.value})),className:"w-full px-4 py-2 rounded-lg border ".concat("dark"===n?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"," focus:ring-2 focus:ring-indigo-500")})]}),(0,xr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium ".concat("dark"===n?"text-gray-300":"text-gray-700"," mb-1"),children:"Start Date *"}),(0,xr.jsx)("input",{type:"date",required:!0,value:b.startDate,onChange:e=>w((0,Be.A)((0,Be.A)({},b),{},{startDate:e.target.value})),min:(new Date).toISOString().split("T")[0],className:"w-full px-4 py-2 rounded-lg border ".concat("dark"===n?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"," focus:ring-2 focus:ring-indigo-500")})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium ".concat("dark"===n?"text-gray-300":"text-gray-700"," mb-1"),children:"End Date (Optional)"}),(0,xr.jsx)("input",{type:"date",value:b.endDate,onChange:e=>w((0,Be.A)((0,Be.A)({},b),{},{endDate:e.target.value})),className:"w-full px-4 py-2 rounded-lg border ".concat("dark"===n?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"," focus:ring-2 focus:ring-indigo-500")})]})]}),(0,xr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium ".concat("dark"===n?"text-gray-300":"text-gray-700"," mb-1"),children:"Capacity"}),(0,xr.jsx)("input",{type:"number",min:"1",value:b.capacity,onChange:e=>w((0,Be.A)((0,Be.A)({},b),{},{capacity:Number(e.target.value)})),className:"w-full px-4 py-2 rounded-lg border ".concat("dark"===n?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"," focus:ring-2 focus:ring-indigo-500")})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium ".concat("dark"===n?"text-gray-300":"text-gray-700"," mb-1"),children:"Level"}),(0,xr.jsxs)("select",{value:b.level,onChange:e=>w((0,Be.A)((0,Be.A)({},b),{},{level:e.target.value})),className:"w-full px-4 py-2 rounded-lg border ".concat("dark"===n?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"," focus:ring-2 focus:ring-indigo-500"),children:[(0,xr.jsx)("option",{value:"beginner",children:"Beginner"}),(0,xr.jsx)("option",{value:"intermediate",children:"Intermediate"}),(0,xr.jsx)("option",{value:"advanced",children:"Advanced"}),(0,xr.jsx)("option",{value:"A1",children:"A1"}),(0,xr.jsx)("option",{value:"A2",children:"A2"}),(0,xr.jsx)("option",{value:"B1",children:"B1"}),(0,xr.jsx)("option",{value:"B2",children:"B2"}),(0,xr.jsx)("option",{value:"C1",children:"C1"}),(0,xr.jsx)("option",{value:"C2",children:"C2"})]})]})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium ".concat("dark"===n?"text-gray-300":"text-gray-700"," mb-1"),children:"Description"}),(0,xr.jsx)("textarea",{rows:"3",value:b.description,onChange:e=>w((0,Be.A)((0,Be.A)({},b),{},{description:e.target.value})),className:"w-full px-4 py-2 rounded-lg border ".concat("dark"===n?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"," focus:ring-2 focus:ring-indigo-500")})]}),(0,xr.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,xr.jsx)("button",{type:"button",onClick:()=>h(!1),className:"px-6 py-2 rounded-lg ".concat("dark"===n?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"," transition"),children:"Cancel"}),(0,xr.jsx)("button",{type:"submit",disabled:j,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition disabled:opacity-50",children:j?"Creating...":"Create Group"})]})]})]})}),(0,xr.jsx)(Ng,{isOpen:p,onClose:()=>{g(!1),f(null)},onConfirm:async()=>{if(x)try{v(!0);const e=localStorage.getItem("token");await i.A.delete("/api/groups/".concat(x.id),{headers:{Authorization:"Bearer ".concat(e)}}),er.success("Group deleted successfully"),g(!1),f(null),N()}catch(r){var e,t;console.error("Error deleting group:",r),er.error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to delete group")}finally{v(!1)}},title:"Delete Group",message:'Are you sure you want to delete "'.concat(null===x||void 0===x?void 0:x.name,'"? This will permanently delete all sections, content, assignments, projects, and student submissions. This action cannot be undone.'),confirmText:"Delete Group",confirmButtonClass:"bg-red-600 hover:bg-red-700 text-white",loading:y})]})})},Hb=(0,nr.A)("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]),Gb=(0,nr.A)("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]),Kb=()=>{const{courseId:e,groupId:t}=ne(),r=ae(),{user:n}=wr(),{theme:s}=Nr(),[o,l]=(0,a.useState)(null),[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)([]),[h,p]=(0,a.useState)(!0),[g,x]=(0,a.useState)(!1),[f,y]=(0,a.useState)({name:"",description:"",isFree:!0,priceSYR:0,order:0}),[v,b]=(0,a.useState)(!1),[w,j]=(0,a.useState)(null),[k,N]=(0,a.useState)([]),[C,A]=(0,a.useState)({open:!1,section:null,reason:"",submitting:!1}),S=(0,a.useCallback)(async()=>{try{p(!0);const e=localStorage.getItem("token"),r=await i.A.get("/api/groups/".concat(t),{headers:{Authorization:"Bearer ".concat(e)}});l(r.data.group);const a=await i.A.get("/api/groups/".concat(t,"/sections"),{headers:{Authorization:"Bearer ".concat(e)}});if(d(a.data.data||[]),"admin"===(null===n||void 0===n?void 0:n.role)||"instructor"===(null===n||void 0===n?void 0:n.role))try{const r=await i.A.get("/api/groups/".concat(t,"/students/progress"),{headers:{Authorization:"Bearer ".concat(e)}});m(r.data.data||[])}catch(aw){console.log("Could not fetch progress:",aw)}}catch(a){var e,r;console.error("Error fetching group data:",a),er.error((null===(e=a.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.message)||"Failed to load group data")}finally{p(!1)}},[t,null===n||void 0===n?void 0:n.role]);(0,a.useEffect)(()=>{S()},[S]);return h?(0,xr.jsx)("div",{className:"min-h-screen ".concat("dark"===s?"bg-gray-900":"bg-gray-50"," flex items-center justify-center"),children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):(0,xr.jsx)("div",{className:"min-h-screen ".concat("dark"===s?"bg-gray-900":"bg-gray-50"," py-8"),children:(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,xr.jsxs)("div",{className:"mb-8",children:[(0,xr.jsxs)("button",{onClick:()=>r("/app/courses/".concat(e,"/groups")),className:"mb-4 ".concat("dark"===s?"text-indigo-400 hover:text-indigo-300":"text-indigo-600 hover:text-indigo-800"," flex items-center"),children:[(0,xr.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Groups"]}),(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h1",{className:"text-3xl font-bold ".concat("dark"===s?"text-white":"text-gray-900"),children:null===o||void 0===o?void 0:o.name}),(0,xr.jsx)("p",{className:"mt-2 ".concat("dark"===s?"text-gray-400":"text-gray-600"),children:(null===o||void 0===o?void 0:o.description)||"Manage sections and students"})]}),("admin"===(null===n||void 0===n?void 0:n.role)||"instructor"===(null===n||void 0===n?void 0:n.role))&&(0,xr.jsxs)("button",{onClick:()=>x(!0),className:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition",children:[(0,xr.jsx)(Xh,{className:"w-5 h-5 mr-2"}),"Create Section"]})]})]}),(0,xr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,xr.jsxs)("div",{className:"lg:col-span-2",children:[(0,xr.jsx)("h2",{className:"text-2xl font-semibold ".concat("dark"===s?"text-white":"text-gray-900"," mb-4"),children:"Sections"}),0===c.length?(0,xr.jsxs)("div",{className:"".concat("dark"===s?"bg-gray-800":"bg-white"," rounded-lg shadow-md p-8 text-center"),children:[(0,xr.jsx)(Um,{className:"w-12 h-12 mx-auto mb-4 ".concat("dark"===s?"text-gray-600":"text-gray-400")}),(0,xr.jsx)("p",{className:"".concat("dark"===s?"text-gray-400":"text-gray-600"),children:"No sections created yet"})]}):(0,xr.jsx)("div",{className:"space-y-4",children:c.map(e=>(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"".concat("dark"===s?"bg-gray-800":"bg-white"," rounded-lg shadow-md p-6"),children:[(0,xr.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,xr.jsx)("h3",{className:"text-xl font-semibold ".concat("dark"===s?"text-white":"text-gray-900"),children:e.name}),e.isFree?(0,xr.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",children:[(0,xr.jsx)(Hb,{className:"w-3 h-3 mr-1"}),"Free"]}):(0,xr.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",children:[(0,xr.jsx)(Hd,{className:"w-3 h-3 mr-1"}),Qm(e.priceCents||0,e.currency||"SYR")]})]}),e.description&&(0,xr.jsx)("p",{className:"text-sm ".concat("dark"===s?"text-gray-400":"text-gray-600"),children:e.description})]}),("admin"===(null===n||void 0===n?void 0:n.role)||"instructor"===(null===n||void 0===n?void 0:n.role))&&("admin"===(null===n||void 0===n?void 0:n.role)?(0,xr.jsx)("button",{onClick:()=>(async(e,t)=>{if(window.confirm('Delete section "'.concat(t,'"? This will delete all content and files.')))try{const t=localStorage.getItem("token");await i.A.delete("/api/sections/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),er.success("Section deleted successfully"),S()}catch(n){var r,a;console.error("Error deleting section:",n),er.error((null===(r=n.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Failed to delete section")}})(e._id,e.name),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md transition",children:(0,xr.jsx)(kh,{className:"w-4 h-4"})}):(0,xr.jsx)("button",{onClick:()=>(e=>{e&&A({open:!0,section:e,reason:"",submitting:!1})})(e),disabled:w===e._id||k.includes(e._id),className:"btn-request-delete",children:w===e._id?"Requesting...":k.includes(e._id)?"Request Pending":"Request Delete"}))]}),(0,xr.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[(0,xr.jsxs)("div",{className:"flex items-center ".concat("dark"===s?"text-gray-400":"text-gray-600"),children:[(0,xr.jsx)(zm,{className:"w-4 h-4 mr-2 text-blue-500"}),(0,xr.jsxs)("span",{className:"text-sm",children:[e.lectureCount||0," Lectures"]})]}),(0,xr.jsxs)("div",{className:"flex items-center ".concat("dark"===s?"text-gray-400":"text-gray-600"),children:[(0,xr.jsx)(Um,{className:"w-4 h-4 mr-2 text-green-500"}),(0,xr.jsxs)("span",{className:"text-sm",children:[e.assignmentCount||0," Assignments"]})]}),(0,xr.jsxs)("div",{className:"flex items-center ".concat("dark"===s?"text-gray-400":"text-gray-600"),children:[(0,xr.jsx)(Gb,{className:"w-4 h-4 mr-2 text-purple-500"}),(0,xr.jsxs)("span",{className:"text-sm",children:[e.projectCount||0," Projects"]})]})]}),("admin"===(null===n||void 0===n?void 0:n.role)||"instructor"===(null===n||void 0===n?void 0:n.role))&&(0,xr.jsx)("button",{onClick:()=>{return t=e._id,void r("/app/sections/".concat(t,"/content"));var t},className:"w-full px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition",children:"Manage Content"})]},e._id))})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h2",{className:"text-2xl font-semibold ".concat("dark"===s?"text-white":"text-gray-900"," mb-4"),children:"Students"}),(0,xr.jsx)("div",{className:"".concat("dark"===s?"bg-gray-800":"bg-white"," rounded-lg shadow-md p-6"),children:0===u.length?(0,xr.jsxs)("div",{className:"text-center py-8",children:[(0,xr.jsx)(Xc,{className:"w-12 h-12 mx-auto mb-4 ".concat("dark"===s?"text-gray-600":"text-gray-400")}),(0,xr.jsx)("p",{className:"".concat("dark"===s?"text-gray-400":"text-gray-600"," text-sm"),children:"No students enrolled"})]}):(0,xr.jsx)("div",{className:"space-y-4",children:u.map(e=>(0,xr.jsxs)("div",{className:"p-4 rounded-lg ".concat("dark"===s?"bg-gray-700":"bg-gray-50"),children:[(0,xr.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("p",{className:"font-medium ".concat("dark"===s?"text-white":"text-gray-900"),children:e.student.name}),(0,xr.jsx)("p",{className:"text-xs ".concat("dark"===s?"text-gray-400":"text-gray-600"),children:e.student.email})]}),(0,xr.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat("enrolled"===e.enrollmentStatus?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"),children:e.enrollmentStatus})]}),(0,xr.jsxs)("div",{className:"mb-2",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,xr.jsx)("span",{className:"text-xs ".concat("dark"===s?"text-gray-400":"text-gray-600"),children:"Progress"}),(0,xr.jsxs)("span",{className:"text-xs font-medium ".concat(100===e.progressPercentage?"text-green-600 dark:text-green-400":"text-indigo-600 dark:text-indigo-400"),children:[e.progressPercentage,"%"]})]}),(0,xr.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:(0,xr.jsx)("div",{className:"h-2 rounded-full transition-all ".concat(100===e.progressPercentage?"bg-green-600":"bg-indigo-600"),style:{width:"".concat(e.progressPercentage,"%")}})})]}),(0,xr.jsxs)("div",{className:"flex items-center justify-between text-xs ".concat("dark"===s?"text-gray-400":"text-gray-600"),children:[(0,xr.jsxs)("div",{className:"flex items-center",children:[(0,xr.jsx)(Kh,{className:"w-3 h-3 mr-1"}),(0,xr.jsxs)("span",{children:["Paid: ",e.amountPaidSYR||0," SYR"]})]}),(0,xr.jsxs)("div",{children:[e.completedItems,"/",e.totalItems," items"]})]})]},e.student._id))})})]})]}),g&&(0,xr.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"".concat("dark"===s?"bg-gray-800":"bg-white"," rounded-lg shadow-xl w-full max-w-lg p-6"),children:[(0,xr.jsx)("h3",{className:"text-xl font-semibold ".concat("dark"===s?"text-white":"text-gray-900"," mb-4"),children:"Create New Section"}),(0,xr.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{b(!0);const e=localStorage.getItem("token");await i.A.post("/api/groups/".concat(t,"/sections"),f,{headers:{Authorization:"Bearer ".concat(e)}}),er.success("Section created successfully!"),x(!1),y({name:"",description:"",isFree:!0,priceSYR:0,order:0}),S()}catch(n){var r,a;console.error("Error creating section:",n),er.error((null===(r=n.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Failed to create section")}finally{b(!1)}},className:"space-y-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium ".concat("dark"===s?"text-gray-300":"text-gray-700"," mb-1"),children:"Section Name *"}),(0,xr.jsx)("input",{type:"text",required:!0,value:f.name,onChange:e=>y((0,Be.A)((0,Be.A)({},f),{},{name:e.target.value})),className:"w-full px-4 py-2 rounded-lg border ".concat("dark"===s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"," focus:ring-2 focus:ring-indigo-500")})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium ".concat("dark"===s?"text-gray-300":"text-gray-700"," mb-1"),children:"Description"}),(0,xr.jsx)("textarea",{rows:"2",value:f.description,onChange:e=>y((0,Be.A)((0,Be.A)({},f),{},{description:e.target.value})),className:"w-full px-4 py-2 rounded-lg border ".concat("dark"===s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"," focus:ring-2 focus:ring-indigo-500")})]}),(0,xr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,xr.jsx)("input",{type:"checkbox",id:"isFree",checked:f.isFree,onChange:e=>y((0,Be.A)((0,Be.A)({},f),{},{isFree:e.target.checked,price:e.target.checked?0:f.price})),className:"w-4 h-4 text-indigo-600 rounded focus:ring-indigo-500"}),(0,xr.jsx)("label",{htmlFor:"isFree",className:"text-sm ".concat("dark"===s?"text-gray-300":"text-gray-700"),children:"Free Section"})]}),!f.isFree&&(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium ".concat("dark"===s?"text-gray-300":"text-gray-700"," mb-1"),children:"Price (SYR) *"}),(0,xr.jsx)("input",{type:"number",min:"0",step:"0.01",required:!f.isFree,value:f.price,onChange:e=>y((0,Be.A)((0,Be.A)({},f),{},{price:Number(e.target.value)})),className:"w-full px-4 py-2 rounded-lg border ".concat("dark"===s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"," focus:ring-2 focus:ring-indigo-500")})]}),(0,xr.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,xr.jsx)("button",{type:"button",onClick:()=>x(!1),className:"px-6 py-2 rounded-lg ".concat("dark"===s?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"," transition"),children:"Cancel"}),(0,xr.jsx)("button",{type:"submit",disabled:v,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition disabled:opacity-50",children:v?"Creating...":"Create"})]})]})]})}),C.open&&C.section&&(0,xr.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"".concat("dark"===s?"bg-gray-800":"bg-white"," rounded-lg shadow-xl w-full max-w-lg p-6"),children:[(0,xr.jsx)("h3",{className:"text-xl font-semibold mb-2 ".concat("dark"===s?"text-white":"text-gray-900"),children:"Request Section Delete"}),(0,xr.jsx)("p",{className:"text-sm mb-2 ".concat("dark"===s?"text-gray-300":"text-gray-700"),children:"You cannot delete sections directly. This will send a delete request to the admin. No data will be deleted until an admin approves."}),(0,xr.jsxs)("p",{className:"text-sm font-medium mb-4 ".concat("dark"===s?"text-gray-100":"text-gray-900"),children:["Section: ",C.section.name]}),(0,xr.jsxs)("form",{onSubmit:e=>{e.preventDefault(),C.section&&(async e=>{if(!e)return;const t=(C.reason||"").trim();if(t.length<20)er.error("Please provide a detailed reason (at least 20 characters).");else try{var r;j(e._id),A(e=>(0,Be.A)((0,Be.A)({},e),{},{submitting:!0}));const a=localStorage.getItem("token"),n=await i.A.post("/api/sections/".concat(e._id,"/request-delete"),{reason:t},{headers:{Authorization:"Bearer ".concat(a)}});er.success((null===(r=n.data)||void 0===r?void 0:r.message)||"Delete request submitted to admin. They must approve before this section can be deleted."),N(t=>t.includes(e._id)?t:[...t,e._id]),A({open:!1,section:null,reason:"",submitting:!1})}catch(o){var a,n,s;console.error("Error requesting section delete:",o);const t=(null===(a=o.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message)||"Failed to submit delete request";400===(null===(s=o.response)||void 0===s?void 0:s.status)&&"string"===typeof t&&t.toLowerCase().includes("already a pending delete request")&&(N(t=>t.includes(e._id)?t:[...t,e._id]),A({open:!1,section:null,reason:"",submitting:!1})),er.error(t)}finally{j(null),A(e=>(0,Be.A)((0,Be.A)({},e),{},{submitting:!1}))}})(C.section)},className:"space-y-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium mb-1 ".concat("dark"===s?"text-gray-300":"text-gray-700"),children:"Reason for deletion * (min 20 characters)"}),(0,xr.jsx)("textarea",{rows:4,value:C.reason,onChange:e=>A(t=>(0,Be.A)((0,Be.A)({},t),{},{reason:e.target.value})),className:"w-full px-3 py-2 rounded-md border ".concat("dark"===s?"border-gray-700 bg-gray-800 text-gray-100":"border-gray-300 bg-white text-gray-900"," text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"),placeholder:"Explain why this section should be permanently deleted..."}),(0,xr.jsxs)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:[C.reason.trim().length," / 20"]})]}),(0,xr.jsxs)("div",{className:"flex justify-end gap-3 pt-2",children:[(0,xr.jsx)("button",{type:"button",onClick:()=>A({open:!1,section:null,reason:"",submitting:!1}),disabled:C.submitting,className:"px-4 py-2 rounded-md border text-sm ".concat("dark"===s?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"),children:"Cancel"}),(0,xr.jsx)("button",{type:"submit",disabled:C.submitting||C.reason.trim().length<20,className:"px-4 py-2 rounded-md bg-red-600 text-white text-sm hover:bg-red-700 disabled:opacity-60",children:C.submitting?"Submitting...":"Submit Request"})]})]})]})})]})})};var Qb=r(4192);const $b=e=>{var t,r,n,s,i,o;let{id:l,item:c,theme:d,onRequestDelete:u,onAdminDelete:m,onAssignUrl:h,isAdmin:p,onEdit:g,onWatch:x,getTypeIcon:f,getTypeBadgeColor:y,isDeletePending:v}=e;const[b,w]=(0,a.useState)(!1),{attributes:j,listeners:k,setNodeRef:N,transform:C,transition:A}=oy({id:l}),S={transform:Jg.Transform.toString(C),transition:A};return(0,xr.jsxs)("div",{ref:N,style:S,className:"".concat("dark"===d?"bg-gray-800":"bg-white"," rounded-lg shadow-md p-4"),children:[(0,xr.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,xr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,xr.jsx)("div",(0,Be.A)((0,Be.A)((0,Be.A)({},j),k),{},{className:"cursor-move p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded",children:(0,xr.jsx)(my,{className:"w-4 h-4 text-gray-400"})})),c.number&&(0,xr.jsx)("span",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ".concat("dark"===d?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-700"),children:c.number}),f(c.type),(0,xr.jsx)("h4",{className:"font-semibold ".concat("dark"===d?"text-white":"text-gray-900"),children:c.title})]}),(0,xr.jsxs)("div",{className:"flex items-center gap-1",children:[(0,xr.jsx)("button",{onClick:()=>g(c),className:"p-1 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded",title:"Edit",children:(0,xr.jsx)(Sg,{className:"w-4 h-4"})}),p&&"lecture"===c.type&&(0,xr.jsx)("button",{type:"button",onClick:()=>h&&h(c),className:"btn-request-delete text-xs px-2 py-1",title:"Assign new URL",children:(0,xr.jsx)("span",{children:"Assign URL"})}),p?(0,xr.jsxs)("button",{type:"button",onClick:()=>m(c._id,c.title),className:"btn-request-delete text-xs px-2 py-1",title:"Delete",children:[(0,xr.jsx)(kh,{className:"w-3 h-3"}),(0,xr.jsx)("span",{children:"Delete"})]}):(0,xr.jsxs)("button",{type:"button",onClick:()=>{v||u(c._id,c.title)},disabled:v,className:"btn-request-delete text-xs px-2 py-1",title:v?"Delete request already pending":"Request Delete",children:[(0,xr.jsx)(kh,{className:"w-3 h-3"}),(0,xr.jsx)("span",{children:v?"Request Pending":"Request Delete"})]})]})]}),c.description&&(0,xr.jsx)("p",{className:"text-sm ".concat("dark"===d?"text-gray-400":"text-gray-600"," mb-3"),children:c.description}),(0,xr.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,xr.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(y(c.type)),children:c.type}),c.dueDate&&(0,xr.jsxs)("span",{className:"text-xs ".concat("dark"===d?"text-gray-400":"text-gray-600"),children:["Due: ",new Date(c.dueDate).toLocaleDateString()]})]}),(0,xr.jsxs)("div",{className:"flex gap-2",children:[("hosted"===(null===(t=c.video)||void 0===t?void 0:t.storageType)||"youtube"===(null===(r=c.video)||void 0===r?void 0:r.storageType)||c.videoPath||(null===(n=c.video)||void 0===n?void 0:n.path))&&(0,xr.jsxs)("button",{onClick:()=>x(c),className:"flex items-center px-3 py-1.5 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 transition",children:[(0,xr.jsx)(Mm.A,{className:"w-3 h-3 mr-1"}),"Watch"]}),(c.filePath||(null===(s=c.file)||void 0===s?void 0:s.path)||"telegram"===(null===(i=c.file)||void 0===i?void 0:i.storageType)&&(null===(o=c.file)||void 0===o?void 0:o.telegramFileId))&&(0,xr.jsxs)("button",{onClick:async e=>{if(e.preventDefault(),!b){w(!0);try{var t,r,a,n;const e="/api/content/".concat(c._id,"/download").concat("project"===c.type?"?type=starter":""),i=await fetch(e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")||"")}});if(!i.ok)return void er.error("Failed to download file. Please try again later.");const o=i.headers.get("content-disposition");let l=(null===(t=c.file)||void 0===t?void 0:t.telegramFileName)||(null===(r=c.file)||void 0===r?void 0:r.originalName)||(null===(a=c.file)||void 0===a?void 0:a.storedName)||(null===(n=c.file)||void 0===n?void 0:n.filename)||("string"===typeof c.filePath?c.filePath.split("/").pop():"")||"download";if(o&&o.includes("filename=")){const e=o.match(/filename="?([^";]+)"?/i);if(null!==e&&void 0!==e&&e[1])try{l=decodeURIComponent(e[1])}catch(s){l=e[1]}}const d=await i.blob(),u=window.URL.createObjectURL(d),m=document.createElement("a");m.href=u,m.download=l,document.body.appendChild(m),m.click(),window.URL.revokeObjectURL(u),document.body.removeChild(m)}catch(i){console.error("Download error:",i),er.error("Failed to download file. Please try again later.")}finally{setTimeout(()=>{w(!1)},1200)}}},disabled:b,className:"flex items-center px-3 py-1.5 bg-green-600 text-white text-sm rounded hover:bg-green-700 transition",children:[(0,xr.jsx)(Vm,{className:"w-3 h-3 mr-1"}),b?"Starting download...":"Download"]})]})]})},Xb=()=>{const{sectionId:e}=ne(),t=ae(),{theme:r}=Nr(),{user:n}=wr(),[s,o]=(0,a.useState)(60),[l,c]=(0,a.useState)(null),[d,u]=(0,a.useState)([]),[m,h]=(0,a.useState)(!0),[p,g]=(0,a.useState)(!1),[x,f]=(0,a.useState)("lecture"),[y,v]=(0,a.useState)(null),[b,w]=(0,a.useState)(null),[j,k]=(0,a.useState)({title:"",description:"",maxScore:100,dueDate:"",order:0}),[N,C]=(0,a.useState)(null),[A,S]=(0,a.useState)(null),[E,D]=(0,a.useState)(null),[P,T]=(0,a.useState)({maxVideoSizeMB:500,maxFileSizeMB:100}),[_,R]=(0,a.useState)(!1),[O,F]=(0,a.useState)(0),[L,M]=(0,a.useState)("idle"),[I,B]=(0,a.useState)(null),[q,z]=(0,a.useState)(null),[U,V]=(0,a.useState)(""),[Y,W]=(0,a.useState)({open:!1,contentId:null,title:"",secureUrl:"",loading:!1}),[H,G]=(0,a.useState)({open:!1,youtubeVideoId:"",title:""}),[K,Q]=(0,a.useState)({open:!1,contentId:null,title:"",reason:"",submitting:!1}),[$,X]=(0,a.useState)({open:!1,contentId:null,title:"",deleting:!1}),[J,Z]=(0,a.useState)({open:!1,contentId:null,title:"",url:"",saving:!1}),[ee,te]=(0,a.useState)([]),[re,se]=(0,a.useState)(null),[ie,oe]=(0,a.useState)(null),[le,ce]=(0,a.useState)(null),[de,ue]=(0,a.useState)(null),[me,he]=(0,a.useState)(null),pe=(0,a.useRef)({bytes:null,at:null}),[ge,xe]=(0,a.useState)(null),[fe,ye]=(0,a.useState)(null),ve=(0,a.useRef)(null),be=(0,a.useRef)(null),we=(0,a.useRef)(null),je=(0,a.useRef)(!1),ke=(0,a.useRef)(2e3),Ne=(0,a.useRef)(!1),Ce=(0,a.useRef)("idle"),Ae=(0,a.useRef)(null),Se=_||"uploading"===L||"server"===L||"processing"===L,Ee=_||"uploading"===L||"server"===L||"processing"===L||"error"===L,De="admin"===(null===n||void 0===n?void 0:n.role);(0,a.useEffect)(()=>{Ce.current=L},[L]);const Pe=(0,a.useCallback)(e=>{const t=Math.max(0,Math.round(Number(e)||0)),r=(e,t)=>"".concat(e," ").concat(t).concat(1===e?"":"s");if(t<60)return r(t,"second");const a=Math.floor(t/60),n=t%60;return 0===n?r(a,"minute"):"".concat(r(a,"minute")," and ").concat(r(n,"second"))},[]),Te=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.useMemo)(()=>[...t].filter(e=>null!=e),[...t])}(mx(sf),mx(ef,{coordinateGetter:dy})),_e=(0,a.useCallback)(async()=>{try{h(!0);const r=localStorage.getItem("token"),a=await i.A.get("/api/sections/".concat(e),{headers:{Authorization:"Bearer ".concat(r)}});c(a.data.data);const n=await i.A.get("/api/sections/".concat(e,"/content"),{headers:{Authorization:"Bearer ".concat(r)}});u(n.data.data||[]);try{var t;const e=await i.A.get("/api/storage/config",{headers:{Authorization:"Bearer ".concat(r)}});w((null===(t=e.data)||void 0===t?void 0:t.data)||null)}catch(aw){console.error("Error fetching storage config:",aw)}}catch(r){console.error("Error fetching data:",r),er.error("Failed to load content. Please try again.")}finally{h(!1)}},[e]);(0,a.useEffect)(()=>{_e()},[_e]);const Re=(0,a.useCallback)(()=>{be.current&&(clearInterval(be.current),be.current=null),we.current&&(clearTimeout(we.current),we.current=null),je.current=!1,ke.current=2e3},[]);(0,a.useEffect)(()=>()=>{Re();try{var e,t;null===(e=ve.current)||void 0===e||null===(t=e.abort)||void 0===t||t.call(e)}catch(At){}},[Re]);const Oe=(0,a.useCallback)(async(e,t)=>{if(e&&!je.current){je.current=!0;try{var r;const a=await i.A.get("/api/video-upload-jobs/".concat(encodeURIComponent(e)),{headers:{Authorization:"Bearer ".concat(t)}}),n=null===a||void 0===a||null===(r=a.data)||void 0===r?void 0:r.data,s="number"===typeof(null===n||void 0===n?void 0:n.percent)?n.percent:0,o="string"===typeof(null===n||void 0===n?void 0:n.status)?n.status:null,l="string"===typeof(null===n||void 0===n?void 0:n.error)?n.error:null,c="number"===typeof(null===n||void 0===n?void 0:n.bytesUploaded)?n.bytesUploaded:null,d="number"===typeof(null===n||void 0===n?void 0:n.totalBytes)?n.totalBytes:null;if(se(o),oe(l),ce(c),ue(d),"number"===typeof c){const e=Date.now(),t=pe.current;if("number"===typeof t.bytes&&"number"===typeof t.at&&e>t.at&&c>=t.bytes){const r=c-t.bytes,a=(e-t.at)/1e3,n=a>0?r/a:null;he(Number.isFinite(n)?n:null)}pe.current={bytes:c,at:e}}if("completed"===o||"failed"===o||"canceled"===o)return void Re();"processing"===o&&"server"===Ce.current&&M("processing"),"server"!==Ce.current&&"processing"!==Ce.current||F(s)}catch(aw){var a;const t=null===aw||void 0===aw||null===(a=aw.response)||void 0===a?void 0:a.status;if(404===t)return se("queued"),void oe(null);429===t&&(ke.current=Math.min(2*ke.current,3e4))}finally{je.current=!1}}},[]),Fe=(0,a.useCallback)((e,t)=>{if(Re(),!e)return;ke.current=2e3;const r=async()=>{Ne.current||(await Oe(e,t),Ne.current||(we.current&&clearTimeout(we.current),we.current=setTimeout(r,ke.current)))};we.current&&clearTimeout(we.current),we.current=setTimeout(r,1200)},[Oe,Re]),Le=(0,a.useCallback)(async()=>{if(!_&&!Se)return;Ne.current=!0;const e=localStorage.getItem("token"),t=Ae.current||I;try{t&&await i.A.post("/api/video-upload-jobs/".concat(encodeURIComponent(t),"/cancel"),{},{headers:{Authorization:"Bearer ".concat(e)}})}catch(At){}try{ve.current&&ve.current.abort()}catch(At){}Re(),ve.current=null,R(!1),F(0),M("idle"),B(null),Ae.current=null,C(null),S(null),D(null),se(null),oe(null),ce(null),ue(null),er.success("Upload canceled.")},[Se,Re,I,_]);(0,a.useEffect)(()=>{if(!Se)return;const e="Your video is still being processed. Leaving may interrupt the upload.",t=t=>(t.preventDefault(),t.returnValue=e,e);return window.addEventListener("beforeunload",t),()=>window.removeEventListener("beforeunload",t)},[Se]),(0,a.useEffect)(()=>{if(!Se)return;const e=()=>{if(window.confirm("Your video is still being processed. Leaving may interrupt the upload."))return window.removeEventListener("popstate",e),void window.history.back();window.history.pushState(null,"",window.location.href)};return window.history.pushState(null,"",window.location.href),window.addEventListener("popstate",e),()=>window.removeEventListener("popstate",e)},[Se]);const Me=(0,a.useCallback)(async()=>{try{var e;const a={NODE_ENV:"production",PUBLIC_URL:"/eduflow_client",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"https://eduflow-server-87rv.onrender.com",n=a?"".concat(String(a).replace(/\/+$/,"")).concat(String(a).replace(/\/+$/,"").endsWith("/api")?"":"/api"):"/api",s=await i.A.get("".concat(n,"/admin/settings/public"));if(null!==(e=s.data)&&void 0!==e&&e.data){var t,r;const e=null!==(t=s.data.data.maxUploadVideoSizeMB)&&void 0!==t?t:s.data.data.maxVideoSizeMB,a=null!==(r=s.data.data.maxUploadFileSizeMB)&&void 0!==r?r:s.data.data.maxFileSizeMB,n=s.data.data.minVideoDurationSeconds;T(t=>({maxVideoSizeMB:"number"===typeof e&&e>0?e:t.maxVideoSizeMB,maxFileSizeMB:"number"===typeof a&&a>0?a:t.maxFileSizeMB})),"number"===typeof n&&n>0&&o(n)}}catch(qe){console.warn("[SectionContentManagement] Failed to load public upload settings:",qe)}},[]);(0,a.useEffect)(()=>{Me()},[Me]),(0,a.useEffect)(()=>{p&&Me()},[Me,p]);const Ie=async(t,r)=>{const{active:a,over:n}=t;if(console.log("[Drag End]",{type:r,activeId:a.id,overId:n.id}),a.id!==n.id){let t;t="lecture"===r?Qe:"assignment"===r?$e:Xe;const o=t.findIndex(e=>e._id===a.id),l=t.findIndex(e=>e._id===n.id);if(-1===o||-1===l)return void console.warn("Invalid drag operation: item not found in list");const c=Hf(t,o,l);u(e=>e.map(e=>{const t=c.find(t=>t._id===e._id);return t?(0,Be.A)((0,Be.A)({},e),{},{order:c.indexOf(t)+1}):e}));try{const t=localStorage.getItem("token");await i.A.put("/api/sections/".concat(e,"/content/reorder"),{contentIds:c.map(e=>e._id),type:r},{headers:{Authorization:"Bearer ".concat(t)}}),er.success("Order updated successfully"),_e()}catch(s){console.error("Error updating order:",s),er.error("Failed to update order"),_e()}}},ze=async e=>{var t,r,a;if(!e)return;const n=null===e||void 0===e||null===(t=e.video)||void 0===t?void 0:t.youtubeVideoId;!n||"youtube"!==(null===e||void 0===e||null===(r=e.video)||void 0===r?void 0:r.storageType)&&"hosted"!==(null===e||void 0===e||null===(a=e.video)||void 0===a?void 0:a.storageType)?(V(e.title||"Watch video"),z("/api/content/".concat(e._id,"/stream"))):G({open:!0,youtubeVideoId:n,title:e.title||"Watch video"})},Ue=e=>{var t;Z({open:!0,contentId:e._id,title:e.title,url:(null===e||void 0===e||null===(t=e.video)||void 0===t?void 0:t.youtubeUrl)||"",saving:!1})},Ve=()=>{k({title:"",description:"",maxScore:100,dueDate:"",order:0}),C(null),S(null),D(null),v(null),M("idle"),F(0),B(null),Ae.current=null},Ye=(e,t)=>{Q({open:!0,contentId:e,title:t,reason:"",submitting:!1})},We=(e,t)=>{X({open:!0,contentId:e,title:t,deleting:!1})},He=e=>{switch(e){case"lecture":return(0,xr.jsx)(zm,{className:"w-5 h-5 text-blue-500"});case"assignment":return(0,xr.jsx)(Um,{className:"w-5 h-5 text-green-500"});case"project":return(0,xr.jsx)(Gb,{className:"w-5 h-5 text-purple-500"});default:return null}},Ge=e=>{switch(e){case"lecture":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";case"assignment":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"project":return"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}};if(m)return(0,xr.jsx)("div",{className:"min-h-screen ".concat("dark"===r?"bg-gray-900":"bg-gray-50"," flex items-center justify-center"),children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})});const Ke=(e,t)=>(e.order||0)-(t.order||0),Qe=d.filter(e=>"lecture"===e.type).sort(Ke).map((e,t)=>(0,Be.A)((0,Be.A)({},e),{},{number:t+1})),$e=d.filter(e=>"assignment"===e.type).sort(Ke).map((e,t)=>(0,Be.A)((0,Be.A)({},e),{},{number:t+1})),Xe=d.filter(e=>"project"===e.type).sort(Ke).map((e,t)=>(0,Be.A)((0,Be.A)({},e),{},{number:t+1}));return(0,xr.jsx)("div",{className:"min-h-screen ".concat("dark"===r?"bg-gray-900":"bg-gray-50"," py-8"),children:(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,xr.jsxs)("div",{className:"mb-8",children:[(0,xr.jsxs)("button",{onClick:()=>{Se||t(-1)},disabled:Se,className:"mb-4 ".concat("dark"===r?"text-indigo-400 hover:text-indigo-300":"text-indigo-600 hover:text-indigo-800"," flex items-center"),children:[(0,xr.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back"]}),(0,xr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsxs)("h1",{className:"text-3xl font-bold ".concat("dark"===r?"text-white":"text-gray-900"),children:[null===l||void 0===l?void 0:l.name," - Content Management"]}),(0,xr.jsx)("p",{className:"mt-2 ".concat("dark"===r?"text-gray-400":"text-gray-600"),children:"Upload and manage lectures, assignments, and projects"})]}),(0,xr.jsxs)("div",{className:"flex gap-2",children:[(0,xr.jsxs)("button",{onClick:()=>{Ve(),f("lecture"),g(!0)},disabled:Se,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:[(0,xr.jsx)(zm,{className:"w-4 h-4 mr-2"}),"Upload Lecture"]}),(0,xr.jsxs)("button",{onClick:()=>{Ve(),f("assignment"),g(!0)},disabled:Se,className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition",children:[(0,xr.jsx)(Um,{className:"w-4 h-4 mr-2"}),"Upload Assignment"]}),(0,xr.jsxs)("button",{onClick:()=>{Ve(),f("project"),g(!0)},disabled:Se,className:"inline-flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition",children:[(0,xr.jsx)(Gb,{className:"w-4 h-4 mr-2"}),"Upload Project"]}),(0,xr.jsxs)("button",{onClick:()=>t("/instructor/sections/".concat(e,"/tests")),disabled:Se,className:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition",children:[(0,xr.jsx)(th,{className:"w-4 h-4 mr-2"}),"Manage Active Tests"]})]})]})]}),(0,xr.jsxs)("div",{className:"space-y-8",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsxs)("h2",{className:"text-xl font-semibold ".concat("dark"===r?"text-white":"text-gray-900"," mb-4"),children:["\ud83d\udcf9 Lectures (",Qe.length,")"]}),0===Qe.length?(0,xr.jsx)("div",{className:"".concat("dark"===r?"bg-gray-800":"bg-white"," rounded-lg p-8 text-center"),children:(0,xr.jsx)("p",{className:"".concat("dark"===r?"text-gray-400":"text-gray-600"),children:"No lectures uploaded yet"})}):(0,xr.jsx)(qf,{sensors:Te,collisionDetection:bx,onDragEnd:e=>Ie(e,"lecture"),children:(0,xr.jsx)(ey,{items:Qe.map(e=>e._id),strategy:Xf,children:(0,xr.jsx)("div",{className:"space-y-4",children:Qe.map(e=>(0,xr.jsx)($b,{id:e._id,item:e,theme:r,onRequestDelete:Ye,onAdminDelete:We,onAssignUrl:Ue,isAdmin:De,onWatch:ze,onEdit:e=>{v(e),f(e.type),k({title:e.title||"",description:e.description||"",maxScore:e.maxScore||100,dueDate:e.dueDate?new Date(e.dueDate).toISOString().split("T")[0]:"",order:e.order||0}),C(null),S(null),g(!0)},getTypeIcon:He,getTypeBadgeColor:Ge,isDeletePending:ee.includes(e._id)},e._id))})})})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsxs)("h2",{className:"text-xl font-semibold ".concat("dark"===r?"text-white":"text-gray-900"," mb-4"),children:["\ud83d\udcdd Assignments (",$e.length,")"]}),0===$e.length?(0,xr.jsx)("div",{className:"".concat("dark"===r?"bg-gray-800":"bg-white"," rounded-lg p-8 text-center"),children:(0,xr.jsx)("p",{className:"".concat("dark"===r?"text-gray-400":"text-gray-600"),children:"No assignments uploaded yet"})}):(0,xr.jsx)(qf,{sensors:Te,collisionDetection:bx,onDragEnd:e=>Ie(e,"assignment"),children:(0,xr.jsx)(ey,{items:$e.map(e=>e._id),strategy:Xf,children:(0,xr.jsx)("div",{className:"space-y-4",children:$e.map(e=>(0,xr.jsx)($b,{id:e._id,item:e,theme:r,onRequestDelete:Ye,onAdminDelete:We,isAdmin:De,onWatch:ze,onEdit:e=>{v(e),f(e.type),k({title:e.title||"",description:e.description||"",maxScore:e.maxScore||100,dueDate:e.dueDate?new Date(e.dueDate).toISOString().split("T")[0]:"",order:e.order||0}),g(!0)},getTypeIcon:He,getTypeBadgeColor:Ge,isDeletePending:ee.includes(e._id)},e._id))})})})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsxs)("h2",{className:"text-xl font-semibold ".concat("dark"===r?"text-white":"text-gray-900"," mb-4"),children:["\ud83d\ude80 Projects (",Xe.length,")"]}),0===Xe.length?(0,xr.jsx)("div",{className:"".concat("dark"===r?"bg-gray-800":"bg-white"," rounded-lg p-8 text-center"),children:(0,xr.jsx)("p",{className:"".concat("dark"===r?"text-gray-400":"text-gray-600"),children:"No projects uploaded yet"})}):(0,xr.jsx)(qf,{sensors:Te,collisionDetection:bx,onDragEnd:e=>Ie(e,"project"),children:(0,xr.jsx)(ey,{items:Xe.map(e=>e._id),strategy:Xf,children:(0,xr.jsx)("div",{className:"space-y-4",children:Xe.map(e=>(0,xr.jsx)($b,{id:e._id,item:e,theme:r,onRequestDelete:Ye,onAdminDelete:We,isAdmin:De,onWatch:ze,onEdit:e=>{v(e),f(e.type),k({title:e.title||"",description:e.description||"",maxScore:e.maxScore||100,dueDate:e.dueDate?new Date(e.dueDate).toISOString().split("T")[0]:"",order:e.order||0}),g(!0)},getTypeIcon:He,getTypeBadgeColor:Ge,isDeletePending:ee.includes(e._id)},e._id))})})})]})]}),q&&(0,xr.jsx)(jv,{videoUrl:q,onClose:()=>{z(null),V("")},title:U}),Y.open&&(0,xr.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black/70 p-4",style:{zIndex:2e3},onClick:()=>W({open:!1,contentId:null,title:"",secureUrl:"",loading:!1}),children:(0,xr.jsx)("div",{className:"w-full max-w-5xl",onClick:e=>e.stopPropagation(),children:Y.loading||!Y.secureUrl?(0,xr.jsx)("div",{className:"h-64 bg-gray-100 rounded-lg animate-pulse"}):(0,xr.jsx)(Qb.default,{secureUrl:Y.secureUrl,title:Y.title,autoPlay:!1,contentId:Y.contentId,onComplete:()=>{_e()}})})}),H.open&&(0,xr.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 p-4",style:{zIndex:2e3},children:(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"".concat("dark"===r?"bg-gray-800":"bg-white"," rounded-lg shadow-xl w-full max-w-5xl overflow-hidden max-h-[90vh] flex flex-col"),children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b ".concat("dark"===r?"border-gray-700 bg-gray-800":"border-gray-200 bg-white"),children:[(0,xr.jsx)("h3",{className:"text-lg font-semibold ".concat("dark"===r?"text-white":"text-gray-900"),children:H.title}),(0,xr.jsx)("button",{type:"button",onClick:()=>G({open:!1,youtubeVideoId:"",title:""}),className:"p-2 rounded-md transition ".concat("dark"===r?"text-gray-300 hover:bg-gray-700":"text-gray-600 hover:bg-gray-100"),"aria-label":"Close",children:(0,xr.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,xr.jsx)("div",{className:"flex-1 min-h-0 overflow-y-auto p-4",children:(0,xr.jsx)(bh,{youtubeVideoId:H.youtubeVideoId,title:H.title})})]})}),p&&(0,xr.jsx)("div",{className:"fixed inset-0 flex items-start justify-center bg-black/50 px-4 pb-4 pt-28 md:pt-6 overflow-y-auto",style:{zIndex:2e3},children:(0,xr.jsx)(rr.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"".concat("dark"===r?"bg-gray-800":"bg-white"," rounded-lg shadow-xl w-full max-w-2xl overflow-hidden h-[calc(100vh-8rem)] max-h-[calc(100vh-8rem)] md:h-[calc(100vh-3rem)] md:max-h-[calc(100vh-3rem)]"),children:(0,xr.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),"lecture"===x&&!y&&!N)return void er.error("Please select a video file");if("assignment"===x){if(!y&&!A)return void er.error("Please select a .rar or .zip assignment file");if(A){if(!/\.(rar|zip)$/i.test(A.name))return void er.error("Assignments must be uploaded as .rar or .zip files only")}}if("project"===x){if(!y&&(!N||!A))return void er.error("Please select both video and starter archive file");if(A){if(!/\.(rar|zip)$/i.test(A.name))return void er.error("Starter file must be a .rar or .zip archive")}}if(("lecture"===x||"project"===x)&&N)try{const e=await(r=N,new Promise((e,t)=>{try{const a=URL.createObjectURL(r),n=document.createElement("video");n.preload="metadata";const s=()=>{URL.revokeObjectURL(a),n.src=""};n.onloadedmetadata=()=>{const t=Number.isFinite(n.duration)?n.duration:0;s(),e(t)},n.onerror=()=>{s(),t(new Error("Failed to read video metadata"))},n.src=a}catch(aw){t(aw)}}));if(!e||e<s)return void er.error("Videos must be at least ".concat(Pe(s)," long."))}catch(aw){return void er.error("Unable to verify video length. Please try a different video file.")}var r;let a=!1;try{var n,o,l;R(!0),M("uploading"),F(0),B(null),Ne.current=!1,se(null),oe(null),ce(null),ue(null),he(null),pe.current={bytes:null,at:null},xe(null),ye(null);const t="undefined"!==typeof AbortController?new AbortController:null;ve.current=t;const r=localStorage.getItem("token"),a=new FormData;a.append("title",j.title),a.append("description",j.description),a.append("order",j.order);const s="lecture"===x&&Boolean(N)&&Boolean(null===b||void 0===b?void 0:b.isYouTubeEnabled)&&"youtube"===(null===b||void 0===b?void 0:b.videoProvider)||"assignment"===x&&Boolean(A)&&"telegram"===(null===b||void 0===b?void 0:b.fileProvider)||"project"===x&&(Boolean(N)&&Boolean(null===b||void 0===b?void 0:b.isYouTubeEnabled)&&"youtube"===(null===b||void 0===b?void 0:b.videoProvider)||Boolean(A)&&"telegram"===(null===b||void 0===b?void 0:b.fileProvider));if(s){const e="undefined"!==typeof crypto&&"function"===typeof crypto.randomUUID?crypto.randomUUID():"".concat(Date.now(),"-").concat(Math.random().toString(16).slice(2));B(e),Ae.current=e,se("uploading"),oe(null),a.append("uploadSessionId",e),Fe(e,r)}const c=Boolean(N||A),d={headers:{Authorization:"Bearer ".concat(r)},signal:null===t||void 0===t?void 0:t.signal};let m;if(c&&(d.onUploadProgress=e=>{const t=e.total,r="number"===typeof e.progress?e.progress:null;if(!t&&null===r)return;"number"===typeof e.loaded&&xe(e.loaded),"number"===typeof t&&ye(t);const a=t?Math.round(100*e.loaded/t):Math.round(100*r);if(a>=100||t&&e.loaded>=t)return s?(F(0),void M(e=>"uploading"===e?"server":e)):void F(100);F(a)}),"lecture"===x){N&&a.append("video",N);const t=y?"/api/content/".concat(y._id):"/api/sections/".concat(e,"/content/uploadLecture"),r=y?"put":"post";m=await i.A[r](t,a,d)}else if("assignment"===x){A&&a.append("file",A),a.append("maxScore",100);const t=y?"/api/content/".concat(y._id):"/api/sections/".concat(e,"/content/uploadAssignment"),r=y?"put":"post";m=await i.A[r](t,a,d)}else if("project"===x){N&&a.append("video",N),A&&a.append("file",A),a.append("maxScore",100);const t=y?"/api/content/".concat(y._id):"/api/sections/".concat(e,"/content/uploadProject"),r=y?"put":"post";m=await i.A[r](t,a,d)}const h=null===(n=m)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.data,p=(null===y||void 0===y?void 0:y._id)||(null===h||void 0===h?void 0:h._id),f="lecture"===x||"project"===x,v=null===h||void 0===h||null===(l=h.video)||void 0===l?void 0:l.storageType;if(f&&Boolean(N)&&Boolean(p)&&"local"===v&&(M("processing"),F(0),await(async(e,t)=>{for(let n=0;n<300;n++){var r,a;const n=await i.A.get("/api/content/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),s=null===n||void 0===n||null===(r=n.data)||void 0===r?void 0:r.data,o="number"===typeof(null===s||void 0===s?void 0:s.videoDuration)?s.videoDuration:0,l="number"===typeof(null===s||void 0===s||null===(a=s.video)||void 0===a?void 0:a.duration)?s.video.duration:0;if(o>0||l>0)return;await new Promise(e=>setTimeout(e,3e3))}throw new Error("Processing timed out")})(p,r)),"assignment"!==x&&"project"!==x||!E)er.success(f?"Video uploaded successfully.":y?"Content updated successfully!":"Content uploaded successfully!");else if(p)try{const e=new FormData;e.append("solution",E),await i.A.post("/api/content/".concat(p,"/uploadSolution"),e,{headers:{Authorization:"Bearer ".concat(r),"Content-Type":"multipart/form-data"}}),er.success(f?"Video uploaded successfully.":"Content uploaded successfully.")}catch(u){console.error("Error uploading solution:",u),er.error(f?"Video uploaded successfully, but one or more files could not be uploaded. You can try again.":"Upload completed, but one or more files could not be uploaded. You can try again.")}g(!1),Ve(),_e()}catch(m){if(console.error("Error uploading content:",m),Ne.current);else{var c,d;a=!0;const e=null===m||void 0===m||null===(c=m.response)||void 0===c||null===(d=c.data)||void 0===d?void 0:d.message,t="Upload failed. Please try again.";se("failed"),oe("string"===typeof e&&e.trim().length>0?e:t),M("error"),er.error("string"===typeof e&&e.trim().length>0?e:t)}}finally{Re(),R(!1),ve.current=null,Ne.current=!1,a||(F(0),M("idle"),B(null),Ae.current=null,se(null),oe(null))}},className:"flex flex-col h-full min-h-0",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b ".concat("dark"===r?"border-gray-700 bg-gray-800":"border-gray-200 bg-white"),children:[(0,xr.jsxs)("h3",{className:"text-xl font-semibold ".concat("dark"===r?"text-white":"text-gray-900"),children:[y?"Edit":"Upload"," ",x.charAt(0).toUpperCase()+x.slice(1)]}),(0,xr.jsxs)("div",{className:"flex items-center gap-2",children:[Ee&&(0,xr.jsx)("button",{type:"button",onClick:Le,className:"px-4 py-2 rounded-lg border text-sm ".concat("dark"===r?"border-gray-600 text-gray-200 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"," transition"),children:"Cancel Upload"}),(0,xr.jsx)("button",{type:"button",onClick:()=>{g(!1),Ve()},disabled:Se,className:"p-2 rounded-md transition ".concat("dark"===r?"text-gray-300 hover:bg-gray-700":"text-gray-600 hover:bg-gray-100"," disabled:opacity-50"),"aria-label":"Close",children:(0,xr.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),(0,xr.jsxs)("div",{className:"flex-1 min-h-0 overflow-y-auto px-6 py-4 space-y-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium ".concat("dark"===r?"text-gray-300":"text-gray-700"," mb-1"),children:"Title *"}),(0,xr.jsx)("input",{type:"text",required:!0,value:j.title,onChange:e=>k((0,Be.A)((0,Be.A)({},j),{},{title:e.target.value})),className:"input-field w-full",placeholder:"e.g., ".concat("lecture"===x?"Introduction to Variables":"assignment"===x?"Practice Exercise 1":"Final Project")})]}),(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium ".concat("dark"===r?"text-gray-300":"text-gray-700"," mb-1"),children:"Description"}),(0,xr.jsx)("textarea",{rows:"2",value:j.description,onChange:e=>k((0,Be.A)((0,Be.A)({},j),{},{description:e.target.value})),className:"input-field w-full"})]}),("lecture"===x||"project"===x)&&(0,xr.jsxs)("div",{children:[(0,xr.jsxs)("label",{className:"block text-sm font-medium ".concat("dark"===r?"text-gray-300":"text-gray-700"," mb-1"),children:["Video File * (MP4, WEBM, MKV, AVI, MOV) \u2014 Max ",P.maxVideoSizeMB,"MB"]}),(0,xr.jsxs)("div",{className:"mb-3 space-y-1 text-sm ".concat("dark"===r?"text-gray-300":"text-gray-700"),children:[(0,xr.jsxs)("p",{children:["Videos must be at least ",Pe(s)," long."]}),(0,xr.jsx)("p",{children:"A brief intro animation (about 3\u20134 seconds) will be added to the beginning of the video automatically and cannot be removed."})]}),(0,xr.jsx)("input",{type:"file",accept:"video/*,.mp4,.webm,.mkv,.avi,.mov",required:!y,disabled:Se,onChange:e=>{const t=e.target.files[0]||null;if(!t)return void C(null);const r=1024*(P.maxVideoSizeMB||500)*1024;if(t.size>r)return er.error("Video exceeds maximum size of ".concat(P.maxVideoSizeMB,"MB")),e.target.value="",void C(null);C(t)},className:"w-full px-4 py-2 rounded-lg border ".concat("dark"===r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"," ").concat(Se?"opacity-60 cursor-not-allowed":"")}),N&&(0,xr.jsxs)("p",{className:"text-sm mt-1 ".concat("dark"===r?"text-gray-400":"text-gray-600"),children:["Selected: ",N.name," (",(N.size/1024/1024).toFixed(2)," MB)"]}),y&&!N&&(0,xr.jsx)("p",{className:"text-xs mt-1 ".concat("text-gray-500"),children:"Current video will be kept unless you upload a new file."})]}),("assignment"===x||"project"===x)&&(0,xr.jsxs)("div",{children:[(0,xr.jsxs)("label",{className:"block text-sm font-medium ".concat("dark"===r?"text-gray-300":"text-gray-700"," mb-1"),children:["assignment"===x?"Assignment File * (.rar or .zip)":"Starter File * (.rar or .zip)"," \u2014 Max ",P.maxFileSizeMB,"MB"]}),(0,xr.jsx)("input",{type:"file",accept:".rar,.zip",required:!y,disabled:Se,onChange:e=>{const t=e.target.files[0]||null;if(!t)return void S(null);const r=1024*(P.maxFileSizeMB||100)*1024;if(t.size>r)return er.error("File exceeds maximum size of ".concat(P.maxFileSizeMB,"MB")),e.target.value="",void S(null);S(t)},className:"w-full px-4 py-2 rounded-lg border ".concat("dark"===r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900")}),A&&(0,xr.jsxs)("p",{className:"text-sm mt-1 ".concat("dark"===r?"text-gray-400":"text-gray-600"),children:["Selected: ",A.name," (",(A.size/1024/1024).toFixed(2)," MB)"]}),y&&!A&&(0,xr.jsx)("p",{className:"text-xs mt-1 ".concat("text-gray-500"),children:"Existing file will remain available unless you upload a new archive."})]}),("assignment"===x||"project"===x)&&(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium ".concat("dark"===r?"text-gray-300":"text-gray-700"," mb-1"),children:"Solution File (.rar or .zip) - Optional"}),(0,xr.jsx)("input",{type:"file",accept:".rar,.zip",onChange:e=>D(e.target.files[0]||null),disabled:Se,className:"w-full px-4 py-2 rounded-lg border ".concat("dark"===r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"," ").concat(Se?"opacity-60 cursor-not-allowed":"")}),E&&(0,xr.jsxs)("p",{className:"text-sm mt-1 ".concat("dark"===r?"text-gray-400":"text-gray-600"),children:["Selected: ",E.name," (",(E.size/1024/1024).toFixed(2)," MB)"]}),y&&y.solution&&!E&&(0,xr.jsxs)("p",{className:"text-xs mt-1 ".concat("dark"===r?"text-green-500":"text-green-600"),children:["Current solution: ",y.solution.originalName]}),(0,xr.jsx)("p",{className:"text-xs mt-1 ".concat("text-gray-500"),children:"Students will only see the solution after their submission is graded."})]}),(0,xr.jsx)("div",{children:(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium ".concat("dark"===r?"text-gray-300":"text-gray-700"," mb-1"),children:"Max Score"}),(0,xr.jsx)("input",{type:"number",value:100,readOnly:!0,disabled:!0,className:"input-field w-full bg-gray-100 dark:bg-gray-700 cursor-not-allowed",title:"Max score is always 100 for assignments and projects"}),(0,xr.jsx)("p",{className:"text-xs mt-1 ".concat("text-gray-500"),children:"Max score is automatically set to 100"})]})})]})]}),(0,xr.jsxs)("div",{className:"px-6 py-4 border-t ".concat("dark"===r?"border-gray-700 bg-gray-800":"border-gray-200 bg-white"),children:[(_||"server"===L||"processing"===L||"error"===L)&&(0,xr.jsx)("div",{className:"mb-4",children:"uploading"===L?(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,xr.jsx)("span",{className:"text-sm ".concat("dark"===r?"text-gray-300":"text-gray-700"),children:O<=0?"Preparing upload...":"Uploading..."}),(0,xr.jsxs)("span",{className:"text-sm font-medium ".concat("dark"===r?"text-indigo-400":"text-indigo-600"),children:[O,"%"]})]}),(0,xr.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,xr.jsx)("div",{className:"bg-indigo-600 h-2 rounded-full transition-all",style:{width:"".concat(O,"%")}})}),"number"===typeof ge&&"number"===typeof fe&&fe>0&&(0,xr.jsxs)("p",{className:"text-xs mt-2 text-center ".concat("dark"===r?"text-gray-400":"text-gray-600"),children:[(ge/1024/1024).toFixed(1)," / ",(fe/1024/1024).toFixed(1)," MB"]})]}):"server"===L?(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,xr.jsx)("span",{className:"text-sm ".concat("dark"===r?"text-gray-300":"text-gray-700"),children:"queued"===re?"Preparing upload...":"canceling"===re?"Canceling upload...":"failed"===re?"Upload failed":"processing"===re||"completed"===re?"Finalizing...":"assignment"===x?"Uploading assignment...":"project"===x?"Uploading project...":"Uploading video..."}),(0,xr.jsxs)("span",{className:"text-sm font-medium ".concat("dark"===r?"text-indigo-400":"text-indigo-600"),children:[O,"%"]})]}),(0,xr.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,xr.jsx)("div",{className:"bg-indigo-600 h-2 rounded-full transition-all",style:{width:"".concat(O,"%")}})}),"number"===typeof le&&"number"===typeof de&&de>0&&(0,xr.jsxs)("p",{className:"text-xs mt-2 text-center ".concat("dark"===r?"text-gray-400":"text-gray-600"),children:[Math.min(100,Math.round(100*le/de)),"% \u2022 ",(le/1024/1024).toFixed(1)," / ",(de/1024/1024).toFixed(1)," MB"]}),"number"===typeof me&&Number.isFinite(me)&&me>0&&"number"===typeof le&&"number"===typeof de&&de>0&&(0,xr.jsxs)("p",{className:"text-xs mt-1 text-center ".concat("dark"===r?"text-gray-400":"text-gray-600"),children:[(me/1024/1024).toFixed(2)," MB/s \u2022 ",((de-le)/1024/1024).toFixed(1)," MB remaining"]}),(0,xr.jsx)("p",{className:"text-xs mt-2 text-center ".concat("dark"===r?"text-gray-400":"text-gray-600"),children:"Do not close this page until the upload completes."}),"failed"===re&&ie&&(0,xr.jsx)("p",{className:"text-xs mt-2 text-center ".concat("dark"===r?"text-red-300":"text-red-600"),children:ie})]}):"error"===L?(0,xr.jsx)(xr.Fragment,{children:(0,xr.jsxs)("div",{className:"w-full rounded-lg border px-4 py-3 ".concat("dark"===r?"border-red-800 bg-red-950/40 text-red-200":"border-red-200 bg-red-50 text-red-800"),children:[(0,xr.jsx)("p",{className:"text-sm font-medium",children:"Upload failed"}),(0,xr.jsx)("p",{className:"text-xs mt-1",children:ie||"Upload failed. Please try again."})]})}):(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 overflow-hidden",children:(0,xr.jsx)("div",{className:"bg-indigo-600 h-2 w-full animate-pulse"})}),(0,xr.jsx)("p",{className:"text-sm mt-3 text-center ".concat("dark"===r?"text-gray-200":"text-gray-800"),children:"Uploaded. Processing\u2026"}),(0,xr.jsx)("p",{className:"text-xs mt-1 text-center ".concat("dark"===r?"text-gray-400":"text-gray-600"),children:"Do not close this page until processing completes."})]})}),(0,xr.jsxs)("div",{className:"flex justify-end gap-3",children:[Ee&&(0,xr.jsx)("button",{type:"button",onClick:Le,className:"px-6 py-2 rounded-lg border ".concat("dark"===r?"border-gray-600 text-gray-200 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"," transition"),children:"Cancel Upload"}),(0,xr.jsx)("button",{type:"button",onClick:()=>{g(!1),Ve()},disabled:Se,className:"px-6 py-2 rounded-lg ".concat("dark"===r?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"," transition disabled:opacity-50"),children:"Cancel"}),(0,xr.jsx)("button",{type:"submit",disabled:Se,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition disabled:opacity-50",children:"uploading"===L?"".concat(y?"Updating":"Uploading"," ").concat(O,"%..."):"server"===L?"assignment"===x?"Uploading assignment...":"project"===x?"Uploading project...":"Uploading video...":"processing"===L?"Processing...":y?"Update":"Upload"})]})]})]})})}),K.open&&(0,xr.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 p-4",style:{zIndex:2e3},children:(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"".concat("dark"===r?"bg-gray-800":"bg-white"," rounded-lg shadow-xl w-full max-w-lg p-6"),children:[(0,xr.jsx)("h3",{className:"text-lg font-semibold mb-2 ".concat("dark"===r?"text-white":"text-gray-900"),children:"Request Delete"}),(0,xr.jsx)("p",{className:"text-sm mb-4 ".concat("dark"===r?"text-gray-300":"text-gray-700"),children:"You are requesting admin approval to permanently delete:"}),(0,xr.jsx)("p",{className:"text-sm font-medium mb-4 ".concat("dark"===r?"text-gray-100":"text-gray-900"),children:K.title}),(0,xr.jsxs)("form",{onSubmit:async e=>{var t;if(null===e||void 0===e||null===(t=e.preventDefault)||void 0===t||t.call(e),!K.contentId)return;const r=K.contentId,a=(K.reason||"").trim();if(a.length<20)er.error("Please provide a detailed reason (at least 20 characters).");else try{Q(e=>(0,Be.A)((0,Be.A)({},e),{},{submitting:!0}));const e=localStorage.getItem("token");await i.A.post("/api/content/".concat(r,"/request-delete"),{reason:a},{headers:{Authorization:"Bearer ".concat(e)}});er.success("Delete request submitted. Admin approval is required before the content is deleted."),te(e=>e.includes(r)?e:[...e,r]),Q({open:!1,contentId:null,title:"",reason:"",submitting:!1})}catch(l){var n,s,o;console.error("Error requesting content delete:",l);const e=(null===(n=l.response)||void 0===n||null===(s=n.data)||void 0===s?void 0:s.message)||"Failed to submit delete request";400===(null===(o=l.response)||void 0===o?void 0:o.status)&&"string"===typeof e&&e.toLowerCase().includes("already a pending delete request")?(te(e=>e.includes(r)?e:[...e,r]),Q({open:!1,contentId:null,title:"",reason:"",submitting:!1}),er.error("A delete request for this item is already pending.")):(Q(e=>(0,Be.A)((0,Be.A)({},e),{},{submitting:!1})),er.error("Failed to submit delete request. Please try again."))}},className:"space-y-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium mb-1 ".concat("dark"===r?"text-gray-300":"text-gray-700"),children:"Reason for deletion * (min 20 characters)"}),(0,xr.jsx)("textarea",{rows:"4",value:K.reason,onChange:e=>Q(t=>(0,Be.A)((0,Be.A)({},t),{},{reason:e.target.value})),className:"input-field w-full",placeholder:"Explain why this content should be permanently deleted..."}),(0,xr.jsxs)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:[K.reason.trim().length," / 20"]})]}),(0,xr.jsxs)("div",{className:"flex justify-end gap-3 pt-2",children:[(0,xr.jsx)("button",{type:"button",onClick:()=>Q({open:!1,contentId:null,title:"",reason:"",submitting:!1}),className:"px-4 py-2 rounded-md border text-sm ".concat("dark"===r?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"),disabled:K.submitting,children:"Cancel"}),(0,xr.jsx)("button",{type:"submit",disabled:K.submitting,className:"px-4 py-2 rounded-md bg-red-600 text-white text-sm hover:bg-red-700 disabled:opacity-60",children:K.submitting?"Submitting...":"Submit Request"})]})]})]})}),$.open&&(0,xr.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 p-4",style:{zIndex:2e3},children:(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"".concat("dark"===r?"bg-gray-800":"bg-white"," rounded-lg shadow-xl w-full max-w-lg p-6"),children:[(0,xr.jsx)("h3",{className:"text-lg font-semibold mb-2 ".concat("dark"===r?"text-white":"text-gray-900"),children:"Delete Content"}),(0,xr.jsx)("p",{className:"text-sm mb-4 ".concat("dark"===r?"text-gray-300":"text-gray-700"),children:"This will permanently delete:"}),(0,xr.jsx)("p",{className:"text-sm font-medium mb-4 ".concat("dark"===r?"text-gray-100":"text-gray-900"),children:$.title}),(0,xr.jsx)("p",{className:"text-xs mb-4 ".concat("dark"===r?"text-gray-400":"text-gray-600"),children:"This action cannot be undone."}),(0,xr.jsxs)("div",{className:"flex justify-end gap-3 pt-2",children:[(0,xr.jsx)("button",{type:"button",onClick:()=>X({open:!1,contentId:null,title:"",deleting:!1}),className:"px-4 py-2 rounded-md border text-sm ".concat("dark"===r?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"),disabled:$.deleting,children:"Cancel"}),(0,xr.jsx)("button",{type:"button",onClick:async()=>{const e=$.contentId;if(e)try{X(e=>(0,Be.A)((0,Be.A)({},e),{},{deleting:!0}));const t=localStorage.getItem("token");await i.A.delete("/api/content/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),u(t=>Array.isArray(t)?t.filter(t=>t._id!==e):t),te(t=>t.filter(t=>t!==e)),er.success("Content deleted successfully."),X({open:!1,contentId:null,title:"",deleting:!1})}catch(t){console.error("Error deleting content:",t),er.error("Failed to delete content. Please try again."),X(e=>(0,Be.A)((0,Be.A)({},e),{},{deleting:!1}))}},disabled:$.deleting,className:"px-4 py-2 rounded-md bg-red-600 text-white text-sm hover:bg-red-700 disabled:opacity-60",children:$.deleting?"Deleting...":"Delete"})]})]})}),J.open&&(0,xr.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 p-4",style:{zIndex:2e3},children:(0,xr.jsxs)(rr.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"".concat("dark"===r?"bg-gray-800":"bg-white"," rounded-lg shadow-xl w-full max-w-lg p-6"),children:[(0,xr.jsx)("h3",{className:"text-lg font-semibold mb-2 ".concat("dark"===r?"text-white":"text-gray-900"),children:"Assign new URL"}),(0,xr.jsx)("p",{className:"text-sm mb-4 ".concat("dark"===r?"text-gray-300":"text-gray-700"),children:J.title}),(0,xr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!J.contentId)return;const t=(J.url||"").trim();if(t)try{Z(e=>(0,Be.A)((0,Be.A)({},e),{},{saving:!0}));const e=localStorage.getItem("token");await i.A.put("/api/content/".concat(J.contentId,"/assign-hosted-url"),{youtubeUrl:t},{headers:{Authorization:"Bearer ".concat(e)}}),er.success("Hosted video URL updated."),Z({open:!1,contentId:null,title:"",url:"",saving:!1}),_e()}catch(n){var r,a;console.error("Error assigning hosted URL:",n);const e=(null===(r=n.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Failed to update hosted video URL.";er.error(e),Z(e=>(0,Be.A)((0,Be.A)({},e),{},{saving:!1}))}else er.error("Please provide a URL or video ID.")},className:"space-y-4",children:[(0,xr.jsxs)("div",{children:[(0,xr.jsx)("label",{className:"block text-sm font-medium mb-1 ".concat("dark"===r?"text-gray-300":"text-gray-700"),children:"Hosted video URL or ID"}),(0,xr.jsx)("input",{type:"text",value:J.url,onChange:e=>Z(t=>(0,Be.A)((0,Be.A)({},t),{},{url:e.target.value})),className:"input-field w-full",placeholder:"Paste a URL or video ID"})]}),(0,xr.jsxs)("div",{className:"flex justify-end gap-3 pt-2",children:[(0,xr.jsx)("button",{type:"button",onClick:()=>Z({open:!1,contentId:null,title:"",url:"",saving:!1}),className:"px-4 py-2 rounded-md border text-sm ".concat("dark"===r?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"),disabled:J.saving,children:"Cancel"}),(0,xr.jsx)("button",{type:"submit",disabled:J.saving,className:"px-4 py-2 rounded-md bg-indigo-600 text-white text-sm hover:bg-indigo-700 disabled:opacity-60",children:J.saving?"Saving...":"Save"})]})]})]})})]})})},Jb=e=>{var t,r,a;let{item:n,progress:s,theme:o,onWatch:l,onMarkComplete:c}=e;const d=(null===s||void 0===s?void 0:s.completed)||!1,u=("lecture"===n.type||"project"===n.type)&&("youtube"===(null===(t=n.video)||void 0===t?void 0:t.storageType)||n.videoPath||(null===(r=n.video)||void 0===r?void 0:r.path));return(0,xr.jsxs)("div",{className:"".concat("dark"===o?"bg-gray-800":"bg-white"," rounded-lg shadow-md p-4 flex items-start justify-between"),children:[(0,xr.jsxs)("div",{className:"flex-1",children:[(0,xr.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(()=>{switch(n.type){case"lecture":return(0,xr.jsx)(zm,{className:"w-5 h-5 text-blue-500"});case"assignment":return(0,xr.jsx)(Um,{className:"w-5 h-5 text-green-500"});case"project":return(0,xr.jsx)(Gb,{className:"w-5 h-5 text-purple-500"});default:return null}})(),(0,xr.jsx)("h4",{className:"font-semibold ".concat("dark"===o?"text-white":"text-gray-900"),children:n.title}),d&&(0,xr.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",children:[(0,xr.jsx)(Pa,{className:"w-3 h-3 mr-1"}),"Completed"]})]}),n.description&&(0,xr.jsx)("p",{className:"text-sm ".concat("dark"===o?"text-gray-400":"text-gray-600"," mb-2"),children:n.description}),n.dueDate&&(0,xr.jsxs)("p",{className:"text-xs ".concat("text-gray-500"),children:["Due: ",new Date(n.dueDate).toLocaleDateString()]})]}),(0,xr.jsxs)("div",{className:"flex gap-2 ml-4",children:[u&&l&&(0,xr.jsxs)("button",{onClick:()=>l(n),className:"flex items-center px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition",children:[(0,xr.jsx)(Mm.A,{className:"w-4 h-4 mr-1"}),"Watch"]}),(n.filePath||(null===(a=n.file)||void 0===a?void 0:a.path))&&(0,xr.jsxs)("button",{onClick:async()=>{try{var e;const t=localStorage.getItem("token"),r=await i.A.get("/api/content/".concat(n._id,"/download").concat("project"===n.type?"?type=starter":""),{headers:{Authorization:"Bearer ".concat(t)},responseType:"blob"}),a=window.URL.createObjectURL(new Blob([r.data])),s=document.createElement("a");s.href=a,s.setAttribute("download",n.fileName||(null===(e=n.file)||void 0===e?void 0:e.originalName)||"".concat(n.title,".rar")),document.body.appendChild(s),s.click(),s.parentNode.removeChild(s),window.URL.revokeObjectURL(a),er.success("File downloaded successfully")}catch(a){var t,r;console.error("Download error:",a),er.error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to download file")}},className:"flex items-center px-4 py-2 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition",children:[(0,xr.jsx)(Vm,{className:"w-4 h-4 mr-1"}),"Download"]}),!d&&(0,xr.jsxs)("button",{onClick:()=>c(n._id),className:"flex items-center px-4 py-2 bg-indigo-600 text-white text-sm rounded-lg hover:bg-indigo-700 transition",children:[(0,xr.jsx)(Pa,{className:"w-4 h-4 mr-1"}),"Complete"]})]})]})},Zb=()=>{var e,t;const{sectionId:r}=ne(),n=ae(),{user:s}=wr(),{theme:o}=Nr(),[l,c]=(0,a.useState)(null),[d,u]=(0,a.useState)([]),[m,h]=(0,a.useState)({}),[p,g]=(0,a.useState)(!1),[x,f]=(0,a.useState)(""),[y,v]=(0,a.useState)(!0),[b,w]=(0,a.useState)(null),[j,k]=(0,a.useState)(!1),N=(0,a.useCallback)(async()=>{try{var e,t,a;if("student"===(null===s||void 0===s?void 0:s.role)&&"suspended"===(null===s||void 0===s?void 0:s.status)&&(null!==s&&void 0!==s&&null!==(e=s.restrictions)&&void 0!==e&&e.accessCoursePages||null!==s&&void 0!==s&&null!==(t=s.restrictions)&&void 0!==t&&t.continueCourses))return er.error("Your account is suspended. You cannot access this section or continue courses."),void n("/student");v(!0);const o=localStorage.getItem("token"),l=await i.A.get("/api/sections/".concat(r,"/access"),{headers:{Authorization:"Bearer ".concat(o)}});if(g(l.data.hasAccess),f(l.data.reason),!l.data.hasAccess)return void v(!1);const d=await i.A.get("/api/sections/".concat(r),{headers:{Authorization:"Bearer ".concat(o)}});c(d.data.data);const m=await i.A.get("/api/sections/".concat(r,"/content"),{headers:{Authorization:"Bearer ".concat(o)}});u(m.data.data||[]);const p=await i.A.get("/api/progress/student/".concat(s._id,"/section/").concat(r),{headers:{Authorization:"Bearer ".concat(o)}}),x={};((null===(a=p.data.data)||void 0===a?void 0:a.progress)||[]).forEach(e=>{x[e.item._id||e.item]=e}),h(x)}catch(d){var o,l;console.error("Error fetching section data:",d),er.error((null===(o=d.response)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.message)||"Failed to load section")}finally{v(!1)}},[r,s,n]);(0,a.useEffect)(()=>{N()},[N]),(0,a.useEffect)(()=>{},[b,j]);const C=async e=>{try{const t=localStorage.getItem("token"),r=await i.A.post("/api/progress/markCompleted",{itemId:e,sectionId:l._id,groupId:l.group,courseId:l.course},{headers:{Authorization:"Bearer ".concat(t)}});h(t=>(0,Be.A)((0,Be.A)({},t),{},{[e]:r.data.data})),er.success("Marked as completed!")}catch(t){console.error("Error marking complete:",t),er.error("Failed to mark as completed")}},A=e=>{w(e),k(!0)},S=()=>{k(!1),w(null),N()};if(y)return(0,xr.jsx)("div",{className:"min-h-screen ".concat("dark"===o?"bg-gray-900":"bg-gray-50"," flex items-center justify-center"),children:(0,xr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})});if(!p)return(0,xr.jsx)("div",{className:"min-h-screen ".concat("dark"===o?"bg-gray-900":"bg-gray-50"," py-8"),children:(0,xr.jsx)("div",{className:"max-w-2xl mx-auto px-4",children:(0,xr.jsxs)("div",{className:"".concat("dark"===o?"bg-gray-800":"bg-white"," rounded-lg shadow-md p-8 text-center"),children:[(0,xr.jsx)(Hd,{className:"w-16 h-16 mx-auto mb-4 ".concat("dark"===o?"text-red-400":"text-red-600")}),(0,xr.jsx)("h2",{className:"text-2xl font-bold mb-4 ".concat("dark"===o?"text-white":"text-gray-900"),children:"Access Denied"}),(0,xr.jsxs)("p",{className:"mb-6 ".concat("dark"===o?"text-gray-400":"text-gray-600"),children:["payment_required"===x&&"This section requires payment to access.","payment_pending"===x&&"Your payment is pending verification by the instructor.","not_enrolled"===x&&"You need to enroll in this course first."]}),(0,xr.jsx)("button",{onClick:()=>n(-1),className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition",children:"Go Back"})]})})});const E=d.filter(e=>"lecture"===e.type),D=d.filter(e=>"assignment"===e.type),P=d.filter(e=>"project"===e.type),T=Object.values(m).filter(e=>e.completed).length,_=d.length,R=_>0?Math.round(T/_*100):0;return(0,xr.jsx)("div",{className:"min-h-screen ".concat("dark"===o?"bg-gray-900":"bg-gray-50"," py-8"),children:(0,xr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,xr.jsxs)("div",{className:"mb-8",children:[(0,xr.jsxs)("button",{onClick:()=>n(-1),className:"mb-4 ".concat("dark"===o?"text-indigo-400 hover:text-indigo-300":"text-indigo-600 hover:text-indigo-800"," flex items-center"),children:[(0,xr.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,xr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back"]}),(0,xr.jsx)("div",{className:"flex items-center justify-between",children:(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h1",{className:"text-3xl font-bold ".concat("dark"===o?"text-white":"text-gray-900"),children:null===l||void 0===l?void 0:l.name}),(0,xr.jsx)("p",{className:"mt-2 ".concat("dark"===o?"text-gray-400":"text-gray-600"),children:(null===l||void 0===l?void 0:l.description)||"Section content"})]})}),(0,xr.jsxs)("div",{className:"mt-6",children:[(0,xr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,xr.jsx)("span",{className:"text-sm font-medium ".concat("dark"===o?"text-gray-300":"text-gray-700"),children:"Your Progress"}),(0,xr.jsxs)("span",{className:"text-sm font-bold ".concat(100===R?"text-green-600 dark:text-green-400":"text-indigo-600 dark:text-indigo-400"),children:[R,"%"]})]}),(0,xr.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:(0,xr.jsx)("div",{className:"h-3 rounded-full transition-all ".concat(100===R?"bg-green-600":"bg-indigo-600"),style:{width:"".concat(R,"%")}})}),(0,xr.jsxs)("p",{className:"text-xs mt-1 ".concat("dark"===o?"text-gray-400":"text-gray-600"),children:[T," of ",_," items completed"]})]})]}),(0,xr.jsxs)("div",{className:"space-y-8",children:[E.length>0&&(0,xr.jsxs)("div",{children:[(0,xr.jsxs)("h2",{className:"text-xl font-semibold ".concat("dark"===o?"text-white":"text-gray-900"," mb-4"),children:["\ud83d\udcf9 Lectures (",E.length,")"]}),(0,xr.jsx)("div",{className:"space-y-3",children:E.map(e=>(0,xr.jsx)(Jb,{item:e,progress:m[e._id],theme:o,onWatch:A,onMarkComplete:C},e._id))})]}),D.length>0&&(0,xr.jsxs)("div",{children:[(0,xr.jsxs)("h2",{className:"text-xl font-semibold ".concat("dark"===o?"text-white":"text-gray-900"," mb-4"),children:["\ud83d\udcdd Assignments (",D.length,")"]}),(0,xr.jsx)("div",{className:"space-y-3",children:D.map(e=>(0,xr.jsx)(Jb,{item:e,progress:m[e._id],theme:o,onMarkComplete:C},e._id))})]}),P.length>0&&(0,xr.jsxs)("div",{children:[(0,xr.jsxs)("h2",{className:"text-xl font-semibold ".concat("dark"===o?"text-white":"text-gray-900"," mb-4"),children:["\ud83d\ude80 Projects (",P.length,")"]}),(0,xr.jsx)("div",{className:"space-y-3",children:P.map(e=>(0,xr.jsx)(Jb,{item:e,progress:m[e._id],theme:o,onWatch:A,onMarkComplete:C},e._id))})]})]}),j&&b&&("youtube"===(null===(e=b.video)||void 0===e?void 0:e.storageType)?(0,xr.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 p-4",onClick:S,children:(0,xr.jsxs)("div",{className:"relative w-full max-w-5xl mx-auto",onClick:e=>e.stopPropagation(),children:[(0,xr.jsx)("button",{onClick:S,className:"absolute -top-10 right-0 p-2 hover:bg-white/20 rounded-lg transition text-white",title:"Close",children:(0,xr.jsx)(pr.A,{className:"w-5 h-5"})}),(0,xr.jsx)(bh,{youtubeVideoId:null===(t=b.video)||void 0===t?void 0:t.youtubeVideoId,title:b.title,autoPlay:!1,contentId:b._id,onComplete:()=>{N()}})]})}):(0,xr.jsx)(jv,{videoUrl:"/api/content/".concat(b._id,"/stream"),onClose:S,title:b.title,contentId:b._id,onComplete:()=>{N()}}))]})})};function ew(e){let{user:t}=e;const r=te();return(0,xr.jsx)(tr.N,{mode:"wait",children:(0,xr.jsxs)(je,{location:r,children:[(0,xr.jsx)(be,{path:"/",element:(0,xr.jsx)(Wd,{})}),(0,xr.jsx)(be,{path:"/courses/:id",element:(0,xr.jsx)(Qh,{})}),(0,xr.jsx)(be,{path:"/instructors",element:(0,xr.jsx)(Ub,{})}),(0,xr.jsx)(be,{path:"/instructor/:id",element:(0,xr.jsx)(Yb,{})}),(0,xr.jsx)(be,{path:"/about",element:(0,xr.jsx)(Bb,{})}),(0,xr.jsx)(be,{path:"/contact",element:(0,xr.jsx)(qb,{})}),(0,xr.jsx)(be,{path:"/help",element:(0,xr.jsx)(Ob,{})}),(0,xr.jsx)(be,{path:"/faq",element:(0,xr.jsx)(Fb,{})}),(0,xr.jsx)(be,{path:"/privacy",element:(0,xr.jsx)(Lb,{})}),(0,xr.jsx)(be,{path:"/terms",element:(0,xr.jsx)(Mb,{})}),(0,xr.jsx)(be,{path:"/login",element:t?(0,xr.jsx)(ve,{to:"admin"===t.role?"/admin":"instructor"===t.role?"/instructor":"/student"}):(0,xr.jsx)(bm,{})}),(0,xr.jsx)(be,{path:"/login-2fa",element:(0,xr.jsx)(jm,{})}),(0,xr.jsx)(be,{path:"/register",element:t?(0,xr.jsx)(ve,{to:"admin"===t.role?"/admin":"instructor"===t.role?"/instructor":"/student"}):(0,xr.jsx)(Sm,{})}),(0,xr.jsx)(be,{path:"/register/instructor",element:(0,xr.jsx)(sb,{})}),(0,xr.jsx)(be,{path:"/forgot-password",element:(0,xr.jsx)(Dm,{})}),(0,xr.jsx)(be,{path:"/verify-otp",element:(0,xr.jsx)(_m,{})}),(0,xr.jsx)(be,{path:"/reset-password",element:(0,xr.jsx)(Rm,{})}),(0,xr.jsx)(be,{path:"/verify-email",element:(0,xr.jsx)(Xv,{})}),(0,xr.jsx)(be,{path:"/verify-success",element:(0,xr.jsx)(Jv,{})}),(0,xr.jsx)(be,{path:"/verify-error",element:(0,xr.jsx)(Zv,{})}),(0,xr.jsx)(be,{path:"/student",element:(0,xr.jsx)(Ea,{allowedRoles:["student"],children:(0,xr.jsx)(qm,{})})}),(0,xr.jsx)(be,{path:"/student/course/:id",element:(0,xr.jsx)(Ea,{allowedRoles:["student"],children:(0,xr.jsx)(Hm,{})})}),(0,xr.jsx)(be,{path:"/student/course/:id/details",element:(0,xr.jsx)(Ea,{allowedRoles:["student"],children:(0,xr.jsx)(Ah,{})})}),(0,xr.jsx)(be,{path:"/student/groups/:groupId/sections",element:(0,xr.jsx)(Ea,{allowedRoles:["student"],children:(0,xr.jsx)(Sh,{})})}),(0,xr.jsx)(be,{path:"/student/sections/:sectionId/content",element:(0,xr.jsx)(Ea,{allowedRoles:["student"],children:(0,xr.jsx)(Ph,{})})}),(0,xr.jsx)(be,{path:"/student/course/:id/enroll",element:(0,xr.jsx)(Ea,{allowedRoles:["student"],children:(0,xr.jsx)(Th,{})})}),(0,xr.jsx)(be,{path:"/student/section/:sectionId/payment",element:(0,xr.jsx)(Ea,{allowedRoles:["student"],children:(0,xr.jsx)(Lh,{})})}),(0,xr.jsx)(be,{path:"/student/course/:courseId/pay-all",element:(0,xr.jsx)(Ea,{allowedRoles:["student"],children:(0,xr.jsx)(Mh,{})})}),(0,xr.jsx)(be,{path:"/student/my-payments",element:(0,xr.jsx)(Ea,{allowedRoles:["student"],children:(0,xr.jsx)(Nb,{})})}),(0,xr.jsx)(be,{path:"/student/certificates",element:(0,xr.jsx)(Ea,{allowedRoles:["student"],children:(0,xr.jsx)(Ih,{})})}),(0,xr.jsx)(be,{path:"/student/wishlist",element:(0,xr.jsx)(Ea,{allowedRoles:["student"],children:(0,xr.jsx)(Bh,{})})}),(0,xr.jsx)(be,{path:"/student/my-stats",element:(0,xr.jsx)(Ea,{allowedRoles:["student"],children:(0,xr.jsx)(Vh,{})})}),(0,xr.jsx)(be,{path:"/student/leaderboard",element:(0,xr.jsx)(Ea,{allowedRoles:["student","admin","instructor"],children:(0,xr.jsx)(Gh,{})})}),(0,xr.jsx)(be,{path:"/student/payment-history",element:(0,xr.jsx)(Ea,{allowedRoles:["student"],children:(0,xr.jsx)(Cb,{})})}),(0,xr.jsx)(be,{path:"/student/settings",element:(0,xr.jsx)(Ea,{allowedRoles:["student"],children:(0,xr.jsx)(Ky,{})})}),(0,xr.jsx)(be,{path:"/student/test/:testId",element:(0,xr.jsx)(Ea,{allowedRoles:["student"],children:(0,xr.jsx)(jb,{})})}),(0,xr.jsx)(be,{path:"/student/test-results/:attemptId",element:(0,xr.jsx)(Ea,{allowedRoles:["student"],children:(0,xr.jsx)(kb,{})})}),(0,xr.jsx)(be,{path:"/instructor",element:(0,xr.jsx)(Ea,{allowedRoles:["instructor"],children:(0,xr.jsx)(Ag,{})})}),(0,xr.jsx)(be,{path:"/instructor/courses/:id",element:(0,xr.jsx)(Ea,{allowedRoles:["instructor"],children:(0,xr.jsx)(Pg,{})})}),(0,xr.jsx)(be,{path:"/instructor/courses/:id/edit",element:(0,xr.jsx)(Ea,{allowedRoles:["instructor"],children:(0,xr.jsx)(Pg,{})})}),(0,xr.jsx)(be,{path:"/instructor/courses/:courseId/groups",element:(0,xr.jsx)(Ea,{allowedRoles:["instructor","admin"],children:(0,xr.jsx)(Iy,{})})}),(0,xr.jsx)(be,{path:"/instructor/groups/:groupId/sections",element:(0,xr.jsx)(Ea,{allowedRoles:["instructor","admin"],children:(0,xr.jsx)(By,{})})}),(0,xr.jsx)(be,{path:"/instructor/sections/:sectionId/content",element:(0,xr.jsx)(Ea,{allowedRoles:["instructor","admin"],children:(0,xr.jsx)(Xb,{})})}),(0,xr.jsx)(be,{path:"/instructor/payments",element:(0,xr.jsx)(Ea,{allowedRoles:["instructor","admin"],children:(0,xr.jsx)(zy,{})})}),(0,xr.jsx)(be,{path:"/instructor/certificates",element:(0,xr.jsx)(Ea,{allowedRoles:["instructor"],children:(0,xr.jsx)(Uy,{})})}),(0,xr.jsx)(be,{path:"/instructor/grading",element:(0,xr.jsx)(Ea,{allowedRoles:["instructor","admin"],children:(0,xr.jsx)(Yy,{})})}),(0,xr.jsx)(be,{path:"/instructor/settings",element:(0,xr.jsx)(Ea,{allowedRoles:["instructor"],children:(0,xr.jsx)(Gy,{})})}),(0,xr.jsx)(be,{path:"/instructor/pending",element:(0,xr.jsx)(Ea,{allowedRoles:["instructor"],children:(0,xr.jsx)(ib,{})})}),(0,xr.jsx)(be,{path:"/instructor/sections/:sectionId/tests",element:(0,xr.jsx)(Ea,{allowedRoles:["instructor"],children:(0,xr.jsx)(yb,{})})}),(0,xr.jsx)(be,{path:"/instructor/tests/create/:sectionId",element:(0,xr.jsx)(Ea,{allowedRoles:["instructor"],children:(0,xr.jsx)(vb,{})})}),(0,xr.jsx)(be,{path:"/instructor/tests/:testId/edit",element:(0,xr.jsx)(Ea,{allowedRoles:["instructor"],children:(0,xr.jsx)(vb,{})})}),(0,xr.jsx)(be,{path:"/instructor/tests/:testId/statistics",element:(0,xr.jsx)(Ea,{allowedRoles:["instructor"],children:(0,xr.jsx)(bb,{})})}),(0,xr.jsx)(be,{path:"/instructor/agreement",element:(0,xr.jsx)(Ea,{allowedRoles:["instructor"],children:(0,xr.jsx)(lb,{})})}),(0,xr.jsx)(be,{path:"/instructor/pending-approval",element:(0,xr.jsx)(Ea,{allowedRoles:["instructor"],children:(0,xr.jsx)(ib,{})})}),(0,xr.jsx)(be,{path:"/instructor/earnings",element:(0,xr.jsx)(Ea,{allowedRoles:["instructor"],children:(0,xr.jsx)(ub,{})})}),(0,xr.jsx)(be,{path:"/instructor/payment-history",element:(0,xr.jsx)(Ea,{allowedRoles:["instructor"],children:(0,xr.jsx)(pb,{})})}),(0,xr.jsx)(be,{path:"/security",element:(0,xr.jsx)(Ea,{allowedRoles:["instructor","admin"],children:(0,xr.jsx)(gb,{})})}),(0,xr.jsx)(be,{path:"/security/devices",element:(0,xr.jsx)(Ea,{allowedRoles:["instructor","admin"],children:(0,xr.jsx)(xb,{})})}),(0,xr.jsx)(be,{path:"/admin",element:(0,xr.jsx)(Ea,{allowedRoles:["admin"],children:(0,xr.jsx)(ev,{})})}),(0,xr.jsx)(be,{path:"/admin/students",element:(0,xr.jsx)(Ea,{allowedRoles:["admin"],children:(0,xr.jsx)(dv,{})})}),(0,xr.jsx)(be,{path:"/admin/instructors",element:(0,xr.jsx)(Ea,{allowedRoles:["admin"],children:(0,xr.jsx)(uv,{})})}),(0,xr.jsx)(be,{path:"/admin/courses",element:(0,xr.jsx)(Ea,{allowedRoles:["admin"],children:(0,xr.jsx)(mv,{})})}),(0,xr.jsx)(be,{path:"/admin/categories",element:(0,xr.jsx)(Ea,{allowedRoles:["admin"],children:(0,xr.jsx)(pv,{})})}),(0,xr.jsx)(be,{path:"/admin/levels",element:(0,xr.jsx)(Ea,{allowedRoles:["admin"],children:(0,xr.jsx)(gv,{})})}),(0,xr.jsx)(be,{path:"/admin/courses/:id/edit",element:(0,xr.jsx)(Ea,{allowedRoles:["admin"],children:(0,xr.jsx)(Pg,{})})}),(0,xr.jsx)(be,{path:"/admin/payment-verification",element:(0,xr.jsx)(Ea,{allowedRoles:["admin"],children:(0,xr.jsx)(xv,{})})}),(0,xr.jsx)(be,{path:"/admin/certificates",element:(0,xr.jsx)(Ea,{allowedRoles:["admin"],children:(0,xr.jsx)(fv,{})})}),(0,xr.jsx)(be,{path:"/admin/settings",element:(0,xr.jsx)(Ea,{allowedRoles:["admin"],children:(0,xr.jsx)(yv,{})})}),(0,xr.jsx)(be,{path:"/admin/delete-requests",element:(0,xr.jsx)(Ea,{allowedRoles:["admin"],children:(0,xr.jsx)(vv,{})})}),(0,xr.jsx)(be,{path:"/admin/settings/agreement",element:(0,xr.jsx)(Ea,{allowedRoles:["admin"],children:(0,xr.jsx)(bv,{})})}),(0,xr.jsx)(be,{path:"/admin/instructor-applications",element:(0,xr.jsx)(Ea,{allowedRoles:["admin"],children:(0,xr.jsx)(Nv,{})})}),(0,xr.jsx)(be,{path:"/admin/global-settings",element:(0,xr.jsx)(Ea,{allowedRoles:["admin"],children:(0,xr.jsx)(Av,{})})}),(0,xr.jsx)(be,{path:"/admin/youtube-configuration",element:(0,xr.jsx)(Ea,{allowedRoles:["admin"],children:(0,xr.jsx)(Mv,{})})}),(0,xr.jsx)(be,{path:"/admin/youtube-videos",element:(0,xr.jsx)(Ea,{allowedRoles:["admin"],children:(0,xr.jsx)(Bv,{})})}),(0,xr.jsx)(be,{path:"/admin/telegram-files",element:(0,xr.jsx)(Ea,{allowedRoles:["admin"],children:(0,xr.jsx)(Vv,{})})}),(0,xr.jsx)(be,{path:"/admin/discounts",element:(0,xr.jsx)(Ea,{allowedRoles:["admin"],children:(0,xr.jsx)(Sv,{})})}),(0,xr.jsx)(be,{path:"/admin/gamification",element:(0,xr.jsx)(Ea,{allowedRoles:["admin"],children:(0,xr.jsx)(Tv,{})})}),(0,xr.jsx)(be,{path:"/admin/backup",element:(0,xr.jsx)(Ea,{allowedRoles:["admin"],children:(0,xr.jsx)(Pv,{})})}),(0,xr.jsx)(be,{path:"/admin/instructor-payments",element:(0,xr.jsx)(Ea,{allowedRoles:["admin"],children:(0,xr.jsx)(Sb,{})})}),(0,xr.jsx)(be,{path:"/admin/earnings",element:(0,xr.jsx)(Ea,{allowedRoles:["admin"],children:(0,xr.jsx)(Eb,{})})}),(0,xr.jsx)(be,{path:"/admin/payment-earnings",element:(0,xr.jsx)(Ea,{allowedRoles:["admin"],children:(0,xr.jsx)(Db,{})})}),(0,xr.jsx)(be,{path:"/admin/instructor-agreements",element:(0,xr.jsx)(Ea,{allowedRoles:["admin"],children:(0,xr.jsx)(Pb,{})})}),(0,xr.jsx)(be,{path:"/profile",element:(0,xr.jsx)(Ea,{allowedRoles:["student","instructor","admin"],children:(0,xr.jsx)(Hv,{})})}),(0,xr.jsx)(be,{path:"/messages",element:(0,xr.jsx)(Ea,{allowedRoles:["student","instructor","admin"],children:(0,xr.jsx)(Kv,{})})}),(0,xr.jsx)(be,{path:"/app/courses/:courseId/groups",element:(0,xr.jsx)(Ea,{allowedRoles:["instructor","admin"],children:(0,xr.jsx)(Wb,{})})}),(0,xr.jsx)(be,{path:"/app/courses/:courseId/groups/:groupId",element:(0,xr.jsx)(Ea,{allowedRoles:["instructor","admin"],children:(0,xr.jsx)(Kb,{})})}),(0,xr.jsx)(be,{path:"/app/sections/:sectionId/content",element:(0,xr.jsx)(Ea,{allowedRoles:["instructor","admin"],children:(0,xr.jsx)(Xb,{})})}),(0,xr.jsx)(be,{path:"/app/student/sections/:sectionId",element:(0,xr.jsx)(Ea,{allowedRoles:["student"],children:(0,xr.jsx)(Zb,{})})}),(0,xr.jsx)(be,{path:"*",element:(0,xr.jsx)(ve,{to:"/"})})]},r.pathname)})}const tw=function(){const{user:e,loading:t,showCelebration:r,hideCelebration:n}=wr(),{theme:s}=Nr(),{i18n:i}=(0,ar.useTranslation)(),o="ar"===i.language;return a.useEffect(()=>{document.documentElement.setAttribute("dir",o?"rtl":"ltr"),document.documentElement.setAttribute("lang",i.language),document.body.setAttribute("dir",o?"rtl":"ltr")},[i.language,o]),a.useEffect(()=>{(async()=>{if(Gm&&Km&&Date.now()-Km<3e5)return Gm;try{const t=await fetch("/api/admin/settings/public");if(t.ok){var e;const r=await t.json();return Gm=(null===(e=r.data)||void 0===e?void 0:e.defaultCurrency)||"SYP",Km=Date.now(),Gm}}catch(t){console.error("Error fetching default currency:",t)}return"SYP"})().catch(e=>{console.error("Failed to load default currency:",e)})},[]),t?(0,xr.jsx)(Sa,{}):(0,xr.jsxs)("div",{className:"min-h-screen ".concat("dark"===s?"dark":""),dir:o?"rtl":"ltr",children:[(0,xr.jsx)(Te,{children:(0,xr.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,xr.jsx)(wa,{}),(0,xr.jsx)("main",{className:"flex-1",children:(0,xr.jsx)(ew,{user:e})}),(0,xr.jsx)(Aa,{})]})}),(0,xr.jsx)(Zt,{position:"top-right",toastOptions:{duration:4e3,style:{background:"dark"===s?"#374151":"#fff",color:"dark"===s?"#f9fafb":"#111827",border:"1px solid ".concat("dark"===s?"#4b5563":"#e5e7eb")}}}),(0,xr.jsx)(Ta,{show:r,onComplete:n,message:e?"Welcome back, ".concat(e.name,"!"):"Welcome!"}),(0,xr.jsx)(Va,{}),(0,xr.jsx)(Ya.Ay,{})]})},rw={NODE_ENV:"production",PUBLIC_URL:"/eduflow_client",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"https://eduflow-server-87rv.onrender.com";if(void 0!==rw&&null!==rw){const e=String(rw).trim().replace(/\/+$/,""),t=e.endsWith("/api")?e.slice(0,-4):e;i.A.defaults.baseURL=t}Ha().init({duration:800,easing:"ease-in-out",once:!0,offset:50,delay:100});s.createRoot(document.getElementById("root")).render((0,xr.jsx)(a.StrictMode,{children:(0,xr.jsx)(kr,{children:(0,xr.jsx)(fa,{children:(0,xr.jsx)(br,{children:(0,xr.jsx)(kg,{children:(0,xr.jsx)(tw,{})})})})})}))})()})();
//# sourceMappingURL=main.fc46ab54.js.map